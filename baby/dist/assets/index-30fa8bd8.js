(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function cm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ud={exports:{}},Sr={},Vd={exports:{}},O={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ni=Symbol.for("react.element"),dm=Symbol.for("react.portal"),fm=Symbol.for("react.fragment"),pm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),mm=Symbol.for("react.provider"),gm=Symbol.for("react.context"),ym=Symbol.for("react.forward_ref"),vm=Symbol.for("react.suspense"),Em=Symbol.for("react.memo"),Tm=Symbol.for("react.lazy"),Fa=Symbol.iterator;function Sm(n){return n===null||typeof n!="object"?null:(n=Fa&&n[Fa]||n["@@iterator"],typeof n=="function"?n:null)}var Fd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Gd=Object.assign,Hd={};function so(n,e,t){this.props=n,this.context=e,this.refs=Hd,this.updater=t||Fd}so.prototype.isReactComponent={};so.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};so.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function qd(){}qd.prototype=so.prototype;function Al(n,e,t){this.props=n,this.context=e,this.refs=Hd,this.updater=t||Fd}var wl=Al.prototype=new qd;wl.constructor=Al;Gd(wl,so.prototype);wl.isPureReactComponent=!0;var Ga=Array.isArray,bd=Object.prototype.hasOwnProperty,Nl={current:null},Bd={key:!0,ref:!0,__self:!0,__source:!0};function zd(n,e,t){var o,i={},r=null,l=null;if(e!=null)for(o in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(r=""+e.key),e)bd.call(e,o)&&!Bd.hasOwnProperty(o)&&(i[o]=e[o]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:ni,type:n,key:r,ref:l,props:i,_owner:Nl.current}}function Cm(n,e){return{$$typeof:ni,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function kl(n){return typeof n=="object"&&n!==null&&n.$$typeof===ni}function _m(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var Ha=/\/+/g;function Or(n,e){return typeof n=="object"&&n!==null&&n.key!=null?_m(""+n.key):e.toString(36)}function Ri(n,e,t,o,i){var r=typeof n;(r==="undefined"||r==="boolean")&&(n=null);var l=!1;if(n===null)l=!0;else switch(r){case"string":case"number":l=!0;break;case"object":switch(n.$$typeof){case ni:case dm:l=!0}}if(l)return l=n,i=i(l),n=o===""?"."+Or(l,0):o,Ga(i)?(t="",n!=null&&(t=n.replace(Ha,"$&/")+"/"),Ri(i,e,t,"",function(d){return d})):i!=null&&(kl(i)&&(i=Cm(i,t+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Ha,"$&/")+"/")+n)),e.push(i)),1;if(l=0,o=o===""?".":o+":",Ga(n))for(var u=0;u<n.length;u++){r=n[u];var c=o+Or(r,u);l+=Ri(r,e,t,c,i)}else if(c=Sm(n),typeof c=="function")for(n=c.call(n),u=0;!(r=n.next()).done;)r=r.value,c=o+Or(r,u++),l+=Ri(r,e,t,c,i);else if(r==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function si(n,e,t){if(n==null)return n;var o=[],i=0;return Ri(n,o,"","",function(r){return e.call(t,r,i++)}),o}function Im(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fe={current:null},Mi={transition:null},xm={ReactCurrentDispatcher:Fe,ReactCurrentBatchConfig:Mi,ReactCurrentOwner:Nl};function $d(){throw Error("act(...) is not supported in production builds of React.")}O.Children={map:si,forEach:function(n,e,t){si(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return si(n,function(){e++}),e},toArray:function(n){return si(n,function(e){return e})||[]},only:function(n){if(!kl(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};O.Component=so;O.Fragment=fm;O.Profiler=hm;O.PureComponent=Al;O.StrictMode=pm;O.Suspense=vm;O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm;O.act=$d;O.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=Gd({},n.props),i=n.key,r=n.ref,l=n._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,l=Nl.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)bd.call(e,c)&&!Bd.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:ni,type:n.type,key:i,ref:r,props:o,_owner:l}};O.createContext=function(n){return n={$$typeof:gm,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:mm,_context:n},n.Consumer=n};O.createElement=zd;O.createFactory=function(n){var e=zd.bind(null,n);return e.type=n,e};O.createRef=function(){return{current:null}};O.forwardRef=function(n){return{$$typeof:ym,render:n}};O.isValidElement=kl;O.lazy=function(n){return{$$typeof:Tm,_payload:{_status:-1,_result:n},_init:Im}};O.memo=function(n,e){return{$$typeof:Em,type:n,compare:e===void 0?null:e}};O.startTransition=function(n){var e=Mi.transition;Mi.transition={};try{n()}finally{Mi.transition=e}};O.unstable_act=$d;O.useCallback=function(n,e){return Fe.current.useCallback(n,e)};O.useContext=function(n){return Fe.current.useContext(n)};O.useDebugValue=function(){};O.useDeferredValue=function(n){return Fe.current.useDeferredValue(n)};O.useEffect=function(n,e){return Fe.current.useEffect(n,e)};O.useId=function(){return Fe.current.useId()};O.useImperativeHandle=function(n,e,t){return Fe.current.useImperativeHandle(n,e,t)};O.useInsertionEffect=function(n,e){return Fe.current.useInsertionEffect(n,e)};O.useLayoutEffect=function(n,e){return Fe.current.useLayoutEffect(n,e)};O.useMemo=function(n,e){return Fe.current.useMemo(n,e)};O.useReducer=function(n,e,t){return Fe.current.useReducer(n,e,t)};O.useRef=function(n){return Fe.current.useRef(n)};O.useState=function(n){return Fe.current.useState(n)};O.useSyncExternalStore=function(n,e,t){return Fe.current.useSyncExternalStore(n,e,t)};O.useTransition=function(){return Fe.current.useTransition()};O.version="18.3.1";Vd.exports=O;var W=Vd.exports;const Am=cm(W);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=W,Nm=Symbol.for("react.element"),km=Symbol.for("react.fragment"),Rm=Object.prototype.hasOwnProperty,Mm=wm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Pm={key:!0,ref:!0,__self:!0,__source:!0};function Od(n,e,t){var o,i={},r=null,l=null;t!==void 0&&(r=""+t),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(l=e.ref);for(o in e)Rm.call(e,o)&&!Pm.hasOwnProperty(o)&&(i[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:Nm,type:n,key:r,ref:l,props:i,_owner:Mm.current}}Sr.Fragment=km;Sr.jsx=Od;Sr.jsxs=Od;Ud.exports=Sr;var y=Ud.exports,Jd={exports:{}},Qe={},Yd={exports:{}},Wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(D,B){var b=D.length;D.push(B);e:for(;0<b;){var ee=b-1>>>1,ne=D[ee];if(0<i(ne,B))D[ee]=B,D[b]=ne,b=ee;else break e}}function t(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var B=D[0],b=D.pop();if(b!==B){D[0]=b;e:for(var ee=0,ne=D.length,$e=ne>>>1;ee<$e;){var Ze=2*(ee+1)-1,dt=D[Ze],cn=Ze+1,ft=D[cn];if(0>i(dt,b))cn<ne&&0>i(ft,dt)?(D[ee]=ft,D[cn]=b,ee=cn):(D[ee]=dt,D[Ze]=b,ee=Ze);else if(cn<ne&&0>i(ft,b))D[ee]=ft,D[cn]=b,ee=cn;else break e}}return B}function i(D,B){var b=D.sortIndex-B.sortIndex;return b!==0?b:D.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var c=[],d=[],f=1,h=null,p=3,v=!1,C=!1,_=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var B=t(d);B!==null;){if(B.callback===null)o(d);else if(B.startTime<=D)o(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=t(d)}}function w(D){if(_=!1,S(D),!C)if(t(c)!==null)C=!0,de(R);else{var B=t(d);B!==null&&un(w,B.startTime-D)}}function R(D,B){C=!1,_&&(_=!1,E(U),U=-1),v=!0;var b=p;try{for(S(B),h=t(c);h!==null&&(!(h.expirationTime>B)||D&&!J());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,p=h.priorityLevel;var ne=ee(h.expirationTime<=B);B=n.unstable_now(),typeof ne=="function"?h.callback=ne:h===t(c)&&o(c),S(B)}else o(c);h=t(c)}if(h!==null)var $e=!0;else{var Ze=t(d);Ze!==null&&un(w,Ze.startTime-B),$e=!1}return $e}finally{h=null,p=b,v=!1}}var P=!1,M=null,U=-1,V=5,F=-1;function J(){return!(n.unstable_now()-F<V)}function _e(){if(M!==null){var D=n.unstable_now();F=D;var B=!0;try{B=M(!0,D)}finally{B?K():(P=!1,M=null)}}else P=!1}var K;if(typeof T=="function")K=function(){T(_e)};else if(typeof MessageChannel<"u"){var Ie=new MessageChannel,ct=Ie.port2;Ie.port1.onmessage=_e,K=function(){ct.postMessage(null)}}else K=function(){A(_e,0)};function de(D){M=D,P||(P=!0,K())}function un(D,B){U=A(function(){D(n.unstable_now())},B)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(D){D.callback=null},n.unstable_continueExecution=function(){C||v||(C=!0,de(R))},n.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(D){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var b=p;p=B;try{return D()}finally{p=b}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var b=p;p=D;try{return B()}finally{p=b}},n.unstable_scheduleCallback=function(D,B,b){var ee=n.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?ee+b:ee):b=ee,D){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=b+ne,D={id:f++,callback:B,priorityLevel:D,startTime:b,expirationTime:ne,sortIndex:-1},b>ee?(D.sortIndex=b,e(d,D),t(c)===null&&D===t(d)&&(_?(E(U),U=-1):_=!0,un(w,b-ee))):(D.sortIndex=ne,e(c,D),C||v||(C=!0,de(R))),D},n.unstable_shouldYield=J,n.unstable_wrapCallback=function(D){var B=p;return function(){var b=p;p=B;try{return D.apply(this,arguments)}finally{p=b}}}})(Wd);Yd.exports=Wd;var Lm=Yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=W,Ke=Lm;function L(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kd=new Set,Go={};function At(n,e){jt(n,e),jt(n+"Capture",e)}function jt(n,e){for(Go[n]=e,n=0;n<e.length;n++)Kd.add(e[n])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ts=Object.prototype.hasOwnProperty,Um=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},ba={};function Vm(n){return Ts.call(ba,n)?!0:Ts.call(qa,n)?!1:Um.test(n)?ba[n]=!0:(qa[n]=!0,!1)}function Fm(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Gm(n,e,t,o){if(e===null||typeof e>"u"||Fm(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(n,e,t,o,i,r,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=r,this.removeEmptyString=l}var we={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){we[n]=new Ge(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];we[e]=new Ge(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){we[n]=new Ge(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){we[n]=new Ge(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){we[n]=new Ge(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){we[n]=new Ge(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){we[n]=new Ge(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){we[n]=new Ge(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){we[n]=new Ge(n,5,!1,n.toLowerCase(),null,!1,!1)});var Rl=/[\-:]([a-z])/g;function Ml(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Rl,Ml);we[e]=new Ge(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Rl,Ml);we[e]=new Ge(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Rl,Ml);we[e]=new Ge(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){we[n]=new Ge(n,1,!1,n.toLowerCase(),null,!1,!1)});we.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){we[n]=new Ge(n,1,!1,n.toLowerCase(),null,!0,!0)});function Pl(n,e,t,o){var i=we.hasOwnProperty(e)?we[e]:null;(i!==null?i.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gm(e,t,i,o)&&(t=null),o||i===null?Vm(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,o=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var qn=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,li=Symbol.for("react.element"),Mt=Symbol.for("react.portal"),Pt=Symbol.for("react.fragment"),Ll=Symbol.for("react.strict_mode"),Ss=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),Dl=Symbol.for("react.forward_ref"),Cs=Symbol.for("react.suspense"),_s=Symbol.for("react.suspense_list"),Ul=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Zd=Symbol.for("react.offscreen"),Ba=Symbol.iterator;function po(n){return n===null||typeof n!="object"?null:(n=Ba&&n[Ba]||n["@@iterator"],typeof n=="function"?n:null)}var ce=Object.assign,Jr;function Io(n){if(Jr===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Jr=e&&e[1]||""}return`
`+Jr+n}var Yr=!1;function Wr(n,e){if(!n||Yr)return"";Yr=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){o=d}n.call(e.prototype)}else{try{throw Error()}catch(d){o=d}n()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),r=o.stack.split(`
`),l=i.length-1,u=r.length-1;1<=l&&0<=u&&i[l]!==r[u];)u--;for(;1<=l&&0<=u;l--,u--)if(i[l]!==r[u]){if(l!==1||u!==1)do if(l--,u--,0>u||i[l]!==r[u]){var c=`
`+i[l].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=l&&0<=u);break}}}finally{Yr=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Io(n):""}function Hm(n){switch(n.tag){case 5:return Io(n.type);case 16:return Io("Lazy");case 13:return Io("Suspense");case 19:return Io("SuspenseList");case 0:case 2:case 15:return n=Wr(n.type,!1),n;case 11:return n=Wr(n.type.render,!1),n;case 1:return n=Wr(n.type,!0),n;default:return""}}function Is(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Pt:return"Fragment";case Mt:return"Portal";case Ss:return"Profiler";case Ll:return"StrictMode";case Cs:return"Suspense";case _s:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Xd:return(n.displayName||"Context")+".Consumer";case Qd:return(n._context.displayName||"Context")+".Provider";case Dl:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ul:return e=n.displayName||null,e!==null?e:Is(n.type)||"Memo";case $n:e=n._payload,n=n._init;try{return Is(n(e))}catch{}}return null}function qm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Is(e);case 8:return e===Ll?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function it(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jd(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bm(n){var e=jd(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,r=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){o=""+l,r.call(this,l)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(l){o=""+l},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function ai(n){n._valueTracker||(n._valueTracker=bm(n))}function ef(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=jd(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function $i(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function xs(n,e){var t=e.checked;return ce({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function za(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=it(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nf(n,e){e=e.checked,e!=null&&Pl(n,"checked",e,!1)}function As(n,e){nf(n,e);var t=it(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ws(n,e.type,t):e.hasOwnProperty("defaultValue")&&ws(n,e.type,it(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function $a(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ws(n,e,t){(e!=="number"||$i(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var xo=Array.isArray;function Ot(n,e,t,o){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&o&&(n[t].defaultSelected=!0)}else{for(t=""+it(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,o&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Ns(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(L(91));return ce({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Oa(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(L(92));if(xo(t)){if(1<t.length)throw Error(L(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:it(t)}}function tf(n,e){var t=it(e.value),o=it(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function Ja(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function of(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ks(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?of(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var ui,rf=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(ui=ui||document.createElement("div"),ui.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ui.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function Ho(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bm=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(n){Bm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),ko[e]=ko[n]})});function sf(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||ko.hasOwnProperty(n)&&ko[n]?(""+e).trim():e+"px"}function lf(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,i=sf(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,i):n[t]=i}}var zm=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rs(n,e){if(e){if(zm[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(L(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(L(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(L(61))}if(e.style!=null&&typeof e.style!="object")throw Error(L(62))}}function Ms(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ps=null;function Vl(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ls=null,Jt=null,Yt=null;function Ya(n){if(n=ii(n)){if(typeof Ls!="function")throw Error(L(280));var e=n.stateNode;e&&(e=Ar(e),Ls(n.stateNode,n.type,e))}}function af(n){Jt?Yt?Yt.push(n):Yt=[n]:Jt=n}function uf(){if(Jt){var n=Jt,e=Yt;if(Yt=Jt=null,Ya(n),e)for(n=0;n<e.length;n++)Ya(e[n])}}function cf(n,e){return n(e)}function df(){}var Kr=!1;function ff(n,e,t){if(Kr)return n(e,t);Kr=!0;try{return cf(n,e,t)}finally{Kr=!1,(Jt!==null||Yt!==null)&&(df(),uf())}}function qo(n,e){var t=n.stateNode;if(t===null)return null;var o=Ar(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(L(231,e,typeof t));return t}var Ds=!1;if(Un)try{var ho={};Object.defineProperty(ho,"passive",{get:function(){Ds=!0}}),window.addEventListener("test",ho,ho),window.removeEventListener("test",ho,ho)}catch{Ds=!1}function $m(n,e,t,o,i,r,l,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var Ro=!1,Oi=null,Ji=!1,Us=null,Om={onError:function(n){Ro=!0,Oi=n}};function Jm(n,e,t,o,i,r,l,u,c){Ro=!1,Oi=null,$m.apply(Om,arguments)}function Ym(n,e,t,o,i,r,l,u,c){if(Jm.apply(this,arguments),Ro){if(Ro){var d=Oi;Ro=!1,Oi=null}else throw Error(L(198));Ji||(Ji=!0,Us=d)}}function wt(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function pf(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Wa(n){if(wt(n)!==n)throw Error(L(188))}function Wm(n){var e=n.alternate;if(!e){if(e=wt(n),e===null)throw Error(L(188));return e!==n?null:n}for(var t=n,o=e;;){var i=t.return;if(i===null)break;var r=i.alternate;if(r===null){if(o=i.return,o!==null){t=o;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===t)return Wa(i),n;if(r===o)return Wa(i),e;r=r.sibling}throw Error(L(188))}if(t.return!==o.return)t=i,o=r;else{for(var l=!1,u=i.child;u;){if(u===t){l=!0,t=i,o=r;break}if(u===o){l=!0,o=i,t=r;break}u=u.sibling}if(!l){for(u=r.child;u;){if(u===t){l=!0,t=r,o=i;break}if(u===o){l=!0,o=r,t=i;break}u=u.sibling}if(!l)throw Error(L(189))}}if(t.alternate!==o)throw Error(L(190))}if(t.tag!==3)throw Error(L(188));return t.stateNode.current===t?n:e}function hf(n){return n=Wm(n),n!==null?mf(n):null}function mf(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=mf(n);if(e!==null)return e;n=n.sibling}return null}var gf=Ke.unstable_scheduleCallback,Ka=Ke.unstable_cancelCallback,Km=Ke.unstable_shouldYield,Qm=Ke.unstable_requestPaint,me=Ke.unstable_now,Xm=Ke.unstable_getCurrentPriorityLevel,Fl=Ke.unstable_ImmediatePriority,yf=Ke.unstable_UserBlockingPriority,Yi=Ke.unstable_NormalPriority,Zm=Ke.unstable_LowPriority,vf=Ke.unstable_IdlePriority,Cr=null,wn=null;function jm(n){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Cr,n,void 0,(n.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:tg,eg=Math.log,ng=Math.LN2;function tg(n){return n>>>=0,n===0?32:31-(eg(n)/ng|0)|0}var ci=64,di=4194304;function Ao(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Wi(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,i=n.suspendedLanes,r=n.pingedLanes,l=t&268435455;if(l!==0){var u=l&~i;u!==0?o=Ao(u):(r&=l,r!==0&&(o=Ao(r)))}else l=t&~i,l!==0?o=Ao(l):r!==0&&(o=Ao(r));if(o===0)return 0;if(e!==0&&e!==o&&!(e&i)&&(i=o&-o,r=e&-e,i>=r||i===16&&(r&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-yn(e),i=1<<t,o|=n[t],e&=~i;return o}function og(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ig(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,i=n.expirationTimes,r=n.pendingLanes;0<r;){var l=31-yn(r),u=1<<l,c=i[l];c===-1?(!(u&t)||u&o)&&(i[l]=og(u,e)):c<=e&&(n.expiredLanes|=u),r&=~u}}function Vs(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Ef(){var n=ci;return ci<<=1,!(ci&4194240)&&(ci=64),n}function Qr(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function ti(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-yn(e),n[e]=t}function rg(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-yn(t),r=1<<i;e[i]=0,o[i]=-1,n[i]=-1,t&=~r}}function Gl(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-yn(t),i=1<<o;i&e|n[o]&e&&(n[o]|=e),t&=~i}}var Z=0;function Tf(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Sf,Hl,Cf,_f,If,Fs=!1,fi=[],Qn=null,Xn=null,Zn=null,bo=new Map,Bo=new Map,Jn=[],sg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qa(n,e){switch(n){case"focusin":case"focusout":Qn=null;break;case"dragenter":case"dragleave":Xn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":bo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(e.pointerId)}}function mo(n,e,t,o,i,r){return n===null||n.nativeEvent!==r?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:r,targetContainers:[i]},e!==null&&(e=ii(e),e!==null&&Hl(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function lg(n,e,t,o,i){switch(e){case"focusin":return Qn=mo(Qn,n,e,t,o,i),!0;case"dragenter":return Xn=mo(Xn,n,e,t,o,i),!0;case"mouseover":return Zn=mo(Zn,n,e,t,o,i),!0;case"pointerover":var r=i.pointerId;return bo.set(r,mo(bo.get(r)||null,n,e,t,o,i)),!0;case"gotpointercapture":return r=i.pointerId,Bo.set(r,mo(Bo.get(r)||null,n,e,t,o,i)),!0}return!1}function xf(n){var e=gt(n.target);if(e!==null){var t=wt(e);if(t!==null){if(e=t.tag,e===13){if(e=pf(t),e!==null){n.blockedOn=e,If(n.priority,function(){Cf(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Pi(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Gs(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);Ps=o,t.target.dispatchEvent(o),Ps=null}else return e=ii(t),e!==null&&Hl(e),n.blockedOn=t,!1;e.shift()}return!0}function Xa(n,e,t){Pi(n)&&t.delete(e)}function ag(){Fs=!1,Qn!==null&&Pi(Qn)&&(Qn=null),Xn!==null&&Pi(Xn)&&(Xn=null),Zn!==null&&Pi(Zn)&&(Zn=null),bo.forEach(Xa),Bo.forEach(Xa)}function go(n,e){n.blockedOn===e&&(n.blockedOn=null,Fs||(Fs=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,ag)))}function zo(n){function e(i){return go(i,n)}if(0<fi.length){go(fi[0],n);for(var t=1;t<fi.length;t++){var o=fi[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Qn!==null&&go(Qn,n),Xn!==null&&go(Xn,n),Zn!==null&&go(Zn,n),bo.forEach(e),Bo.forEach(e),t=0;t<Jn.length;t++)o=Jn[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<Jn.length&&(t=Jn[0],t.blockedOn===null);)xf(t),t.blockedOn===null&&Jn.shift()}var Wt=qn.ReactCurrentBatchConfig,Ki=!0;function ug(n,e,t,o){var i=Z,r=Wt.transition;Wt.transition=null;try{Z=1,ql(n,e,t,o)}finally{Z=i,Wt.transition=r}}function cg(n,e,t,o){var i=Z,r=Wt.transition;Wt.transition=null;try{Z=4,ql(n,e,t,o)}finally{Z=i,Wt.transition=r}}function ql(n,e,t,o){if(Ki){var i=Gs(n,e,t,o);if(i===null)ss(n,e,o,Qi,t),Qa(n,o);else if(lg(i,n,e,t,o))o.stopPropagation();else if(Qa(n,o),e&4&&-1<sg.indexOf(n)){for(;i!==null;){var r=ii(i);if(r!==null&&Sf(r),r=Gs(n,e,t,o),r===null&&ss(n,e,o,Qi,t),r===i)break;i=r}i!==null&&o.stopPropagation()}else ss(n,e,o,null,t)}}var Qi=null;function Gs(n,e,t,o){if(Qi=null,n=Vl(o),n=gt(n),n!==null)if(e=wt(n),e===null)n=null;else if(t=e.tag,t===13){if(n=pf(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Qi=n,null}function Af(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xm()){case Fl:return 1;case yf:return 4;case Yi:case Zm:return 16;case vf:return 536870912;default:return 16}default:return 16}}var Wn=null,bl=null,Li=null;function wf(){if(Li)return Li;var n,e=bl,t=e.length,o,i="value"in Wn?Wn.value:Wn.textContent,r=i.length;for(n=0;n<t&&e[n]===i[n];n++);var l=t-n;for(o=1;o<=l&&e[t-o]===i[r-o];o++);return Li=i.slice(n,1<o?1-o:void 0)}function Di(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function Za(){return!1}function Xe(n){function e(t,o,i,r,l){this._reactName=t,this._targetInst=i,this.type=o,this.nativeEvent=r,this.target=l,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(r):r[u]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?pi:Za,this.isPropagationStopped=Za,this}return ce(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),e}var lo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bl=Xe(lo),oi=ce({},lo,{view:0,detail:0}),dg=Xe(oi),Xr,Zr,yo,_r=ce({},oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zl,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yo&&(yo&&n.type==="mousemove"?(Xr=n.screenX-yo.screenX,Zr=n.screenY-yo.screenY):Zr=Xr=0,yo=n),Xr)},movementY:function(n){return"movementY"in n?n.movementY:Zr}}),ja=Xe(_r),fg=ce({},_r,{dataTransfer:0}),pg=Xe(fg),hg=ce({},oi,{relatedTarget:0}),jr=Xe(hg),mg=ce({},lo,{animationName:0,elapsedTime:0,pseudoElement:0}),gg=Xe(mg),yg=ce({},lo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),vg=Xe(yg),Eg=ce({},lo,{data:0}),eu=Xe(Eg),Tg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _g(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=Cg[n])?!!e[n]:!1}function zl(){return _g}var Ig=ce({},oi,{key:function(n){if(n.key){var e=Tg[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Di(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Sg[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zl,charCode:function(n){return n.type==="keypress"?Di(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Di(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),xg=Xe(Ig),Ag=ce({},_r,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=Xe(Ag),wg=ce({},oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zl}),Ng=Xe(wg),kg=ce({},lo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rg=Xe(kg),Mg=ce({},_r,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Pg=Xe(Mg),Lg=[9,13,27,32],$l=Un&&"CompositionEvent"in window,Mo=null;Un&&"documentMode"in document&&(Mo=document.documentMode);var Dg=Un&&"TextEvent"in window&&!Mo,Nf=Un&&(!$l||Mo&&8<Mo&&11>=Mo),tu=String.fromCharCode(32),ou=!1;function kf(n,e){switch(n){case"keyup":return Lg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rf(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Lt=!1;function Ug(n,e){switch(n){case"compositionend":return Rf(e);case"keypress":return e.which!==32?null:(ou=!0,tu);case"textInput":return n=e.data,n===tu&&ou?null:n;default:return null}}function Vg(n,e){if(Lt)return n==="compositionend"||!$l&&kf(n,e)?(n=wf(),Li=bl=Wn=null,Lt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Nf&&e.locale!=="ko"?null:e.data;default:return null}}var Fg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iu(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Fg[n.type]:e==="textarea"}function Mf(n,e,t,o){af(o),e=Xi(e,"onChange"),0<e.length&&(t=new Bl("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var Po=null,$o=null;function Gg(n){Bf(n,0)}function Ir(n){var e=Vt(n);if(ef(e))return n}function Hg(n,e){if(n==="change")return e}var Pf=!1;if(Un){var es;if(Un){var ns="oninput"in document;if(!ns){var ru=document.createElement("div");ru.setAttribute("oninput","return;"),ns=typeof ru.oninput=="function"}es=ns}else es=!1;Pf=es&&(!document.documentMode||9<document.documentMode)}function su(){Po&&(Po.detachEvent("onpropertychange",Lf),$o=Po=null)}function Lf(n){if(n.propertyName==="value"&&Ir($o)){var e=[];Mf(e,$o,n,Vl(n)),ff(Gg,e)}}function qg(n,e,t){n==="focusin"?(su(),Po=e,$o=t,Po.attachEvent("onpropertychange",Lf)):n==="focusout"&&su()}function bg(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ir($o)}function Bg(n,e){if(n==="click")return Ir(e)}function zg(n,e){if(n==="input"||n==="change")return Ir(e)}function $g(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Sn=typeof Object.is=="function"?Object.is:$g;function Oo(n,e){if(Sn(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var i=t[o];if(!Ts.call(e,i)||!Sn(n[i],e[i]))return!1}return!0}function lu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function au(n,e){var t=lu(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=lu(t)}}function Df(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Df(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Uf(){for(var n=window,e=$i();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=$i(n.document)}return e}function Ol(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Og(n){var e=Uf(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Df(t.ownerDocument.documentElement,t)){if(o!==null&&Ol(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,r=Math.min(o.start,i);o=o.end===void 0?r:Math.min(o.end,i),!n.extend&&r>o&&(i=o,o=r,r=i),i=au(t,r);var l=au(t,o);i&&l&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==l.node||n.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),r>o?(n.addRange(e),n.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Jg=Un&&"documentMode"in document&&11>=document.documentMode,Dt=null,Hs=null,Lo=null,qs=!1;function uu(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;qs||Dt==null||Dt!==$i(o)||(o=Dt,"selectionStart"in o&&Ol(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Lo&&Oo(Lo,o)||(Lo=o,o=Xi(Hs,"onSelect"),0<o.length&&(e=new Bl("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=Dt)))}function hi(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Ut={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionend:hi("Transition","TransitionEnd")},ts={},Vf={};Un&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete Ut.animationend.animation,delete Ut.animationiteration.animation,delete Ut.animationstart.animation),"TransitionEvent"in window||delete Ut.transitionend.transition);function xr(n){if(ts[n])return ts[n];if(!Ut[n])return n;var e=Ut[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Vf)return ts[n]=e[t];return n}var Ff=xr("animationend"),Gf=xr("animationiteration"),Hf=xr("animationstart"),qf=xr("transitionend"),bf=new Map,cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function st(n,e){bf.set(n,e),At(e,[n])}for(var os=0;os<cu.length;os++){var is=cu[os],Yg=is.toLowerCase(),Wg=is[0].toUpperCase()+is.slice(1);st(Yg,"on"+Wg)}st(Ff,"onAnimationEnd");st(Gf,"onAnimationIteration");st(Hf,"onAnimationStart");st("dblclick","onDoubleClick");st("focusin","onFocus");st("focusout","onBlur");st(qf,"onTransitionEnd");jt("onMouseEnter",["mouseout","mouseover"]);jt("onMouseLeave",["mouseout","mouseover"]);jt("onPointerEnter",["pointerout","pointerover"]);jt("onPointerLeave",["pointerout","pointerover"]);At("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));At("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));At("onBeforeInput",["compositionend","keypress","textInput","paste"]);At("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));At("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));At("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kg=new Set("cancel close invalid load scroll toggle".split(" ").concat(wo));function du(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,Ym(o,e,void 0,n),n.currentTarget=null}function Bf(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],i=o.event;o=o.listeners;e:{var r=void 0;if(e)for(var l=o.length-1;0<=l;l--){var u=o[l],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==r&&i.isPropagationStopped())break e;du(i,u,d),r=c}else for(l=0;l<o.length;l++){if(u=o[l],c=u.instance,d=u.currentTarget,u=u.listener,c!==r&&i.isPropagationStopped())break e;du(i,u,d),r=c}}}if(Ji)throw n=Us,Ji=!1,Us=null,n}function oe(n,e){var t=e[Os];t===void 0&&(t=e[Os]=new Set);var o=n+"__bubble";t.has(o)||(zf(e,n,2,!1),t.add(o))}function rs(n,e,t){var o=0;e&&(o|=4),zf(t,n,o,e)}var mi="_reactListening"+Math.random().toString(36).slice(2);function Jo(n){if(!n[mi]){n[mi]=!0,Kd.forEach(function(t){t!=="selectionchange"&&(Kg.has(t)||rs(t,!1,n),rs(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[mi]||(e[mi]=!0,rs("selectionchange",!1,e))}}function zf(n,e,t,o){switch(Af(e)){case 1:var i=ug;break;case 4:i=cg;break;default:i=ql}t=i.bind(null,e,t,n),i=void 0,!Ds||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function ss(n,e,t,o,i){var r=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var l=o.tag;if(l===3||l===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(l===4)for(l=o.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;u!==null;){if(l=gt(u),l===null)return;if(c=l.tag,c===5||c===6){o=r=l;continue e}u=u.parentNode}}o=o.return}ff(function(){var d=r,f=Vl(t),h=[];e:{var p=bf.get(n);if(p!==void 0){var v=Bl,C=n;switch(n){case"keypress":if(Di(t)===0)break e;case"keydown":case"keyup":v=xg;break;case"focusin":C="focus",v=jr;break;case"focusout":C="blur",v=jr;break;case"beforeblur":case"afterblur":v=jr;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ja;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=pg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ng;break;case Ff:case Gf:case Hf:v=gg;break;case qf:v=Rg;break;case"scroll":v=dg;break;case"wheel":v=Pg;break;case"copy":case"cut":case"paste":v=vg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=nu}var _=(e&4)!==0,A=!_&&n==="scroll",E=_?p!==null?p+"Capture":null:p;_=[];for(var T=d,S;T!==null;){S=T;var w=S.stateNode;if(S.tag===5&&w!==null&&(S=w,E!==null&&(w=qo(T,E),w!=null&&_.push(Yo(T,w,S)))),A)break;T=T.return}0<_.length&&(p=new v(p,C,null,t,f),h.push({event:p,listeners:_}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",p&&t!==Ps&&(C=t.relatedTarget||t.fromElement)&&(gt(C)||C[Vn]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(C=t.relatedTarget||t.toElement,v=d,C=C?gt(C):null,C!==null&&(A=wt(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=d),v!==C)){if(_=ja,w="onMouseLeave",E="onMouseEnter",T="mouse",(n==="pointerout"||n==="pointerover")&&(_=nu,w="onPointerLeave",E="onPointerEnter",T="pointer"),A=v==null?p:Vt(v),S=C==null?p:Vt(C),p=new _(w,T+"leave",v,t,f),p.target=A,p.relatedTarget=S,w=null,gt(f)===d&&(_=new _(E,T+"enter",C,t,f),_.target=S,_.relatedTarget=A,w=_),A=w,v&&C)n:{for(_=v,E=C,T=0,S=_;S;S=kt(S))T++;for(S=0,w=E;w;w=kt(w))S++;for(;0<T-S;)_=kt(_),T--;for(;0<S-T;)E=kt(E),S--;for(;T--;){if(_===E||E!==null&&_===E.alternate)break n;_=kt(_),E=kt(E)}_=null}else _=null;v!==null&&fu(h,p,v,_,!1),C!==null&&A!==null&&fu(h,A,C,_,!0)}}e:{if(p=d?Vt(d):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var R=Hg;else if(iu(p))if(Pf)R=zg;else{R=bg;var P=qg}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=Bg);if(R&&(R=R(n,d))){Mf(h,R,t,f);break e}P&&P(n,p,d),n==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&ws(p,"number",p.value)}switch(P=d?Vt(d):window,n){case"focusin":(iu(P)||P.contentEditable==="true")&&(Dt=P,Hs=d,Lo=null);break;case"focusout":Lo=Hs=Dt=null;break;case"mousedown":qs=!0;break;case"contextmenu":case"mouseup":case"dragend":qs=!1,uu(h,t,f);break;case"selectionchange":if(Jg)break;case"keydown":case"keyup":uu(h,t,f)}var M;if($l)e:{switch(n){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else Lt?kf(n,t)&&(U="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(U="onCompositionStart");U&&(Nf&&t.locale!=="ko"&&(Lt||U!=="onCompositionStart"?U==="onCompositionEnd"&&Lt&&(M=wf()):(Wn=f,bl="value"in Wn?Wn.value:Wn.textContent,Lt=!0)),P=Xi(d,U),0<P.length&&(U=new eu(U,n,null,t,f),h.push({event:U,listeners:P}),M?U.data=M:(M=Rf(t),M!==null&&(U.data=M)))),(M=Dg?Ug(n,t):Vg(n,t))&&(d=Xi(d,"onBeforeInput"),0<d.length&&(f=new eu("onBeforeInput","beforeinput",null,t,f),h.push({event:f,listeners:d}),f.data=M))}Bf(h,e)})}function Yo(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Xi(n,e){for(var t=e+"Capture",o=[];n!==null;){var i=n,r=i.stateNode;i.tag===5&&r!==null&&(i=r,r=qo(n,t),r!=null&&o.unshift(Yo(n,r,i)),r=qo(n,e),r!=null&&o.push(Yo(n,r,i))),n=n.return}return o}function kt(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function fu(n,e,t,o,i){for(var r=e._reactName,l=[];t!==null&&t!==o;){var u=t,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,i?(c=qo(t,r),c!=null&&l.unshift(Yo(t,c,u))):i||(c=qo(t,r),c!=null&&l.push(Yo(t,c,u)))),t=t.return}l.length!==0&&n.push({event:e,listeners:l})}var Qg=/\r\n?/g,Xg=/\u0000|\uFFFD/g;function pu(n){return(typeof n=="string"?n:""+n).replace(Qg,`
`).replace(Xg,"")}function gi(n,e,t){if(e=pu(e),pu(n)!==e&&t)throw Error(L(425))}function Zi(){}var bs=null,Bs=null;function zs(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $s=typeof setTimeout=="function"?setTimeout:void 0,Zg=typeof clearTimeout=="function"?clearTimeout:void 0,hu=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof hu<"u"?function(n){return hu.resolve(null).then(n).catch(ey)}:$s;function ey(n){setTimeout(function(){throw n})}function ls(n,e){var t=e,o=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(o===0){n.removeChild(i),zo(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=i}while(t);zo(e)}function jn(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function mu(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var ao=Math.random().toString(36).slice(2),An="__reactFiber$"+ao,Wo="__reactProps$"+ao,Vn="__reactContainer$"+ao,Os="__reactEvents$"+ao,ny="__reactListeners$"+ao,ty="__reactHandles$"+ao;function gt(n){var e=n[An];if(e)return e;for(var t=n.parentNode;t;){if(e=t[Vn]||t[An]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=mu(n);n!==null;){if(t=n[An])return t;n=mu(n)}return e}n=t,t=n.parentNode}return null}function ii(n){return n=n[An]||n[Vn],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Vt(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(L(33))}function Ar(n){return n[Wo]||null}var Js=[],Ft=-1;function lt(n){return{current:n}}function ie(n){0>Ft||(n.current=Js[Ft],Js[Ft]=null,Ft--)}function te(n,e){Ft++,Js[Ft]=n.current,n.current=e}var rt={},Pe=lt(rt),be=lt(!1),St=rt;function eo(n,e){var t=n.type.contextTypes;if(!t)return rt;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i={},r;for(r in t)i[r]=e[r];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Be(n){return n=n.childContextTypes,n!=null}function ji(){ie(be),ie(Pe)}function gu(n,e,t){if(Pe.current!==rt)throw Error(L(168));te(Pe,e),te(be,t)}function $f(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(L(108,qm(n)||"Unknown",i));return ce({},t,o)}function er(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||rt,St=Pe.current,te(Pe,n),te(be,be.current),!0}function yu(n,e,t){var o=n.stateNode;if(!o)throw Error(L(169));t?(n=$f(n,e,St),o.__reactInternalMemoizedMergedChildContext=n,ie(be),ie(Pe),te(Pe,n)):ie(be),te(be,t)}var Rn=null,wr=!1,as=!1;function Of(n){Rn===null?Rn=[n]:Rn.push(n)}function oy(n){wr=!0,Of(n)}function at(){if(!as&&Rn!==null){as=!0;var n=0,e=Z;try{var t=Rn;for(Z=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}Rn=null,wr=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(n+1)),gf(Fl,at),i}finally{Z=e,as=!1}}return null}var Gt=[],Ht=0,nr=null,tr=0,en=[],nn=0,Ct=null,Pn=1,Ln="";function pt(n,e){Gt[Ht++]=tr,Gt[Ht++]=nr,nr=n,tr=e}function Jf(n,e,t){en[nn++]=Pn,en[nn++]=Ln,en[nn++]=Ct,Ct=n;var o=Pn;n=Ln;var i=32-yn(o)-1;o&=~(1<<i),t+=1;var r=32-yn(e)+i;if(30<r){var l=i-i%5;r=(o&(1<<l)-1).toString(32),o>>=l,i-=l,Pn=1<<32-yn(e)+i|t<<i|o,Ln=r+n}else Pn=1<<r|t<<i|o,Ln=n}function Jl(n){n.return!==null&&(pt(n,1),Jf(n,1,0))}function Yl(n){for(;n===nr;)nr=Gt[--Ht],Gt[Ht]=null,tr=Gt[--Ht],Gt[Ht]=null;for(;n===Ct;)Ct=en[--nn],en[nn]=null,Ln=en[--nn],en[nn]=null,Pn=en[--nn],en[nn]=null}var We=null,Ye=null,se=!1,mn=null;function Yf(n,e){var t=tn(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function vu(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,We=n,Ye=jn(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,We=n,Ye=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Ct!==null?{id:Pn,overflow:Ln}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=tn(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,We=n,Ye=null,!0):!1;default:return!1}}function Ys(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ws(n){if(se){var e=Ye;if(e){var t=e;if(!vu(n,e)){if(Ys(n))throw Error(L(418));e=jn(t.nextSibling);var o=We;e&&vu(n,e)?Yf(o,t):(n.flags=n.flags&-4097|2,se=!1,We=n)}}else{if(Ys(n))throw Error(L(418));n.flags=n.flags&-4097|2,se=!1,We=n}}}function Eu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;We=n}function yi(n){if(n!==We)return!1;if(!se)return Eu(n),se=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!zs(n.type,n.memoizedProps)),e&&(e=Ye)){if(Ys(n))throw Wf(),Error(L(418));for(;e;)Yf(n,e),e=jn(e.nextSibling)}if(Eu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(L(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ye=jn(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ye=null}}else Ye=We?jn(n.stateNode.nextSibling):null;return!0}function Wf(){for(var n=Ye;n;)n=jn(n.nextSibling)}function no(){Ye=We=null,se=!1}function Wl(n){mn===null?mn=[n]:mn.push(n)}var iy=qn.ReactCurrentBatchConfig;function vo(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(L(309));var o=t.stateNode}if(!o)throw Error(L(147,n));var i=o,r=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(l){var u=i.refs;l===null?delete u[r]:u[r]=l},e._stringRef=r,e)}if(typeof n!="string")throw Error(L(284));if(!t._owner)throw Error(L(290,n))}return n}function vi(n,e){throw n=Object.prototype.toString.call(e),Error(L(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Tu(n){var e=n._init;return e(n._payload)}function Kf(n){function e(E,T){if(n){var S=E.deletions;S===null?(E.deletions=[T],E.flags|=16):S.push(T)}}function t(E,T){if(!n)return null;for(;T!==null;)e(E,T),T=T.sibling;return null}function o(E,T){for(E=new Map;T!==null;)T.key!==null?E.set(T.key,T):E.set(T.index,T),T=T.sibling;return E}function i(E,T){return E=ot(E,T),E.index=0,E.sibling=null,E}function r(E,T,S){return E.index=S,n?(S=E.alternate,S!==null?(S=S.index,S<T?(E.flags|=2,T):S):(E.flags|=2,T)):(E.flags|=1048576,T)}function l(E){return n&&E.alternate===null&&(E.flags|=2),E}function u(E,T,S,w){return T===null||T.tag!==6?(T=ms(S,E.mode,w),T.return=E,T):(T=i(T,S),T.return=E,T)}function c(E,T,S,w){var R=S.type;return R===Pt?f(E,T,S.props.children,w,S.key):T!==null&&(T.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$n&&Tu(R)===T.type)?(w=i(T,S.props),w.ref=vo(E,T,S),w.return=E,w):(w=bi(S.type,S.key,S.props,null,E.mode,w),w.ref=vo(E,T,S),w.return=E,w)}function d(E,T,S,w){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=gs(S,E.mode,w),T.return=E,T):(T=i(T,S.children||[]),T.return=E,T)}function f(E,T,S,w,R){return T===null||T.tag!==7?(T=Tt(S,E.mode,w,R),T.return=E,T):(T=i(T,S),T.return=E,T)}function h(E,T,S){if(typeof T=="string"&&T!==""||typeof T=="number")return T=ms(""+T,E.mode,S),T.return=E,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case li:return S=bi(T.type,T.key,T.props,null,E.mode,S),S.ref=vo(E,null,T),S.return=E,S;case Mt:return T=gs(T,E.mode,S),T.return=E,T;case $n:var w=T._init;return h(E,w(T._payload),S)}if(xo(T)||po(T))return T=Tt(T,E.mode,S,null),T.return=E,T;vi(E,T)}return null}function p(E,T,S,w){var R=T!==null?T.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:u(E,T,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case li:return S.key===R?c(E,T,S,w):null;case Mt:return S.key===R?d(E,T,S,w):null;case $n:return R=S._init,p(E,T,R(S._payload),w)}if(xo(S)||po(S))return R!==null?null:f(E,T,S,w,null);vi(E,S)}return null}function v(E,T,S,w,R){if(typeof w=="string"&&w!==""||typeof w=="number")return E=E.get(S)||null,u(T,E,""+w,R);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case li:return E=E.get(w.key===null?S:w.key)||null,c(T,E,w,R);case Mt:return E=E.get(w.key===null?S:w.key)||null,d(T,E,w,R);case $n:var P=w._init;return v(E,T,S,P(w._payload),R)}if(xo(w)||po(w))return E=E.get(S)||null,f(T,E,w,R,null);vi(T,w)}return null}function C(E,T,S,w){for(var R=null,P=null,M=T,U=T=0,V=null;M!==null&&U<S.length;U++){M.index>U?(V=M,M=null):V=M.sibling;var F=p(E,M,S[U],w);if(F===null){M===null&&(M=V);break}n&&M&&F.alternate===null&&e(E,M),T=r(F,T,U),P===null?R=F:P.sibling=F,P=F,M=V}if(U===S.length)return t(E,M),se&&pt(E,U),R;if(M===null){for(;U<S.length;U++)M=h(E,S[U],w),M!==null&&(T=r(M,T,U),P===null?R=M:P.sibling=M,P=M);return se&&pt(E,U),R}for(M=o(E,M);U<S.length;U++)V=v(M,E,U,S[U],w),V!==null&&(n&&V.alternate!==null&&M.delete(V.key===null?U:V.key),T=r(V,T,U),P===null?R=V:P.sibling=V,P=V);return n&&M.forEach(function(J){return e(E,J)}),se&&pt(E,U),R}function _(E,T,S,w){var R=po(S);if(typeof R!="function")throw Error(L(150));if(S=R.call(S),S==null)throw Error(L(151));for(var P=R=null,M=T,U=T=0,V=null,F=S.next();M!==null&&!F.done;U++,F=S.next()){M.index>U?(V=M,M=null):V=M.sibling;var J=p(E,M,F.value,w);if(J===null){M===null&&(M=V);break}n&&M&&J.alternate===null&&e(E,M),T=r(J,T,U),P===null?R=J:P.sibling=J,P=J,M=V}if(F.done)return t(E,M),se&&pt(E,U),R;if(M===null){for(;!F.done;U++,F=S.next())F=h(E,F.value,w),F!==null&&(T=r(F,T,U),P===null?R=F:P.sibling=F,P=F);return se&&pt(E,U),R}for(M=o(E,M);!F.done;U++,F=S.next())F=v(M,E,U,F.value,w),F!==null&&(n&&F.alternate!==null&&M.delete(F.key===null?U:F.key),T=r(F,T,U),P===null?R=F:P.sibling=F,P=F);return n&&M.forEach(function(_e){return e(E,_e)}),se&&pt(E,U),R}function A(E,T,S,w){if(typeof S=="object"&&S!==null&&S.type===Pt&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case li:e:{for(var R=S.key,P=T;P!==null;){if(P.key===R){if(R=S.type,R===Pt){if(P.tag===7){t(E,P.sibling),T=i(P,S.props.children),T.return=E,E=T;break e}}else if(P.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===$n&&Tu(R)===P.type){t(E,P.sibling),T=i(P,S.props),T.ref=vo(E,P,S),T.return=E,E=T;break e}t(E,P);break}else e(E,P);P=P.sibling}S.type===Pt?(T=Tt(S.props.children,E.mode,w,S.key),T.return=E,E=T):(w=bi(S.type,S.key,S.props,null,E.mode,w),w.ref=vo(E,T,S),w.return=E,E=w)}return l(E);case Mt:e:{for(P=S.key;T!==null;){if(T.key===P)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){t(E,T.sibling),T=i(T,S.children||[]),T.return=E,E=T;break e}else{t(E,T);break}else e(E,T);T=T.sibling}T=gs(S,E.mode,w),T.return=E,E=T}return l(E);case $n:return P=S._init,A(E,T,P(S._payload),w)}if(xo(S))return C(E,T,S,w);if(po(S))return _(E,T,S,w);vi(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,T!==null&&T.tag===6?(t(E,T.sibling),T=i(T,S),T.return=E,E=T):(t(E,T),T=ms(S,E.mode,w),T.return=E,E=T),l(E)):t(E,T)}return A}var to=Kf(!0),Qf=Kf(!1),or=lt(null),ir=null,qt=null,Kl=null;function Ql(){Kl=qt=ir=null}function Xl(n){var e=or.current;ie(or),n._currentValue=e}function Ks(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Kt(n,e){ir=n,Kl=qt=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(qe=!0),n.firstContext=null)}function sn(n){var e=n._currentValue;if(Kl!==n)if(n={context:n,memoizedValue:e,next:null},qt===null){if(ir===null)throw Error(L(308));qt=n,ir.dependencies={lanes:0,firstContext:n}}else qt=qt.next=n;return e}var yt=null;function Zl(n){yt===null?yt=[n]:yt.push(n)}function Xf(n,e,t,o){var i=e.interleaved;return i===null?(t.next=t,Zl(e)):(t.next=i.next,i.next=t),e.interleaved=t,Fn(n,o)}function Fn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var On=!1;function jl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zf(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Dn(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function et(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,Q&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,Fn(n,t)}return i=o.interleaved,i===null?(e.next=e,Zl(o)):(e.next=i.next,i.next=e),o.interleaved=e,Fn(n,t)}function Ui(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,Gl(n,t)}}function Su(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var i=null,r=null;if(t=t.firstBaseUpdate,t!==null){do{var l={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};r===null?i=r=l:r=r.next=l,t=t.next}while(t!==null);r===null?i=r=e:r=r.next=e}else i=r=e;t={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function rr(n,e,t,o){var i=n.updateQueue;On=!1;var r=i.firstBaseUpdate,l=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,l===null?r=d:l.next=d,l=c;var f=n.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==l&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(r!==null){var h=i.baseState;l=0,f=d=c=null,u=r;do{var p=u.lane,v=u.eventTime;if((o&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=n,_=u;switch(p=e,v=t,_.tag){case 1:if(C=_.payload,typeof C=="function"){h=C.call(v,h,p);break e}h=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=_.payload,p=typeof C=="function"?C.call(v,h,p):C,p==null)break e;h=ce({},h,p);break e;case 2:On=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[u]:p.push(u))}else v={eventTime:v,lane:p,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=v,c=h):f=f.next=v,l|=p;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;p=u,u=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(f===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else r===null&&(i.shared.lanes=0);It|=l,n.lanes=l,n.memoizedState=h}}function Cu(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],i=o.callback;if(i!==null){if(o.callback=null,o=t,typeof i!="function")throw Error(L(191,i));i.call(o)}}}var ri={},Nn=lt(ri),Ko=lt(ri),Qo=lt(ri);function vt(n){if(n===ri)throw Error(L(174));return n}function ea(n,e){switch(te(Qo,e),te(Ko,n),te(Nn,ri),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ks(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ks(e,n)}ie(Nn),te(Nn,e)}function oo(){ie(Nn),ie(Ko),ie(Qo)}function jf(n){vt(Qo.current);var e=vt(Nn.current),t=ks(e,n.type);e!==t&&(te(Ko,n),te(Nn,t))}function na(n){Ko.current===n&&(ie(Nn),ie(Ko))}var ae=lt(0);function sr(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var us=[];function ta(){for(var n=0;n<us.length;n++)us[n]._workInProgressVersionPrimary=null;us.length=0}var Vi=qn.ReactCurrentDispatcher,cs=qn.ReactCurrentBatchConfig,_t=0,ue=null,ve=null,Te=null,lr=!1,Do=!1,Xo=0,ry=0;function Ne(){throw Error(L(321))}function oa(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Sn(n[t],e[t]))return!1;return!0}function ia(n,e,t,o,i,r){if(_t=r,ue=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vi.current=n===null||n.memoizedState===null?uy:cy,n=t(o,i),Do){r=0;do{if(Do=!1,Xo=0,25<=r)throw Error(L(301));r+=1,Te=ve=null,e.updateQueue=null,Vi.current=dy,n=t(o,i)}while(Do)}if(Vi.current=ar,e=ve!==null&&ve.next!==null,_t=0,Te=ve=ue=null,lr=!1,e)throw Error(L(300));return n}function ra(){var n=Xo!==0;return Xo=0,n}function xn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ue.memoizedState=Te=n:Te=Te.next=n,Te}function ln(){if(ve===null){var n=ue.alternate;n=n!==null?n.memoizedState:null}else n=ve.next;var e=Te===null?ue.memoizedState:Te.next;if(e!==null)Te=e,ve=n;else{if(n===null)throw Error(L(310));ve=n,n={memoizedState:ve.memoizedState,baseState:ve.baseState,baseQueue:ve.baseQueue,queue:ve.queue,next:null},Te===null?ue.memoizedState=Te=n:Te=Te.next=n}return Te}function Zo(n,e){return typeof e=="function"?e(n):e}function ds(n){var e=ln(),t=e.queue;if(t===null)throw Error(L(311));t.lastRenderedReducer=n;var o=ve,i=o.baseQueue,r=t.pending;if(r!==null){if(i!==null){var l=i.next;i.next=r.next,r.next=l}o.baseQueue=i=r,t.pending=null}if(i!==null){r=i.next,o=o.baseState;var u=l=null,c=null,d=r;do{var f=d.lane;if((_t&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:n(o,d.action);else{var h={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=h,l=o):c=c.next=h,ue.lanes|=f,It|=f}d=d.next}while(d!==null&&d!==r);c===null?l=o:c.next=u,Sn(o,e.memoizedState)||(qe=!0),e.memoizedState=o,e.baseState=l,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){i=n;do r=i.lane,ue.lanes|=r,It|=r,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function fs(n){var e=ln(),t=e.queue;if(t===null)throw Error(L(311));t.lastRenderedReducer=n;var o=t.dispatch,i=t.pending,r=e.memoizedState;if(i!==null){t.pending=null;var l=i=i.next;do r=n(r,l.action),l=l.next;while(l!==i);Sn(r,e.memoizedState)||(qe=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),t.lastRenderedState=r}return[r,o]}function ep(){}function np(n,e){var t=ue,o=ln(),i=e(),r=!Sn(o.memoizedState,i);if(r&&(o.memoizedState=i,qe=!0),o=o.queue,sa(ip.bind(null,t,o,n),[n]),o.getSnapshot!==e||r||Te!==null&&Te.memoizedState.tag&1){if(t.flags|=2048,jo(9,op.bind(null,t,o,i,e),void 0,null),Se===null)throw Error(L(349));_t&30||tp(t,e,i)}return i}function tp(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function op(n,e,t,o){e.value=t,e.getSnapshot=o,rp(e)&&sp(n)}function ip(n,e,t){return t(function(){rp(e)&&sp(n)})}function rp(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Sn(n,t)}catch{return!0}}function sp(n){var e=Fn(n,1);e!==null&&vn(e,n,1,-1)}function _u(n){var e=xn();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zo,lastRenderedState:n},e.queue=n,n=n.dispatch=ay.bind(null,ue,n),[e.memoizedState,n]}function jo(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=ue.updateQueue,e===null?(e={lastEffect:null,stores:null},ue.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function lp(){return ln().memoizedState}function Fi(n,e,t,o){var i=xn();ue.flags|=n,i.memoizedState=jo(1|e,t,void 0,o===void 0?null:o)}function Nr(n,e,t,o){var i=ln();o=o===void 0?null:o;var r=void 0;if(ve!==null){var l=ve.memoizedState;if(r=l.destroy,o!==null&&oa(o,l.deps)){i.memoizedState=jo(e,t,r,o);return}}ue.flags|=n,i.memoizedState=jo(1|e,t,r,o)}function Iu(n,e){return Fi(8390656,8,n,e)}function sa(n,e){return Nr(2048,8,n,e)}function ap(n,e){return Nr(4,2,n,e)}function up(n,e){return Nr(4,4,n,e)}function cp(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function dp(n,e,t){return t=t!=null?t.concat([n]):null,Nr(4,4,cp.bind(null,e,n),t)}function la(){}function fp(n,e){var t=ln();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&oa(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function pp(n,e){var t=ln();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&oa(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function hp(n,e,t){return _t&21?(Sn(t,e)||(t=Ef(),ue.lanes|=t,It|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,qe=!0),n.memoizedState=t)}function sy(n,e){var t=Z;Z=t!==0&&4>t?t:4,n(!0);var o=cs.transition;cs.transition={};try{n(!1),e()}finally{Z=t,cs.transition=o}}function mp(){return ln().memoizedState}function ly(n,e,t){var o=tt(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},gp(n))yp(e,t);else if(t=Xf(n,e,t,o),t!==null){var i=Ue();vn(t,n,o,i),vp(t,e,o)}}function ay(n,e,t){var o=tt(n),i={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(gp(n))yp(e,i);else{var r=n.alternate;if(n.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var l=e.lastRenderedState,u=r(l,t);if(i.hasEagerState=!0,i.eagerState=u,Sn(u,l)){var c=e.interleaved;c===null?(i.next=i,Zl(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=Xf(n,e,i,o),t!==null&&(i=Ue(),vn(t,n,o,i),vp(t,e,o))}}function gp(n){var e=n.alternate;return n===ue||e!==null&&e===ue}function yp(n,e){Do=lr=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function vp(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,Gl(n,t)}}var ar={readContext:sn,useCallback:Ne,useContext:Ne,useEffect:Ne,useImperativeHandle:Ne,useInsertionEffect:Ne,useLayoutEffect:Ne,useMemo:Ne,useReducer:Ne,useRef:Ne,useState:Ne,useDebugValue:Ne,useDeferredValue:Ne,useTransition:Ne,useMutableSource:Ne,useSyncExternalStore:Ne,useId:Ne,unstable_isNewReconciler:!1},uy={readContext:sn,useCallback:function(n,e){return xn().memoizedState=[n,e===void 0?null:e],n},useContext:sn,useEffect:Iu,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Fi(4194308,4,cp.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Fi(4194308,4,n,e)},useInsertionEffect:function(n,e){return Fi(4,2,n,e)},useMemo:function(n,e){var t=xn();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=xn();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=ly.bind(null,ue,n),[o.memoizedState,n]},useRef:function(n){var e=xn();return n={current:n},e.memoizedState=n},useState:_u,useDebugValue:la,useDeferredValue:function(n){return xn().memoizedState=n},useTransition:function(){var n=_u(!1),e=n[0];return n=sy.bind(null,n[1]),xn().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=ue,i=xn();if(se){if(t===void 0)throw Error(L(407));t=t()}else{if(t=e(),Se===null)throw Error(L(349));_t&30||tp(o,e,t)}i.memoizedState=t;var r={value:t,getSnapshot:e};return i.queue=r,Iu(ip.bind(null,o,r,n),[n]),o.flags|=2048,jo(9,op.bind(null,o,r,t,e),void 0,null),t},useId:function(){var n=xn(),e=Se.identifierPrefix;if(se){var t=Ln,o=Pn;t=(o&~(1<<32-yn(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=Xo++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ry++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},cy={readContext:sn,useCallback:fp,useContext:sn,useEffect:sa,useImperativeHandle:dp,useInsertionEffect:ap,useLayoutEffect:up,useMemo:pp,useReducer:ds,useRef:lp,useState:function(){return ds(Zo)},useDebugValue:la,useDeferredValue:function(n){var e=ln();return hp(e,ve.memoizedState,n)},useTransition:function(){var n=ds(Zo)[0],e=ln().memoizedState;return[n,e]},useMutableSource:ep,useSyncExternalStore:np,useId:mp,unstable_isNewReconciler:!1},dy={readContext:sn,useCallback:fp,useContext:sn,useEffect:sa,useImperativeHandle:dp,useInsertionEffect:ap,useLayoutEffect:up,useMemo:pp,useReducer:fs,useRef:lp,useState:function(){return fs(Zo)},useDebugValue:la,useDeferredValue:function(n){var e=ln();return ve===null?e.memoizedState=n:hp(e,ve.memoizedState,n)},useTransition:function(){var n=fs(Zo)[0],e=ln().memoizedState;return[n,e]},useMutableSource:ep,useSyncExternalStore:np,useId:mp,unstable_isNewReconciler:!1};function pn(n,e){if(n&&n.defaultProps){e=ce({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Qs(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:ce({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var kr={isMounted:function(n){return(n=n._reactInternals)?wt(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=Ue(),i=tt(n),r=Dn(o,i);r.payload=e,t!=null&&(r.callback=t),e=et(n,r,i),e!==null&&(vn(e,n,i,o),Ui(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=Ue(),i=tt(n),r=Dn(o,i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=et(n,r,i),e!==null&&(vn(e,n,i,o),Ui(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Ue(),o=tt(n),i=Dn(t,o);i.tag=2,e!=null&&(i.callback=e),e=et(n,i,o),e!==null&&(vn(e,n,o,t),Ui(e,n,o))}};function xu(n,e,t,o,i,r,l){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,r,l):e.prototype&&e.prototype.isPureReactComponent?!Oo(t,o)||!Oo(i,r):!0}function Ep(n,e,t){var o=!1,i=rt,r=e.contextType;return typeof r=="object"&&r!==null?r=sn(r):(i=Be(e)?St:Pe.current,o=e.contextTypes,r=(o=o!=null)?eo(n,i):rt),e=new e(t,r),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kr,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=r),e}function Au(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&kr.enqueueReplaceState(e,e.state,null)}function Xs(n,e,t,o){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},jl(n);var r=e.contextType;typeof r=="object"&&r!==null?i.context=sn(r):(r=Be(e)?St:Pe.current,i.context=eo(n,r)),i.state=n.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(Qs(n,e,r,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kr.enqueueReplaceState(i,i.state,null),rr(n,t,i,o),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function io(n,e){try{var t="",o=e;do t+=Hm(o),o=o.return;while(o);var i=t}catch(r){i=`
Error generating stack: `+r.message+`
`+r.stack}return{value:n,source:e,stack:i,digest:null}}function ps(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Zs(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var fy=typeof WeakMap=="function"?WeakMap:Map;function Tp(n,e,t){t=Dn(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){cr||(cr=!0,al=o),Zs(n,e)},t}function Sp(n,e,t){t=Dn(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var i=e.value;t.payload=function(){return o(i)},t.callback=function(){Zs(n,e)}}var r=n.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(t.callback=function(){Zs(n,e),typeof o!="function"&&(nt===null?nt=new Set([this]):nt.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),t}function wu(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new fy;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(t)||(i.add(t),n=Ay.bind(null,n,e,t),e.then(n,n))}function Nu(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function ku(n,e,t,o,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Dn(-1,1),e.tag=2,et(t,e,1))),t.lanes|=1),n)}var py=qn.ReactCurrentOwner,qe=!1;function De(n,e,t,o){e.child=n===null?Qf(e,null,t,o):to(e,n.child,t,o)}function Ru(n,e,t,o,i){t=t.render;var r=e.ref;return Kt(e,i),o=ia(n,e,t,o,r,i),t=ra(),n!==null&&!qe?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gn(n,e,i)):(se&&t&&Jl(e),e.flags|=1,De(n,e,o,i),e.child)}function Mu(n,e,t,o,i){if(n===null){var r=t.type;return typeof r=="function"&&!ma(r)&&r.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=r,Cp(n,e,r,o,i)):(n=bi(t.type,null,o,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(r=n.child,!(n.lanes&i)){var l=r.memoizedProps;if(t=t.compare,t=t!==null?t:Oo,t(l,o)&&n.ref===e.ref)return Gn(n,e,i)}return e.flags|=1,n=ot(r,o),n.ref=e.ref,n.return=e,e.child=n}function Cp(n,e,t,o,i){if(n!==null){var r=n.memoizedProps;if(Oo(r,o)&&n.ref===e.ref)if(qe=!1,e.pendingProps=o=r,(n.lanes&i)!==0)n.flags&131072&&(qe=!0);else return e.lanes=n.lanes,Gn(n,e,i)}return js(n,e,t,o,i)}function _p(n,e,t){var o=e.pendingProps,i=o.children,r=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},te(Bt,Je),Je|=t;else{if(!(t&1073741824))return n=r!==null?r.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,te(Bt,Je),Je|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=r!==null?r.baseLanes:t,te(Bt,Je),Je|=o}else r!==null?(o=r.baseLanes|t,e.memoizedState=null):o=t,te(Bt,Je),Je|=o;return De(n,e,i,t),e.child}function Ip(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function js(n,e,t,o,i){var r=Be(t)?St:Pe.current;return r=eo(e,r),Kt(e,i),t=ia(n,e,t,o,r,i),o=ra(),n!==null&&!qe?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Gn(n,e,i)):(se&&o&&Jl(e),e.flags|=1,De(n,e,t,i),e.child)}function Pu(n,e,t,o,i){if(Be(t)){var r=!0;er(e)}else r=!1;if(Kt(e,i),e.stateNode===null)Gi(n,e),Ep(e,t,o),Xs(e,t,o,i),o=!0;else if(n===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var c=l.context,d=t.contextType;typeof d=="object"&&d!==null?d=sn(d):(d=Be(t)?St:Pe.current,d=eo(e,d));var f=t.getDerivedStateFromProps,h=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==o||c!==d)&&Au(e,l,o,d),On=!1;var p=e.memoizedState;l.state=p,rr(e,o,l,i),c=e.memoizedState,u!==o||p!==c||be.current||On?(typeof f=="function"&&(Qs(e,t,f,o),c=e.memoizedState),(u=On||xu(e,t,u,o,p,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),l.props=o,l.state=c,l.context=d,o=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{l=e.stateNode,Zf(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:pn(e.type,u),l.props=d,h=e.pendingProps,p=l.context,c=t.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=Be(t)?St:Pe.current,c=eo(e,c));var v=t.getDerivedStateFromProps;(f=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==h||p!==c)&&Au(e,l,o,c),On=!1,p=e.memoizedState,l.state=p,rr(e,o,l,i);var C=e.memoizedState;u!==h||p!==C||be.current||On?(typeof v=="function"&&(Qs(e,t,v,o),C=e.memoizedState),(d=On||xu(e,t,d,o,p,C,c)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(o,C,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(o,C,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=C),l.props=o,l.state=C,l.context=c,o=d):(typeof l.componentDidUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),o=!1)}return el(n,e,t,o,r,i)}function el(n,e,t,o,i,r){Ip(n,e);var l=(e.flags&128)!==0;if(!o&&!l)return i&&yu(e,t,!1),Gn(n,e,r);o=e.stateNode,py.current=e;var u=l&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&l?(e.child=to(e,n.child,null,r),e.child=to(e,null,u,r)):De(n,e,u,r),e.memoizedState=o.state,i&&yu(e,t,!0),e.child}function xp(n){var e=n.stateNode;e.pendingContext?gu(n,e.pendingContext,e.pendingContext!==e.context):e.context&&gu(n,e.context,!1),ea(n,e.containerInfo)}function Lu(n,e,t,o,i){return no(),Wl(i),e.flags|=256,De(n,e,t,o),e.child}var nl={dehydrated:null,treeContext:null,retryLane:0};function tl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Ap(n,e,t){var o=e.pendingProps,i=ae.current,r=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=n!==null&&n.memoizedState===null?!1:(i&2)!==0),u?(r=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),te(ae,i&1),n===null)return Ws(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=o.children,n=o.fallback,r?(o=e.mode,r=e.child,l={mode:"hidden",children:l},!(o&1)&&r!==null?(r.childLanes=0,r.pendingProps=l):r=Pr(l,o,0,null),n=Tt(n,o,t,null),r.return=e,n.return=e,r.sibling=n,e.child=r,e.child.memoizedState=tl(t),e.memoizedState=nl,n):aa(e,l));if(i=n.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return hy(n,e,l,o,u,i,t);if(r){r=o.fallback,l=e.mode,i=n.child,u=i.sibling;var c={mode:"hidden",children:o.children};return!(l&1)&&e.child!==i?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=ot(i,c),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?r=ot(u,r):(r=Tt(r,l,t,null),r.flags|=2),r.return=e,o.return=e,o.sibling=r,e.child=o,o=r,r=e.child,l=n.child.memoizedState,l=l===null?tl(t):{baseLanes:l.baseLanes|t,cachePool:null,transitions:l.transitions},r.memoizedState=l,r.childLanes=n.childLanes&~t,e.memoizedState=nl,o}return r=n.child,n=r.sibling,o=ot(r,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function aa(n,e){return e=Pr({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Ei(n,e,t,o){return o!==null&&Wl(o),to(e,n.child,null,t),n=aa(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function hy(n,e,t,o,i,r,l){if(t)return e.flags&256?(e.flags&=-257,o=ps(Error(L(422))),Ei(n,e,l,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(r=o.fallback,i=e.mode,o=Pr({mode:"visible",children:o.children},i,0,null),r=Tt(r,i,l,null),r.flags|=2,o.return=e,r.return=e,o.sibling=r,e.child=o,e.mode&1&&to(e,n.child,null,l),e.child.memoizedState=tl(l),e.memoizedState=nl,r);if(!(e.mode&1))return Ei(n,e,l,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,r=Error(L(419)),o=ps(r,o,void 0),Ei(n,e,l,o)}if(u=(l&n.childLanes)!==0,qe||u){if(o=Se,o!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|l)?0:i,i!==0&&i!==r.retryLane&&(r.retryLane=i,Fn(n,i),vn(o,n,i,-1))}return ha(),o=ps(Error(L(421))),Ei(n,e,l,o)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=wy.bind(null,n),i._reactRetry=e,null):(n=r.treeContext,Ye=jn(i.nextSibling),We=e,se=!0,mn=null,n!==null&&(en[nn++]=Pn,en[nn++]=Ln,en[nn++]=Ct,Pn=n.id,Ln=n.overflow,Ct=e),e=aa(e,o.children),e.flags|=4096,e)}function Du(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),Ks(n.return,e,t)}function hs(n,e,t,o,i){var r=n.memoizedState;r===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:i}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=o,r.tail=t,r.tailMode=i)}function wp(n,e,t){var o=e.pendingProps,i=o.revealOrder,r=o.tail;if(De(n,e,o.children,t),o=ae.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Du(n,t,e);else if(n.tag===19)Du(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(te(ae,o),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&sr(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),hs(e,!1,i,t,r);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&sr(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}hs(e,!0,t,null,r);break;case"together":hs(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gi(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Gn(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),It|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(L(153));if(e.child!==null){for(n=e.child,t=ot(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=ot(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function my(n,e,t){switch(e.tag){case 3:xp(e),no();break;case 5:jf(e);break;case 1:Be(e.type)&&er(e);break;case 4:ea(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,i=e.memoizedProps.value;te(or,o._currentValue),o._currentValue=i;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(te(ae,ae.current&1),e.flags|=128,null):t&e.child.childLanes?Ap(n,e,t):(te(ae,ae.current&1),n=Gn(n,e,t),n!==null?n.sibling:null);te(ae,ae.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return wp(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),te(ae,ae.current),o)break;return null;case 22:case 23:return e.lanes=0,_p(n,e,t)}return Gn(n,e,t)}var Np,ol,kp,Rp;Np=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};ol=function(){};kp=function(n,e,t,o){var i=n.memoizedProps;if(i!==o){n=e.stateNode,vt(Nn.current);var r=null;switch(t){case"input":i=xs(n,i),o=xs(n,o),r=[];break;case"select":i=ce({},i,{value:void 0}),o=ce({},o,{value:void 0}),r=[];break;case"textarea":i=Ns(n,i),o=Ns(n,o),r=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Zi)}Rs(t,o);var l;t=null;for(d in i)if(!o.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(l in u)u.hasOwnProperty(l)&&(t||(t={}),t[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Go.hasOwnProperty(d)?r||(r=[]):(r=r||[]).push(d,null));for(d in o){var c=o[d];if(u=i!=null?i[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(t||(t={}),t[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(t||(t={}),t[l]=c[l])}else t||(r||(r=[]),r.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(r=r||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(r=r||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Go.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&oe("scroll",n),r||u===c||(r=[])):(r=r||[]).push(d,c))}t&&(r=r||[]).push("style",t);var d=r;(e.updateQueue=d)&&(e.flags|=4)}};Rp=function(n,e,t,o){t!==o&&(e.flags|=4)};function Eo(n,e){if(!se)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function ke(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function gy(n,e,t){var o=e.pendingProps;switch(Yl(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(e),null;case 1:return Be(e.type)&&ji(),ke(e),null;case 3:return o=e.stateNode,oo(),ie(be),ie(Pe),ta(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(yi(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mn!==null&&(dl(mn),mn=null))),ol(n,e),ke(e),null;case 5:na(e);var i=vt(Qo.current);if(t=e.type,n!==null&&e.stateNode!=null)kp(n,e,t,o,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(L(166));return ke(e),null}if(n=vt(Nn.current),yi(e)){o=e.stateNode,t=e.type;var r=e.memoizedProps;switch(o[An]=e,o[Wo]=r,n=(e.mode&1)!==0,t){case"dialog":oe("cancel",o),oe("close",o);break;case"iframe":case"object":case"embed":oe("load",o);break;case"video":case"audio":for(i=0;i<wo.length;i++)oe(wo[i],o);break;case"source":oe("error",o);break;case"img":case"image":case"link":oe("error",o),oe("load",o);break;case"details":oe("toggle",o);break;case"input":za(o,r),oe("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!r.multiple},oe("invalid",o);break;case"textarea":Oa(o,r),oe("invalid",o)}Rs(t,r),i=null;for(var l in r)if(r.hasOwnProperty(l)){var u=r[l];l==="children"?typeof u=="string"?o.textContent!==u&&(r.suppressHydrationWarning!==!0&&gi(o.textContent,u,n),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(r.suppressHydrationWarning!==!0&&gi(o.textContent,u,n),i=["children",""+u]):Go.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&oe("scroll",o)}switch(t){case"input":ai(o),$a(o,r,!0);break;case"textarea":ai(o),Ja(o);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(o.onclick=Zi)}o=i,e.updateQueue=o,o!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=of(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=l.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=l.createElement(t,{is:o.is}):(n=l.createElement(t),t==="select"&&(l=n,o.multiple?l.multiple=!0:o.size&&(l.size=o.size))):n=l.createElementNS(n,t),n[An]=e,n[Wo]=o,Np(n,e,!1,!1),e.stateNode=n;e:{switch(l=Ms(t,o),t){case"dialog":oe("cancel",n),oe("close",n),i=o;break;case"iframe":case"object":case"embed":oe("load",n),i=o;break;case"video":case"audio":for(i=0;i<wo.length;i++)oe(wo[i],n);i=o;break;case"source":oe("error",n),i=o;break;case"img":case"image":case"link":oe("error",n),oe("load",n),i=o;break;case"details":oe("toggle",n),i=o;break;case"input":za(n,o),i=xs(n,o),oe("invalid",n);break;case"option":i=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},i=ce({},o,{value:void 0}),oe("invalid",n);break;case"textarea":Oa(n,o),i=Ns(n,o),oe("invalid",n);break;default:i=o}Rs(t,i),u=i;for(r in u)if(u.hasOwnProperty(r)){var c=u[r];r==="style"?lf(n,c):r==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rf(n,c)):r==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&Ho(n,c):typeof c=="number"&&Ho(n,""+c):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Go.hasOwnProperty(r)?c!=null&&r==="onScroll"&&oe("scroll",n):c!=null&&Pl(n,r,c,l))}switch(t){case"input":ai(n),$a(n,o,!1);break;case"textarea":ai(n),Ja(n);break;case"option":o.value!=null&&n.setAttribute("value",""+it(o.value));break;case"select":n.multiple=!!o.multiple,r=o.value,r!=null?Ot(n,!!o.multiple,r,!1):o.defaultValue!=null&&Ot(n,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Zi)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ke(e),null;case 6:if(n&&e.stateNode!=null)Rp(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(L(166));if(t=vt(Qo.current),vt(Nn.current),yi(e)){if(o=e.stateNode,t=e.memoizedProps,o[An]=e,(r=o.nodeValue!==t)&&(n=We,n!==null))switch(n.tag){case 3:gi(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&gi(o.nodeValue,t,(n.mode&1)!==0)}r&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[An]=e,e.stateNode=o}return ke(e),null;case 13:if(ie(ae),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(se&&Ye!==null&&e.mode&1&&!(e.flags&128))Wf(),no(),e.flags|=98560,r=!1;else if(r=yi(e),o!==null&&o.dehydrated!==null){if(n===null){if(!r)throw Error(L(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(L(317));r[An]=e}else no(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ke(e),r=!1}else mn!==null&&(dl(mn),mn=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||ae.current&1?Ee===0&&(Ee=3):ha())),e.updateQueue!==null&&(e.flags|=4),ke(e),null);case 4:return oo(),ol(n,e),n===null&&Jo(e.stateNode.containerInfo),ke(e),null;case 10:return Xl(e.type._context),ke(e),null;case 17:return Be(e.type)&&ji(),ke(e),null;case 19:if(ie(ae),r=e.memoizedState,r===null)return ke(e),null;if(o=(e.flags&128)!==0,l=r.rendering,l===null)if(o)Eo(r,!1);else{if(Ee!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(l=sr(n),l!==null){for(e.flags|=128,Eo(r,!1),o=l.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)r=t,n=o,r.flags&=14680066,l=r.alternate,l===null?(r.childLanes=0,r.lanes=n,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,n=l.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return te(ae,ae.current&1|2),e.child}n=n.sibling}r.tail!==null&&me()>ro&&(e.flags|=128,o=!0,Eo(r,!1),e.lanes=4194304)}else{if(!o)if(n=sr(l),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),Eo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!l.alternate&&!se)return ke(e),null}else 2*me()-r.renderingStartTime>ro&&t!==1073741824&&(e.flags|=128,o=!0,Eo(r,!1),e.lanes=4194304);r.isBackwards?(l.sibling=e.child,e.child=l):(t=r.last,t!==null?t.sibling=l:e.child=l,r.last=l)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=me(),e.sibling=null,t=ae.current,te(ae,o?t&1|2:t&1),e):(ke(e),null);case 22:case 23:return pa(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Je&1073741824&&(ke(e),e.subtreeFlags&6&&(e.flags|=8192)):ke(e),null;case 24:return null;case 25:return null}throw Error(L(156,e.tag))}function yy(n,e){switch(Yl(e),e.tag){case 1:return Be(e.type)&&ji(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return oo(),ie(be),ie(Pe),ta(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return na(e),null;case 13:if(ie(ae),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(L(340));no()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ie(ae),null;case 4:return oo(),null;case 10:return Xl(e.type._context),null;case 22:case 23:return pa(),null;case 24:return null;default:return null}}var Ti=!1,Re=!1,vy=typeof WeakSet=="function"?WeakSet:Set,H=null;function bt(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){pe(n,e,o)}else t.current=null}function il(n,e,t){try{t()}catch(o){pe(n,e,o)}}var Uu=!1;function Ey(n,e){if(bs=Ki,n=Uf(),Ol(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var i=o.anchorOffset,r=o.focusNode;o=o.focusOffset;try{t.nodeType,r.nodeType}catch{t=null;break e}var l=0,u=-1,c=-1,d=0,f=0,h=n,p=null;n:for(;;){for(var v;h!==t||i!==0&&h.nodeType!==3||(u=l+i),h!==r||o!==0&&h.nodeType!==3||(c=l+o),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)p=h,h=v;for(;;){if(h===n)break n;if(p===t&&++d===i&&(u=l),p===r&&++f===o&&(c=l),(v=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=v}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(Bs={focusedElem:n,selectionRange:t},Ki=!1,H=e;H!==null;)if(e=H,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,H=n;else for(;H!==null;){e=H;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var _=C.memoizedProps,A=C.memoizedState,E=e.stateNode,T=E.getSnapshotBeforeUpdate(e.elementType===e.type?_:pn(e.type,_),A);E.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(w){pe(e,e.return,w)}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}return C=Uu,Uu=!1,C}function Uo(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&n)===n){var r=i.destroy;i.destroy=void 0,r!==void 0&&il(e,t,r)}i=i.next}while(i!==o)}}function Rr(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function rl(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Mp(n){var e=n.alternate;e!==null&&(n.alternate=null,Mp(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[An],delete e[Wo],delete e[Os],delete e[ny],delete e[ty])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Pp(n){return n.tag===5||n.tag===3||n.tag===4}function Vu(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pp(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function sl(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Zi));else if(o!==4&&(n=n.child,n!==null))for(sl(n,e,t),n=n.sibling;n!==null;)sl(n,e,t),n=n.sibling}function ll(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(ll(n,e,t),n=n.sibling;n!==null;)ll(n,e,t),n=n.sibling}var xe=null,hn=!1;function zn(n,e,t){for(t=t.child;t!==null;)Lp(n,e,t),t=t.sibling}function Lp(n,e,t){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Cr,t)}catch{}switch(t.tag){case 5:Re||bt(t,e);case 6:var o=xe,i=hn;xe=null,zn(n,e,t),xe=o,hn=i,xe!==null&&(hn?(n=xe,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):xe.removeChild(t.stateNode));break;case 18:xe!==null&&(hn?(n=xe,t=t.stateNode,n.nodeType===8?ls(n.parentNode,t):n.nodeType===1&&ls(n,t),zo(n)):ls(xe,t.stateNode));break;case 4:o=xe,i=hn,xe=t.stateNode.containerInfo,hn=!0,zn(n,e,t),xe=o,hn=i;break;case 0:case 11:case 14:case 15:if(!Re&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var r=i,l=r.destroy;r=r.tag,l!==void 0&&(r&2||r&4)&&il(t,e,l),i=i.next}while(i!==o)}zn(n,e,t);break;case 1:if(!Re&&(bt(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){pe(t,e,u)}zn(n,e,t);break;case 21:zn(n,e,t);break;case 22:t.mode&1?(Re=(o=Re)||t.memoizedState!==null,zn(n,e,t),Re=o):zn(n,e,t);break;default:zn(n,e,t)}}function Fu(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new vy),e.forEach(function(o){var i=Ny.bind(null,n,o);t.has(o)||(t.add(o),o.then(i,i))})}}function dn(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var i=t[o];try{var r=n,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:xe=u.stateNode,hn=!1;break e;case 3:xe=u.stateNode.containerInfo,hn=!0;break e;case 4:xe=u.stateNode.containerInfo,hn=!0;break e}u=u.return}if(xe===null)throw Error(L(160));Lp(r,l,i),xe=null,hn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){pe(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Dp(e,n),e=e.sibling}function Dp(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(dn(e,n),In(n),o&4){try{Uo(3,n,n.return),Rr(3,n)}catch(_){pe(n,n.return,_)}try{Uo(5,n,n.return)}catch(_){pe(n,n.return,_)}}break;case 1:dn(e,n),In(n),o&512&&t!==null&&bt(t,t.return);break;case 5:if(dn(e,n),In(n),o&512&&t!==null&&bt(t,t.return),n.flags&32){var i=n.stateNode;try{Ho(i,"")}catch(_){pe(n,n.return,_)}}if(o&4&&(i=n.stateNode,i!=null)){var r=n.memoizedProps,l=t!==null?t.memoizedProps:r,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&r.type==="radio"&&r.name!=null&&nf(i,r),Ms(u,l);var d=Ms(u,r);for(l=0;l<c.length;l+=2){var f=c[l],h=c[l+1];f==="style"?lf(i,h):f==="dangerouslySetInnerHTML"?rf(i,h):f==="children"?Ho(i,h):Pl(i,f,h,d)}switch(u){case"input":As(i,r);break;case"textarea":tf(i,r);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!r.multiple;var v=r.value;v!=null?Ot(i,!!r.multiple,v,!1):p!==!!r.multiple&&(r.defaultValue!=null?Ot(i,!!r.multiple,r.defaultValue,!0):Ot(i,!!r.multiple,r.multiple?[]:"",!1))}i[Wo]=r}catch(_){pe(n,n.return,_)}}break;case 6:if(dn(e,n),In(n),o&4){if(n.stateNode===null)throw Error(L(162));i=n.stateNode,r=n.memoizedProps;try{i.nodeValue=r}catch(_){pe(n,n.return,_)}}break;case 3:if(dn(e,n),In(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{zo(e.containerInfo)}catch(_){pe(n,n.return,_)}break;case 4:dn(e,n),In(n);break;case 13:dn(e,n),In(n),i=n.child,i.flags&8192&&(r=i.memoizedState!==null,i.stateNode.isHidden=r,!r||i.alternate!==null&&i.alternate.memoizedState!==null||(da=me())),o&4&&Fu(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(Re=(d=Re)||f,dn(e,n),Re=d):dn(e,n),In(n),o&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(H=n,f=n.child;f!==null;){for(h=H=f;H!==null;){switch(p=H,v=p.child,p.tag){case 0:case 11:case 14:case 15:Uo(4,p,p.return);break;case 1:bt(p,p.return);var C=p.stateNode;if(typeof C.componentWillUnmount=="function"){o=p,t=p.return;try{e=o,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(_){pe(o,t,_)}}break;case 5:bt(p,p.return);break;case 22:if(p.memoizedState!==null){Hu(h);continue}}v!==null?(v.return=p,H=v):Hu(h)}f=f.sibling}e:for(f=null,h=n;;){if(h.tag===5){if(f===null){f=h;try{i=h.stateNode,d?(r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(u=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=sf("display",l))}catch(_){pe(n,n.return,_)}}}else if(h.tag===6){if(f===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(_){pe(n,n.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===n)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break e;for(;h.sibling===null;){if(h.return===null||h.return===n)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:dn(e,n),In(n),o&4&&Fu(n);break;case 21:break;default:dn(e,n),In(n)}}function In(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Pp(t)){var o=t;break e}t=t.return}throw Error(L(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(Ho(i,""),o.flags&=-33);var r=Vu(n);ll(n,r,i);break;case 3:case 4:var l=o.stateNode.containerInfo,u=Vu(n);sl(n,u,l);break;default:throw Error(L(161))}}catch(c){pe(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Ty(n,e,t){H=n,Up(n)}function Up(n,e,t){for(var o=(n.mode&1)!==0;H!==null;){var i=H,r=i.child;if(i.tag===22&&o){var l=i.memoizedState!==null||Ti;if(!l){var u=i.alternate,c=u!==null&&u.memoizedState!==null||Re;u=Ti;var d=Re;if(Ti=l,(Re=c)&&!d)for(H=i;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?qu(i):c!==null?(c.return=l,H=c):qu(i);for(;r!==null;)H=r,Up(r),r=r.sibling;H=i,Ti=u,Re=d}Gu(n)}else i.subtreeFlags&8772&&r!==null?(r.return=i,H=r):Gu(n)}}function Gu(n){for(;H!==null;){var e=H;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Re||Rr(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!Re)if(t===null)o.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:pn(e.type,t.memoizedProps);o.componentDidUpdate(i,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&Cu(e,r,o);break;case 3:var l=e.updateQueue;if(l!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Cu(e,l,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var h=f.dehydrated;h!==null&&zo(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Re||e.flags&512&&rl(e)}catch(p){pe(e,e.return,p)}}if(e===n){H=null;break}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}}function Hu(n){for(;H!==null;){var e=H;if(e===n){H=null;break}var t=e.sibling;if(t!==null){t.return=e.return,H=t;break}H=e.return}}function qu(n){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Rr(4,e)}catch(c){pe(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var i=e.return;try{o.componentDidMount()}catch(c){pe(e,i,c)}}var r=e.return;try{rl(e)}catch(c){pe(e,r,c)}break;case 5:var l=e.return;try{rl(e)}catch(c){pe(e,l,c)}}}catch(c){pe(e,e.return,c)}if(e===n){H=null;break}var u=e.sibling;if(u!==null){u.return=e.return,H=u;break}H=e.return}}var Sy=Math.ceil,ur=qn.ReactCurrentDispatcher,ua=qn.ReactCurrentOwner,on=qn.ReactCurrentBatchConfig,Q=0,Se=null,ye=null,Ae=0,Je=0,Bt=lt(0),Ee=0,ei=null,It=0,Mr=0,ca=0,Vo=null,He=null,da=0,ro=1/0,kn=null,cr=!1,al=null,nt=null,Si=!1,Kn=null,dr=0,Fo=0,ul=null,Hi=-1,qi=0;function Ue(){return Q&6?me():Hi!==-1?Hi:Hi=me()}function tt(n){return n.mode&1?Q&2&&Ae!==0?Ae&-Ae:iy.transition!==null?(qi===0&&(qi=Ef()),qi):(n=Z,n!==0||(n=window.event,n=n===void 0?16:Af(n.type)),n):1}function vn(n,e,t,o){if(50<Fo)throw Fo=0,ul=null,Error(L(185));ti(n,t,o),(!(Q&2)||n!==Se)&&(n===Se&&(!(Q&2)&&(Mr|=t),Ee===4&&Yn(n,Ae)),ze(n,o),t===1&&Q===0&&!(e.mode&1)&&(ro=me()+500,wr&&at()))}function ze(n,e){var t=n.callbackNode;ig(n,e);var o=Wi(n,n===Se?Ae:0);if(o===0)t!==null&&Ka(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&Ka(t),e===1)n.tag===0?oy(bu.bind(null,n)):Of(bu.bind(null,n)),jg(function(){!(Q&6)&&at()}),t=null;else{switch(Tf(o)){case 1:t=Fl;break;case 4:t=yf;break;case 16:t=Yi;break;case 536870912:t=vf;break;default:t=Yi}t=zp(t,Vp.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function Vp(n,e){if(Hi=-1,qi=0,Q&6)throw Error(L(327));var t=n.callbackNode;if(Qt()&&n.callbackNode!==t)return null;var o=Wi(n,n===Se?Ae:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=fr(n,o);else{e=o;var i=Q;Q|=2;var r=Gp();(Se!==n||Ae!==e)&&(kn=null,ro=me()+500,Et(n,e));do try{Iy();break}catch(u){Fp(n,u)}while(1);Ql(),ur.current=r,Q=i,ye!==null?e=0:(Se=null,Ae=0,e=Ee)}if(e!==0){if(e===2&&(i=Vs(n),i!==0&&(o=i,e=cl(n,i))),e===1)throw t=ei,Et(n,0),Yn(n,o),ze(n,me()),t;if(e===6)Yn(n,o);else{if(i=n.current.alternate,!(o&30)&&!Cy(i)&&(e=fr(n,o),e===2&&(r=Vs(n),r!==0&&(o=r,e=cl(n,r))),e===1))throw t=ei,Et(n,0),Yn(n,o),ze(n,me()),t;switch(n.finishedWork=i,n.finishedLanes=o,e){case 0:case 1:throw Error(L(345));case 2:ht(n,He,kn);break;case 3:if(Yn(n,o),(o&130023424)===o&&(e=da+500-me(),10<e)){if(Wi(n,0)!==0)break;if(i=n.suspendedLanes,(i&o)!==o){Ue(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=$s(ht.bind(null,n,He,kn),e);break}ht(n,He,kn);break;case 4:if(Yn(n,o),(o&4194240)===o)break;for(e=n.eventTimes,i=-1;0<o;){var l=31-yn(o);r=1<<l,l=e[l],l>i&&(i=l),o&=~r}if(o=i,o=me()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*Sy(o/1960))-o,10<o){n.timeoutHandle=$s(ht.bind(null,n,He,kn),o);break}ht(n,He,kn);break;case 5:ht(n,He,kn);break;default:throw Error(L(329))}}}return ze(n,me()),n.callbackNode===t?Vp.bind(null,n):null}function cl(n,e){var t=Vo;return n.current.memoizedState.isDehydrated&&(Et(n,e).flags|=256),n=fr(n,e),n!==2&&(e=He,He=t,e!==null&&dl(e)),n}function dl(n){He===null?He=n:He.push.apply(He,n)}function Cy(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var i=t[o],r=i.getSnapshot;i=i.value;try{if(!Sn(r(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Yn(n,e){for(e&=~ca,e&=~Mr,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-yn(e),o=1<<t;n[t]=-1,e&=~o}}function bu(n){if(Q&6)throw Error(L(327));Qt();var e=Wi(n,0);if(!(e&1))return ze(n,me()),null;var t=fr(n,e);if(n.tag!==0&&t===2){var o=Vs(n);o!==0&&(e=o,t=cl(n,o))}if(t===1)throw t=ei,Et(n,0),Yn(n,e),ze(n,me()),t;if(t===6)throw Error(L(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,ht(n,He,kn),ze(n,me()),null}function fa(n,e){var t=Q;Q|=1;try{return n(e)}finally{Q=t,Q===0&&(ro=me()+500,wr&&at())}}function xt(n){Kn!==null&&Kn.tag===0&&!(Q&6)&&Qt();var e=Q;Q|=1;var t=on.transition,o=Z;try{if(on.transition=null,Z=1,n)return n()}finally{Z=o,on.transition=t,Q=e,!(Q&6)&&at()}}function pa(){Je=Bt.current,ie(Bt)}function Et(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,Zg(t)),ye!==null)for(t=ye.return;t!==null;){var o=t;switch(Yl(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ji();break;case 3:oo(),ie(be),ie(Pe),ta();break;case 5:na(o);break;case 4:oo();break;case 13:ie(ae);break;case 19:ie(ae);break;case 10:Xl(o.type._context);break;case 22:case 23:pa()}t=t.return}if(Se=n,ye=n=ot(n.current,null),Ae=Je=e,Ee=0,ei=null,ca=Mr=It=0,He=Vo=null,yt!==null){for(e=0;e<yt.length;e++)if(t=yt[e],o=t.interleaved,o!==null){t.interleaved=null;var i=o.next,r=t.pending;if(r!==null){var l=r.next;r.next=i,o.next=l}t.pending=o}yt=null}return n}function Fp(n,e){do{var t=ye;try{if(Ql(),Vi.current=ar,lr){for(var o=ue.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}lr=!1}if(_t=0,Te=ve=ue=null,Do=!1,Xo=0,ua.current=null,t===null||t.return===null){Ee=1,ei=e,ye=null;break}e:{var r=n,l=t.return,u=t,c=e;if(e=Ae,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,h=f.tag;if(!(f.mode&1)&&(h===0||h===11||h===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Nu(l);if(v!==null){v.flags&=-257,ku(v,l,u,r,e),v.mode&1&&wu(r,d,e),e=v,c=d;var C=e.updateQueue;if(C===null){var _=new Set;_.add(c),e.updateQueue=_}else C.add(c);break e}else{if(!(e&1)){wu(r,d,e),ha();break e}c=Error(L(426))}}else if(se&&u.mode&1){var A=Nu(l);if(A!==null){!(A.flags&65536)&&(A.flags|=256),ku(A,l,u,r,e),Wl(io(c,u));break e}}r=c=io(c,u),Ee!==4&&(Ee=2),Vo===null?Vo=[r]:Vo.push(r),r=l;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var E=Tp(r,c,e);Su(r,E);break e;case 1:u=c;var T=r.type,S=r.stateNode;if(!(r.flags&128)&&(typeof T.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(nt===null||!nt.has(S)))){r.flags|=65536,e&=-e,r.lanes|=e;var w=Sp(r,u,e);Su(r,w);break e}}r=r.return}while(r!==null)}qp(t)}catch(R){e=R,ye===t&&t!==null&&(ye=t=t.return);continue}break}while(1)}function Gp(){var n=ur.current;return ur.current=ar,n===null?ar:n}function ha(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),Se===null||!(It&268435455)&&!(Mr&268435455)||Yn(Se,Ae)}function fr(n,e){var t=Q;Q|=2;var o=Gp();(Se!==n||Ae!==e)&&(kn=null,Et(n,e));do try{_y();break}catch(i){Fp(n,i)}while(1);if(Ql(),Q=t,ur.current=o,ye!==null)throw Error(L(261));return Se=null,Ae=0,Ee}function _y(){for(;ye!==null;)Hp(ye)}function Iy(){for(;ye!==null&&!Km();)Hp(ye)}function Hp(n){var e=Bp(n.alternate,n,Je);n.memoizedProps=n.pendingProps,e===null?qp(n):ye=e,ua.current=null}function qp(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=yy(t,e),t!==null){t.flags&=32767,ye=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ee=6,ye=null;return}}else if(t=gy(t,e,Je),t!==null){ye=t;return}if(e=e.sibling,e!==null){ye=e;return}ye=e=n}while(e!==null);Ee===0&&(Ee=5)}function ht(n,e,t){var o=Z,i=on.transition;try{on.transition=null,Z=1,xy(n,e,t,o)}finally{on.transition=i,Z=o}return null}function xy(n,e,t,o){do Qt();while(Kn!==null);if(Q&6)throw Error(L(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(L(177));n.callbackNode=null,n.callbackPriority=0;var r=t.lanes|t.childLanes;if(rg(n,r),n===Se&&(ye=Se=null,Ae=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||Si||(Si=!0,zp(Yi,function(){return Qt(),null})),r=(t.flags&15990)!==0,t.subtreeFlags&15990||r){r=on.transition,on.transition=null;var l=Z;Z=1;var u=Q;Q|=4,ua.current=null,Ey(n,t),Dp(t,n),Og(Bs),Ki=!!bs,Bs=bs=null,n.current=t,Ty(t),Qm(),Q=u,Z=l,on.transition=r}else n.current=t;if(Si&&(Si=!1,Kn=n,dr=i),r=n.pendingLanes,r===0&&(nt=null),jm(t.stateNode),ze(n,me()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],o(i.value,{componentStack:i.stack,digest:i.digest});if(cr)throw cr=!1,n=al,al=null,n;return dr&1&&n.tag!==0&&Qt(),r=n.pendingLanes,r&1?n===ul?Fo++:(Fo=0,ul=n):Fo=0,at(),null}function Qt(){if(Kn!==null){var n=Tf(dr),e=on.transition,t=Z;try{if(on.transition=null,Z=16>n?16:n,Kn===null)var o=!1;else{if(n=Kn,Kn=null,dr=0,Q&6)throw Error(L(331));var i=Q;for(Q|=4,H=n.current;H!==null;){var r=H,l=r.child;if(H.flags&16){var u=r.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(H=d;H!==null;){var f=H;switch(f.tag){case 0:case 11:case 15:Uo(8,f,r)}var h=f.child;if(h!==null)h.return=f,H=h;else for(;H!==null;){f=H;var p=f.sibling,v=f.return;if(Mp(f),f===d){H=null;break}if(p!==null){p.return=v,H=p;break}H=v}}}var C=r.alternate;if(C!==null){var _=C.child;if(_!==null){C.child=null;do{var A=_.sibling;_.sibling=null,_=A}while(_!==null)}}H=r}}if(r.subtreeFlags&2064&&l!==null)l.return=r,H=l;else e:for(;H!==null;){if(r=H,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Uo(9,r,r.return)}var E=r.sibling;if(E!==null){E.return=r.return,H=E;break e}H=r.return}}var T=n.current;for(H=T;H!==null;){l=H;var S=l.child;if(l.subtreeFlags&2064&&S!==null)S.return=l,H=S;else e:for(l=T;H!==null;){if(u=H,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Rr(9,u)}}catch(R){pe(u,u.return,R)}if(u===l){H=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,H=w;break e}H=u.return}}if(Q=i,at(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Cr,n)}catch{}o=!0}return o}finally{Z=t,on.transition=e}}return!1}function Bu(n,e,t){e=io(t,e),e=Tp(n,e,1),n=et(n,e,1),e=Ue(),n!==null&&(ti(n,1,e),ze(n,e))}function pe(n,e,t){if(n.tag===3)Bu(n,n,t);else for(;e!==null;){if(e.tag===3){Bu(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(nt===null||!nt.has(o))){n=io(t,n),n=Sp(e,n,1),e=et(e,n,1),n=Ue(),e!==null&&(ti(e,1,n),ze(e,n));break}}e=e.return}}function Ay(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=Ue(),n.pingedLanes|=n.suspendedLanes&t,Se===n&&(Ae&t)===t&&(Ee===4||Ee===3&&(Ae&130023424)===Ae&&500>me()-da?Et(n,0):ca|=t),ze(n,e)}function bp(n,e){e===0&&(n.mode&1?(e=di,di<<=1,!(di&130023424)&&(di=4194304)):e=1);var t=Ue();n=Fn(n,e),n!==null&&(ti(n,e,t),ze(n,t))}function wy(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),bp(n,t)}function Ny(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(L(314))}o!==null&&o.delete(e),bp(n,t)}var Bp;Bp=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||be.current)qe=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return qe=!1,my(n,e,t);qe=!!(n.flags&131072)}else qe=!1,se&&e.flags&1048576&&Jf(e,tr,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;Gi(n,e),n=e.pendingProps;var i=eo(e,Pe.current);Kt(e,t),i=ia(null,e,o,n,i,t);var r=ra();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(o)?(r=!0,er(e)):r=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,jl(e),i.updater=kr,e.stateNode=i,i._reactInternals=e,Xs(e,o,n,t),e=el(null,e,o,!0,r,t)):(e.tag=0,se&&r&&Jl(e),De(null,e,i,t),e=e.child),e;case 16:o=e.elementType;e:{switch(Gi(n,e),n=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=Ry(o),n=pn(o,n),i){case 0:e=js(null,e,o,n,t);break e;case 1:e=Pu(null,e,o,n,t);break e;case 11:e=Ru(null,e,o,n,t);break e;case 14:e=Mu(null,e,o,pn(o.type,n),t);break e}throw Error(L(306,o,""))}return e;case 0:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:pn(o,i),js(n,e,o,i,t);case 1:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:pn(o,i),Pu(n,e,o,i,t);case 3:e:{if(xp(e),n===null)throw Error(L(387));o=e.pendingProps,r=e.memoizedState,i=r.element,Zf(n,e),rr(e,o,null,t);var l=e.memoizedState;if(o=l.element,r.isDehydrated)if(r={element:o,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){i=io(Error(L(423)),e),e=Lu(n,e,o,t,i);break e}else if(o!==i){i=io(Error(L(424)),e),e=Lu(n,e,o,t,i);break e}else for(Ye=jn(e.stateNode.containerInfo.firstChild),We=e,se=!0,mn=null,t=Qf(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(no(),o===i){e=Gn(n,e,t);break e}De(n,e,o,t)}e=e.child}return e;case 5:return jf(e),n===null&&Ws(e),o=e.type,i=e.pendingProps,r=n!==null?n.memoizedProps:null,l=i.children,zs(o,i)?l=null:r!==null&&zs(o,r)&&(e.flags|=32),Ip(n,e),De(n,e,l,t),e.child;case 6:return n===null&&Ws(e),null;case 13:return Ap(n,e,t);case 4:return ea(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=to(e,null,o,t):De(n,e,o,t),e.child;case 11:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:pn(o,i),Ru(n,e,o,i,t);case 7:return De(n,e,e.pendingProps,t),e.child;case 8:return De(n,e,e.pendingProps.children,t),e.child;case 12:return De(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,i=e.pendingProps,r=e.memoizedProps,l=i.value,te(or,o._currentValue),o._currentValue=l,r!==null)if(Sn(r.value,l)){if(r.children===i.children&&!be.current){e=Gn(n,e,t);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){l=r.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(r.tag===1){c=Dn(-1,t&-t),c.tag=2;var d=r.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}r.lanes|=t,c=r.alternate,c!==null&&(c.lanes|=t),Ks(r.return,t,e),u.lanes|=t;break}c=c.next}}else if(r.tag===10)l=r.type===e.type?null:r.child;else if(r.tag===18){if(l=r.return,l===null)throw Error(L(341));l.lanes|=t,u=l.alternate,u!==null&&(u.lanes|=t),Ks(l,t,e),l=r.sibling}else l=r.child;if(l!==null)l.return=r;else for(l=r;l!==null;){if(l===e){l=null;break}if(r=l.sibling,r!==null){r.return=l.return,l=r;break}l=l.return}r=l}De(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps.children,Kt(e,t),i=sn(i),o=o(i),e.flags|=1,De(n,e,o,t),e.child;case 14:return o=e.type,i=pn(o,e.pendingProps),i=pn(o.type,i),Mu(n,e,o,i,t);case 15:return Cp(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:pn(o,i),Gi(n,e),e.tag=1,Be(o)?(n=!0,er(e)):n=!1,Kt(e,t),Ep(e,o,i),Xs(e,o,i,t),el(null,e,o,!0,n,t);case 19:return wp(n,e,t);case 22:return _p(n,e,t)}throw Error(L(156,e.tag))};function zp(n,e){return gf(n,e)}function ky(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(n,e,t,o){return new ky(n,e,t,o)}function ma(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ry(n){if(typeof n=="function")return ma(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Dl)return 11;if(n===Ul)return 14}return 2}function ot(n,e){var t=n.alternate;return t===null?(t=tn(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function bi(n,e,t,o,i,r){var l=2;if(o=n,typeof n=="function")ma(n)&&(l=1);else if(typeof n=="string")l=5;else e:switch(n){case Pt:return Tt(t.children,i,r,e);case Ll:l=8,i|=8;break;case Ss:return n=tn(12,t,e,i|2),n.elementType=Ss,n.lanes=r,n;case Cs:return n=tn(13,t,e,i),n.elementType=Cs,n.lanes=r,n;case _s:return n=tn(19,t,e,i),n.elementType=_s,n.lanes=r,n;case Zd:return Pr(t,i,r,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Qd:l=10;break e;case Xd:l=9;break e;case Dl:l=11;break e;case Ul:l=14;break e;case $n:l=16,o=null;break e}throw Error(L(130,n==null?n:typeof n,""))}return e=tn(l,t,e,i),e.elementType=n,e.type=o,e.lanes=r,e}function Tt(n,e,t,o){return n=tn(7,n,o,e),n.lanes=t,n}function Pr(n,e,t,o){return n=tn(22,n,o,e),n.elementType=Zd,n.lanes=t,n.stateNode={isHidden:!1},n}function ms(n,e,t){return n=tn(6,n,null,e),n.lanes=t,n}function gs(n,e,t){return e=tn(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function My(n,e,t,o,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qr(0),this.expirationTimes=Qr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qr(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ga(n,e,t,o,i,r,l,u,c){return n=new My(n,e,t,u,c),e===1?(e=1,r===!0&&(e|=8)):e=0,r=tn(3,null,null,e),n.current=r,r.stateNode=n,r.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},jl(r),n}function Py(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mt,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function $p(n){if(!n)return rt;n=n._reactInternals;e:{if(wt(n)!==n||n.tag!==1)throw Error(L(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(L(171))}if(n.tag===1){var t=n.type;if(Be(t))return $f(n,t,e)}return e}function Op(n,e,t,o,i,r,l,u,c){return n=ga(t,o,!0,n,i,r,l,u,c),n.context=$p(null),t=n.current,o=Ue(),i=tt(t),r=Dn(o,i),r.callback=e??null,et(t,r,i),n.current.lanes=i,ti(n,i,o),ze(n,o),n}function Lr(n,e,t,o){var i=e.current,r=Ue(),l=tt(i);return t=$p(t),e.context===null?e.context=t:e.pendingContext=t,e=Dn(r,l),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=et(i,e,l),n!==null&&(vn(n,i,l,r),Ui(n,i,l)),l}function pr(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function zu(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function ya(n,e){zu(n,e),(n=n.alternate)&&zu(n,e)}function Ly(){return null}var Jp=typeof reportError=="function"?reportError:function(n){console.error(n)};function va(n){this._internalRoot=n}Dr.prototype.render=va.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(L(409));Lr(n,e,null,null)};Dr.prototype.unmount=va.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;xt(function(){Lr(null,n,null,null)}),e[Vn]=null}};function Dr(n){this._internalRoot=n}Dr.prototype.unstable_scheduleHydration=function(n){if(n){var e=_f();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Jn.length&&e!==0&&e<Jn[t].priority;t++);Jn.splice(t,0,n),t===0&&xf(n)}};function Ea(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ur(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function $u(){}function Dy(n,e,t,o,i){if(i){if(typeof o=="function"){var r=o;o=function(){var d=pr(l);r.call(d)}}var l=Op(e,o,n,0,null,!1,!1,"",$u);return n._reactRootContainer=l,n[Vn]=l.current,Jo(n.nodeType===8?n.parentNode:n),xt(),l}for(;i=n.lastChild;)n.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var d=pr(c);u.call(d)}}var c=ga(n,0,!1,null,null,!1,!1,"",$u);return n._reactRootContainer=c,n[Vn]=c.current,Jo(n.nodeType===8?n.parentNode:n),xt(function(){Lr(e,c,t,o)}),c}function Vr(n,e,t,o,i){var r=t._reactRootContainer;if(r){var l=r;if(typeof i=="function"){var u=i;i=function(){var c=pr(l);u.call(c)}}Lr(e,l,n,i)}else l=Dy(t,e,n,i,o);return pr(l)}Sf=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ao(e.pendingLanes);t!==0&&(Gl(e,t|1),ze(e,me()),!(Q&6)&&(ro=me()+500,at()))}break;case 13:xt(function(){var o=Fn(n,1);if(o!==null){var i=Ue();vn(o,n,1,i)}}),ya(n,1)}};Hl=function(n){if(n.tag===13){var e=Fn(n,134217728);if(e!==null){var t=Ue();vn(e,n,134217728,t)}ya(n,134217728)}};Cf=function(n){if(n.tag===13){var e=tt(n),t=Fn(n,e);if(t!==null){var o=Ue();vn(t,n,e,o)}ya(n,e)}};_f=function(){return Z};If=function(n,e){var t=Z;try{return Z=n,e()}finally{Z=t}};Ls=function(n,e,t){switch(e){case"input":if(As(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var i=Ar(o);if(!i)throw Error(L(90));ef(o),As(o,i)}}}break;case"textarea":tf(n,t);break;case"select":e=t.value,e!=null&&Ot(n,!!t.multiple,e,!1)}};cf=fa;df=xt;var Uy={usingClientEntryPoint:!1,Events:[ii,Vt,Ar,af,uf,fa]},To={findFiberByHostInstance:gt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vy={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=hf(n),n===null?null:n.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||Ly,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ci=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ci.isDisabled&&Ci.supportsFiber)try{Cr=Ci.inject(Vy),wn=Ci}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Uy;Qe.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ea(e))throw Error(L(200));return Py(n,e,null,t)};Qe.createRoot=function(n,e){if(!Ea(n))throw Error(L(299));var t=!1,o="",i=Jp;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ga(n,1,!1,null,null,t,!1,o,i),n[Vn]=e.current,Jo(n.nodeType===8?n.parentNode:n),new va(e)};Qe.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(L(188)):(n=Object.keys(n).join(","),Error(L(268,n)));return n=hf(e),n=n===null?null:n.stateNode,n};Qe.flushSync=function(n){return xt(n)};Qe.hydrate=function(n,e,t){if(!Ur(e))throw Error(L(200));return Vr(null,n,e,!0,t)};Qe.hydrateRoot=function(n,e,t){if(!Ea(n))throw Error(L(405));var o=t!=null&&t.hydratedSources||null,i=!1,r="",l=Jp;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),e=Op(e,null,n,1,t??null,i,!1,r,l),n[Vn]=e.current,Jo(n),o)for(n=0;n<o.length;n++)t=o[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Dr(e)};Qe.render=function(n,e,t){if(!Ur(e))throw Error(L(200));return Vr(null,n,e,!1,t)};Qe.unmountComponentAtNode=function(n){if(!Ur(n))throw Error(L(40));return n._reactRootContainer?(xt(function(){Vr(null,null,n,!1,function(){n._reactRootContainer=null,n[Vn]=null})}),!0):!1};Qe.unstable_batchedUpdates=fa;Qe.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!Ur(t))throw Error(L(200));if(n==null||n._reactInternals===void 0)throw Error(L(38));return Vr(n,e,t,!1,o)};Qe.version="18.3.1-next-f1338f8080-20240426";function Yp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Yp)}catch(n){console.error(n)}}Yp(),Jd.exports=Qe;var Fy=Jd.exports,Wp,Ou=Fy;Wp=Ou.createRoot,Ou.hydrateRoot;var Gy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hy=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qy=(n,e)=>{const t=W.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:r=2,absoluteStrokeWidth:l,children:u,...c},d)=>W.createElement("svg",{ref:d,...Gy,width:i,height:i,stroke:o,strokeWidth:l?Number(r)*24/Number(i):r,className:`lucide lucide-${Hy(n)}`,...c},[...e.map(([f,h])=>W.createElement(f,h)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${n}`,t};var le=qy;const So=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),by=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),By=le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),Ju=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),zy=le("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Yu=le("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),Wu=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),$y=le("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),Oy=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),Ku=le("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Qu=le("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),Jy=le("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Yy=le("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),Wy=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Ky=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Qy=le("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),Xu=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),_i=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Xy=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Zu=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ju=le("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),Zy=le("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),jy=le("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),e0=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Mn=(n=>(n.KINDERGARTEN="Mu gio",n.ELEMENTARY="Tiu hc",n))(Mn||{}),m=(n=>(n.MATH="Ton hc",n.ENGLISH="Ting Anh",n.VIETNAMESE="Ting Vit",n.COMMUNICATION="Giao tip",n.NATURE_SOCIETY="T nhin & X hi",n.FAMILY="Tng tc gia nh",n.CREATIVE="Sng to & Vn ng",n))(m||{});const n0=["","","","","","","","","","","",""],t0=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],o0=[{id:"r1",name:"Xem TV 30 pht",pointsCost:3,icon:""},{id:"r2",name:"i n kem",pointsCost:10,icon:""},{id:"r3",name:"i nh banh",pointsCost:15,icon:""},{id:"r4",name:"Mua  chi nh",pointsCost:20,icon:""},{id:"r5",name:"c truyn tranh",pointsCost:2,icon:""},{id:"r6",name:"n g rn",pointsCost:12,icon:""},{id:"r7",name:"i cng vin",pointsCost:8,icon:""},{id:"r8",name:"Ung tr sa",pointsCost:6,icon:""}],i0={[m.MATH]:"bg-blue-500",[m.ENGLISH]:"bg-purple-500",[m.VIETNAMESE]:"bg-red-500",[m.COMMUNICATION]:"bg-yellow-500",[m.NATURE_SOCIETY]:"bg-green-500",[m.FAMILY]:"bg-pink-500",[m.CREATIVE]:"bg-orange-500"},g=(n,e,t,o,i)=>({id:n,level:e,topic:t,content:o,durationMinutes:i,isAI:!1}),N=Mn.KINDERGARTEN,x=Mn.ELEMENTARY,Ii=[g("mk1",N,m.MATH,"m xem c bao nhiu ci gh trong phng khch?",2),g("mk2",N,m.MATH,"Tm 3 mn  c hnh trn",3),g("mk3",N,m.MATH,"Xp 5 chic ko thnh hng dc",2),g("mk4",N,m.MATH,"m ngn tay t 1 n 10",1),g("mk5",N,m.MATH,"Tm mn  di hn ngn tay t ca con",2),g("mk6",N,m.MATH,"m xem con c bao nhiu chic giy?",2),g("mk7",N,m.MATH,"Phn loi  chi: ci no mu   ring",5),g("mk8",N,m.MATH,"Ai cao hn? Con hay ci bn?",1),g("mk9",N,m.MATH,"Ly cho m 2 ci tha",2),g("mk10",N,m.MATH,"m ngc t 5 xung 1: 5, 4, 3...",1),g("mk11",N,m.MATH,"Tm 2  vt ging ht nhau",3),g("mk12",N,m.MATH,"a cho b 1 vt to v 1 vt nh",2),g("mk13",N,m.MATH,"V tay 5 ci tht to",1),g("mk14",N,m.MATH,"Tm th g  hnh vung",2),g("mk15",N,m.MATH,"Chia ci bnh (hoc tri cy) cho 2 ngi",2),g("mk16",N,m.MATH,"m s ngi ang  trong nh",1),g("mk17",N,m.MATH,"Tm 3 mn  bng nha",3),g("mk18",N,m.MATH,"So snh tay ai to hn? Tay con hay tay m?",1),g("mk19",N,m.MATH,"Xp dp thnh 3 i ngay ngn",3),g("mk20",N,m.MATH,"m xem con c bao nhiu ci rng?",2),g("mk21",N,m.MATH,"Tm vt g  hnh tam gic",3),g("mk22",N,m.MATH,"Bc 10 bc chn xem i n u",2),g("mk23",N,m.MATH,"m s nt trn o ca con",2),g("mk24",N,m.MATH,"Tm vt nh hn ci gi",1),g("mk25",N,m.MATH,"Tm vt nng hn ci cc nha",1),g("mk26",N,m.MATH,"m xem c bao nhiu gi trn ging",1),g("mk27",N,m.MATH,"Ly ng 3 quyn sch",2),g("mk28",N,m.MATH,"Xe 2 bn tay v m tng cng bao nhiu ngn",1),g("mk29",N,m.MATH,"Tm mn  ngn hn ngn tay ci",2),g("mk30",N,m.MATH,"Nht 5 mn  chi b vo r",3),g("ek1",N,m.ENGLISH,"Con mo ting Anh l g?",1),g("ek2",N,m.ENGLISH,'Ni "Hello" vi mi ngi trong nh',2),g("ek3",N,m.ENGLISH,"Mu xanh dng ting Anh l g?",1),g("ek4",N,m.ENGLISH,'m "One, Two, Three" tht to',1),g("ek5",N,m.ENGLISH,"Qu to ting Anh c l g?",1),g("ek6",N,m.ENGLISH,'Ht bi "ABC Song"',3),g("ek7",N,m.ENGLISH,'Ch vo mi v ni "Nose"',1),g("ek8",N,m.ENGLISH,'Ni "Thank you" khi nhn ',1),g("ek9",N,m.ENGLISH,"Con ch ting Anh l g?",1),g("ek10",N,m.ENGLISH,"Chc ng ngon bng ting Anh (Good night)",1),g("ek11",N,m.ENGLISH,"Mu Vng ting Anh l g? (Yellow)",1),g("ek12",N,m.ENGLISH,'Ni "Goodbye" v vy tay',1),g("ek13",N,m.ENGLISH,'ng ln v ni "Stand up"',1),g("ek14",N,m.ENGLISH,'Ngi xung v ni "Sit down"',1),g("ek15",N,m.ENGLISH,"Con c ting Anh l g? (Fish)",1),g("ek16",N,m.ENGLISH,'Ch vo mt v ni "Eye"',1),g("ek17",N,m.ENGLISH,'Ch vo ming v ni "Mouth"',1),g("ek18",N,m.ENGLISH,"Mu  ting Anh l g? (Red)",1),g("ek19",N,m.ENGLISH,'Ni "I love you" vi m',1),g("ek20",N,m.ENGLISH,"Con chim ting Anh l g? (Bird)",1),g("ek21",N,m.ENGLISH,"m n 5 bng ting Anh",2),g("ek22",N,m.ENGLISH,'Gi "Dad" (B) i',1),g("ek23",N,m.ENGLISH,'Gi "Mom" (M) i',1),g("ek24",N,m.ENGLISH,'Ni "Sorry" (Xin li) gi b',1),g("ek25",N,m.ENGLISH,"Qu chui ting Anh l g? (Banana)",1),g("ek26",N,m.ENGLISH,"Ci xe hi ting Anh l g? (Car)",1),g("ek27",N,m.ENGLISH,'Ht bi "Baby Shark"',3),g("ek28",N,m.ENGLISH,'Ch vo tai v ni "Ear"',1),g("ek29",N,m.ENGLISH,"Con ln ting Anh l g? (Pig)",1),g("ek30",N,m.ENGLISH,"Mu Xanh l cy ting Anh l g? (Green)",1),g("vk1",N,m.VIETNAMESE,"c to ch ci A, , ",2),g("vk2",N,m.VIETNAMESE,"Tm mt mn  bt u bng ch B",2),g("vk3",N,m.VIETNAMESE,"Gi tn 3 ngi bn thn ca con",2),g("vk4",N,m.VIETNAMESE,'Ni mt cu c t "Yu"',1),g("vk5",N,m.VIETNAMESE,"K li con  n g sng nay?",2),g("vk6",N,m.VIETNAMESE,"M t con gu bng ca con trng th no",3),g("vk7",N,m.VIETNAMESE,"Bt chc ting ku con g trng",1),g("vk8",N,m.VIETNAMESE,"Ni tn y  ca con",1),g("vk9",N,m.VIETNAMESE,"Ht mt bi ht ting Vit con thuc",3),g("vk10",N,m.VIETNAMESE,"K tn 3 con vt 4 chn",2),g("vk11",N,m.VIETNAMESE,"c to: O, , ",1),g("vk12",N,m.VIETNAMESE,"Tm mn  bt u bng ch C (Cc, C...)",2),g("vk13",N,m.VIETNAMESE,'Ni "Con mi b m n cm"',1),g("vk14",N,m.VIETNAMESE,"K tn 3 loi qu con thch",2),g("vk15",N,m.VIETNAMESE,"Bt chc ting ku con mo",1),g("vk16",N,m.VIETNAMESE,"Ni mt cu khen m xinh",1),g("vk17",N,m.VIETNAMESE,'c bi th "Yu m" (hoc th con thuc)',2),g("vk18",N,m.VIETNAMESE,"Gi tn cc b phn trn mt",2),g("vk19",N,m.VIETNAMESE,"K tn 3 ngi trong gia nh",1),g("vk20",N,m.VIETNAMESE,"Ni a ch nh (hoc tn khu ph)",2),g("vk21",N,m.VIETNAMESE,'Tm t c vn "A" (G, C, L...)',2),g("vk22",N,m.VIETNAMESE,"K tn mn  chi con thch nht",2),g("vk23",N,m.VIETNAMESE,"Bt chc ting xe  t chy",1),g("vk24",N,m.VIETNAMESE,"Ni li cm n b",1),g("vk25",N,m.VIETNAMESE,"K tn 3 mu sc con thy",2),g("vk26",N,m.VIETNAMESE,"c to: E, ",1),g("vk27",N,m.VIETNAMESE,'Hi "M ang lm g y?"',1),g("vk28",N,m.VIETNAMESE,'Tm  vt tn l "Gh"',1),g("vk29",N,m.VIETNAMESE,"K tn trng mm non ca con",1),g("vk30",N,m.VIETNAMESE,'Ni "Con yu c nh"',1),g("fk1",N,m.FAMILY,"m m mt ci tht cht",1),g("fk2",N,m.FAMILY,"Ly nc mi b ung",2),g("fk3",N,m.FAMILY,"T ct giy dp vo k",3),g("fk4",N,m.FAMILY,"Xp gi gn gng trn sofa",2),g("fk5",N,m.FAMILY,'Hi thm "B i lm c mt khng?"',1),g("fk6",N,m.FAMILY,"Ct  chi vo r sau khi chi",5),g("fk7",N,m.FAMILY,"Thm m b mt ci",1),g("fk8",N,m.FAMILY,"Ci tht ti vi m",1),g("fk9",N,m.FAMILY,"Mi mi ngi n cm (nu ang gi n)",1),g("fk10",N,m.FAMILY,"Gip m ly khn lau bn",2),g("fk11",N,m.FAMILY,"m lng cho b 20 ci",2),g("fk12",N,m.FAMILY,"T i ly nc ung",1),g("fk13",N,m.FAMILY,"B rc vo thng rc ng ni",1),g("fk14",N,m.FAMILY,"Tt tivi gip b m",1),g("fk15",N,m.FAMILY,"Tm mt knh/in thoi gip ng b",2),g("fk16",N,m.FAMILY,"K cho m nghe 1 chuyn vui",2),g("fk17",N,m.FAMILY,"T mc o (nu con bit)",5),g("fk18",N,m.FAMILY,"Vut tc m nh nhng",1),g("fk19",N,m.FAMILY,"Chia ko cho mi ngi",3),g("fk20",N,m.FAMILY,"Ct sch ln k",2),g("fk21",N,m.FAMILY,"T ra tay bng x phng",3),g("fk22",N,m.FAMILY,"Ngi ngay ngn khi n cm",5),g("fk23",N,m.FAMILY,"Khng xem iPad trong 10 pht",10),g("fk24",N,m.FAMILY,"Chc ng b sng lu",1),g("fk25",N,m.FAMILY,"Mang tt (v) vo chn",3),g("fk26",N,m.FAMILY,"Gip m nht rau (n gin)",5),g("fk27",N,m.FAMILY,"Lau ming sau khi n",1),g("fk28",N,m.FAMILY,"Cho khch n nh",1),g("fk29",N,m.FAMILY,"i v sinh ng ni quy nh",3),g("fk30",N,m.FAMILY,'m b v ni "Con yu b"',1),g("ck1",N,m.CREATIVE,"V hnh ng mt tri",5),g("ck2",N,m.CREATIVE,"Nhy l c 3 bc",2),g("ck3",N,m.CREATIVE,'Ma bi "Mt con vt"',3),g("ck4",N,m.CREATIVE,"Xy thp cao bng gi m",5),g("ck5",N,m.CREATIVE,"Bt chc ting ku ca con mo",1),g("ck6",N,m.CREATIVE,"T mu mt bc tranh n gin",10),g("ck7",N,m.CREATIVE,"i nhn chn quanh bn 1 vng",2),g("ck8",N,m.CREATIVE,"Nn t st thnh hnh con giun",5),g("ck9",N,m.CREATIVE,"Lm mt xu x tru b",1),g("ck10",N,m.CREATIVE,"B trn sn nh nh em b",2),g("ck11",N,m.CREATIVE,"Nhy cao ht sc 5 ln",2),g("ck12",N,m.CREATIVE,"V mt bng hoa tng m",5),g("ck13",N,m.CREATIVE,"Chy ti ch trong 10 giy",1),g("ck14",N,m.CREATIVE,"Xp hnh lego thnh ngi nh",10),g("ck15",N,m.CREATIVE,"Lm dng ging siu nhn",1),g("ck16",N,m.CREATIVE,'Ht bi "Chu ln ba"',3),g("ck17",N,m.CREATIVE,"V tay theo nhp bi ht",2),g("ck18",N,m.CREATIVE,"T mang giy ca mnh",3),g("ck19",N,m.CREATIVE,'Ma bi "Ra mt nh mo"',3),g("ck20",N,m.CREATIVE,"T mu con c",5),g("ck21",N,m.CREATIVE,"Ln trn trn ging",1),g("ck22",N,m.CREATIVE,"Xp  chi thnh vng trn",3),g("ck23",N,m.CREATIVE,"i li 5 bc (cn thn nh)",2),g("ck24",N,m.CREATIVE,"Lm ting xe my ku",1),g("ck25",N,m.CREATIVE,"Gi tay cao chm trn nh (nhn chn)",1),g("ck26",N,m.CREATIVE,"V hnh trn mu ",3),g("ck27",N,m.CREATIVE,"Nhm mt v ng mt chn trong 3 giy",1),g("ck28",N,m.CREATIVE,"Chi tr trn tm vi b m",5),g("ck29",N,m.CREATIVE,"V con ng i",3),g("ck30",N,m.CREATIVE,"Gp my bay giy (nh b gip)",5),g("me1",x,m.MATH,"Tnh nhm: 15 + 12 bng bao nhiu?",2),g("me2",x,m.MATH,"Tm 3 vt c hnh ch nht trong nh",3),g("me3",x,m.MATH,"c gi chnh xc trn ng h",1),g("me4",x,m.MATH,"o chiu di ci bn bng gang tay",2),g("me5",x,m.MATH,"m li t 20 v 0",1),g("me6",x,m.MATH,"Tnh nhm: 2 x 6 = ?",1),g("me7",x,m.MATH,"Gp i t giy 3 ln, m xem c my ?",3),g("me8",x,m.MATH,"Tm s ln nht c 2 ch s",1),g("me9",x,m.MATH,"Cng tui ca b v tui ca m",3),g("me10",x,m.MATH,"Vit cc s chn t 2 n 20",3),g("me11",x,m.MATH,"c lng chiu cao ca t lnh (bao nhiu cm?)",2),g("me12",x,m.MATH,"Ly 10 ht go v chia lm 2 phn bng nhau",2),g("me13",x,m.MATH,"V mt hnh tam gic v mt hnh trn lng vo nhau",2),g("me14",x,m.MATH,"Tm 3 mn  c gi tin (trn bao b/tem)",5),g("me15",x,m.MATH,"m xem c bao nhiu bng n trong nh",3),g("me16",x,m.MATH,"Tnh nhm: 100 - 45 = ?",2),g("me17",x,m.MATH,"Tm hnh khi lp phng (v d xc xc, rubik)",2),g("me18",x,m.MATH,"m s bc chn t phng ng ra phng khch",2),g("me19",x,m.MATH,"Vit bng cu chng 2",5),g("me20",x,m.MATH,"Tm s l ln nht nh hn 20",1),g("me21",x,m.MATH,"o chiu di quyn sch gio khoa bng thc k",2),g("me22",x,m.MATH,"Tnh tng s ngn tay v ngn chn ca con",1),g("me23",x,m.MATH,"Tm mt vt nng khong 1kg",3),g("me24",x,m.MATH,"V mt gc vung",1),g("me25",x,m.MATH,"Tnh nhm: 9 + 8 + 7",2),g("me26",x,m.MATH,"c s in thoi ca m",2),g("me27",x,m.MATH,"So snh chiu cao ca 2 ci gh",2),g("me28",x,m.MATH,"Ct mt hnh trn t giy",3),g("me29",x,m.MATH,"m xem nh mnh c bao nhiu ca s",3),g("me30",x,m.MATH,"Tnh 5 x 5 = ?",1),g("ee1",x,m.ENGLISH,"K tn 5 loi ng vt bng ting Anh",2),g("ee2",x,m.ENGLISH,"Gii thiu tn v tui bng ting Anh",2),g("ee3",x,m.ENGLISH,'Tm  vt mu "Yellow" trong nh',2),g("ee4",x,m.ENGLISH,"m t 1 n 20 bng ting Anh",2),g("ee5",x,m.ENGLISH,'Ht mt on bi "Happy Birthday"',2),g("ee6",x,m.ENGLISH,"nh vn tn ca con (Spell your name)",2),g("ee7",x,m.ENGLISH,"K tn 3 mn hc bng ting Anh",2),g("ee8",x,m.ENGLISH,'Hi "By gi l my gi?" bng ting Anh',1),g("ee9",x,m.ENGLISH,'Vit t "FAMILY" ra giy',1),g("ee10",x,m.ENGLISH,"Ni 3 cu cho bui sng, tra, ti",2),g("ee11",x,m.ENGLISH,"M t thi tit hm nay (Hot/Cold/Rainy...)",2),g("ee12",x,m.ENGLISH,'c to: "I love my family"',1),g("ee13",x,m.ENGLISH,"Tm t ting Anh bt u bng ch B",2),g("ee14",x,m.ENGLISH,'Hi m: "How are you?"',1),g("ee15",x,m.ENGLISH,"K tn 3 mn n con thch bng ting Anh",2),g("ee16",x,m.ENGLISH,"c to cc ngy trong tun (Monday, Tuesday...)",3),g("ee17",x,m.ENGLISH,'Dch cu "Ti thch n kem" sang ting Anh',2),g("ee18",x,m.ENGLISH,"K tn 3 b phn c th bng ting Anh",1),g("ee19",x,m.ENGLISH,'Tm  vt mu "Red" v "Blue"',2),g("ee20",x,m.ENGLISH,'Ni "Can I have some water?"',1),g("ee21",x,m.ENGLISH,"m ngc t 10 xung 1 bng ting Anh",2),g("ee22",x,m.ENGLISH,"Vit tn trng hc ca con bng ting Anh",3),g("ee23",x,m.ENGLISH,"Ht mt bi ht ting Anh thiu nhi bt k",3),g("ee24",x,m.ENGLISH,"K tn 3 ngh nghip (Doctor, Teacher...)",2),g("ee25",x,m.ENGLISH,'Ni "This is a pen" khi cm ci bt',1),g("ee26",x,m.ENGLISH,'Dch t "Quyn sch" sang ting Anh',1),g("ee27",x,m.ENGLISH,'Hi b "What is your name?"',1),g("ee28",x,m.ENGLISH,"K tn 3 loi qu bng ting Anh",2),g("ee29",x,m.ENGLISH,'Ni "My favorite color is..."',2),g("ee30",x,m.ENGLISH,'nh vn t "SCHOOL"',2),g("ve1",x,m.VIETNAMESE,"Tm 5 t ly (v d: lung linh)",3),g("ve2",x,m.VIETNAMESE,"t mt cu cm thn v thi tit",2),g("ve3",x,m.VIETNAMESE,"c din cm mt on th ngn",3),g("ve4",x,m.VIETNAMESE,'Tm 3 t bt u bng ch "Ng"',2),g("ve5",x,m.VIETNAMESE,"Vit mt li chc gi cho b",5),g("ve6",x,m.VIETNAMESE,'Gii thch ngha ca t "Dng cm"',2),g("ve7",x,m.VIETNAMESE,'Tm t tri ngha vi "Nhanh"',1),g("ve8",x,m.VIETNAMESE,"K tn 5 loi tri cy",2),g("ve9",x,m.VIETNAMESE," b m mt cu  vui",3),g("ve10",x,m.VIETNAMESE,"K li mt vic tt con  lm",3),g("ve11",x,m.VIETNAMESE,'t cu vi t "Thng minh"',2),g("ve12",x,m.VIETNAMESE,"Tm 3 t ch mu sc",1),g("ve13",x,m.VIETNAMESE,"Vit tn 3 ngi bn ca con",3),g("ve14",x,m.VIETNAMESE,"c mt on trong sch gio khoa Ting Vit",5),g("ve15",x,m.VIETNAMESE,'Gii thch cu tc ng "Ung nc nh ngun"',3),g("ve16",x,m.VIETNAMESE,'Tm t ng ngha vi "Vui v"',2),g("ve17",x,m.VIETNAMESE,"K tn 3 con vt sng trong rng",1),g("ve18",x,m.VIETNAMESE,"Vit mt l th ngn cho m",10),g("ve19",x,m.VIETNAMESE,'Sp xp t thnh cu: "i / Con / hc / sng / nay"',2),g("ve20",x,m.VIETNAMESE,"Tm 3 t ch hot ng (ng t)",2),g("ve21",x,m.VIETNAMESE,"M t ngn gn ci cp sch ca con",3),g("ve22",x,m.VIETNAMESE,"Tm 3 t ch c im (Tnh t)",2),g("ve23",x,m.VIETNAMESE,"Ni mt cu xin php i chi",1),g("ve24",x,m.VIETNAMESE,"K tn cc ma trong nm",1),g("ve25",x,m.VIETNAMESE,"c thuc lng 4 cu th bt k",3),g("ve26",x,m.VIETNAMESE,"Vit thi kha biu ngy mai",5),g("ve27",x,m.VIETNAMESE,'Phn bit "ch" v "tr" qua 2 t v d',2),g("ve28",x,m.VIETNAMESE,"K li ni dung mt cu chuyn c tch",5),g("ve29",x,m.VIETNAMESE,"Vit h v tn y  ca b m",3),g("ve30",x,m.VIETNAMESE,'Tm t tri ngha vi "To ln"',1),g("fe1",x,m.FAMILY,"Gp chn mn gn gng sau khi ng dy",5),g("fe2",x,m.FAMILY,"Qut nh gip m",10),g("fe3",x,m.FAMILY,"Ti cy ngoi ban cng/vn",5),g("fe4",x,m.FAMILY,"Sp xp k sch gn gng",8),g("fe5",x,m.FAMILY,"Ra cc ung nc ca mnh",3),g("fe6",x,m.FAMILY,"Lau bn n trc ba cm",3),g("fe7",x,m.FAMILY,"K cho b nghe chuyn vui  trng",5),g("fe8",x,m.FAMILY,"Chun b qun o i tm",2),g("fe9",x,m.FAMILY,"Gp qun o  git",10),g("fe10",x,m.FAMILY,"Massage vai cho b/m 3 pht",3),g("fe11",x,m.FAMILY,"Son sch v cho ngy mai",5),g("fe12",x,m.FAMILY,"Tt n khi ra khi phng",1),g("fe13",x,m.FAMILY," rc ng ni quy nh",3),g("fe14",x,m.FAMILY,"Lau bi trn k tivi",5),g("fe15",x,m.FAMILY,"Nh tc su cho b/b",5),g("fe16",x,m.FAMILY,"Dn dp gc hc tp sch s",10),g("fe17",x,m.FAMILY,"Cm cm (nu  bit lm)",5),g("fe18",x,m.FAMILY,"Trng em gip m 10 pht",10),g("fe19",x,m.FAMILY,"Mi c nh n hoa qu",2),g("fe20",x,m.FAMILY,"Hi thm sc khe ng b",2),g("fe21",x,m.FAMILY,"Sp xp giy dp gn gng",3),g("fe22",x,m.FAMILY,"T gic nh rng trc khi ng",3),g("fe23",x,m.FAMILY,"Gip m phi qun o",10),g("fe24",x,m.FAMILY,"Lau ca knh (vi khn m)",5),g("fe25",x,m.FAMILY,"Pha nc chanh cho b m",5),g("fe26",x,m.FAMILY,"c truyn cho em nghe",10),g("fe27",x,m.FAMILY,"Gi in thoi hi thm ngi thn",5),g("fe28",x,m.FAMILY,"Chun b bt a cho ba cm",3),g("fe29",x,m.FAMILY,"T git tt (v) ca mnh",5),g("fe30",x,m.FAMILY,"Vit giy nh nhc nh vic nh",2),g("ne1",x,m.NATURE_SOCIETY,"Ti sao l cy mu xanh?",3),g("ne2",x,m.NATURE_SOCIETY,"K tn 3 con vt sng di nc",2),g("ne3",x,m.NATURE_SOCIETY,"Quan st bu tri hm nay c g?",2),g("ne4",x,m.NATURE_SOCIETY,"K tn 4 ma trong nm",2),g("ne5",x,m.NATURE_SOCIETY,"Ti sao phi i m bo him?",2),g("ne6",x,m.NATURE_SOCIETY,"Tm hng ng (ni mt tri mc)",2),g("ne7",x,m.NATURE_SOCIETY,"Phn bit rc ti ch v rc thng",3),g("ne8",x,m.NATURE_SOCIETY,"K tn 3 phng tin giao thng",1),g("ne9",x,m.NATURE_SOCIETY,"Nc si  bao nhiu ?",1),g("ne10",x,m.NATURE_SOCIETY,"Con g sinh ra t trng?",2),g("ne11",x,m.NATURE_SOCIETY,"K tn 3 loi hoa",1),g("ne12",x,m.NATURE_SOCIETY,"Ti sao phi ra tay trc khi n?",2),g("ne13",x,m.NATURE_SOCIETY,"Mt trng c hnh g?",1),g("ne14",x,m.NATURE_SOCIETY,"K tn th  ca Vit Nam",1),g("ne15",x,m.NATURE_SOCIETY,"Con g c li cho bc nng dn?",2),g("ne16",x,m.NATURE_SOCIETY,"n tn hiu giao thng c my mu?",1),g("ne17",x,m.NATURE_SOCIETY,"Cy cn g  sng?",2),g("ne18",x,m.NATURE_SOCIETY,"K tn 5 b phn bn ngoi c th",2),g("ne19",x,m.NATURE_SOCIETY,"Ngy Quc khnh Vit Nam l ngy no?",2),g("ne20",x,m.NATURE_SOCIETY,"Ma t u ra?",3),g("ne21",x,m.NATURE_SOCIETY,"K tn 3 danh lam thng cnh",3),g("ne22",x,m.NATURE_SOCIETY,"Ti sao khng c vt rc ba bi?",2),g("ne23",x,m.NATURE_SOCIETY,"Con mui truyn bnh g?",2),g("ne24",x,m.NATURE_SOCIETY,"Ch trn bn  Vit Nam",3),g("ne25",x,m.NATURE_SOCIETY,"Cc gic quan ca con ngi l g?",2),g("ne26",x,m.NATURE_SOCIETY,"Ti sao phi tp th dc?",2),g("ne27",x,m.NATURE_SOCIETY,"K tn 3 loi rau c",1),g("ne28",x,m.NATURE_SOCIETY,"Bc s lm vic  u?",1),g("ne29",x,m.NATURE_SOCIETY,"Mt tri ln hng no?",2),g("ne30",x,m.NATURE_SOCIETY,"K tn 3 con vt nui trong nh",1),g("ce1",x,m.CREATIVE,"Gp my bay giy bay xa nht c th",5),g("ce2",x,m.CREATIVE,"V chn dung gia nh",15),g("ce3",x,m.CREATIVE,"Ch to mt mn  chi t v hp c",15),g("ce4",x,m.CREATIVE,"Vit mt bi th 4 cu",10),g("ce5",x,m.CREATIVE,"Nhy theo mt iu nhc si ng",5),g("ce6",x,m.CREATIVE,"K mt cu chuyn ci",3),g("ce7",x,m.CREATIVE,"To dng ging siu anh hng",1),g("ce8",x,m.CREATIVE,"V c m ca con sau ny",10),g("ce9",x,m.CREATIVE,"Tp bi th dc bui sng",5),g("ce10",x,m.CREATIVE,"Lm thip tng sinh nht bn",15),g("ce11",x,m.CREATIVE,"Xy lu i bng chn gi",10),g("ce12",x,m.CREATIVE,"Thit k mt b trang phc t bo c",15),g("ce13",x,m.CREATIVE,"V li quang cnh trc ca nh",10),g("ce14",x,m.CREATIVE,"Lm ng ng bt t li giy v sinh",15),g("ce15",x,m.CREATIVE,"Sng tc mt bi ht ngn",5),g("ce16",x,m.CREATIVE,'V tranh theo ch  "Bo v mi trng"',15),g("ce17",x,m.CREATIVE,"Tp gi thng bng quyn sch trn u",2),g("ce18",x,m.CREATIVE,"Gp hc giy hoc thuyn giy",5),g("ce19",x,m.CREATIVE,"Biu din mt tit mc o thut n gin",5),g("ce20",x,m.CREATIVE,"Thi bong bng x phng (nu c)",5),g("ce21",x,m.CREATIVE,"Trang tr gc hc tp",15),g("ce22",x,m.CREATIVE,"Ct dn tranh t tp ch c",15),g("ce23",x,m.CREATIVE,"Nhy dy 20 ci lin tc",5),g("ce24",x,m.CREATIVE,"V con vt con yu thch",10),g("ce25",x,m.CREATIVE,"Tp ngi thin trong 2 pht",2),g("ce26",x,m.CREATIVE,"Lm ri tay t tt c",10),g("ce27",x,m.CREATIVE,"V chn dung ngi bn thn nht",10),g("ce28",x,m.CREATIVE,"Chi tng cu 5 ln",5),g("ce29",x,m.CREATIVE,"K chuyn sng to t 3 t ngu nhin",5),g("ce30",x,m.CREATIVE,"Thit k ba sch cho cu chuyn con thch",10)];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let r0,s0;function l0(){return{geminiUrl:r0,vertexUrl:s0}}function a0(n,e,t,o){var i,r;if(!(n!=null&&n.baseUrl)){const l=l0();return e?(i=l.vertexUrl)!==null&&i!==void 0?i:t:(r=l.geminiUrl)!==null&&r!==void 0?r:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bn{}function G(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const r=e[i];return r!=null?String(r):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function a(n,e,t){for(let r=0;r<e.length-1;r++){const l=e[r];if(l.endsWith("[]")){const u=l.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${l}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let d=0;d<c.length;d++){const f=c[d];a(f,e.slice(r+1),t[d])}else for(const d of c)a(d,e.slice(r+1),t)}return}else if(l.endsWith("[0]")){const u=l.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];a(c[0],e.slice(r+1),t);return}(!n[l]||typeof n[l]!="object")&&(n[l]={}),n=n[l]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function s(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return t;const i=e[o];if(i.endsWith("[]")){const r=i.slice(0,-2);if(r in n){const l=n[r];return Array.isArray(l)?l.map(u=>s(u,e.slice(o+1),t)):t}else return t}else n=n[i]}return n}catch(o){if(o instanceof TypeError)return t;throw o}}function u0(n,e){for(const[t,o]of Object.entries(e)){const i=t.split("."),r=o.split("."),l=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&r.length>u)for(let c=u;c<r.length;c++){const d=r[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&l.add(d)}fl(n,i,r,0,l)}}function fl(n,e,t,o,i){if(o>=e.length||typeof n!="object"||n===null)return;const r=e[o];if(r.endsWith("[]")){const l=r.slice(0,-2),u=n;if(l in u&&Array.isArray(u[l]))for(const c of u[l])fl(c,e,t,o+1,i)}else if(r==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const l=n,u=Object.keys(l).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=l[d];for(const[d,f]of Object.entries(c)){const h=[];for(const p of t.slice(o))p==="*"?h.push(d):h.push(p);a(l,h,f)}for(const d of u)delete l[d]}}else{const l=n;r in l&&fl(l[r],e,t,o+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ta(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c0(n){const e={},t=s(n,["operationName"]);t!=null&&a(e,["operationName"],t);const o=s(n,["resourceName"]);return o!=null&&a(e,["_url","resourceName"],o),e}function d0(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],p0(l)),e}function f0(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],h0(l)),e}function p0(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>m0(l))),a(e,["generatedVideos"],r)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(n,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function h0(n){const e={},t=s(n,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>g0(l))),a(e,["generatedVideos"],r)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(n,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function m0(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],C0(t)),e}function g0(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],_0(t)),e}function y0(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function v0(n){const e={},t=s(n,["operationName"]);return t!=null&&a(e,["_url","operationName"],t),e}function E0(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],T0(l)),e}function T0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&a(e,["parent"],o);const i=s(n,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function Kp(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],S0(l)),e}function S0(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&a(e,["parent"],o);const i=s(n,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function C0(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],Ta(o));const i=s(n,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function _0(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],Ta(o));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ec;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(ec||(ec={}));var nc;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(nc||(nc={}));var tc;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(tc||(tc={}));var gn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(gn||(gn={}));var oc;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(oc||(oc={}));var ic;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(ic||(ic={}));var rc;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(rc||(rc={}));var sc;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(sc||(sc={}));var lc;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(lc||(lc={}));var ac;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ac||(ac={}));var uc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(uc||(uc={}));var cc;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(cc||(cc={}));var dc;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(dc||(dc={}));var fc;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(fc||(fc={}));var pc;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(pc||(pc={}));var hc;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(hc||(hc={}));var mc;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(mc||(mc={}));var gc;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(gc||(gc={}));var yc;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(yc||(yc={}));var vc;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(vc||(vc={}));var Ec;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ec||(Ec={}));var hr;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(hr||(hr={}));var Tc;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Tc||(Tc={}));var Sc;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Sc||(Sc={}));var Cc;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Cc||(Cc={}));var pl;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(pl||(pl={}));var _c;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(_c||(_c={}));var Ic;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Ic||(Ic={}));var xc;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(xc||(xc={}));var Ac;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Ac||(Ac={}));var wc;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(wc||(wc={}));var Nc;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(Nc||(Nc={}));var kc;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(kc||(kc={}));var Rc;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Rc||(Rc={}));var Mc;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mc||(Mc={}));var Pc;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Pc||(Pc={}));var Lc;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Lc||(Lc={}));var Dc;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Dc||(Dc={}));var Uc;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Uc||(Uc={}));var Vc;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Vc||(Vc={}));var Fc;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Fc||(Fc={}));var Gc;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Gc||(Gc={}));var Hc;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Hc||(Hc={}));var qc;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(qc||(qc={}));var bc;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(bc||(bc={}));var Bc;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Bc||(Bc={}));var zc;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(zc||(zc={}));var $c;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})($c||($c={}));var Oc;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Oc||(Oc={}));var Jc;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Jc||(Jc={}));var Yc;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Yc||(Yc={}));var Wc;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Wc||(Wc={}));var Kc;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Kc||(Kc={}));var Qc;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Qc||(Qc={}));var Xc;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Xc||(Xc={}));var zt;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(zt||(zt={}));class hl{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Co{get text(){var e,t,o,i,r,l,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const h=[];for(const p of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[v,C]of Object.entries(p))v!=="text"&&v!=="thought"&&v!=="thoughtSignature"&&(C!==null||C!==void 0)&&h.push(v);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;f=!0,d+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,o,i,r,l,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const h of(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[p,v]of Object.entries(h))p!=="inlineData"&&(v!==null||v!==void 0)&&f.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(d+=atob(h.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,i,r,l,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,o,i,r,l,u,c,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.executableCode).map(h=>h.executableCode).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,i,r,l,u,c,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(l=(r=this.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.codeExecutionResult).map(h=>h.codeExecutionResult).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Zc{}class jc{}class I0{}class x0{}class A0{}class w0{}class ed{}class nd{}class td{}class N0{}class mr{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new mr;let i;const r=e;return t?i=f0(r):i=d0(r),Object.assign(o,i),o}}class od{}class id{}class rd{}class sd{}class k0{}class R0{}class M0{}class Sa{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Sa,r=E0(e);return Object.assign(o,r),o}}class P0{}class L0{}class D0{}class ld{}class U0{get text(){var e,t,o;let i="",r=!1;const l=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&l.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;r=!0,i+=u.text}}return l.length>0&&console.warn(`there are non-text parts ${l} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),r?i:void 0}get data(){var e,t,o;let i="";const r=[];for(const l of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(l))u!=="inlineData"&&c!==null&&r.push(u);l.inlineData&&typeof l.inlineData.data=="string"&&(i+=atob(l.inlineData.data))}return r.length>0&&console.warn(`there are non-data parts ${r} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class V0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Ca{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const o=new Ca,r=Kp(e);return Object.assign(o,r),o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function X(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Qp(n,e){const t=X(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Xp(n){return Array.isArray(n)?n.map(e=>gr(e)):[gr(n)]}function gr(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Zp(n){const e=gr(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function jp(n){const e=gr(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function ad(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function eh(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>ad(e)):[ad(n)]}function ml(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function ud(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function cd(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Me(n){if(n==null)throw new Error("ContentUnion is required");return ml(n)?n:{role:"user",parts:eh(n)}}function _a(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=Me(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=Me(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>Me(t)):[Me(e)]}function rn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(ud(n)||cd(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Me(n)]}const e=[],t=[],o=ml(n[0]);for(const i of n){const r=ml(i);if(r!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(r)e.push(i);else{if(ud(i)||cd(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return o||e.push({role:"user",parts:eh(t)}),e}function F0(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(gn).includes(t[0].toUpperCase())?t[0].toUpperCase():gn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(gn).includes(o.toUpperCase())?o.toUpperCase():gn.TYPE_UNSPECIFIED})}}function Xt(n){const e={},t=["items"],o=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const r=n.anyOf;r!=null&&r.length==2&&(r[0].type==="null"?(e.nullable=!0,n=r[1]):r[1].type==="null"&&(e.nullable=!0,n=r[0])),n.type instanceof Array&&F0(n.type,e);for(const[l,u]of Object.entries(n))if(u!=null)if(l=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(gn).includes(u.toUpperCase())?u.toUpperCase():gn.TYPE_UNSPECIFIED}else if(t.includes(l))e[l]=Xt(u);else if(o.includes(l)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Xt(d))}e[l]=c}else if(i.includes(l)){const c={};for(const[d,f]of Object.entries(u))c[d]=Xt(f);e[l]=c}else{if(l==="additionalProperties")continue;e[l]=u}return e}function Ia(n){return Xt(n)}function xa(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Aa(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function uo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Xt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Xt(e.response));return n}function co(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function G0(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function Bn(n,e){if(typeof e!="string")throw new Error("name must be a string");return G0(n,e,"cachedContents")}function nh(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function ut(n){return Ta(n)}function H0(n){return n!=null&&typeof n=="object"&&"name"in n}function q0(n){return n!=null&&typeof n=="object"&&"video"in n}function b0(n){return n!=null&&typeof n=="object"&&"uri"in n}function th(n){var e;let t;if(H0(n)&&(t=n.name),!(b0(n)&&(t=n.uri,t===void 0))&&!(q0(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function oh(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function ih(n){for(const e of["models","tunedModels","publisherModels"])if(B0(n,e))return n[e];return[]}function B0(n,e){return n!==null&&typeof n=="object"&&e in n}function z0(n,e={}){const t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function $0(n,e={}){const t=[],o=new Set;for(const i of n){const r=i.name;if(o.has(r))throw new Error(`Duplicate function name ${r} found in MCP tools. Please ensure function names are unique.`);o.add(r);const l=z0(i,e);l.functionDeclarations&&t.push(...l.functionDeclarations)}return{functionDeclarations:t}}function rh(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function O0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function sh(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let r=!1;for(const l of i){if(typeof l!="object"||l===null)continue;const c=l.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){r=!0;break}}return r&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function fo(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function lh(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J0(n){const e={},t=s(n,["responsesFile"]);t!=null&&a(e,["fileName"],t);const o=s(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Av(l))),a(e,["inlinedResponses"],r)}const i=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["inlinedEmbedContentResponses"],r)}return e}function Y0(n){const e={},t=s(n,["predictionsFormat"]);t!=null&&a(e,["format"],t);const o=s(n,["gcsDestination","outputUriPrefix"]);o!=null&&a(e,["gcsUri"],o);const i=s(n,["bigqueryDestination","outputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function W0(n){const e={},t=s(n,["format"]);t!=null&&a(e,["predictionsFormat"],t);const o=s(n,["gcsUri"]);o!=null&&a(e,["gcsDestination","outputUriPrefix"],o);const i=s(n,["bigqueryUri"]);if(i!=null&&a(e,["bigqueryDestination","outputUri"],i),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Bi(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata","displayName"]);o!=null&&a(e,["displayName"],o);const i=s(n,["metadata","state"]);i!=null&&a(e,["state"],lh(i));const r=s(n,["metadata","createTime"]);r!=null&&a(e,["createTime"],r);const l=s(n,["metadata","endTime"]);l!=null&&a(e,["endTime"],l);const u=s(n,["metadata","updateTime"]);u!=null&&a(e,["updateTime"],u);const c=s(n,["metadata","model"]);c!=null&&a(e,["model"],c);const d=s(n,["metadata","output"]);return d!=null&&a(e,["dest"],J0(sh(d))),e}function gl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(n,["state"]);i!=null&&a(e,["state"],lh(i));const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["createTime"]);l!=null&&a(e,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(e,["startTime"],u);const c=s(n,["endTime"]);c!=null&&a(e,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&a(e,["updateTime"],d);const f=s(n,["model"]);f!=null&&a(e,["model"],f);const h=s(n,["inputConfig"]);h!=null&&a(e,["src"],K0(h));const p=s(n,["outputConfig"]);p!=null&&a(e,["dest"],Y0(sh(p)));const v=s(n,["completionStats"]);return v!=null&&a(e,["completionStats"],v),e}function K0(n){const e={},t=s(n,["instancesFormat"]);t!=null&&a(e,["format"],t);const o=s(n,["gcsSource","uris"]);o!=null&&a(e,["gcsUri"],o);const i=s(n,["bigquerySource","inputUri"]);return i!=null&&a(e,["bigqueryUri"],i),e}function Q0(n,e){const t={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=s(e,["fileName"]);o!=null&&a(t,["fileName"],o);const i=s(e,["inlinedRequests"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>xv(n,l))),a(t,["requests","requests"],r)}return t}function X0(n){const e={},t=s(n,["format"]);t!=null&&a(e,["instancesFormat"],t);const o=s(n,["gcsUri"]);o!=null&&a(e,["gcsSource","uris"],o);const i=s(n,["bigqueryUri"]);if(i!=null&&a(e,["bigquerySource","inputUri"],i),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Z0(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function j0(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],fo(n,o)),t}function ev(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],fo(n,o)),t}function nv(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],tv(o));const i=s(n,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const r=s(n,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(n,["index"]);c!=null&&a(e,["index"],c);const d=s(n,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(n,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>v)),a(e,["safetyRatings"],p)}const h=s(n,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function tv(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function ah(n){const e={},t=s(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>Lv(r))),a(e,["parts"],i)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function ov(n,e){const t={},o=s(n,["displayName"]);if(e!==void 0&&o!=null&&a(e,["batch","displayName"],o),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function iv(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(n,["dest"]);return e!==void 0&&i!=null&&a(e,["outputConfig"],W0(O0(i))),t}function dd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["src"]);i!=null&&a(t,["batch","inputConfig"],Q0(n,rh(n,i)));const r=s(e,["config"]);return r!=null&&ov(r,t),t}function rv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],X(n,o));const i=s(e,["src"]);i!=null&&a(t,["inputConfig"],X0(rh(n,i)));const r=s(e,["config"]);return r!=null&&iv(r,t),t}function sv(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["batch","displayName"],o),t}function lv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["src"]);i!=null&&a(t,["batch","inputConfig"],hv(n,i));const r=s(e,["config"]);return r!=null&&sv(r,t),t}function av(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],fo(n,o)),t}function uv(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],fo(n,o)),t}function cv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);return r!=null&&a(e,["error"],r),e}function dv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);return r!=null&&a(e,["error"],r),e}function fv(n,e){const t={},o=s(e,["contents"]);if(o!=null){let r=_a(n,o);Array.isArray(r)&&(r=r.map(l=>l)),a(t,["requests[]","request","content"],r)}const i=s(e,["config"]);return i!=null&&(a(t,["_self"],pv(i,t)),u0(t,{"requests[].*":"requests[].request.*"})),t}function pv(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=s(n,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const r=s(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function hv(n,e){const t={},o=s(e,["fileName"]);o!=null&&a(t,["file_name"],o);const i=s(e,["inlinedRequests"]);return i!=null&&a(t,["requests"],fv(n,i)),t}function mv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function gv(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const i=s(n,["name"]);if(i!=null&&a(e,["name"],i),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function yv(n){const e={},t=s(n,["allowedFunctionNames"]);t!=null&&a(e,["allowedFunctionNames"],t);const o=s(n,["mode"]);if(o!=null&&a(e,["mode"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function vv(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],ah(Me(i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const v=s(e,["presencePenalty"]);v!=null&&a(o,["presencePenalty"],v);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const A=s(e,["responseMimeType"]);A!=null&&a(o,["responseMimeType"],A);const E=s(e,["responseSchema"]);E!=null&&a(o,["responseSchema"],Ia(E));const T=s(e,["responseJsonSchema"]);if(T!=null&&a(o,["responseJsonSchema"],T),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(t!==void 0&&S!=null){let K=S;Array.isArray(K)&&(K=K.map(Ie=>Dv(Ie))),a(t,["safetySettings"],K)}const w=s(e,["tools"]);if(t!==void 0&&w!=null){let K=co(w);Array.isArray(K)&&(K=K.map(Ie=>Vv(uo(Ie)))),a(t,["tools"],K)}const R=s(e,["toolConfig"]);if(t!==void 0&&R!=null&&a(t,["toolConfig"],Uv(R)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=s(e,["cachedContent"]);t!==void 0&&P!=null&&a(t,["cachedContent"],Bn(n,P));const M=s(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const U=s(e,["mediaResolution"]);U!=null&&a(o,["mediaResolution"],U);const V=s(e,["speechConfig"]);if(V!=null&&a(o,["speechConfig"],xa(V)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=s(e,["thinkingConfig"]);F!=null&&a(o,["thinkingConfig"],F);const J=s(e,["imageConfig"]);J!=null&&a(o,["imageConfig"],Iv(J));const _e=s(e,["enableEnhancedCivicAnswers"]);return _e!=null&&a(o,["enableEnhancedCivicAnswers"],_e),o}function Ev(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>nv(d))),a(e,["candidates"],c)}const i=s(n,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const r=s(n,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function Tv(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],fo(n,o)),t}function Sv(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],fo(n,o)),t}function Cv(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function _v(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function Iv(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const o=s(n,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function xv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["request","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let u=rn(i);Array.isArray(u)&&(u=u.map(c=>ah(c))),a(t,["request","contents"],u)}const r=s(e,["metadata"]);r!=null&&a(t,["metadata"],r);const l=s(e,["config"]);return l!=null&&a(t,["request","generationConfig"],vv(n,l,s(t,["request"],{}))),t}function Av(n){const e={},t=s(n,["response"]);t!=null&&a(e,["response"],Ev(t));const o=s(n,["error"]);return o!=null&&a(e,["error"],o),e}function wv(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);if(e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Nv(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);e!==void 0&&i!=null&&a(e,["_query","pageToken"],i);const r=s(n,["filter"]);return e!==void 0&&r!=null&&a(e,["_query","filter"],r),t}function kv(n){const e={},t=s(n,["config"]);return t!=null&&wv(t,e),e}function Rv(n){const e={},t=s(n,["config"]);return t!=null&&Nv(t,e),e}function Mv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["operations"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>Bi(l))),a(e,["batchJobs"],r)}return e}function Pv(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["batchPredictionJobs"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>gl(l))),a(e,["batchJobs"],r)}return e}function Lv(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(n,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],mv(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],gv(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(n,["inlineData"]);c!=null&&a(e,["inlineData"],Z0(c));const d=s(n,["text"]);d!=null&&a(e,["text"],d);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const h=s(n,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function Dv(n){const e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function Uv(n){const e={},t=s(n,["retrievalConfig"]);t!=null&&a(e,["retrievalConfig"],t);const o=s(n,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],yv(o)),e}function Vv(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&a(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const i=s(n,["codeExecution"]);if(i!=null&&a(e,["codeExecution"],i),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(n,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&a(e,["googleMaps"],Cv(l));const u=s(n,["googleSearch"]);u!=null&&a(e,["googleSearch"],_v(u));const c=s(n,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Hn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(Hn||(Hn={}));class Nt{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,r;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let l={config:{}};!o||Object.keys(o).length===0?l={config:{}}:typeof o=="object"?l=Object.assign({},o):l=o,l.config&&(l.config.pageToken=t.nextPageToken),this.paramsInternal=l,this.pageInternalSize=(r=(i=l.config)===null||i===void 0?void 0:i.pageSize)!==null&&r!==void 0?r:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fv extends bn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Nt(Hn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=dd(this.apiClient,e),o=t._url,i=G("{model}:batchGenerateContent",o),u=t.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const h=Object.assign({},f);if(h.systemInstruction){const p=h.systemInstruction;delete h.systemInstruction;const v=h.request;v.systemInstruction=p,h.request=v}d.push(h)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const o=t?Object.assign({},t):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const r=this.getGcsUri(e),l=this.getBigqueryUri(e);if(r)r.endsWith(".jsonl")?o.dest=`${r.slice(0,-6)}/dest`:o.dest=`${r}_dest_${i}`;else if(l)o.dest=`${l}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=rv(this.apiClient,e);return u=G("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>gl(f))}else{const d=dd(this.apiClient,e);return u=G("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Bi(f))}}async createEmbeddingsInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lv(this.apiClient,e);return r=G("{model}:asyncBatchEmbedContent",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>Bi(c))}}async get(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Sv(this.apiClient,e);return u=G("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>gl(f))}else{const d=Tv(this.apiClient,e);return u=G("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>Bi(f))}}async cancel(e){var t,o,i,r;let l="",u={};if(this.apiClient.isVertexAI()){const c=ev(this.apiClient,e);l=G("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=j0(this.apiClient,e);l=G("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:l,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Rv(e);return u=G("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Pv(f),p=new ld;return Object.assign(p,h),p})}else{const d=kv(e);return u=G("batches",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Mv(f),p=new ld;return Object.assign(p,h),p})}}async delete(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=uv(this.apiClient,e);return u=G("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>dv(f))}else{const d=av(this.apiClient,e);return u=G("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>cv(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Gv(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function fd(n){const e={},t=s(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>lE(r))),a(e,["parts"],i)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function Hv(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(n,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let f=rn(l);Array.isArray(f)&&(f=f.map(h=>fd(h))),a(e,["contents"],f)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],fd(Me(u)));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(h=>uE(h))),a(e,["tools"],f)}const d=s(n,["toolConfig"]);if(e!==void 0&&d!=null&&a(e,["toolConfig"],aE(d)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function qv(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(n,["expireTime"]);e!==void 0&&i!=null&&a(e,["expireTime"],i);const r=s(n,["displayName"]);e!==void 0&&r!=null&&a(e,["displayName"],r);const l=s(n,["contents"]);if(e!==void 0&&l!=null){let h=rn(l);Array.isArray(h)&&(h=h.map(p=>p)),a(e,["contents"],h)}const u=s(n,["systemInstruction"]);e!==void 0&&u!=null&&a(e,["systemInstruction"],Me(u));const c=s(n,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>cE(p))),a(e,["tools"],h)}const d=s(n,["toolConfig"]);e!==void 0&&d!=null&&a(e,["toolConfig"],d);const f=s(n,["kmsKeyName"]);return e!==void 0&&f!=null&&a(e,["encryption_spec","kmsKeyName"],f),t}function bv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],Qp(n,o));const i=s(e,["config"]);return i!=null&&Hv(i,t),t}function Bv(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["model"],Qp(n,o));const i=s(e,["config"]);return i!=null&&qv(i,t),t}function zv(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Bn(n,o)),t}function $v(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Bn(n,o)),t}function Ov(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Jv(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function Yv(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Wv(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const i=s(n,["name"]);if(i!=null&&a(e,["name"],i),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Kv(n){const e={},t=s(n,["allowedFunctionNames"]);t!=null&&a(e,["allowedFunctionNames"],t);const o=s(n,["mode"]);if(o!=null&&a(e,["mode"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Qv(n){const e={},t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const i=s(n,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(n,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Xv(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Bn(n,o)),t}function Zv(n,e){const t={},o=s(e,["name"]);return o!=null&&a(t,["_url","name"],Bn(n,o)),t}function jv(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function eE(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function nE(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),t}function tE(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),t}function oE(n){const e={},t=s(n,["config"]);return t!=null&&nE(t,e),e}function iE(n){const e={},t=s(n,["config"]);return t!=null&&tE(t,e),e}function rE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function sE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["cachedContents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["cachedContents"],r)}return e}function lE(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(n,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],Yv(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],Wv(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(n,["inlineData"]);c!=null&&a(e,["inlineData"],Gv(c));const d=s(n,["text"]);d!=null&&a(e,["text"],d);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const h=s(n,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function aE(n){const e={},t=s(n,["retrievalConfig"]);t!=null&&a(e,["retrievalConfig"],t);const o=s(n,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],Kv(o)),e}function uE(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&a(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const i=s(n,["codeExecution"]);if(i!=null&&a(e,["codeExecution"],i),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(n,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&a(e,["googleMaps"],jv(l));const u=s(n,["googleSearch"]);u!=null&&a(e,["googleSearch"],eE(u));const c=s(n,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function cE(n){const e={},t=s(n,["retrieval"]);t!=null&&a(e,["retrieval"],t);const o=s(n,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=s(n,["codeExecution"]);i!=null&&a(e,["codeExecution"],i);const r=s(n,["enterpriseWebSearch"]);r!=null&&a(e,["enterpriseWebSearch"],r);const l=s(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>Qv(p))),a(e,["functionDeclarations"],h)}const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(n,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function dE(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(n,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),t}function fE(n,e){const t={},o=s(n,["ttl"]);e!==void 0&&o!=null&&a(e,["ttl"],o);const i=s(n,["expireTime"]);return e!==void 0&&i!=null&&a(e,["expireTime"],i),t}function pE(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Bn(n,o));const i=s(e,["config"]);return i!=null&&dE(i,t),t}function hE(n,e){const t={},o=s(e,["name"]);o!=null&&a(t,["_url","name"],Bn(n,o));const i=s(e,["config"]);return i!=null&&fE(i,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends bn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Nt(Hn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Bv(this.apiClient,e);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=bv(this.apiClient,e);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async get(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Zv(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=Xv(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async delete(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=$v(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Jv(f),p=new rd;return Object.assign(p,h),p})}else{const d=zv(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=Ov(f),p=new rd;return Object.assign(p,h),p})}}async update(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=hE(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>f)}else{const d=pE(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>f)}}async listInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=iE(e);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=sE(f),p=new sd;return Object.assign(p,h),p})}else{const d=oE(e);return u=G("cachedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=rE(f),p=new sd;return Object.assign(p,h),p})}}}function yr(n,e){var t={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&e.indexOf(o)<0&&(t[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(n);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(n,o[i])&&(t[o[i]]=n[o[i]]);return t}function pd(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(n){return this instanceof z?(this.v=n,this):new z(n)}function En(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,r=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),i[Symbol.asyncIterator]=function(){return this},i;function l(v){return function(C){return Promise.resolve(C).then(v,h)}}function u(v,C){o[v]&&(i[v]=function(_){return new Promise(function(A,E){r.push([v,_,A,E])>1||c(v,_)})},C&&(i[v]=C(i[v])))}function c(v,C){try{d(o[v](C))}catch(_){p(r[0][3],_)}}function d(v){v.value instanceof z?Promise.resolve(v.value.v).then(f,h):p(r[0][2],v)}function f(v){c("next",v)}function h(v){c("throw",v)}function p(v,C){v(C),r.shift(),r.length&&c(r[0][0],r[0][1])}}function Tn(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof pd=="function"?pd(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(r){t[r]=n[r]&&function(l){return new Promise(function(u,c){l=n[r](l),i(u,c,l.done,l.value)})}}function i(r,l,u,c){Promise.resolve(c).then(function(d){r({value:d,done:u})},l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gE(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:uh(t)}function uh(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function yE(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function hd(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const i=[];let r=!0;for(;o<t&&n[o].role==="model";)i.push(n[o]),r&&!uh(n[o])&&(r=!1),o++;r?e.push(...i):e.pop()}return e}class vE{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new EE(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class EE{constructor(e,t,o,i={},r=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=r,this.sendPromise=Promise.resolve(),yE(r)}async sendMessage(e){var t;await this.sendPromise;const o=Me(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var r,l,u;const c=await i,d=(l=(r=c.candidates)===null||r===void 0?void 0:r[0])===null||l===void 0?void 0:l.content,f=c.automaticFunctionCallingHistory,h=this.getHistory(!0).length;let p=[];f!=null&&(p=(u=f.slice(h))!==null&&u!==void 0?u:[]);const v=d?[d]:[];this.recordHistory(o,v,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const o=Me(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const r=await i;return this.processStreamResponse(r,o)}getHistory(e=!1){const t=e?hd(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){return En(this,arguments,function*(){var i,r,l,u,c,d;const f=[];try{for(var h=!0,p=Tn(e),v;v=yield z(p.next()),i=v.done,!i;h=!0){u=v.value,h=!1;const C=u;if(gE(C)){const _=(d=(c=C.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content;_!==void 0&&f.push(_)}yield yield z(C)}}catch(C){r={error:C}}finally{try{!h&&!i&&(l=p.return)&&(yield z(l.call(p)))}finally{if(r)throw r.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let i=[];t.length>0&&t.every(r=>r.role!==void 0)?i=t:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...hd(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Fr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TE(n){const e={},t=s(n,["file"]);return t!=null&&a(e,["file"],t),e}function SE(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function CE(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],th(t)),e}function _E(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function IE(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","file"],th(t)),e}function xE(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),t}function AE(n){const e={},t=s(n,["config"]);return t!=null&&xE(t,e),e}function wE(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["files"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["files"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NE extends bn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Nt(Hn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=AE(e);return r=G("files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=wE(c),f=new P0;return Object.assign(f,d),f})}}async createInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TE(e);return r=G("upload/v1beta/files",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=SE(c),f=new L0;return Object.assign(f,d),f})}}async get(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=IE(e);return r=G("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=CE(e);return r=G("files/{file}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=_E(c),f=new D0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zi(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function kE(n){const e={},t=s(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>OE(r))),a(e,["parts"],i)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function RE(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ME(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const i=s(n,["name"]);if(i!=null&&a(e,["name"],i),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function PE(n){const e={},t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const i=s(n,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(n,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function LE(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const o=s(n,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const i=s(n,["audioTimestamp"]);i!=null&&a(e,["audioTimestamp"],i);const r=s(n,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(n,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(n,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(n,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(n,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const v=s(n,["responseMimeType"]);v!=null&&a(e,["responseMimeType"],v);const C=s(n,["responseModalities"]);C!=null&&a(e,["responseModalities"],C);const _=s(n,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const A=s(n,["routingConfig"]);A!=null&&a(e,["routingConfig"],A);const E=s(n,["seed"]);E!=null&&a(e,["seed"],E);const T=s(n,["speechConfig"]);T!=null&&a(e,["speechConfig"],T);const S=s(n,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const w=s(n,["temperature"]);w!=null&&a(e,["temperature"],w);const R=s(n,["thinkingConfig"]);R!=null&&a(e,["thinkingConfig"],R);const P=s(n,["topK"]);P!=null&&a(e,["topK"],P);const M=s(n,["topP"]);if(M!=null&&a(e,["topP"],M),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function DE(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function UE(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function VE(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=s(n,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(n,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(n,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],Aa(h));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const v=s(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=s(n,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],kE(Me(C)));const _=s(n,["tools"]);if(e!==void 0&&_!=null){let P=co(_);Array.isArray(P)&&(P=P.map(M=>YE(uo(M)))),a(e,["setup","tools"],P)}const A=s(n,["sessionResumption"]);e!==void 0&&A!=null&&a(e,["setup","sessionResumption"],JE(A));const E=s(n,["inputAudioTranscription"]);e!==void 0&&E!=null&&a(e,["setup","inputAudioTranscription"],E);const T=s(n,["outputAudioTranscription"]);e!==void 0&&T!=null&&a(e,["setup","outputAudioTranscription"],T);const S=s(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const w=s(n,["contextWindowCompression"]);e!==void 0&&w!=null&&a(e,["setup","contextWindowCompression"],w);const R=s(n,["proactivity"]);if(e!==void 0&&R!=null&&a(e,["setup","proactivity"],R),s(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function FE(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],LE(o));const i=s(n,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(n,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(n,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],Aa(h));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const v=s(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=s(n,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],Me(C));const _=s(n,["tools"]);if(e!==void 0&&_!=null){let M=co(_);Array.isArray(M)&&(M=M.map(U=>WE(uo(U)))),a(e,["setup","tools"],M)}const A=s(n,["sessionResumption"]);e!==void 0&&A!=null&&a(e,["setup","sessionResumption"],A);const E=s(n,["inputAudioTranscription"]);e!==void 0&&E!=null&&a(e,["setup","inputAudioTranscription"],E);const T=s(n,["outputAudioTranscription"]);e!==void 0&&T!=null&&a(e,["setup","outputAudioTranscription"],T);const S=s(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const w=s(n,["contextWindowCompression"]);e!==void 0&&w!=null&&a(e,["setup","contextWindowCompression"],w);const R=s(n,["proactivity"]);e!==void 0&&R!=null&&a(e,["setup","proactivity"],R);const P=s(n,["explicitVadSignal"]);return e!==void 0&&P!=null&&a(e,["setup","explicitVadSignal"],P),t}function GE(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],X(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],VE(i,t)),t}function HE(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],X(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],FE(i,t)),t}function qE(n){const e={},t=s(n,["musicGenerationConfig"]);return t!=null&&a(e,["musicGenerationConfig"],t),e}function bE(n){const e={},t=s(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["weightedPrompts"],o)}return e}function BE(n){const e={},t=s(n,["media"]);if(t!=null){let d=Xp(t);Array.isArray(d)&&(d=d.map(f=>zi(f))),a(e,["mediaChunks"],d)}const o=s(n,["audio"]);o!=null&&a(e,["audio"],zi(jp(o)));const i=s(n,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const r=s(n,["video"]);r!=null&&a(e,["video"],zi(Zp(r)));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(n,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function zE(n){const e={},t=s(n,["media"]);if(t!=null){let d=Xp(t);Array.isArray(d)&&(d=d.map(f=>f)),a(e,["mediaChunks"],d)}const o=s(n,["audio"]);o!=null&&a(e,["audio"],jp(o));const i=s(n,["audioStreamEnd"]);i!=null&&a(e,["audioStreamEnd"],i);const r=s(n,["video"]);r!=null&&a(e,["video"],Zp(r));const l=s(n,["text"]);l!=null&&a(e,["text"],l);const u=s(n,["activityStart"]);u!=null&&a(e,["activityStart"],u);const c=s(n,["activityEnd"]);return c!=null&&a(e,["activityEnd"],c),e}function $E(n){const e={},t=s(n,["setupComplete"]);t!=null&&a(e,["setupComplete"],t);const o=s(n,["serverContent"]);o!=null&&a(e,["serverContent"],o);const i=s(n,["toolCall"]);i!=null&&a(e,["toolCall"],i);const r=s(n,["toolCallCancellation"]);r!=null&&a(e,["toolCallCancellation"],r);const l=s(n,["usageMetadata"]);l!=null&&a(e,["usageMetadata"],KE(l));const u=s(n,["goAway"]);u!=null&&a(e,["goAway"],u);const c=s(n,["sessionResumptionUpdate"]);c!=null&&a(e,["sessionResumptionUpdate"],c);const d=s(n,["voiceActivityDetectionSignal"]);d!=null&&a(e,["voiceActivityDetectionSignal"],d);const f=s(n,["voiceActivity"]);return f!=null&&a(e,["voiceActivity"],QE(f)),e}function OE(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(n,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],RE(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],ME(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(n,["inlineData"]);c!=null&&a(e,["inlineData"],zi(c));const d=s(n,["text"]);d!=null&&a(e,["text"],d);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const h=s(n,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function JE(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function YE(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&a(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const i=s(n,["codeExecution"]);if(i!=null&&a(e,["codeExecution"],i),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(n,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&a(e,["googleMaps"],DE(l));const u=s(n,["googleSearch"]);u!=null&&a(e,["googleSearch"],UE(u));const c=s(n,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function WE(n){const e={},t=s(n,["retrieval"]);t!=null&&a(e,["retrieval"],t);const o=s(n,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=s(n,["codeExecution"]);i!=null&&a(e,["codeExecution"],i);const r=s(n,["enterpriseWebSearch"]);r!=null&&a(e,["enterpriseWebSearch"],r);const l=s(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>PE(p))),a(e,["functionDeclarations"],h)}const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(n,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function KE(n){const e={},t=s(n,["promptTokenCount"]);t!=null&&a(e,["promptTokenCount"],t);const o=s(n,["cachedContentTokenCount"]);o!=null&&a(e,["cachedContentTokenCount"],o);const i=s(n,["candidatesTokenCount"]);i!=null&&a(e,["responseTokenCount"],i);const r=s(n,["toolUsePromptTokenCount"]);r!=null&&a(e,["toolUsePromptTokenCount"],r);const l=s(n,["thoughtsTokenCount"]);l!=null&&a(e,["thoughtsTokenCount"],l);const u=s(n,["totalTokenCount"]);u!=null&&a(e,["totalTokenCount"],u);const c=s(n,["promptTokensDetails"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(C=>C)),a(e,["promptTokensDetails"],v)}const d=s(n,["cacheTokensDetails"]);if(d!=null){let v=d;Array.isArray(v)&&(v=v.map(C=>C)),a(e,["cacheTokensDetails"],v)}const f=s(n,["candidatesTokensDetails"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(C=>C)),a(e,["responseTokensDetails"],v)}const h=s(n,["toolUsePromptTokensDetails"]);if(h!=null){let v=h;Array.isArray(v)&&(v=v.map(C=>C)),a(e,["toolUsePromptTokensDetails"],v)}const p=s(n,["trafficType"]);return p!=null&&a(e,["trafficType"],p),e}function QE(n){const e={},t=s(n,["type"]);return t!=null&&a(e,["voiceActivityType"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ZE(n){const e={},t=s(n,["content"]);t!=null&&a(e,["content"],t);const o=s(n,["citationMetadata"]);o!=null&&a(e,["citationMetadata"],jE(o));const i=s(n,["tokenCount"]);i!=null&&a(e,["tokenCount"],i);const r=s(n,["finishReason"]);r!=null&&a(e,["finishReason"],r);const l=s(n,["avgLogprobs"]);l!=null&&a(e,["avgLogprobs"],l);const u=s(n,["groundingMetadata"]);u!=null&&a(e,["groundingMetadata"],u);const c=s(n,["index"]);c!=null&&a(e,["index"],c);const d=s(n,["logprobsResult"]);d!=null&&a(e,["logprobsResult"],d);const f=s(n,["safetyRatings"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(v=>v)),a(e,["safetyRatings"],p)}const h=s(n,["urlContextMetadata"]);return h!=null&&a(e,["urlContextMetadata"],h),e}function jE(n){const e={},t=s(n,["citationSources"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>i)),a(e,["citations"],o)}return e}function eT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let r=rn(i);Array.isArray(r)&&(r=r.map(l=>l)),a(t,["contents"],r)}return t}function nT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["tokensInfo"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(e,["tokensInfo"],i)}return e}function tT(n){const e={},t=s(n,["values"]);t!=null&&a(e,["values"],t);const o=s(n,["statistics"]);return o!=null&&a(e,["statistics"],oT(o)),e}function oT(n){const e={},t=s(n,["truncated"]);t!=null&&a(e,["truncated"],t);const o=s(n,["token_count"]);return o!=null&&a(e,["tokenCount"],o),e}function Gr(n){const e={},t=s(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>fS(r))),a(e,["parts"],i)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function iT(n){const e={},t=s(n,["controlType"]);t!=null&&a(e,["controlType"],t);const o=s(n,["enableControlImageComputation"]);return o!=null&&a(e,["computeControl"],o),e}function rT(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function sT(n,e){const t={},o=s(n,["systemInstruction"]);e!==void 0&&o!=null&&a(e,["systemInstruction"],Me(o));const i=s(n,["tools"]);if(e!==void 0&&i!=null){let l=i;Array.isArray(l)&&(l=l.map(u=>ph(u))),a(e,["tools"],l)}const r=s(n,["generationConfig"]);return e!==void 0&&r!=null&&a(e,["generationConfig"],XT(r)),t}function lT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let l=rn(i);Array.isArray(l)&&(l=l.map(u=>Gr(u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&rT(r),t}function aT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let l=rn(i);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&sT(r,t),t}function uT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);o!=null&&a(e,["totalTokens"],o);const i=s(n,["cachedContentTokenCount"]);return i!=null&&a(e,["cachedContentTokenCount"],i),e}function cT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["totalTokens"]);return o!=null&&a(e,["totalTokens"],o),e}function dT(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],X(n,o)),t}function fT(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],X(n,o)),t}function pT(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function hT(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}function mT(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(n,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const r=s(n,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&a(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","mimeType"],C);const _=s(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const A=s(n,["addWatermark"]);e!==void 0&&A!=null&&a(e,["parameters","addWatermark"],A);const E=s(n,["labels"]);e!==void 0&&E!=null&&a(e,["labels"],E);const T=s(n,["editMode"]);e!==void 0&&T!=null&&a(e,["parameters","editMode"],T);const S=s(n,["baseSteps"]);return e!==void 0&&S!=null&&a(e,["parameters","editConfig","baseSteps"],S),t}function gT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["referenceImages"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>vS(c))),a(t,["instances[0]","referenceImages"],u)}const l=s(e,["config"]);return l!=null&&mT(l,t),t}function yT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Hr(r))),a(e,["generatedImages"],i)}return e}function vT(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["requests[]","taskType"],o);const i=s(n,["title"]);e!==void 0&&i!=null&&a(e,["requests[]","title"],i);const r=s(n,["outputDimensionality"]);if(e!==void 0&&r!=null&&a(e,["requests[]","outputDimensionality"],r),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function ET(n,e){const t={},o=s(n,["taskType"]);e!==void 0&&o!=null&&a(e,["instances[]","task_type"],o);const i=s(n,["title"]);e!==void 0&&i!=null&&a(e,["instances[]","title"],i);const r=s(n,["outputDimensionality"]);e!==void 0&&r!=null&&a(e,["parameters","outputDimensionality"],r);const l=s(n,["mimeType"]);e!==void 0&&l!=null&&a(e,["instances[]","mimeType"],l);const u=s(n,["autoTruncate"]);return e!==void 0&&u!=null&&a(e,["parameters","autoTruncate"],u),t}function TT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let u=_a(n,i);Array.isArray(u)&&(u=u.map(c=>c)),a(t,["requests[]","content"],u)}const r=s(e,["config"]);r!=null&&vT(r,t);const l=s(e,["model"]);return l!==void 0&&a(t,["requests[]","model"],X(n,l)),t}function ST(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let l=_a(n,i);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["instances[]","content"],l)}const r=s(e,["config"]);return r!=null&&ET(r,t),t}function CT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["embeddings"],r)}const i=s(n,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function _T(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions[]","embeddings"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>tT(l))),a(e,["embeddings"],r)}const i=s(n,["metadata"]);return i!=null&&a(e,["metadata"],i),e}function IT(n){const e={},t=s(n,["endpoint"]);t!=null&&a(e,["name"],t);const o=s(n,["deployedModelId"]);return o!=null&&a(e,["deployedModelId"],o),e}function xT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function AT(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const i=s(n,["name"]);if(i!=null&&a(e,["name"],i),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wT(n){const e={},t=s(n,["allowedFunctionNames"]);t!=null&&a(e,["allowedFunctionNames"],t);const o=s(n,["mode"]);if(o!=null&&a(e,["mode"],o),s(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function NT(n){const e={},t=s(n,["description"]);t!=null&&a(e,["description"],t);const o=s(n,["name"]);o!=null&&a(e,["name"],o);const i=s(n,["parameters"]);i!=null&&a(e,["parameters"],i);const r=s(n,["parametersJsonSchema"]);r!=null&&a(e,["parametersJsonSchema"],r);const l=s(n,["response"]);l!=null&&a(e,["response"],l);const u=s(n,["responseJsonSchema"]);if(u!=null&&a(e,["responseJsonSchema"],u),s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function kT(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],Gr(Me(i)));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const v=s(e,["presencePenalty"]);v!=null&&a(o,["presencePenalty"],v);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const A=s(e,["responseMimeType"]);A!=null&&a(o,["responseMimeType"],A);const E=s(e,["responseSchema"]);E!=null&&a(o,["responseSchema"],Ia(E));const T=s(e,["responseJsonSchema"]);if(T!=null&&a(o,["responseJsonSchema"],T),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const S=s(e,["safetySettings"]);if(t!==void 0&&S!=null){let K=S;Array.isArray(K)&&(K=K.map(Ie=>ES(Ie))),a(t,["safetySettings"],K)}const w=s(e,["tools"]);if(t!==void 0&&w!=null){let K=co(w);Array.isArray(K)&&(K=K.map(Ie=>AS(uo(Ie)))),a(t,["tools"],K)}const R=s(e,["toolConfig"]);if(t!==void 0&&R!=null&&a(t,["toolConfig"],xS(R)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const P=s(e,["cachedContent"]);t!==void 0&&P!=null&&a(t,["cachedContent"],Bn(n,P));const M=s(e,["responseModalities"]);M!=null&&a(o,["responseModalities"],M);const U=s(e,["mediaResolution"]);U!=null&&a(o,["mediaResolution"],U);const V=s(e,["speechConfig"]);if(V!=null&&a(o,["speechConfig"],xa(V)),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=s(e,["thinkingConfig"]);F!=null&&a(o,["thinkingConfig"],F);const J=s(e,["imageConfig"]);J!=null&&a(o,["imageConfig"],tS(J));const _e=s(e,["enableEnhancedCivicAnswers"]);return _e!=null&&a(o,["enableEnhancedCivicAnswers"],_e),o}function RT(n,e,t){const o={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&a(t,["systemInstruction"],Me(i));const r=s(e,["temperature"]);r!=null&&a(o,["temperature"],r);const l=s(e,["topP"]);l!=null&&a(o,["topP"],l);const u=s(e,["topK"]);u!=null&&a(o,["topK"],u);const c=s(e,["candidateCount"]);c!=null&&a(o,["candidateCount"],c);const d=s(e,["maxOutputTokens"]);d!=null&&a(o,["maxOutputTokens"],d);const f=s(e,["stopSequences"]);f!=null&&a(o,["stopSequences"],f);const h=s(e,["responseLogprobs"]);h!=null&&a(o,["responseLogprobs"],h);const p=s(e,["logprobs"]);p!=null&&a(o,["logprobs"],p);const v=s(e,["presencePenalty"]);v!=null&&a(o,["presencePenalty"],v);const C=s(e,["frequencyPenalty"]);C!=null&&a(o,["frequencyPenalty"],C);const _=s(e,["seed"]);_!=null&&a(o,["seed"],_);const A=s(e,["responseMimeType"]);A!=null&&a(o,["responseMimeType"],A);const E=s(e,["responseSchema"]);E!=null&&a(o,["responseSchema"],Ia(E));const T=s(e,["responseJsonSchema"]);T!=null&&a(o,["responseJsonSchema"],T);const S=s(e,["routingConfig"]);S!=null&&a(o,["routingConfig"],S);const w=s(e,["modelSelectionConfig"]);w!=null&&a(o,["modelConfig"],w);const R=s(e,["safetySettings"]);if(t!==void 0&&R!=null){let de=R;Array.isArray(de)&&(de=de.map(un=>un)),a(t,["safetySettings"],de)}const P=s(e,["tools"]);if(t!==void 0&&P!=null){let de=co(P);Array.isArray(de)&&(de=de.map(un=>ph(uo(un)))),a(t,["tools"],de)}const M=s(e,["toolConfig"]);t!==void 0&&M!=null&&a(t,["toolConfig"],M);const U=s(e,["labels"]);t!==void 0&&U!=null&&a(t,["labels"],U);const V=s(e,["cachedContent"]);t!==void 0&&V!=null&&a(t,["cachedContent"],Bn(n,V));const F=s(e,["responseModalities"]);F!=null&&a(o,["responseModalities"],F);const J=s(e,["mediaResolution"]);J!=null&&a(o,["mediaResolution"],J);const _e=s(e,["speechConfig"]);_e!=null&&a(o,["speechConfig"],xa(_e));const K=s(e,["audioTimestamp"]);K!=null&&a(o,["audioTimestamp"],K);const Ie=s(e,["thinkingConfig"]);Ie!=null&&a(o,["thinkingConfig"],Ie);const ct=s(e,["imageConfig"]);if(ct!=null&&a(o,["imageConfig"],oS(ct)),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function md(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let l=rn(i);Array.isArray(l)&&(l=l.map(u=>Gr(u))),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["generationConfig"],kT(n,r,t)),t}function gd(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["contents"]);if(i!=null){let l=rn(i);Array.isArray(l)&&(l=l.map(u=>u)),a(t,["contents"],l)}const r=s(e,["config"]);return r!=null&&a(t,["generationConfig"],RT(n,r,t)),t}function yd(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>ZE(d))),a(e,["candidates"],c)}const i=s(n,["modelVersion"]);i!=null&&a(e,["modelVersion"],i);const r=s(n,["promptFeedback"]);r!=null&&a(e,["promptFeedback"],r);const l=s(n,["responseId"]);l!=null&&a(e,["responseId"],l);const u=s(n,["usageMetadata"]);return u!=null&&a(e,["usageMetadata"],u),e}function vd(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>f)),a(e,["candidates"],d)}const i=s(n,["createTime"]);i!=null&&a(e,["createTime"],i);const r=s(n,["modelVersion"]);r!=null&&a(e,["modelVersion"],r);const l=s(n,["promptFeedback"]);l!=null&&a(e,["promptFeedback"],l);const u=s(n,["responseId"]);u!=null&&a(e,["responseId"],u);const c=s(n,["usageMetadata"]);return c!=null&&a(e,["usageMetadata"],c),e}function MT(n,e){const t={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(n,["aspectRatio"]);e!==void 0&&i!=null&&a(e,["parameters","aspectRatio"],i);const r=s(n,["guidanceScale"]);if(e!==void 0&&r!=null&&a(e,["parameters","guidanceScale"],r),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=s(n,["safetyFilterLevel"]);e!==void 0&&l!=null&&a(e,["parameters","safetySetting"],l);const u=s(n,["personGeneration"]);e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u);const c=s(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&a(e,["parameters","includeSafetyAttributes"],c);const d=s(n,["includeRaiReason"]);e!==void 0&&d!=null&&a(e,["parameters","includeRaiReason"],d);const f=s(n,["language"]);e!==void 0&&f!=null&&a(e,["parameters","language"],f);const h=s(n,["outputMimeType"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","mimeType"],h);const p=s(n,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&a(e,["parameters","outputOptions","compressionQuality"],p),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const v=s(n,["imageSize"]);if(e!==void 0&&v!=null&&a(e,["parameters","sampleImageSize"],v),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function PT(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(n,["negativePrompt"]);e!==void 0&&i!=null&&a(e,["parameters","negativePrompt"],i);const r=s(n,["numberOfImages"]);e!==void 0&&r!=null&&a(e,["parameters","sampleCount"],r);const l=s(n,["aspectRatio"]);e!==void 0&&l!=null&&a(e,["parameters","aspectRatio"],l);const u=s(n,["guidanceScale"]);e!==void 0&&u!=null&&a(e,["parameters","guidanceScale"],u);const c=s(n,["seed"]);e!==void 0&&c!=null&&a(e,["parameters","seed"],c);const d=s(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&a(e,["parameters","safetySetting"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(n,["includeSafetyAttributes"]);e!==void 0&&h!=null&&a(e,["parameters","includeSafetyAttributes"],h);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&a(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&a(e,["parameters","language"],v);const C=s(n,["outputMimeType"]);e!==void 0&&C!=null&&a(e,["parameters","outputOptions","mimeType"],C);const _=s(n,["outputCompressionQuality"]);e!==void 0&&_!=null&&a(e,["parameters","outputOptions","compressionQuality"],_);const A=s(n,["addWatermark"]);e!==void 0&&A!=null&&a(e,["parameters","addWatermark"],A);const E=s(n,["labels"]);e!==void 0&&E!=null&&a(e,["labels"],E);const T=s(n,["imageSize"]);e!==void 0&&T!=null&&a(e,["parameters","sampleImageSize"],T);const S=s(n,["enhancePrompt"]);return e!==void 0&&S!=null&&a(e,["parameters","enhancePrompt"],S),t}function LT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&MT(r,t),t}function DT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["config"]);return r!=null&&PT(r,t),t}function UT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>YT(l))),a(e,["generatedImages"],r)}const i=s(n,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],dh(i)),e}function VT(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>Hr(l))),a(e,["generatedImages"],r)}const i=s(n,["positivePromptSafetyAttributes"]);return i!=null&&a(e,["positivePromptSafetyAttributes"],fh(i)),e}function FT(n,e){const t={},o=s(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=s(n,["durationSeconds"]);if(e!==void 0&&i!=null&&a(e,["parameters","durationSeconds"],i),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const r=s(n,["aspectRatio"]);e!==void 0&&r!=null&&a(e,["parameters","aspectRatio"],r);const l=s(n,["resolution"]);e!==void 0&&l!=null&&a(e,["parameters","resolution"],l);const u=s(n,["personGeneration"]);if(e!==void 0&&u!=null&&a(e,["parameters","personGeneration"],u),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=s(n,["negativePrompt"]);e!==void 0&&c!=null&&a(e,["parameters","negativePrompt"],c);const d=s(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&a(e,["parameters","enhancePrompt"],d),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const f=s(n,["lastFrame"]);e!==void 0&&f!=null&&a(e,["instances[0]","lastFrame"],qr(f));const h=s(n,["referenceImages"]);if(e!==void 0&&h!=null){let p=h;Array.isArray(p)&&(p=p.map(v=>HS(v))),a(e,["instances[0]","referenceImages"],p)}if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function GT(n,e){const t={},o=s(n,["numberOfVideos"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(n,["outputGcsUri"]);e!==void 0&&i!=null&&a(e,["parameters","storageUri"],i);const r=s(n,["fps"]);e!==void 0&&r!=null&&a(e,["parameters","fps"],r);const l=s(n,["durationSeconds"]);e!==void 0&&l!=null&&a(e,["parameters","durationSeconds"],l);const u=s(n,["seed"]);e!==void 0&&u!=null&&a(e,["parameters","seed"],u);const c=s(n,["aspectRatio"]);e!==void 0&&c!=null&&a(e,["parameters","aspectRatio"],c);const d=s(n,["resolution"]);e!==void 0&&d!=null&&a(e,["parameters","resolution"],d);const f=s(n,["personGeneration"]);e!==void 0&&f!=null&&a(e,["parameters","personGeneration"],f);const h=s(n,["pubsubTopic"]);e!==void 0&&h!=null&&a(e,["parameters","pubsubTopic"],h);const p=s(n,["negativePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","negativePrompt"],p);const v=s(n,["enhancePrompt"]);e!==void 0&&v!=null&&a(e,["parameters","enhancePrompt"],v);const C=s(n,["generateAudio"]);e!==void 0&&C!=null&&a(e,["parameters","generateAudio"],C);const _=s(n,["lastFrame"]);e!==void 0&&_!=null&&a(e,["instances[0]","lastFrame"],Cn(_));const A=s(n,["referenceImages"]);if(e!==void 0&&A!=null){let S=A;Array.isArray(S)&&(S=S.map(w=>qS(w))),a(e,["instances[0]","referenceImages"],S)}const E=s(n,["mask"]);e!==void 0&&E!=null&&a(e,["instances[0]","mask"],GS(E));const T=s(n,["compressionQuality"]);return e!==void 0&&T!=null&&a(e,["parameters","compressionQuality"],T),t}function HT(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response","generateVideoResponse"]);return l!=null&&a(e,["response"],zT(l)),e}function qT(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],$T(l)),e}function bT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],qr(r));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],hh(l));const u=s(e,["source"]);u!=null&&OT(u,t);const c=s(e,["config"]);return c!=null&&FT(c,t),t}function BT(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["prompt"]);i!=null&&a(t,["instances[0]","prompt"],i);const r=s(e,["image"]);r!=null&&a(t,["instances[0]","image"],Cn(r));const l=s(e,["video"]);l!=null&&a(t,["instances[0]","video"],mh(l));const u=s(e,["source"]);u!=null&&JT(u,t);const c=s(e,["config"]);return c!=null&&GT(c,t),t}function zT(n){const e={},t=s(n,["generatedSamples"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>KT(l))),a(e,["generatedVideos"],r)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(n,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function $T(n){const e={},t=s(n,["videos"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>QT(l))),a(e,["generatedVideos"],r)}const o=s(n,["raiMediaFilteredCount"]);o!=null&&a(e,["raiMediaFilteredCount"],o);const i=s(n,["raiMediaFilteredReasons"]);return i!=null&&a(e,["raiMediaFilteredReasons"],i),e}function OT(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(n,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],qr(i));const r=s(n,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],hh(r)),t}function JT(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(n,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Cn(i));const r=s(n,["video"]);return e!==void 0&&r!=null&&a(e,["instances[0]","video"],mh(r)),t}function YT(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],iS(t));const o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=s(n,["_self"]);return i!=null&&a(e,["safetyAttributes"],dh(i)),e}function Hr(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["image"],ch(t));const o=s(n,["raiFilteredReason"]);o!=null&&a(e,["raiFilteredReason"],o);const i=s(n,["_self"]);i!=null&&a(e,["safetyAttributes"],fh(i));const r=s(n,["prompt"]);return r!=null&&a(e,["enhancedPrompt"],r),e}function WT(n){const e={},t=s(n,["_self"]);t!=null&&a(e,["mask"],ch(t));const o=s(n,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(e,["labels"],i)}return e}function KT(n){const e={},t=s(n,["video"]);return t!=null&&a(e,["video"],VS(t)),e}function QT(n){const e={},t=s(n,["_self"]);return t!=null&&a(e,["video"],FS(t)),e}function XT(n){const e={},t=s(n,["modelSelectionConfig"]);t!=null&&a(e,["modelConfig"],t);const o=s(n,["responseJsonSchema"]);o!=null&&a(e,["responseJsonSchema"],o);const i=s(n,["audioTimestamp"]);i!=null&&a(e,["audioTimestamp"],i);const r=s(n,["candidateCount"]);r!=null&&a(e,["candidateCount"],r);const l=s(n,["enableAffectiveDialog"]);l!=null&&a(e,["enableAffectiveDialog"],l);const u=s(n,["frequencyPenalty"]);u!=null&&a(e,["frequencyPenalty"],u);const c=s(n,["logprobs"]);c!=null&&a(e,["logprobs"],c);const d=s(n,["maxOutputTokens"]);d!=null&&a(e,["maxOutputTokens"],d);const f=s(n,["mediaResolution"]);f!=null&&a(e,["mediaResolution"],f);const h=s(n,["presencePenalty"]);h!=null&&a(e,["presencePenalty"],h);const p=s(n,["responseLogprobs"]);p!=null&&a(e,["responseLogprobs"],p);const v=s(n,["responseMimeType"]);v!=null&&a(e,["responseMimeType"],v);const C=s(n,["responseModalities"]);C!=null&&a(e,["responseModalities"],C);const _=s(n,["responseSchema"]);_!=null&&a(e,["responseSchema"],_);const A=s(n,["routingConfig"]);A!=null&&a(e,["routingConfig"],A);const E=s(n,["seed"]);E!=null&&a(e,["seed"],E);const T=s(n,["speechConfig"]);T!=null&&a(e,["speechConfig"],T);const S=s(n,["stopSequences"]);S!=null&&a(e,["stopSequences"],S);const w=s(n,["temperature"]);w!=null&&a(e,["temperature"],w);const R=s(n,["thinkingConfig"]);R!=null&&a(e,["thinkingConfig"],R);const P=s(n,["topK"]);P!=null&&a(e,["topK"],P);const M=s(n,["topP"]);if(M!=null&&a(e,["topP"],M),s(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function ZT(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],X(n,o)),t}function jT(n,e){const t={},o=s(e,["model"]);return o!=null&&a(t,["_url","name"],X(n,o)),t}function eS(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function nS(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function tS(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const o=s(n,["imageSize"]);if(o!=null&&a(e,["imageSize"],o),s(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function oS(n){const e={},t=s(n,["aspectRatio"]);t!=null&&a(e,["aspectRatio"],t);const o=s(n,["imageSize"]);o!=null&&a(e,["imageSize"],o);const i=s(n,["personGeneration"]);i!=null&&a(e,["personGeneration"],i);const r=s(n,["outputMimeType"]);r!=null&&a(e,["imageOutputOptions","mimeType"],r);const l=s(n,["outputCompressionQuality"]);return l!=null&&a(e,["imageOutputOptions","compressionQuality"],l),e}function iS(n){const e={},t=s(n,["bytesBase64Encoded"]);t!=null&&a(e,["imageBytes"],ut(t));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function ch(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["imageBytes"],ut(o));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function qr(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=s(n,["imageBytes"]);t!=null&&a(e,["bytesBase64Encoded"],ut(t));const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function Cn(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["imageBytes"]);o!=null&&a(e,["bytesBase64Encoded"],ut(o));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function rS(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],oh(n,u)),o}function sS(n,e,t){const o={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&a(t,["_query","pageSize"],i);const r=s(e,["pageToken"]);t!==void 0&&r!=null&&a(t,["_query","pageToken"],r);const l=s(e,["filter"]);t!==void 0&&l!=null&&a(t,["_query","filter"],l);const u=s(e,["queryBase"]);return t!==void 0&&u!=null&&a(t,["_url","models_url"],oh(n,u)),o}function lS(n,e){const t={},o=s(e,["config"]);return o!=null&&rS(n,o,t),t}function aS(n,e){const t={},o=s(e,["config"]);return o!=null&&sS(n,o,t),t}function uS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["_self"]);if(i!=null){let r=ih(i);Array.isArray(r)&&(r=r.map(l=>yl(l))),a(e,["models"],r)}return e}function cS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["_self"]);if(i!=null){let r=ih(i);Array.isArray(r)&&(r=r.map(l=>vl(l))),a(e,["models"],r)}return e}function dS(n){const e={},t=s(n,["maskMode"]);t!=null&&a(e,["maskMode"],t);const o=s(n,["segmentationClasses"]);o!=null&&a(e,["maskClasses"],o);const i=s(n,["maskDilation"]);return i!=null&&a(e,["dilation"],i),e}function yl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(n,["description"]);i!=null&&a(e,["description"],i);const r=s(n,["version"]);r!=null&&a(e,["version"],r);const l=s(n,["_self"]);l!=null&&a(e,["tunedModelInfo"],wS(l));const u=s(n,["inputTokenLimit"]);u!=null&&a(e,["inputTokenLimit"],u);const c=s(n,["outputTokenLimit"]);c!=null&&a(e,["outputTokenLimit"],c);const d=s(n,["supportedGenerationMethods"]);d!=null&&a(e,["supportedActions"],d);const f=s(n,["temperature"]);f!=null&&a(e,["temperature"],f);const h=s(n,["maxTemperature"]);h!=null&&a(e,["maxTemperature"],h);const p=s(n,["topP"]);p!=null&&a(e,["topP"],p);const v=s(n,["topK"]);v!=null&&a(e,["topK"],v);const C=s(n,["thinking"]);return C!=null&&a(e,["thinking"],C),e}function vl(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["displayName"]);o!=null&&a(e,["displayName"],o);const i=s(n,["description"]);i!=null&&a(e,["description"],i);const r=s(n,["versionId"]);r!=null&&a(e,["version"],r);const l=s(n,["deployedModels"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>IT(p))),a(e,["endpoints"],h)}const u=s(n,["labels"]);u!=null&&a(e,["labels"],u);const c=s(n,["_self"]);c!=null&&a(e,["tunedModelInfo"],NS(c));const d=s(n,["defaultCheckpointId"]);d!=null&&a(e,["defaultCheckpointId"],d);const f=s(n,["checkpoints"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(p=>p)),a(e,["checkpoints"],h)}return e}function fS(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(n,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],xT(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],AT(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(n,["inlineData"]);c!=null&&a(e,["inlineData"],XE(c));const d=s(n,["text"]);d!=null&&a(e,["text"],d);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const h=s(n,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function pS(n){const e={},t=s(n,["productImage"]);return t!=null&&a(e,["image"],Cn(t)),e}function hS(n,e){const t={},o=s(n,["numberOfImages"]);e!==void 0&&o!=null&&a(e,["parameters","sampleCount"],o);const i=s(n,["baseSteps"]);e!==void 0&&i!=null&&a(e,["parameters","baseSteps"],i);const r=s(n,["outputGcsUri"]);e!==void 0&&r!=null&&a(e,["parameters","storageUri"],r);const l=s(n,["seed"]);e!==void 0&&l!=null&&a(e,["parameters","seed"],l);const u=s(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&a(e,["parameters","safetySetting"],u);const c=s(n,["personGeneration"]);e!==void 0&&c!=null&&a(e,["parameters","personGeneration"],c);const d=s(n,["addWatermark"]);e!==void 0&&d!=null&&a(e,["parameters","addWatermark"],d);const f=s(n,["outputMimeType"]);e!==void 0&&f!=null&&a(e,["parameters","outputOptions","mimeType"],f);const h=s(n,["outputCompressionQuality"]);e!==void 0&&h!=null&&a(e,["parameters","outputOptions","compressionQuality"],h);const p=s(n,["enhancePrompt"]);e!==void 0&&p!=null&&a(e,["parameters","enhancePrompt"],p);const v=s(n,["labels"]);return e!==void 0&&v!=null&&a(e,["labels"],v),t}function mS(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["source"]);i!=null&&yS(i,t);const r=s(e,["config"]);return r!=null&&hS(r,t),t}function gS(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Hr(i))),a(e,["generatedImages"],o)}return e}function yS(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(n,["personImage"]);e!==void 0&&i!=null&&a(e,["instances[0]","personImage","image"],Cn(i));const r=s(n,["productImages"]);if(e!==void 0&&r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>pS(u))),a(e,["instances[0]","productImages"],l)}return t}function vS(n){const e={},t=s(n,["referenceImage"]);t!=null&&a(e,["referenceImage"],Cn(t));const o=s(n,["referenceId"]);o!=null&&a(e,["referenceId"],o);const i=s(n,["referenceType"]);i!=null&&a(e,["referenceType"],i);const r=s(n,["maskImageConfig"]);r!=null&&a(e,["maskImageConfig"],dS(r));const l=s(n,["controlImageConfig"]);l!=null&&a(e,["controlImageConfig"],iT(l));const u=s(n,["styleImageConfig"]);u!=null&&a(e,["styleImageConfig"],u);const c=s(n,["subjectImageConfig"]);return c!=null&&a(e,["subjectImageConfig"],c),e}function dh(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=s(n,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function fh(n){const e={},t=s(n,["safetyAttributes","categories"]);t!=null&&a(e,["categories"],t);const o=s(n,["safetyAttributes","scores"]);o!=null&&a(e,["scores"],o);const i=s(n,["contentType"]);return i!=null&&a(e,["contentType"],i),e}function ES(n){const e={},t=s(n,["category"]);if(t!=null&&a(e,["category"],t),s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["threshold"]);return o!=null&&a(e,["threshold"],o),e}function TS(n){const e={},t=s(n,["image"]);return t!=null&&a(e,["image"],Cn(t)),e}function SS(n,e){const t={},o=s(n,["mode"]);e!==void 0&&o!=null&&a(e,["parameters","mode"],o);const i=s(n,["maxPredictions"]);e!==void 0&&i!=null&&a(e,["parameters","maxPredictions"],i);const r=s(n,["confidenceThreshold"]);e!==void 0&&r!=null&&a(e,["parameters","confidenceThreshold"],r);const l=s(n,["maskDilation"]);e!==void 0&&l!=null&&a(e,["parameters","maskDilation"],l);const u=s(n,["binaryColorThreshold"]);e!==void 0&&u!=null&&a(e,["parameters","binaryColorThreshold"],u);const c=s(n,["labels"]);return e!==void 0&&c!=null&&a(e,["labels"],c),t}function CS(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["source"]);i!=null&&IS(i,t);const r=s(e,["config"]);return r!=null&&SS(r,t),t}function _S(n){const e={},t=s(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>WT(i))),a(e,["generatedMasks"],o)}return e}function IS(n,e){const t={},o=s(n,["prompt"]);e!==void 0&&o!=null&&a(e,["instances[0]","prompt"],o);const i=s(n,["image"]);e!==void 0&&i!=null&&a(e,["instances[0]","image"],Cn(i));const r=s(n,["scribbleImage"]);return e!==void 0&&r!=null&&a(e,["instances[0]","scribble"],TS(r)),t}function xS(n){const e={},t=s(n,["retrievalConfig"]);t!=null&&a(e,["retrievalConfig"],t);const o=s(n,["functionCallingConfig"]);return o!=null&&a(e,["functionCallingConfig"],wT(o)),e}function AS(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&a(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const i=s(n,["codeExecution"]);if(i!=null&&a(e,["codeExecution"],i),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(n,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&a(e,["googleMaps"],eS(l));const u=s(n,["googleSearch"]);u!=null&&a(e,["googleSearch"],nS(u));const c=s(n,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}function ph(n){const e={},t=s(n,["retrieval"]);t!=null&&a(e,["retrieval"],t);const o=s(n,["computerUse"]);if(o!=null&&a(e,["computerUse"],o),s(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=s(n,["codeExecution"]);i!=null&&a(e,["codeExecution"],i);const r=s(n,["enterpriseWebSearch"]);r!=null&&a(e,["enterpriseWebSearch"],r);const l=s(n,["functionDeclarations"]);if(l!=null){let h=l;Array.isArray(h)&&(h=h.map(p=>NT(p))),a(e,["functionDeclarations"],h)}const u=s(n,["googleMaps"]);u!=null&&a(e,["googleMaps"],u);const c=s(n,["googleSearch"]);c!=null&&a(e,["googleSearch"],c);const d=s(n,["googleSearchRetrieval"]);d!=null&&a(e,["googleSearchRetrieval"],d);const f=s(n,["urlContext"]);return f!=null&&a(e,["urlContext"],f),e}function wS(n){const e={},t=s(n,["baseModel"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const i=s(n,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function NS(n){const e={},t=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&a(e,["baseModel"],t);const o=s(n,["createTime"]);o!=null&&a(e,["createTime"],o);const i=s(n,["updateTime"]);return i!=null&&a(e,["updateTime"],i),e}function kS(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(n,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const r=s(n,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),t}function RS(n,e){const t={},o=s(n,["displayName"]);e!==void 0&&o!=null&&a(e,["displayName"],o);const i=s(n,["description"]);e!==void 0&&i!=null&&a(e,["description"],i);const r=s(n,["defaultCheckpointId"]);return e!==void 0&&r!=null&&a(e,["defaultCheckpointId"],r),t}function MS(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","name"],X(n,o));const i=s(e,["config"]);return i!=null&&kS(i,t),t}function PS(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["config"]);return i!=null&&RS(i,t),t}function LS(n,e){const t={},o=s(n,["outputGcsUri"]);e!==void 0&&o!=null&&a(e,["parameters","storageUri"],o);const i=s(n,["safetyFilterLevel"]);e!==void 0&&i!=null&&a(e,["parameters","safetySetting"],i);const r=s(n,["personGeneration"]);e!==void 0&&r!=null&&a(e,["parameters","personGeneration"],r);const l=s(n,["includeRaiReason"]);e!==void 0&&l!=null&&a(e,["parameters","includeRaiReason"],l);const u=s(n,["outputMimeType"]);e!==void 0&&u!=null&&a(e,["parameters","outputOptions","mimeType"],u);const c=s(n,["outputCompressionQuality"]);e!==void 0&&c!=null&&a(e,["parameters","outputOptions","compressionQuality"],c);const d=s(n,["enhanceInputImage"]);e!==void 0&&d!=null&&a(e,["parameters","upscaleConfig","enhanceInputImage"],d);const f=s(n,["imagePreservationFactor"]);e!==void 0&&f!=null&&a(e,["parameters","upscaleConfig","imagePreservationFactor"],f);const h=s(n,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(n,["numberOfImages"]);e!==void 0&&p!=null&&a(e,["parameters","sampleCount"],p);const v=s(n,["mode"]);return e!==void 0&&v!=null&&a(e,["parameters","mode"],v),t}function DS(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["_url","model"],X(n,o));const i=s(e,["image"]);i!=null&&a(t,["instances[0]","image"],Cn(i));const r=s(e,["upscaleFactor"]);r!=null&&a(t,["parameters","upscaleConfig","upscaleFactor"],r);const l=s(e,["config"]);return l!=null&&LS(l,t),t}function US(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>Hr(r))),a(e,["generatedImages"],i)}return e}function VS(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["encodedVideo"]);o!=null&&a(e,["videoBytes"],ut(o));const i=s(n,["encoding"]);return i!=null&&a(e,["mimeType"],i),e}function FS(n){const e={},t=s(n,["gcsUri"]);t!=null&&a(e,["uri"],t);const o=s(n,["bytesBase64Encoded"]);o!=null&&a(e,["videoBytes"],ut(o));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}function GS(n){const e={},t=s(n,["image"]);t!=null&&a(e,["_self"],Cn(t));const o=s(n,["maskMode"]);return o!=null&&a(e,["maskMode"],o),e}function HS(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],qr(t));const o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function qS(n){const e={},t=s(n,["image"]);t!=null&&a(e,["image"],Cn(t));const o=s(n,["referenceType"]);return o!=null&&a(e,["referenceType"],o),e}function hh(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["uri"],t);const o=s(n,["videoBytes"]);o!=null&&a(e,["encodedVideo"],ut(o));const i=s(n,["mimeType"]);return i!=null&&a(e,["encoding"],i),e}function mh(n){const e={},t=s(n,["uri"]);t!=null&&a(e,["gcsUri"],t);const o=s(n,["videoBytes"]);o!=null&&a(e,["bytesBase64Encoded"],ut(o));const i=s(n,["mimeType"]);return i!=null&&a(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bS(n,e){const t={},o=s(n,["displayName"]);return e!==void 0&&o!=null&&a(e,["displayName"],o),t}function BS(n){const e={},t=s(n,["config"]);return t!=null&&bS(t,e),e}function zS(n,e){const t={},o=s(n,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),t}function $S(n){const e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);const o=s(n,["config"]);return o!=null&&zS(o,e),e}function OS(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function JS(n,e){const t={},o=s(n,["customMetadata"]);if(e!==void 0&&o!=null){let r=o;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["customMetadata"],r)}const i=s(n,["chunkingConfig"]);return e!==void 0&&i!=null&&a(e,["chunkingConfig"],i),t}function YS(n){const e={},t=s(n,["name"]);t!=null&&a(e,["name"],t);const o=s(n,["metadata"]);o!=null&&a(e,["metadata"],o);const i=s(n,["done"]);i!=null&&a(e,["done"],i);const r=s(n,["error"]);r!=null&&a(e,["error"],r);const l=s(n,["response"]);return l!=null&&a(e,["response"],KS(l)),e}function WS(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);const o=s(n,["fileName"]);o!=null&&a(e,["fileName"],o);const i=s(n,["config"]);return i!=null&&JS(i,e),e}function KS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["parent"]);o!=null&&a(e,["parent"],o);const i=s(n,["documentName"]);return i!=null&&a(e,["documentName"],i),e}function QS(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),t}function XS(n){const e={},t=s(n,["config"]);return t!=null&&QS(t,e),e}function ZS(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["fileSearchStores"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["fileSearchStores"],r)}return e}function gh(n,e){const t={},o=s(n,["mimeType"]);e!==void 0&&o!=null&&a(e,["mimeType"],o);const i=s(n,["displayName"]);e!==void 0&&i!=null&&a(e,["displayName"],i);const r=s(n,["customMetadata"]);if(e!==void 0&&r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),a(e,["customMetadata"],u)}const l=s(n,["chunkingConfig"]);return e!==void 0&&l!=null&&a(e,["chunkingConfig"],l),t}function jS(n){const e={},t=s(n,["fileSearchStoreName"]);t!=null&&a(e,["_url","file_search_store_name"],t);const o=s(n,["config"]);return o!=null&&gh(o,e),e}function eC(n){const e={},t=s(n,["sdkHttpResponse"]);return t!=null&&a(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nC="Content-Type",tC="X-Server-Timeout",oC="User-Agent",El="x-goog-api-client",iC="1.37.0",rC=`google-genai-sdk/${iC}`,sC="v1beta1",lC="v1beta";class aC{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:sC,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:lC,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[l,u]of Object.entries(e.queryParams))i.searchParams.append(l,String(u));let r={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else r.body=e.body;return r=await this.includeExtraHttpOptionsToRequestInit(r,t,i.toString(),e.abortSignal),this.unaryApiCall(i,r,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,r]of Object.entries(t))typeof r=="object"?o[i]=Object.assign(Object.assign({},o[i]),r):r!==void 0&&(o[i]=r);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let r={};return r.body=e.body,r=await this.includeExtraHttpOptionsToRequestInit(r,t,i.toString(),e.abortSignal),this.streamApiCall(i,r,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o,i){if(t&&t.timeout||i){const r=new AbortController,l=r.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const u=setTimeout(()=>r.abort(),t.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{r.abort()}),e.signal=l}return t&&t.extraBody!==null&&uC(e,t.extraBody),e.headers=await this.getHeadersInternal(t,o),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Ed(i),new hl(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Ed(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return En(this,arguments,function*(){var o;const i=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),r=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let l="";const u="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:d,value:f}=yield z(i.read());if(d){if(l.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=r.decode(f,{stream:!0});try{const C=JSON.parse(h);if("error"in C){const _=JSON.parse(JSON.stringify(C.error)),A=_.status,E=_.code,T=`got status: ${A}. ${JSON.stringify(C)}`;if(E>=400&&E<600)throw new Fr({message:T,status:E})}}catch(C){if(C.name==="ApiError")throw C}l+=h;let p=-1,v=0;for(;;){p=-1,v=0;for(const A of c){const E=l.indexOf(A);E!==-1&&(p===-1||E<p)&&(p=E,v=A.length)}if(p===-1)break;const C=l.substring(0,p);l=l.substring(p+v);const _=C.trim();if(_.startsWith(u)){const A=_.substring(u.length).trim();try{const E=new Response(A,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield z(new hl(E))}catch(E){throw new Error(`exception parsing stream chunk ${A}. ${E}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=rC+" "+this.clientOptions.userAgentExtra;return e[oC]=t,e[El]=t,e[nC]="application/json",e}async getHeadersInternal(e,t){const o=new Headers;if(e&&e.headers){for(const[i,r]of Object.entries(e.headers))o.append(i,r);e.timeout&&e.timeout>0&&o.append(tC,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o,t),o}getFileName(e){var t;let o="";return typeof e=="string"&&(o=e.replace(/[/\\]+$/,""),o=(t=o.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),o}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const r=this.clientOptions.uploader,l=await r.stat(e);i.sizeBytes=String(l.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:l.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(e),f=G("upload/v1beta/files",c._url),h=await this.fetchUploadUrl(f,i.sizeBytes,i.mimeType,d,c,t==null?void 0:t.httpOptions);return r.upload(e,h,this)}async uploadFileToFileSearchStore(e,t,o){var i;const r=this.clientOptions.uploader,l=await r.stat(t),u=String(l.size),c=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:l.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,f=this.getFileName(t),h={};o!=null&&gh(o,h);const p=await this.fetchUploadUrl(d,u,c,f,h,o==null?void 0:o.httpOptions);return r.uploadToFileSearchStore(t,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,o,i,r,l){var u;let c={};l?c=l:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${o}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(r),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const f=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(f===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return f}}async function Ed(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(o);throw t>=400&&t<600?new Fr({message:i,status:t}):new Error(i)}}function uC(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const r=JSON.parse(n.body);if(typeof r=="object"&&r!==null&&!Array.isArray(r))t=r;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(r,l){const u=Object.assign({},r);for(const c in l)if(Object.prototype.hasOwnProperty.call(l,c)){const d=l[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=o(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cC="mcp_used/unknown";let dC=!1;function yh(n){for(const e of n)if(fC(e)||typeof e=="object"&&"inputSchema"in e)return!0;return dC}function vh(n){var e;const t=(e=n[El])!==null&&e!==void 0?e:"";n[El]=(t+` ${cC}`).trimStart()}function fC(n){return n!==null&&typeof n=="object"&&n instanceof wa}function pC(n){return En(this,arguments,function*(t,o=100){let i,r=0;for(;r<o;){const l=yield z(t.listTools({cursor:i}));for(const u of l.tools)yield yield z(u),r++;if(!l.nextCursor)break;i=l.nextCursor}})}class wa{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new wa(e,t)}async initialize(){var e,t,o,i;if(this.mcpTools.length>0)return;const r={},l=[];for(const f of this.mcpClients)try{for(var u=!0,c=(t=void 0,Tn(pC(f))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const h=i;l.push(h);const p=h.name;if(r[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);r[p]=f}}catch(h){t={error:h}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=l,this.functionNameToMcpClient=r}async tool(){return await this.initialize(),$0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const l=await i.callTool({name:o.name,arguments:o.args},void 0,r);t.push({functionResponse:{name:o.name,response:l.isError?{error:l}:l}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function hC(n,e,t){const o=new V0;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data),Object.assign(o,i),e(o)}class mC{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),r=this.apiClient.getApiVersion(),l=vC(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${r}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(S=>{d=S}),h=e.callbacks,p=function(){d({})},v=this.apiClient,C={onopen:p,onmessage:S=>{hC(v,h.onmessage,S)},onerror:(t=h==null?void 0:h.onerror)!==null&&t!==void 0?t:function(S){},onclose:(o=h==null?void 0:h.onclose)!==null&&o!==void 0?o:function(S){}},_=this.webSocketFactory.create(c,yC(l),C);_.connect(),await f;const T={setup:{model:X(this.apiClient,e.model)}};return _.send(JSON.stringify(T)),new gC(_,this.apiClient)}}class gC{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=bE(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=qE(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(zt.PLAY)}pause(){this.sendPlaybackControl(zt.PAUSE)}stop(){this.sendPlaybackControl(zt.STOP)}resetContext(){this.sendPlaybackControl(zt.RESET_CONTEXT)}close(){this.conn.close()}}function yC(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function vC(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function TC(n,e,t){const o=new U0;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const r=JSON.parse(i);if(n.isVertexAI()){const l=$E(r);Object.assign(o,l)}else Object.assign(o,r);e(o)}class SC{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new mC(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,i,r,l,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const h=this.apiClient.getHeaders();e.config&&e.config.tools&&yh(e.config.tools)&&vh(h);const p=xC(h);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,f);else{const V=this.apiClient.getApiKey();let F="BidiGenerateContent",J="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",J="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${J}=${V}`}let v=()=>{};const C=new Promise(V=>{v=V}),_=e.callbacks,A=function(){var V;(V=_==null?void 0:_.onopen)===null||V===void 0||V.call(_),v({})},E=this.apiClient,T={onopen:A,onmessage:V=>{TC(E,_.onmessage,V)},onerror:(t=_==null?void 0:_.onerror)!==null&&t!==void 0?t:function(V){},onclose:(o=_==null?void 0:_.onclose)!==null&&o!==void 0?o:function(V){}},S=this.webSocketFactory.create(f,IC(p),T);S.connect(),await C;let w=X(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&w.startsWith("publishers/")){const V=this.apiClient.getProject(),F=this.apiClient.getLocation();w=`projects/${V}/locations/${F}/`+w}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[hr.AUDIO]}:e.config.responseModalities=[hr.AUDIO]),!((r=e.config)===null||r===void 0)&&r.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const P=(u=(l=e.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[],M=[];for(const V of P)if(this.isCallableTool(V)){const F=V;M.push(await F.tool())}else M.push(V);M.length>0&&(e.config.tools=M);const U={model:w,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=HE(this.apiClient,U):R=GE(this.apiClient,U),delete R.config,S.send(JSON.stringify(R)),new _C(S,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const CC={turnComplete:!0};class _C{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=rn(t.turns),e.isVertexAI()||(o=o.map(i=>Gr(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const r of o){if(typeof r!="object"||r===null||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error(EC)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},CC),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:zE(e)}:t={realtimeInput:BE(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function IC(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function xC(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Td=10;function Sd(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const l of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Zt(l)){i=!0;break}if(!i)return!0;const r=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return r&&(r<0||!Number.isInteger(r))||r==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",r),!0):!1}function Zt(n){return"callTool"in n&&typeof n.callTool=="function"}function AC(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>Zt(i)))!==null&&o!==void 0?o:!1}function Cd(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((o,i)=>{if(Zt(o))return;const r=o;r.functionDeclarations&&r.functionDeclarations.length>0&&t.push(i)}),t}function _d(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wC extends bn{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,i,r,l,u;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!AC(t)||Sd(t.config))return await this.generateContentInternal(c);const d=Cd(t);if(d.length>0){const _=d.map(A=>`tools[${A}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${_}.`)}let f,h;const p=rn(c.contents),v=(r=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&r!==void 0?r:Td;let C=0;for(;C<v&&(f=await this.generateContentInternal(c),!(!f.functionCalls||f.functionCalls.length===0));){const _=f.candidates[0].content,A=[];for(const E of(u=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&u!==void 0?u:[])if(Zt(E)){const S=await E.callTool(f.functionCalls);A.push(...S)}C++,h={role:"user",parts:A},c.contents=rn(c.contents),c.contents.push(_),c.contents.push(h),_d(c.config)&&(p.push(_),p.push(h))}return _d(c.config)&&(f.automaticFunctionCallingHistory=p),f},this.generateContentStream=async t=>{var o,i,r,l,u;if(this.maybeMoveToResponseJsonSchem(t),Sd(t.config)){const h=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(h)}const c=Cd(t);if(c.length>0){const h=c.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${h}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(r=(i=(o=t==null?void 0:t.config)===null||o===void 0?void 0:o.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||r===void 0?void 0:r.streamFunctionCallArguments,f=(u=(l=t==null?void 0:t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!f)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let r;const l=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?r=c==null?void 0:c.safetyAttributes:l.push(c);let u;return r?u={generatedImages:l,positivePromptSafetyAttributes:r,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:l,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async t=>{var o;const l={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!l.config.queryBase){if(!((o=l.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");l.config.filter="labels.tune-type:*"}return new Nt(Hn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(l),l)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{var o,i,r,l,u,c;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((o=t.video)===null||o===void 0)&&o.uri&&(!((i=t.video)===null||i===void 0)&&i.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((l=(r=t.source)===null||r===void 0?void 0:r.video)===null||l===void 0)&&l.uri&&(!((c=(u=t.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,i;const r=(t=e.config)===null||t===void 0?void 0:t.tools;if(!r)return e;const l=await Promise.all(r.map(async c=>Zt(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:l})};if(u.config.tools=l,e.config&&e.config.tools&&yh(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),vh(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,o,i;const r=new Map;for(const l of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(Zt(l)){const u=l,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(r.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);r.set(d.name,u)}}return r}async processAfcStream(e){var t,o,i;const r=(i=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Td;let l=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,h){return En(this,arguments,function*(){for(var p,v,C,_,A,E;u<r;){l&&(u++,l=!1);const R=yield z(d.processParamsMaybeAddMcpUsage(h)),P=yield z(d.generateContentStreamInternal(R)),M=[],U=[];try{for(var T=!0,S=(v=void 0,Tn(P)),w;w=yield z(S.next()),p=w.done,!p;T=!0){_=w.value,T=!1;const V=_;if(yield yield z(V),V.candidates&&(!((A=V.candidates[0])===null||A===void 0)&&A.content)){U.push(V.candidates[0].content);for(const F of(E=V.candidates[0].content.parts)!==null&&E!==void 0?E:[])if(u<r&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(F.functionCall.name)){const J=yield z(f.get(F.functionCall.name).callTool([F.functionCall]));M.push(...J)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(V){v={error:V}}finally{try{!T&&!p&&(C=S.return)&&(yield z(C.call(S)))}finally{if(v)throw v.error}}if(M.length>0){l=!0;const V=new Co;V.candidates=[{content:{role:"user",parts:M}}],yield yield z(V);const F=[];F.push(...U),F.push({role:"user",parts:M});const J=rn(h.contents).concat(F);h.contents=J}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=gd(this.apiClient,e);return u=G("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=vd(f),p=new Co;return Object.assign(p,h),p})}else{const d=md(this.apiClient,e);return u=G("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=yd(f),p=new Co;return Object.assign(p,h),p})}}async generateContentStreamInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=gd(this.apiClient,e);return u=G("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),l.then(function(h){return En(this,arguments,function*(){var p,v,C,_;try{for(var A=!0,E=Tn(h),T;T=yield z(E.next()),p=T.done,!p;A=!0){_=T.value,A=!1;const S=_,w=vd(yield z(S.json()));w.sdkHttpResponse={headers:S.headers};const R=new Co;Object.assign(R,w),yield yield z(R)}}catch(S){v={error:S}}finally{try{!A&&!p&&(C=E.return)&&(yield z(C.call(E)))}finally{if(v)throw v.error}}})})}else{const d=md(this.apiClient,e);return u=G("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),l.then(function(h){return En(this,arguments,function*(){var p,v,C,_;try{for(var A=!0,E=Tn(h),T;T=yield z(E.next()),p=T.done,!p;A=!0){_=T.value,A=!1;const S=_,w=yd(yield z(S.json()));w.sdkHttpResponse={headers:S.headers};const R=new Co;Object.assign(R,w),yield yield z(R)}}catch(S){v={error:S}}finally{try{!A&&!p&&(C=E.return)&&(yield z(C.call(E)))}finally{if(v)throw v.error}}})})}}async embedContent(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=ST(this.apiClient,e);return u=G("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=_T(f),p=new Zc;return Object.assign(p,h),p})}else{const d=TT(this.apiClient,e);return u=G("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=CT(f),p=new Zc;return Object.assign(p,h),p})}}async generateImagesInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=DT(this.apiClient,e);return u=G("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=VT(f),p=new jc;return Object.assign(p,h),p})}else{const d=LT(this.apiClient,e);return u=G("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=UT(f),p=new jc;return Object.assign(p,h),p})}}async editImageInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=gT(this.apiClient,e);return r=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=yT(c),f=new I0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=DS(this.apiClient,e);return r=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=US(c),f=new x0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=mS(this.apiClient,e);return r=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=gS(c),f=new A0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=CS(this.apiClient,e);return r=G("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=_S(c),f=new w0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=jT(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>vl(f))}else{const d=ZT(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>yl(f))}}async listInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=aS(this.apiClient,e);return u=G("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=cS(f),p=new ed;return Object.assign(p,h),p})}else{const d=lS(this.apiClient,e);return u=G("{models_url}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=uS(f),p=new ed;return Object.assign(p,h),p})}}async update(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=PS(this.apiClient,e);return u=G("{model}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>vl(f))}else{const d=MS(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>yl(f))}}async delete(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=fT(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=hT(f),p=new nd;return Object.assign(p,h),p})}else{const d=dT(this.apiClient,e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=pT(f),p=new nd;return Object.assign(p,h),p})}}async countTokens(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=aT(this.apiClient,e);return u=G("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=cT(f),p=new td;return Object.assign(p,h),p})}else{const d=lT(this.apiClient,e);return u=G("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=uT(f),p=new td;return Object.assign(p,h),p})}}async computeTokens(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=eT(this.apiClient,e);return r=G("{model}:computeTokens",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=nT(c),f=new N0;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=BT(this.apiClient,e);return u=G("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l.then(f=>{const h=qT(f),p=new mr;return Object.assign(p,h),p})}else{const d=bT(this.apiClient,e);return u=G("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l.then(f=>{const h=HT(f),p=new mr;return Object.assign(p,h),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NC extends bn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let r;o&&"httpOptions"in o&&(r=o.httpOptions);const l=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:r}});return t._fromAPIResponse({apiResponse:l,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=v0(e);return u=G("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),l}else{const d=y0(e);return u=G("{operationName}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),l}}async fetchPredictVideosOperationInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=c0(e);return r=G("{resourceName}:fetchPredictOperation",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(n){const e={},t=s(n,["data"]);if(t!=null&&a(e,["data"],t),s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function RC(n){const e={},t=s(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(r=>HC(r))),a(e,["parts"],i)}const o=s(n,["role"]);return o!=null&&a(e,["role"],o),e}function MC(n,e,t){const o={},i=s(e,["expireTime"]);t!==void 0&&i!=null&&a(t,["expireTime"],i);const r=s(e,["newSessionExpireTime"]);t!==void 0&&r!=null&&a(t,["newSessionExpireTime"],r);const l=s(e,["uses"]);t!==void 0&&l!=null&&a(t,["uses"],l);const u=s(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&a(t,["bidiGenerateContentSetup"],GC(n,u));const c=s(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&a(t,["fieldMask"],c),o}function PC(n,e){const t={},o=s(e,["config"]);return o!=null&&a(t,["config"],MC(n,o,t)),t}function LC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=s(n,["fileUri"]);t!=null&&a(e,["fileUri"],t);const o=s(n,["mimeType"]);return o!=null&&a(e,["mimeType"],o),e}function DC(n){const e={},t=s(n,["id"]);t!=null&&a(e,["id"],t);const o=s(n,["args"]);o!=null&&a(e,["args"],o);const i=s(n,["name"]);if(i!=null&&a(e,["name"],i),s(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function UC(n){const e={};if(s(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=s(n,["enableWidget"]);return t!=null&&a(e,["enableWidget"],t),e}function VC(n){const e={};if(s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=s(n,["timeRangeFilter"]);return t!=null&&a(e,["timeRangeFilter"],t),e}function FC(n,e){const t={},o=s(n,["generationConfig"]);e!==void 0&&o!=null&&a(e,["setup","generationConfig"],o);const i=s(n,["responseModalities"]);e!==void 0&&i!=null&&a(e,["setup","generationConfig","responseModalities"],i);const r=s(n,["temperature"]);e!==void 0&&r!=null&&a(e,["setup","generationConfig","temperature"],r);const l=s(n,["topP"]);e!==void 0&&l!=null&&a(e,["setup","generationConfig","topP"],l);const u=s(n,["topK"]);e!==void 0&&u!=null&&a(e,["setup","generationConfig","topK"],u);const c=s(n,["maxOutputTokens"]);e!==void 0&&c!=null&&a(e,["setup","generationConfig","maxOutputTokens"],c);const d=s(n,["mediaResolution"]);e!==void 0&&d!=null&&a(e,["setup","generationConfig","mediaResolution"],d);const f=s(n,["seed"]);e!==void 0&&f!=null&&a(e,["setup","generationConfig","seed"],f);const h=s(n,["speechConfig"]);e!==void 0&&h!=null&&a(e,["setup","generationConfig","speechConfig"],Aa(h));const p=s(n,["thinkingConfig"]);e!==void 0&&p!=null&&a(e,["setup","generationConfig","thinkingConfig"],p);const v=s(n,["enableAffectiveDialog"]);e!==void 0&&v!=null&&a(e,["setup","generationConfig","enableAffectiveDialog"],v);const C=s(n,["systemInstruction"]);e!==void 0&&C!=null&&a(e,["setup","systemInstruction"],RC(Me(C)));const _=s(n,["tools"]);if(e!==void 0&&_!=null){let P=co(_);Array.isArray(P)&&(P=P.map(M=>bC(uo(M)))),a(e,["setup","tools"],P)}const A=s(n,["sessionResumption"]);e!==void 0&&A!=null&&a(e,["setup","sessionResumption"],qC(A));const E=s(n,["inputAudioTranscription"]);e!==void 0&&E!=null&&a(e,["setup","inputAudioTranscription"],E);const T=s(n,["outputAudioTranscription"]);e!==void 0&&T!=null&&a(e,["setup","outputAudioTranscription"],T);const S=s(n,["realtimeInputConfig"]);e!==void 0&&S!=null&&a(e,["setup","realtimeInputConfig"],S);const w=s(n,["contextWindowCompression"]);e!==void 0&&w!=null&&a(e,["setup","contextWindowCompression"],w);const R=s(n,["proactivity"]);if(e!==void 0&&R!=null&&a(e,["setup","proactivity"],R),s(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return t}function GC(n,e){const t={},o=s(e,["model"]);o!=null&&a(t,["setup","model"],X(n,o));const i=s(e,["config"]);return i!=null&&a(t,["config"],FC(i,t)),t}function HC(n){const e={},t=s(n,["mediaResolution"]);t!=null&&a(e,["mediaResolution"],t);const o=s(n,["codeExecutionResult"]);o!=null&&a(e,["codeExecutionResult"],o);const i=s(n,["executableCode"]);i!=null&&a(e,["executableCode"],i);const r=s(n,["fileData"]);r!=null&&a(e,["fileData"],LC(r));const l=s(n,["functionCall"]);l!=null&&a(e,["functionCall"],DC(l));const u=s(n,["functionResponse"]);u!=null&&a(e,["functionResponse"],u);const c=s(n,["inlineData"]);c!=null&&a(e,["inlineData"],kC(c));const d=s(n,["text"]);d!=null&&a(e,["text"],d);const f=s(n,["thought"]);f!=null&&a(e,["thought"],f);const h=s(n,["thoughtSignature"]);h!=null&&a(e,["thoughtSignature"],h);const p=s(n,["videoMetadata"]);return p!=null&&a(e,["videoMetadata"],p),e}function qC(n){const e={},t=s(n,["handle"]);if(t!=null&&a(e,["handle"],t),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function bC(n){const e={};if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const t=s(n,["computerUse"]);t!=null&&a(e,["computerUse"],t);const o=s(n,["fileSearch"]);o!=null&&a(e,["fileSearch"],o);const i=s(n,["codeExecution"]);if(i!=null&&a(e,["codeExecution"],i),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const r=s(n,["functionDeclarations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(h=>h)),a(e,["functionDeclarations"],f)}const l=s(n,["googleMaps"]);l!=null&&a(e,["googleMaps"],UC(l));const u=s(n,["googleSearch"]);u!=null&&a(e,["googleSearch"],VC(u));const c=s(n,["googleSearchRetrieval"]);c!=null&&a(e,["googleSearchRetrieval"],c);const d=s(n,["urlContext"]);return d!=null&&a(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function BC(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(r=>`${t}.${r}`);e.push(...i)}else e.push(t)}return e.join(",")}function zC(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const r=o.setup;typeof r=="object"&&r!==null?(n.bidiGenerateContentSetup=r,t=r):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const r=BC(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)r?n.fieldMask=r:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const l=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>l.includes(d)?`generationConfig.${d}`:d));const c=[];r&&c.push(r),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class $C extends bn{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=PC(this.apiClient,e);r=G("auth_tokens",u._url),l=u._query,delete u.config,delete u._url,delete u._query;const c=zC(u,e.config);return i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function OC(n,e){const t={},o=s(n,["force"]);return e!==void 0&&o!=null&&a(e,["_query","force"],o),t}function JC(n){const e={},t=s(n,["name"]);t!=null&&a(e,["_url","name"],t);const o=s(n,["config"]);return o!=null&&OC(o,e),e}function YC(n){const e={},t=s(n,["name"]);return t!=null&&a(e,["_url","name"],t),e}function WC(n,e){const t={},o=s(n,["pageSize"]);e!==void 0&&o!=null&&a(e,["_query","pageSize"],o);const i=s(n,["pageToken"]);return e!==void 0&&i!=null&&a(e,["_query","pageToken"],i),t}function KC(n){const e={},t=s(n,["parent"]);t!=null&&a(e,["_url","parent"],t);const o=s(n,["config"]);return o!=null&&WC(o,e),e}function QC(n){const e={},t=s(n,["sdkHttpResponse"]);t!=null&&a(e,["sdkHttpResponse"],t);const o=s(n,["nextPageToken"]);o!=null&&a(e,["nextPageToken"],o);const i=s(n,["documents"]);if(i!=null){let r=i;Array.isArray(r)&&(r=r.map(l=>l)),a(e,["documents"],r)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XC extends bn{constructor(e){super(),this.apiClient=e,this.list=async t=>new Nt(Hn.PAGED_ITEM_DOCUMENTS,o=>this.listInternal({parent:t.parent,config:o.config}),await this.listInternal(t),t)}async get(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=YC(e);return r=G("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=JC(e);i=G("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=KC(e);return r=G("{parent}/documents",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=QC(c),f=new k0;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZC extends bn{constructor(e,t=new XC(e)){super(),this.apiClient=e,this.documents=t,this.list=async(o={})=>new Nt(Hn.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(o),o)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=BS(e);return r=G("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=OS(e);return r=G("{name}",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var t,o;let i="",r={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=$S(e);i=G("{name}",l._url),r=l._query,delete l._url,delete l._query,await this.apiClient.request({path:i,queryParams:r,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=XS(e);return r=G("fileSearchStores",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=ZS(c),f=new R0;return Object.assign(f,d),f})}}async uploadToFileSearchStoreInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=jS(e);return r=G("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=eC(c),f=new M0;return Object.assign(f,d),f})}}async importFile(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=WS(e);return r=G("{file_search_store_name}:importFile",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=YS(c),f=new Sa;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Eh=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return Eh=n.randomUUID.bind(n),n.randomUUID();const e=new Uint8Array(1),t=n?()=>n.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(+o^t()&15>>+o/4).toString(16))};const jC=()=>Eh();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tl(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const Sl=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const e=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(e.stack=n.stack),n.cause&&!e.cause&&(e.cause=n.cause),n.name&&(e.name=n.name),e}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class an extends Error{}class Ve extends an{constructor(e,t,o,i){super(`${Ve.makeMessage(e,t,o)}`),this.status=e,this.headers=i,this.error=t}static makeMessage(e,t,o){const i=t!=null&&t.message?typeof t.message=="string"?t.message:JSON.stringify(t.message):t?JSON.stringify(t):o;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,t,o,i){if(!e||!i)return new br({message:o,cause:Sl(t)});const r=t;return e===400?new Sh(e,r,o,i):e===401?new Ch(e,r,o,i):e===403?new _h(e,r,o,i):e===404?new Ih(e,r,o,i):e===409?new xh(e,r,o,i):e===422?new Ah(e,r,o,i):e===429?new wh(e,r,o,i):e>=500?new Nh(e,r,o,i):new Ve(e,r,o,i)}}class Cl extends Ve{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class br extends Ve{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),t&&(this.cause=t)}}class Th extends br{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Sh extends Ve{}class Ch extends Ve{}class _h extends Ve{}class Ih extends Ve{}class xh extends Ve{}class Ah extends Ve{}class wh extends Ve{}class Nh extends Ve{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const e_=/^[a-z][a-z0-9+.-]*:/i,n_=n=>e_.test(n);let _l=n=>(_l=Array.isArray,_l(n));const t_=_l;let o_=t_;const Id=o_;function i_(n){if(!n)return!0;for(const e in n)return!1;return!0}function r_(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const s_=(n,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new an(`${n} must be an integer`);if(e<0)throw new an(`${n} must be a positive integer`);return e},l_=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a_=n=>new Promise(e=>setTimeout(e,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rt="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function u_(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const c_=()=>{var n,e,t,o,i;const r=u_();if(r==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":Ad(Deno.build.os),"X-Stainless-Arch":xd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(r==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":Ad((t=globalThis.process.platform)!==null&&t!==void 0?t:"unknown"),"X-Stainless-Arch":xd((o=globalThis.process.arch)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const l=d_();return l?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${l.browser}`,"X-Stainless-Runtime-Version":l.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Rt,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function d_(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:t}of n){const o=t.exec(navigator.userAgent);if(o){const i=o[1]||0,r=o[2]||0,l=o[3]||0;return{browser:e,version:`${i}.${r}.${l}`}}}return null}const xd=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",Ad=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let xi;const f_=()=>xi??(xi=c_());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p_(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function kh(...n){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...n)}function h_(n){let e=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return kh({start(){},async pull(t){const{done:o,value:i}=await e.next();o?t.close():t.enqueue(i)},async cancel(){var t;await((t=e.return)===null||t===void 0?void 0:t.call(e))}})}function Rh(n){if(n[Symbol.asyncIterator])return n;const e=n.getReader();return{async next(){try{const t=await e.read();return t!=null&&t.done&&e.releaseLock(),t}catch(t){throw e.releaseLock(),t}},async return(){const t=e.cancel();return e.releaseLock(),await t,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function m_(n){var e,t;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((t=(e=n[Symbol.asyncIterator]()).return)===null||t===void 0?void 0:t.call(e));return}const o=n.getReader(),i=o.cancel();o.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g_=({headers:n,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Mh=()=>{var n;if(typeof File>"u"){const{process:e}=globalThis,t=typeof((n=e==null?void 0:e.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function ys(n,e,t){return Mh(),new File(n,e??"unknown_file",t)}function y_(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const v_=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ph=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",E_=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Ph(n),T_=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function S_(n,e,t){if(Mh(),n=await n,E_(n))return n instanceof File?n:ys([await n.arrayBuffer()],n.name);if(T_(n)){const i=await n.blob();return e||(e=new URL(n.url).pathname.split(/[\\/]/).pop()),ys(await Il(i),e,t)}const o=await Il(n);if(e||(e=y_(n)),!(t!=null&&t.type)){const i=o.find(r=>typeof r=="object"&&"type"in r&&r.type);typeof i=="string"&&(t=Object.assign(Object.assign({},t),{type:i}))}return ys(o,e,t)}async function Il(n){var e,t,o,i,r;let l=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)l.push(n);else if(Ph(n))l.push(n instanceof Blob?n:await n.arrayBuffer());else if(v_(n))try{for(var u=!0,c=Tn(n),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const f=i;l.push(...await Il(f))}}catch(f){t={error:f}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}else{const f=(r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name;throw new Error(`Unexpected data type: ${typeof n}${f?`; constructor: ${f}`:""}${C_(n)}`)}return l}function C_(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(t=>`"${t}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lh{constructor(e){this._client=e}}Lh._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Dh(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const wd=Object.freeze(Object.create(null)),__=(n=Dh)=>function(t,...o){if(t.length===1)return t[0];let i=!1;const r=[],l=t.reduce((f,h,p)=>{var v,C,_;/[?#]/.test(h)&&(i=!0);const A=o[p];let E=(i?encodeURIComponent:n)(""+A);return p!==o.length&&(A==null||typeof A=="object"&&A.toString===((_=Object.getPrototypeOf((C=Object.getPrototypeOf((v=A.hasOwnProperty)!==null&&v!==void 0?v:wd))!==null&&C!==void 0?C:wd))===null||_===void 0?void 0:_.toString))&&(E=A+"",r.push({start:f.length+h.length,length:E.length,error:`Value of type ${Object.prototype.toString.call(A).slice(8,-1)} is not a valid path parameter`})),f+h+(p===o.length?"":E)},""),u=l.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let d;for(;(d=c.exec(u))!==null;)r.push({start:d.index,length:d[0].length,error:`Value "${d[0]}" can't be safely passed as a path parameter`});if(r.sort((f,h)=>f.start-h.start),r.length>0){let f=0;const h=r.reduce((p,v)=>{const C=" ".repeat(v.start-f),_="^".repeat(v.length);return f=v.start+v.length,p+C+_},"");throw new an(`Path parameters result in path with invalid segments:
${r.map(p=>p.error).join(`
`)}
${l}
${h}`)}return l},Ai=__(Dh);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Uh extends Lh{create(e,t){var o;const{api_version:i=this._client.apiVersion}=e,r=yr(e,["api_version"]);if("model"in r&&"agent_config"in r)throw new an("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in r&&"generation_config"in r)throw new an("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Ai`/${i}/interactions`,Object.assign(Object.assign({body:r},t),{stream:(o=e.stream)!==null&&o!==void 0?o:!1}))}delete(e,t={},o){const{api_version:i=this._client.apiVersion}=t??{};return this._client.delete(Ai`/${i}/interactions/${e}`,o)}cancel(e,t={},o){const{api_version:i=this._client.apiVersion}=t??{};return this._client.post(Ai`/${i}/interactions/${e}/cancel`,o)}get(e,t={},o){var i;const r=t??{},{api_version:l=this._client.apiVersion}=r,u=yr(r,["api_version"]);return this._client.get(Ai`/${l}/interactions/${e}`,Object.assign(Object.assign({query:u},o),{stream:(i=t==null?void 0:t.stream)!==null&&i!==void 0?i:!1}))}}Uh._key=Object.freeze(["interactions"]);class Vh extends Uh{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function I_(n){let e=0;for(const i of n)e+=i.length;const t=new Uint8Array(e);let o=0;for(const i of n)t.set(i,o),o+=i.length;return t}let wi;function Na(n){let e;return(wi??(e=new globalThis.TextEncoder,wi=e.encode.bind(e)))(n)}let Ni;function Nd(n){let e;return(Ni??(e=new globalThis.TextDecoder,Ni=e.decode.bind(e)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Br{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?Na(e):e;this.buffer=I_([this.buffer,t]);const o=[];let i;for(;(i=x_(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){o.push(Nd(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const r=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,l=Nd(this.buffer.subarray(0,r));o.push(l),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return o}flush(){return this.buffer.length?this.decode(`
`):[]}}Br.NEWLINE_CHARS=new Set([`
`,"\r"]);Br.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function x_(n,e){for(let i=e??0;i<n.length;i++){if(n[i]===10)return{preceding:i,index:i+1,carriage:!1};if(n[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function A_(n){for(let o=0;o<n.length-1;o++){if(n[o]===10&&n[o+1]===10||n[o]===13&&n[o+1]===13)return o+2;if(n[o]===13&&n[o+1]===10&&o+3<n.length&&n[o+2]===13&&n[o+3]===10)return o+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vr={off:0,error:200,warn:300,info:400,debug:500},kd=(n,e,t)=>{if(n){if(r_(vr,n))return n;Le(t).warn(`${e} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(vr))}`)}};function No(){}function ki(n,e,t){return!e||vr[n]>vr[t]?No:e[n].bind(e)}const w_={error:No,warn:No,info:No,debug:No};let Rd=new WeakMap;function Le(n){var e;const t=n.logger,o=(e=n.logLevel)!==null&&e!==void 0?e:"off";if(!t)return w_;const i=Rd.get(t);if(i&&i[0]===o)return i[1];const r={error:ki("error",t,o),warn:ki("warn",t,o),info:ki("info",t,o),debug:ki("debug",t,o)};return Rd.set(t,[o,r]),r}const mt=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([e,t])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":t]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $t{constructor(e,t,o){this.iterator=e,this.controller=t,this.client=o}static fromSSEResponse(e,t,o){let i=!1;const r=o?Le(o):console;function l(){return En(this,arguments,function*(){var c,d,f,h;if(i)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var v=!0,C=Tn(N_(e,t)),_;_=yield z(C.next()),c=_.done,!c;v=!0){h=_.value,v=!1;const A=h;if(!p)if(A.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield z(JSON.parse(A.data))}catch(E){throw r.error("Could not parse message into JSON:",A.data),r.error("From chunk:",A.raw),E}}}catch(A){d={error:A}}finally{try{!v&&!c&&(f=C.return)&&(yield z(f.call(C)))}finally{if(d)throw d.error}}p=!0}catch(A){if(Tl(A))return yield z(void 0);throw A}finally{p||t.abort()}})}return new $t(l,t,o)}static fromReadableStream(e,t,o){let i=!1;function r(){return En(this,arguments,function*(){var c,d,f,h;const p=new Br,v=Rh(e);try{for(var C=!0,_=Tn(v),A;A=yield z(_.next()),c=A.done,!c;C=!0){h=A.value,C=!1;const E=h;for(const T of p.decode(E))yield yield z(T)}}catch(E){d={error:E}}finally{try{!C&&!c&&(f=_.return)&&(yield z(f.call(_)))}finally{if(d)throw d.error}}for(const E of p.flush())yield yield z(E)})}function l(){return En(this,arguments,function*(){var c,d,f,h;if(i)throw new an("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var v=!0,C=Tn(r()),_;_=yield z(C.next()),c=_.done,!c;v=!0){h=_.value,v=!1;const A=h;p||A&&(yield yield z(JSON.parse(A)))}}catch(A){d={error:A}}finally{try{!v&&!c&&(f=C.return)&&(yield z(f.call(C)))}finally{if(d)throw d.error}}p=!0}catch(A){if(Tl(A))return yield z(void 0);throw A}finally{p||t.abort()}})}return new $t(l,t,o)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],o=this.iterator(),i=r=>({next:()=>{if(r.length===0){const l=o.next();e.push(l),t.push(l)}return r.shift()}});return[new $t(()=>i(e),this.controller,this.client),new $t(()=>i(t),this.controller,this.client)]}toReadableStream(){const e=this;let t;return kh({async start(){t=e[Symbol.asyncIterator]()},async pull(o){try{const{value:i,done:r}=await t.next();if(r)return o.close();const l=Na(JSON.stringify(i)+`
`);o.enqueue(l)}catch(i){o.error(i)}},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}}function N_(n,e){return En(this,arguments,function*(){var o,i,r,l;if(!n.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new an("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new an("Attempted to iterate over a response with no body");const u=new R_,c=new Br,d=Rh(n.body);try{for(var f=!0,h=Tn(k_(d)),p;p=yield z(h.next()),o=p.done,!o;f=!0){l=p.value,f=!1;const v=l;for(const C of c.decode(v)){const _=u.decode(C);_&&(yield yield z(_))}}}catch(v){i={error:v}}finally{try{!f&&!o&&(r=h.return)&&(yield z(r.call(h)))}finally{if(i)throw i.error}}for(const v of c.flush()){const C=u.decode(v);C&&(yield yield z(C))}})}function k_(n){return En(this,arguments,function*(){var t,o,i,r;let l=new Uint8Array;try{for(var u=!0,c=Tn(n),d;d=yield z(c.next()),t=d.done,!t;u=!0){r=d.value,u=!1;const f=r;if(f==null)continue;const h=f instanceof ArrayBuffer?new Uint8Array(f):typeof f=="string"?Na(f):f;let p=new Uint8Array(l.length+h.length);p.set(l),p.set(h,l.length),l=p;let v;for(;(v=A_(l))!==-1;)yield yield z(l.slice(0,v)),l=l.slice(v)}}catch(f){o={error:f}}finally{try{!u&&!t&&(i=c.return)&&(yield z(i.call(c)))}finally{if(o)throw o.error}}l.length>0&&(yield yield z(l))})}class R_{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const r={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],r}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,o,i]=M_(e,":");return i.startsWith(" ")&&(i=i.substring(1)),t==="event"?this.event=i:t==="data"&&this.data.push(i),null}}function M_(n,e){const t=n.indexOf(e);return t!==-1?[n.substring(0,t),e,n.substring(t+e.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function P_(n,e){const{response:t,requestLogID:o,retryOfRequestLogID:i,startTime:r}=e,l=await(async()=>{var u;if(e.options.stream)return Le(n).debug("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller,n):$t.fromSSEResponse(t,e.controller,n);if(t.status===204)return null;if(e.options.__binaryResponse)return t;const c=t.headers.get("content-type"),d=(u=c==null?void 0:c.split(";")[0])===null||u===void 0?void 0:u.trim();return(d==null?void 0:d.includes("application/json"))||(d==null?void 0:d.endsWith("+json"))?await t.json():await t.text()})();return Le(n).debug(`[${o}] response parsed`,mt({retryOfRequestLogID:i,url:t.url,status:t.status,body:l,durationMs:Date.now()-r})),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ka extends Promise{constructor(e,t,o=P_){super(i=>{i(null)}),this.responsePromise=t,this.parseResponse=o,this.client=e}_thenUnwrap(e){return new ka(this.client,this.responsePromise,async(t,o)=>e(await this.parseResponse(t,o),o))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Fh=Symbol("brand.privateNullableHeaders");function*L_(n){if(!n)return;if(Fh in n){const{values:o,nulls:i}=n;yield*o.entries();for(const r of i)yield[r,null];return}let e=!1,t;n instanceof Headers?t=n.entries():Id(n)?t=n:(e=!0,t=Object.entries(n??{}));for(let o of t){const i=o[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const r=Id(o[1])?o[1]:[o[1]];let l=!1;for(const u of r)u!==void 0&&(e&&!l&&(l=!0,yield[i,null]),yield[i,u])}}const _o=n=>{const e=new Headers,t=new Set;for(const o of n){const i=new Set;for(const[r,l]of L_(o)){const u=r.toLowerCase();i.has(u)||(e.delete(r),i.add(u)),l===null?(e.delete(r),t.add(u)):(e.append(r,l),t.delete(u))}}return{[Fh]:!0,values:e,nulls:t}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vs=n=>{var e,t,o,i,r,l;if(typeof globalThis.process<"u")return(o=(t=(e=globalThis.process.env)===null||e===void 0?void 0:e[n])===null||t===void 0?void 0:t.trim())!==null&&o!==void 0?o:void 0;if(typeof globalThis.Deno<"u")return(l=(r=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||r===void 0?void 0:r.call(i,n))===null||l===void 0?void 0:l.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Gh;class zr{constructor(e){var t,o,i,r,l,u,c,{baseURL:d=vs("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:f=(t=vs("GEMINI_API_KEY"))!==null&&t!==void 0?t:null,apiVersion:h="v1beta"}=e,p=yr(e,["baseURL","apiKey","apiVersion"]);const v=Object.assign(Object.assign({apiKey:f,apiVersion:h},p),{baseURL:d||"https://generativelanguage.googleapis.com"});this.baseURL=v.baseURL,this.timeout=(o=v.timeout)!==null&&o!==void 0?o:zr.DEFAULT_TIMEOUT,this.logger=(i=v.logger)!==null&&i!==void 0?i:console;const C="warn";this.logLevel=C,this.logLevel=(l=(r=kd(v.logLevel,"ClientOptions.logLevel",this))!==null&&r!==void 0?r:kd(vs("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&l!==void 0?l:C,this.fetchOptions=v.fetchOptions,this.maxRetries=(u=v.maxRetries)!==null&&u!==void 0?u:2,this.fetch=(c=v.fetch)!==null&&c!==void 0?c:p_(),this.encoder=g_,this._options=v,this.apiKey=f,this.apiVersion=h,this.clientAdapter=v.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:t}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!t.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const t=_o([e.headers]);if(!(t.values.has("authorization")||t.values.has("x-goog-api-key"))){if(this.apiKey)return _o([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return _o([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([t,o])=>typeof o<"u").map(([t,o])=>{if(typeof o=="string"||typeof o=="number"||typeof o=="boolean")return`${encodeURIComponent(t)}=${encodeURIComponent(o)}`;if(o===null)return`${encodeURIComponent(t)}=`;throw new an(`Cannot stringify type ${typeof o}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Rt}`}defaultIdempotencyKey(){return`stainless-node-retry-${jC()}`}makeStatusError(e,t,o,i){return Ve.generate(e,t,o,i)}buildURL(e,t,o){const i=!this.baseURLOverridden()&&o||this.baseURL,r=n_(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),l=this.defaultQuery();return i_(l)||(t=Object.assign(Object.assign({},l),t)),typeof t=="object"&&t&&!Array.isArray(t)&&(r.search=this.stringifyQuery(t)),r.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const t=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${t}`}}async prepareRequest(e,{url:t,options:o}){}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,o){return this.request(Promise.resolve(o).then(i=>Object.assign({method:e,path:t},i)))}request(e,t=null){return new ka(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,o){var i,r,l;const u=await e,c=(i=u.maxRetries)!==null&&i!==void 0?i:this.maxRetries;t==null&&(t=c),await this.prepareOptions(u);const{req:d,url:f,timeout:h}=await this.buildRequest(u,{retryCount:c-t});await this.prepareRequest(d,{url:f,options:u});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),v=o===void 0?"":`, retryOf: ${o}`,C=Date.now();if(Le(this).debug(`[${p}] sending request`,mt({retryOfRequestLogID:o,method:u.method,url:f,options:u,headers:d.headers})),!((r=u.signal)===null||r===void 0)&&r.aborted)throw new Cl;const _=new AbortController,A=await this.fetchWithTimeout(f,d,h,_).catch(Sl),E=Date.now();if(A instanceof globalThis.Error){const S=`retrying, ${t} attempts remaining`;if(!((l=u.signal)===null||l===void 0)&&l.aborted)throw new Cl;const w=Tl(A)||/timed? ?out/i.test(String(A)+("cause"in A?String(A.cause):""));if(t)return Le(this).info(`[${p}] connection ${w?"timed out":"failed"} - ${S}`),Le(this).debug(`[${p}] connection ${w?"timed out":"failed"} (${S})`,mt({retryOfRequestLogID:o,url:f,durationMs:E-C,message:A.message})),this.retryRequest(u,t,o??p);throw Le(this).info(`[${p}] connection ${w?"timed out":"failed"} - error; no more retries left`),Le(this).debug(`[${p}] connection ${w?"timed out":"failed"} (error; no more retries left)`,mt({retryOfRequestLogID:o,url:f,durationMs:E-C,message:A.message})),w?new Th:new br({cause:A})}const T=`[${p}${v}] ${d.method} ${f} ${A.ok?"succeeded":"failed"} with status ${A.status} in ${E-C}ms`;if(!A.ok){const S=await this.shouldRetry(A);if(t&&S){const V=`retrying, ${t} attempts remaining`;return await m_(A.body),Le(this).info(`${T} - ${V}`),Le(this).debug(`[${p}] response error (${V})`,mt({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:E-C})),this.retryRequest(u,t,o??p,A.headers)}const w=S?"error; no more retries left":"error; not retryable";Le(this).info(`${T} - ${w}`);const R=await A.text().catch(V=>Sl(V).message),P=l_(R),M=P?void 0:R;throw Le(this).debug(`[${p}] response error (${w})`,mt({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,message:M,durationMs:Date.now()-C})),this.makeStatusError(A.status,P,M,A.headers)}return Le(this).info(T),Le(this).debug(`[${p}] response start`,mt({retryOfRequestLogID:o,url:A.url,status:A.status,headers:A.headers,durationMs:E-C})),{response:A,options:u,controller:_,requestLogID:p,retryOfRequestLogID:o,startTime:C}}async fetchWithTimeout(e,t,o,i){const r=t||{},{signal:l,method:u}=r,c=yr(r,["signal","method"]);l&&l.addEventListener("abort",()=>i.abort());const d=setTimeout(()=>i.abort(),o),f=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,h=Object.assign(Object.assign(Object.assign({signal:i.signal},f?{duplex:"half"}:{}),{method:"GET"}),c);u&&(h.method=u.toUpperCase());try{return await this.fetch.call(void 0,e,h)}finally{clearTimeout(d)}}async shouldRetry(e){const t=e.headers.get("x-should-retry");return t==="true"?!0:t==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,t,o,i){var r;let l;const u=i==null?void 0:i.get("retry-after-ms");if(u){const d=parseFloat(u);Number.isNaN(d)||(l=d)}const c=i==null?void 0:i.get("retry-after");if(c&&!l){const d=parseFloat(c);Number.isNaN(d)?l=Date.parse(c)-Date.now():l=d*1e3}if(!(l&&0<=l&&l<60*1e3)){const d=(r=e.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l=this.calculateDefaultRetryTimeoutMillis(t,d)}return await a_(l),this.makeRequest(e,t-1,o)}calculateDefaultRetryTimeoutMillis(e,t){const r=t-e,l=Math.min(.5*Math.pow(2,r),8),u=1-Math.random()*.25;return l*u*1e3}async buildRequest(e,{retryCount:t=0}={}){var o,i,r;const l=Object.assign({},e),{method:u,path:c,query:d,defaultBaseURL:f}=l,h=this.buildURL(c,d,f);"timeout"in l&&s_("timeout",l.timeout),l.timeout=(o=l.timeout)!==null&&o!==void 0?o:this.timeout;const{bodyHeaders:p,body:v}=this.buildBody({options:l}),C=await this.buildHeaders({options:e,method:u,bodyHeaders:p,retryCount:t});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:u,headers:C},l.signal&&{signal:l.signal}),globalThis.ReadableStream&&v instanceof globalThis.ReadableStream&&{duplex:"half"}),v&&{body:v}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(r=l.fetchOptions)!==null&&r!==void 0?r:{}),url:h,timeout:l.timeout}}async buildHeaders({options:e,method:t,bodyHeaders:o,retryCount:i}){let r={};this.idempotencyHeader&&t!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),r[this.idempotencyHeader]=e.idempotencyKey);const l=await this.authHeaders(e);let u=_o([r,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),f_()),this._options.defaultHeaders,o,e.headers,l]);return this.validateHeaders(u),u.values}buildBody({options:{body:e,headers:t}}){if(!e)return{bodyHeaders:void 0,body:void 0};const o=_o([t]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&o.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:h_(e)}:this.encoder({body:e,headers:o})}}zr.DEFAULT_TIMEOUT=6e4;class Ce extends zr{constructor(){super(...arguments),this.interactions=new Vh(this)}}Gh=Ce;Ce.GeminiNextGenAPIClient=Gh;Ce.GeminiNextGenAPIClientError=an;Ce.APIError=Ve;Ce.APIConnectionError=br;Ce.APIConnectionTimeoutError=Th;Ce.APIUserAbortError=Cl;Ce.NotFoundError=Ih;Ce.ConflictError=xh;Ce.RateLimitError=wh;Ce.BadRequestError=Sh;Ce.AuthenticationError=Ch;Ce.InternalServerError=Nh;Ce.PermissionDeniedError=_h;Ce.UnprocessableEntityError=Ah;Ce.toFile=S_;Ce.Interactions=Vh;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function D_(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function U_(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function V_(n,e){const t={},o=s(n,["sdkHttpResponse"]);return o!=null&&a(t,["sdkHttpResponse"],o),t}function F_(n,e){const t={},o=s(n,["sdkHttpResponse"]);return o!=null&&a(t,["sdkHttpResponse"],o),t}function G_(n,e,t){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=s(n,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&a(e,["displayName"],i),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const r=s(n,["epochCount"]);e!==void 0&&r!=null&&a(e,["tuningTask","hyperparameters","epochCount"],r);const l=s(n,["learningRateMultiplier"]);if(l!=null&&a(o,["tuningTask","hyperparameters","learningRateMultiplier"],l),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=s(n,["batchSize"]);e!==void 0&&u!=null&&a(e,["tuningTask","hyperparameters","batchSize"],u);const c=s(n,["learningRate"]);if(e!==void 0&&c!=null&&a(e,["tuningTask","hyperparameters","learningRate"],c),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return o}function H_(n,e,t){const o={};let i=s(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const v=s(n,["validationDataset"]);e!==void 0&&v!=null&&a(e,["supervisedTuningSpec"],Md(v))}else if(i==="PREFERENCE_TUNING"){const v=s(n,["validationDataset"]);e!==void 0&&v!=null&&a(e,["preferenceOptimizationSpec"],Md(v))}const r=s(n,["tunedModelDisplayName"]);e!==void 0&&r!=null&&a(e,["tunedModelDisplayName"],r);const l=s(n,["description"]);e!==void 0&&l!=null&&a(e,["description"],l);let u=s(t,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const v=s(n,["epochCount"]);e!==void 0&&v!=null&&a(e,["supervisedTuningSpec","hyperParameters","epochCount"],v)}else if(u==="PREFERENCE_TUNING"){const v=s(n,["epochCount"]);e!==void 0&&v!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],v)}let c=s(t,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const v=s(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&a(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],v)}else if(c==="PREFERENCE_TUNING"){const v=s(n,["learningRateMultiplier"]);e!==void 0&&v!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],v)}let d=s(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const v=s(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&a(e,["supervisedTuningSpec","exportLastCheckpointOnly"],v)}else if(d==="PREFERENCE_TUNING"){const v=s(n,["exportLastCheckpointOnly"]);e!==void 0&&v!=null&&a(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],v)}let f=s(t,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const v=s(n,["adapterSize"]);e!==void 0&&v!=null&&a(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v)}else if(f==="PREFERENCE_TUNING"){const v=s(n,["adapterSize"]);e!==void 0&&v!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],v)}if(s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const h=s(n,["labels"]);e!==void 0&&h!=null&&a(e,["labels"],h);const p=s(n,["beta"]);return e!==void 0&&p!=null&&a(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),o}function q_(n,e){const t={},o=s(n,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=s(n,["preTunedModel"]);i!=null&&a(t,["preTunedModel"],i);const r=s(n,["trainingDataset"]);r!=null&&X_(r);const l=s(n,["config"]);return l!=null&&G_(l,t),t}function b_(n,e){const t={},o=s(n,["baseModel"]);o!=null&&a(t,["baseModel"],o);const i=s(n,["preTunedModel"]);i!=null&&a(t,["preTunedModel"],i);const r=s(n,["trainingDataset"]);r!=null&&Z_(r,t,e);const l=s(n,["config"]);return l!=null&&H_(l,t,e),t}function B_(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function z_(n,e){const t={},o=s(n,["name"]);return o!=null&&a(t,["_url","name"],o),t}function $_(n,e,t){const o={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function O_(n,e,t){const o={},i=s(n,["pageSize"]);e!==void 0&&i!=null&&a(e,["_query","pageSize"],i);const r=s(n,["pageToken"]);e!==void 0&&r!=null&&a(e,["_query","pageToken"],r);const l=s(n,["filter"]);return e!==void 0&&l!=null&&a(e,["_query","filter"],l),o}function J_(n,e){const t={},o=s(n,["config"]);return o!=null&&$_(o,t),t}function Y_(n,e){const t={},o=s(n,["config"]);return o!=null&&O_(o,t),t}function W_(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const i=s(n,["nextPageToken"]);i!=null&&a(t,["nextPageToken"],i);const r=s(n,["tunedModels"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>Hh(u))),a(t,["tuningJobs"],l)}return t}function K_(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const i=s(n,["nextPageToken"]);i!=null&&a(t,["nextPageToken"],i);const r=s(n,["tuningJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>xl(u))),a(t,["tuningJobs"],l)}return t}function Q_(n,e){const t={},o=s(n,["name"]);o!=null&&a(t,["model"],o);const i=s(n,["name"]);return i!=null&&a(t,["endpoint"],i),t}function X_(n,e){const t={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(r=>r)),a(t,["examples","examples"],i)}return t}function Z_(n,e,t){const o={};let i=s(t,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(i==="PREFERENCE_TUNING"){const l=s(n,["gcsUri"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}let r=s(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["supervisedTuningSpec","trainingDatasetUri"],l)}else if(r==="PREFERENCE_TUNING"){const l=s(n,["vertexDatasetResource"]);e!==void 0&&l!=null&&a(e,["preferenceOptimizationSpec","trainingDatasetUri"],l)}if(s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function Hh(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const i=s(n,["name"]);i!=null&&a(t,["name"],i);const r=s(n,["state"]);r!=null&&a(t,["state"],nh(r));const l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(n,["tuningTask","startTime"]);u!=null&&a(t,["startTime"],u);const c=s(n,["tuningTask","completeTime"]);c!=null&&a(t,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=s(n,["description"]);f!=null&&a(t,["description"],f);const h=s(n,["baseModel"]);h!=null&&a(t,["baseModel"],h);const p=s(n,["_self"]);return p!=null&&a(t,["tunedModel"],Q_(p)),t}function xl(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const i=s(n,["name"]);i!=null&&a(t,["name"],i);const r=s(n,["state"]);r!=null&&a(t,["state"],nh(r));const l=s(n,["createTime"]);l!=null&&a(t,["createTime"],l);const u=s(n,["startTime"]);u!=null&&a(t,["startTime"],u);const c=s(n,["endTime"]);c!=null&&a(t,["endTime"],c);const d=s(n,["updateTime"]);d!=null&&a(t,["updateTime"],d);const f=s(n,["error"]);f!=null&&a(t,["error"],f);const h=s(n,["description"]);h!=null&&a(t,["description"],h);const p=s(n,["baseModel"]);p!=null&&a(t,["baseModel"],p);const v=s(n,["tunedModel"]);v!=null&&a(t,["tunedModel"],v);const C=s(n,["preTunedModel"]);C!=null&&a(t,["preTunedModel"],C);const _=s(n,["supervisedTuningSpec"]);_!=null&&a(t,["supervisedTuningSpec"],_);const A=s(n,["preferenceOptimizationSpec"]);A!=null&&a(t,["preferenceOptimizationSpec"],A);const E=s(n,["tuningDataStats"]);E!=null&&a(t,["tuningDataStats"],E);const T=s(n,["encryptionSpec"]);T!=null&&a(t,["encryptionSpec"],T);const S=s(n,["partnerModelTuningSpec"]);S!=null&&a(t,["partnerModelTuningSpec"],S);const w=s(n,["customBaseModel"]);w!=null&&a(t,["customBaseModel"],w);const R=s(n,["experiment"]);R!=null&&a(t,["experiment"],R);const P=s(n,["labels"]);P!=null&&a(t,["labels"],P);const M=s(n,["outputUri"]);M!=null&&a(t,["outputUri"],M);const U=s(n,["pipelineJob"]);U!=null&&a(t,["pipelineJob"],U);const V=s(n,["serviceAccount"]);V!=null&&a(t,["serviceAccount"],V);const F=s(n,["tunedModelDisplayName"]);F!=null&&a(t,["tunedModelDisplayName"],F);const J=s(n,["veoTuningSpec"]);return J!=null&&a(t,["veoTuningSpec"],J),t}function j_(n,e){const t={},o=s(n,["sdkHttpResponse"]);o!=null&&a(t,["sdkHttpResponse"],o);const i=s(n,["name"]);i!=null&&a(t,["name"],i);const r=s(n,["metadata"]);r!=null&&a(t,["metadata"],r);const l=s(n,["done"]);l!=null&&a(t,["done"],l);const u=s(n,["error"]);return u!=null&&a(t,["error"],u),t}function Md(n,e){const t={},o=s(n,["gcsUri"]);o!=null&&a(t,["validationDatasetUri"],o);const i=s(n,["vertexDatasetResource"]);return i!=null&&a(t,["validationDatasetUri"],i),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eI extends bn{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Nt(Hn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var o;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const i={tunedModelName:t.baseModel};!((o=t.config)===null||o===void 0)&&o.preTunedModelCheckpointId&&(i.checkpointId=t.config.preTunedModelCheckpointId);const r=Object.assign(Object.assign({},t),{preTunedModel:i});return r.baseModel=void 0,await this.tuneInternal(r)}else{const i=Object.assign({},t);return await this.tuneInternal(i)}else{const i=Object.assign({},t),r=await this.tuneMldevInternal(i);let l="";return r.metadata!==void 0&&r.metadata.tunedModel!==void 0?l=r.metadata.tunedModel:r.name!==void 0&&r.name.includes("/operations/")&&(l=r.name.split("/operations/")[0]),{name:l,state:pl.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=z_(e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>xl(f))}else{const d=B_(e);return u=G("{name}",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>Hh(f))}}async listInternal(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=Y_(e);return u=G("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=K_(f),p=new od;return Object.assign(p,h),p})}else{const d=J_(e);return u=G("tunedModels",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=W_(f),p=new od;return Object.assign(p,h),p})}}async cancel(e){var t,o,i,r;let l,u="",c={};if(this.apiClient.isVertexAI()){const d=U_(e);return u=G("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=F_(f),p=new id;return Object.assign(p,h),p})}else{const d=D_(e);return u=G("{name}:cancel",d._url),c=d._query,delete d._url,delete d._query,l=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json().then(h=>{const p=h;return p.sdkHttpResponse={headers:f.headers},p})),l.then(f=>{const h=V_(f),p=new id;return Object.assign(p,h),p})}}async tuneInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI()){const u=b_(e,e);return r=G("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>xl(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=q_(e);return r=G("tunedModels",u._url),l=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>j_(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nI{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const tI=1024*1024*8,oI=3,iI=1e3,rI=2,Er="x-goog-upload-status";async function sI(n,e,t){var o;const i=await qh(n,e,t),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[Er])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return r.file}async function lI(n,e,t){var o;const i=await qh(n,e,t),r=await(i==null?void 0:i.json());if(((o=i==null?void 0:i.headers)===null||o===void 0?void 0:o[Er])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const l=Kp(r),u=new Ca;return Object.assign(u,l),u}async function qh(n,e,t){var o,i;let r=0,l=0,u=new hl(new Response),c="upload";for(r=n.size;l<r;){const d=Math.min(tI,r-l),f=n.slice(l,l+d);l+d>=r&&(c+=", finalize");let h=0,p=iI;for(;h<oI&&(u=await t.request({path:"",body:f,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(l),"Content-Length":String(d)}}}),!(!((o=u==null?void 0:u.headers)===null||o===void 0)&&o[Er]));)h++,await uI(p),p=p*rI;if(l+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[Er])!=="active")break;if(r<=l)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function aI(n){return{size:n.size,type:n.type}}function uI(n){return new Promise(e=>setTimeout(e,n))}class cI{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await sI(e,t,o)}async uploadToFileSearchStore(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await lI(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await aI(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dI{create(e,t,o){return new fI(e,t,o)}}class fI{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Pd="x-goog-api-key";class pI{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(Pd)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Pd,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hI="gl-node/";class mI{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const t=new Ce({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=t.interactions,this._interactions}constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=a0(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new pI(this.apiKey);this.apiClient=new aC({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:hI+"web",uploader:new cI,downloader:new nI}),this.models=new wC(this.apiClient),this.live=new SC(this.apiClient,i,new dI),this.batches=new Fv(this.apiClient),this.chats=new vE(this.models,this.apiClient),this.caches=new mE(this.apiClient),this.files=new NE(this.apiClient),this.operations=new NC(this.apiClient),this.authTokens=new $C(this.apiClient),this.tunings=new eI(this.apiClient),this.fileSearchStores=new ZC(this.apiClient)}}const gI=(n,e)=>`To mt nhim v ngn gn, vui nhn cho tr em  tui ${n} v ch  "${e}". 
  Nhim v phi c th, hnh ng c ngay lp tc, v khng cn dng c phc tp.
  Ch tr v ni dung nhim v, khng gii thch thm.
  V d cho mu gio: "Tm 3  vt mu  trong phng".
  V d cho tiu hc: "Nhy l c 10 ci bng chn tri".`,yI=async(n,e)=>{const t=(typeof process<"u"&&process.env,void 0);if(!t)return console.warn("API Key not found, using offline mode."),null;try{const r=(await new mI({apiKey:t}).models.generateContent({model:"gemini-3-flash-preview",contents:gI(n,e),config:{responseMimeType:"application/json",responseSchema:{type:gn.OBJECT,properties:{content:{type:gn.STRING,description:"Ni dung nhim v"},durationMinutes:{type:gn.INTEGER,description:"Thi gian c tnh (pht)"}},required:["content","durationMinutes"]}}})).text;if(!r)return null;const l=JSON.parse(r);return{id:`ai-${Date.now()}`,content:l.content,durationMinutes:l.durationMinutes||5,level:n,topic:e,isAI:!0}}catch(o){return console.error("Error generating task:",o),null}},fe=typeof window<"u"?new(window.AudioContext||window.webkitAudioContext):null;let Tr=[];typeof window<"u"&&"speechSynthesis"in window&&(Tr=window.speechSynthesis.getVoices(),window.speechSynthesis.onvoiceschanged=()=>{Tr=window.speechSynthesis.getVoices()});const Y=n=>{if(!fe)return;fe.state==="suspended"&&fe.resume();const e=fe.currentTime,t=fe.createGain();t.connect(fe.destination),t.gain.value=.5;const o=(r,l,u,c,d=.1)=>{const f=fe.createOscillator(),h=fe.createGain();return f.type=r,f.frequency.setValueAtTime(l,u),h.gain.setValueAtTime(0,u),h.gain.linearRampToValueAtTime(d,u+.02),h.gain.exponentialRampToValueAtTime(.001,u+c),f.connect(h),h.connect(t),f.start(u),f.stop(u+c),{osc:f,gain:h}},i=(r,l,u)=>{const c=fe.sampleRate*l,d=fe.createBuffer(1,c,fe.sampleRate),f=d.getChannelData(0);for(let v=0;v<c;v++)f[v]=Math.random()*2-1;const h=fe.createBufferSource();h.buffer=d;const p=fe.createGain();p.gain.setValueAtTime(u,r),p.gain.exponentialRampToValueAtTime(.001,r+l),h.connect(p),p.connect(t),h.start(r)};switch(n){case"success":o("sine",523.25,e,.1,.3),o("sine",659.25,e+.08,.1,.3),o("sine",783.99,e+.16,.1,.3),o("triangle",1046.5,e+.24,.4,.2),o("square",1046.5,e+.24,.2,.1);break;case"grand-reward":for(let p=0;p<8;p++)i(e+p*.06,.05,.3+p/20);const r=e+.5;i(r,1.5,.6),o("sawtooth",50,r,.5,.5);const l=[523.25,659.25,783.99,1046.5],u=[.5,.65,.8,1];l.forEach((p,v)=>{const C=e+u[v],_=fe.createOscillator(),A=fe.createGain();_.type="sawtooth",_.frequency.setValueAtTime(p,C),A.gain.setValueAtTime(0,C),A.gain.linearRampToValueAtTime(.3,C+.05),A.gain.setValueAtTime(.3,C+.2),A.gain.exponentialRampToValueAtTime(.001,C+.8);const E=fe.createBiquadFilter();E.type="lowpass",E.frequency.setValueAtTime(1500,C),E.frequency.linearRampToValueAtTime(3e3,C+.1),_.connect(E),E.connect(A),A.connect(t),_.start(C),_.stop(C+.8)});break;case"firework":const c=fe.createOscillator(),d=fe.createGain();c.frequency.setValueAtTime(200,e),c.frequency.exponentialRampToValueAtTime(800,e+.4),d.gain.setValueAtTime(.1,e),d.gain.linearRampToValueAtTime(0,e+.4),c.connect(d),d.connect(t),c.start(e),c.stop(e+.4),setTimeout(()=>i(fe.currentTime,.6,.4),400),setTimeout(()=>{for(let p=0;p<5;p++)i(fe.currentTime+p*.1,.05,.2)},500);break;case"cheer":for(let p=0;p<20;p++){const v=e+Math.random()*.4;o(Math.random()>.5?"sawtooth":"square",200+Math.random()*600,v,.4,.05)}break;case"click":o("sine",800,e,.05,.1);break;case"error":o("sawtooth",150,e,.2,.2),o("sawtooth",100,e+.1,.2,.2);break;case"bubble":const f=fe.createOscillator(),h=fe.createGain();f.frequency.setValueAtTime(400,e),f.frequency.exponentialRampToValueAtTime(1200,e+.15),h.gain.setValueAtTime(.1,e),h.gain.linearRampToValueAtTime(0,e+.15),f.connect(h),h.connect(t),f.start(e),f.stop(e+.15);break;case"coin":o("sine",1500,e,.1,.1),o("sine",2e3,e+.05,.1,.1);break}},Ld=["Gii qu con i!","Tuyt vi ng mt tri!","Con lm tt lm!","Hoan h b gii qu!","Mi im! Mi im!","Siu nhn cng phi n con lun!","Xut sc lun nh!","Con ca b m gii nht!","Hay qu i thi!","Tuyt c mo!"],bh=(n,e=1,t=.95)=>{if(!(typeof window>"u")){if("speechSynthesis"in window&&window.speechSynthesis.cancel(),"speechSynthesis"in window){Tr.length===0&&(Tr=window.speechSynthesis.getVoices());const o=window.speechSynthesis.getVoices(),i=o.find(r=>(r.lang.includes("vi")||r.name.toLowerCase().includes("vietnamese"))&&(r.name.toLowerCase().includes("google")||r.name.toLowerCase().includes("premium")))||o.find(r=>r.lang.includes("vi"));if(i){const r=new SpeechSynthesisUtterance(n);r.lang="vi-VN",r.voice=i,r.rate=t,r.pitch=e,window.speechSynthesis.speak(r);return}}if(typeof window<"u"&&"speechSynthesis"in window){const o=new SpeechSynthesisUtterance(n);o.lang="vi-VN";const r=window.speechSynthesis.getVoices().find(l=>l.lang.includes("vi"));r&&(o.voice=r),o.rate=t,o.pitch=e,window.speechSynthesis.speak(o);return}}},Es=()=>{const n=Ld[Math.floor(Math.random()*Ld.length)];bh(n,1,1.1)},fn=({children:n,variant:e="primary",size:t="md",className:o="",onClick:i,...r})=>{const l="rounded-2xl font-bold shadow-[0_4px_0_rgb(0,0,0,0.2)] active:shadow-none active:translate-y-[4px] transition-all transform duration-150 flex items-center justify-center gap-2",u={primary:"bg-yellow-400 text-yellow-900 border-2 border-yellow-500 hover:bg-yellow-300",secondary:"bg-blue-400 text-blue-900 border-2 border-blue-500 hover:bg-blue-300",danger:"bg-red-400 text-white border-2 border-red-500 hover:bg-red-300",success:"bg-green-400 text-green-900 border-2 border-green-500 hover:bg-green-300"},c={sm:"px-3 py-1 text-sm",md:"px-6 py-3 text-base",lg:"px-8 py-4 text-xl",xl:"px-10 py-6 text-2xl"},d=f=>{Y("click"),i&&i(f)};return y.jsx("button",{className:`${l} ${u[e]} ${c[t]} ${o}`,onClick:d,...r,children:n})},Dd=({isOpen:n,onClose:e,title:t,children:o})=>n?y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:y.jsxs("div",{className:"bg-white rounded-3xl w-full max-w-md p-6 shadow-2xl border-4 border-yellow-400 animate-bounce-in",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsx("h2",{className:"text-xl font-bold text-gray-800",children:t}),y.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:""})]}),y.jsx("div",{children:o})]})}):null;function vI(){const[n,e]=W.useState(()=>{const I=localStorage.getItem("kq_children");let k=[];if(I)try{k=JSON.parse(I)}catch{k=[]}return k=k.map(q=>({...q,redeemedRewards:q.redeemedRewards||[]})),k.length===0?[{id:"default-kem",name:"B Kem",level:Mn.KINDERGARTEN,avatar:"",points:0,history:[],redeemedRewards:[]}]:k}),[t,o]=W.useState(()=>{const I=localStorage.getItem("kq_rewards");return I?JSON.parse(I):o0}),[i,r]=W.useState(()=>{const I=localStorage.getItem("kq_custom_tasks");return I?JSON.parse(I):[]}),[l,u]=W.useState(null),[c,d]=W.useState(null),[f,h]=W.useState("select-user"),[p,v]=W.useState(null),[C,_]=W.useState(!1),[A,E]=W.useState(0),[T,S]=W.useState(!1),[w,R]=W.useState(!1),[P,M]=W.useState(!1),[U,V]=W.useState(!1),[F,J]=W.useState(null),[_e,K]=W.useState(""),[Ie,ct]=W.useState("settings"),[de,un]=W.useState(null),[D,B]=W.useState({name:"",cost:5,icon:""}),[b,ee]=W.useState({content:"",topic:m.FAMILY,level:Mn.KINDERGARTEN,durationMinutes:5,assignedChildId:""}),[ne,$e]=W.useState({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[Ze,dt]=W.useState([]),[cn,ft]=W.useState(null),j=n.find(I=>I.id===l);W.useEffect(()=>{localStorage.setItem("kq_children",JSON.stringify(n))},[n]),W.useEffect(()=>{localStorage.setItem("kq_rewards",JSON.stringify(t))},[t]),W.useEffect(()=>{localStorage.setItem("kq_custom_tasks",JSON.stringify(i))},[i]);const Ra=W.useCallback((I,k=[])=>{const q=I.level,$=i.filter(he=>he.level===q&&(!he.assignedChildId||he.assignedChildId===I.id)),re=Ii.filter(he=>he.level===q),Oe=7*24*60*60*1e3,ge=new Set(I.history.filter(he=>Date.now()-he.timestamp<Oe).map(he=>he.taskId));k.forEach(he=>ge.add(he));let _n=$.filter(he=>!ge.has(he.id));_n.sort(()=>.5-Math.random());let Va=re.filter(he=>!ge.has(he.id));Va.sort(()=>.5-Math.random());let je=[];if(je=[..._n],je.length<3){const he=3-je.length;je=[...je,...Va.slice(0,he)]}if(je.length<3){const he=re.filter(am=>!je.find(um=>um.id===am.id));je=[...je,...he.slice(0,3-je.length)]}je.sort(()=>.5-Math.random()),dt(je.slice(0,3).map(he=>({task:he,checked:!1,completed:!1})))},[i]);W.useEffect(()=>{l&&j&&Ra(j)},[l]),W.useEffect(()=>{let I;return T&&A>0?I=setInterval(()=>{E(k=>k-1)},1e3):A===0&&T&&(S(!1),Y("error")),()=>clearInterval(I)},[T,A]);const zh=(I,k,q)=>{if(c)e($=>$.map(re=>re.id===c.id?{...re,name:I,level:k,avatar:q}:re)),d(null);else{const $={id:Date.now().toString(),name:I,level:k,avatar:q,points:0,history:[],redeemedRewards:[]};e([...n,$]),u($.id)}h("select-user")},$h=I=>{I.preventDefault();const k={id:`custom-${Date.now()}`,content:b.content,topic:b.topic,level:b.level,durationMinutes:b.durationMinutes,isAI:!1,isCustom:!0,assignedChildId:b.assignedChildId||void 0};r([k,...i]),ee({...b,content:"",durationMinutes:5}),Y("success")},Oh=I=>{$e({isOpen:!0,title:"Xa nhim v?",message:"Bn c chc mun xa nhim v ny khng?",onConfirm:()=>{r(k=>k.filter(q=>q.id!==I)),$e(k=>({...k,isOpen:!1})),Y("click")}})},Ma=(I,k)=>{I.stopPropagation(),Y("click"),bh(k)},Jh=()=>{if(j){Y("click");const I=Ze.map(k=>k.task.id);Ra(j,I)}},Yh=I=>{dt(k=>k.map(q=>q.task.id===I&&!q.completed?(q.checked||Y("click"),{...q,checked:!q.checked}):q))},$r=I=>{I==="fireworks"?(M(!0),Y("grand-reward"),setTimeout(()=>Y("cheer"),1500),setTimeout(()=>Y("firework"),500),setTimeout(()=>Y("firework"),1200),setTimeout(()=>Y("firework"),2e3),setTimeout(()=>M(!1),6e3)):(R(!0),Y("success"),Y("cheer"),setTimeout(()=>R(!1),4e3))},Wh=()=>{if(!j)return;const I=Ze.filter($=>$.checked&&!$.completed);if(I.length===0){Y("error");return}const k=I.length,q=I.map($=>({taskId:$.task.id,taskContent:$.task.content,timestamp:Date.now(),pointsEarned:1}));e($=>$.map(re=>re.id===l?{...re,points:re.points+k,history:[...q,...re.history]}:re)),dt($=>$.map(re=>re.checked?{...re,completed:!0}:re)),$r("confetti"),Es(),V(!0),setTimeout(()=>{V(!1)},3500)},Kh=async I=>{if(!j)return;_(!0),v(null);let k=await yI(j.level,I);if(!k){const q=i.filter(ge=>ge.topic===I&&ge.level===j.level&&(!ge.assignedChildId||ge.assignedChildId===l)),$=7*24*60*60*1e3,re=new Set(j.history.filter(ge=>Date.now()-ge.timestamp<$).map(ge=>ge.taskId));let Oe=q.filter(ge=>!re.has(ge.id));if(Oe.length===0){const ge=Ii.filter(_n=>_n.level===j.level&&_n.topic===I);Oe=ge.filter(_n=>!re.has(_n.id)),Oe.length===0&&(Oe=ge)}Oe.length>0?k=Oe[Math.floor(Math.random()*Oe.length)]:k=Ii.find(ge=>ge.topic===m.CREATIVE)||Ii[0]}k&&(v(k),E(k.durationMinutes*60),h("task"),S(!0),Y("bubble")),_(!1)},Qh=()=>{if(!j||!p)return;S(!1),$r("confetti"),Es();const I={taskId:p.id,taskContent:p.content,timestamp:Date.now(),pointsEarned:1};e(k=>k.map(q=>q.id===l?{...q,points:q.points+1,history:[I,...q.history]}:q)),setTimeout(()=>{h("dashboard")},2500)},Xh=I=>{if(j)if(j.points>=I.pointsCost){const k={id:`red-${Date.now()}`,rewardId:I.id,name:I.name,icon:I.icon,cost:I.pointsCost,timestamp:Date.now(),isUsed:!1};e(q=>q.map($=>$.id===l?{...$,points:$.points-I.pointsCost,redeemedRewards:[k,...$.redeemedRewards||[]]}:$)),ft(I),$r("fireworks"),Es(),setTimeout(()=>ft(null),5e3)}else Y("error")},Zh=I=>{j&&e(k=>k.map(q=>q.id===l?{...q,redeemedRewards:q.redeemedRewards.map($=>$.id===I?($.isUsed||Y("click"),{...$,isUsed:!$.isUsed}):$)}:q))},jh=()=>{const I=Math.floor(Math.random()*9)+1,k=Math.floor(Math.random()*9)+1;K(""),J({show:!0,problem:`${I} + ${k}`,answer:I+k})},Pa=I=>{Y("click"),K(k=>k.length<5?k+I:k)},em=()=>{Y("click"),K("")},nm=()=>{parseInt(_e)===(F==null?void 0:F.answer)?(Y("success"),J(null),h("parent-zone")):(Y("error"),K(""))},tm=I=>{I.preventDefault(),de?(o(k=>k.map(q=>q.id===de?{...q,name:D.name,pointsCost:D.cost,icon:D.icon||""}:q)),un(null)):o([...t,{id:Date.now().toString(),name:D.name,pointsCost:D.cost,icon:D.icon||""}]),B({name:"",cost:5,icon:""}),Y("success")},om=I=>{un(I.id),B({name:I.name,cost:I.pointsCost,icon:I.icon}),Y("click")},La=()=>{un(null),B({name:"",cost:5,icon:""})},im=(I,k)=>{$e({isOpen:!0,title:"Xa phn thng?",message:`Bn c chc mun xa phn thng "${k}" khng?`,onConfirm:()=>{o(q=>q.filter($=>$.id!==I)),$e(q=>({...q,isOpen:!1})),de===I&&La(),Y("click")}})},rm=(I,k)=>{$e({isOpen:!0,title:"Xa h s?",message:`Bn c chc mun xa h s ca b ${k}? Mi d liu s mt ht !`,onConfirm:()=>{e(q=>q.filter($=>$.id!==I)),$e(q=>({...q,isOpen:!1})),Y("click")}})},sm=I=>{d(I),J(null),h("onboarding"),Y("click")},Da=()=>y.jsx("div",{className:"fixed inset-0 pointer-events-none z-[60] overflow-hidden",children:[...Array(20)].map((I,k)=>{const q=Math.random()*100,$=Math.random()*80,re=Math.random()*2,Oe=["#ff0","#f0f","#0ff","#0f0","#ff5722"][Math.floor(Math.random()*5)];return y.jsxs("div",{className:"absolute",style:{left:`${q}%`,top:`${$}%`,animation:"firework-burst 1s ease-out infinite",animationDelay:`${re}s`},children:[y.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:Oe,boxShadow:`0 0 10px ${Oe}`}}),[...Array(8)].map((ge,_n)=>y.jsx("div",{className:"absolute w-1 h-1 rounded-full",style:{backgroundColor:Oe,transform:`rotate(${_n*45}deg) translate(20px)`,animation:"firework-particle 1s ease-out infinite",animationDelay:`${re}s`}},_n)),y.jsx("style",{children:`
               @keyframes firework-burst {
                 0% { transform: scale(0); opacity: 1; }
                 50% { opacity: 1; }
                 100% { transform: scale(2.5); opacity: 0; }
               }
               @keyframes firework-particle {
                 0% { transform: rotate(var(--r)) translate(0); opacity: 1; }
                 100% { transform: rotate(var(--r)) translate(60px); opacity: 0; }
               }
             `})]},k)})}),Ua=()=>y.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden z-[60]",children:[...Array(70)].map((I,k)=>y.jsx("div",{className:"absolute animate-bounce",style:{left:`${Math.random()*100}%`,top:"-20px",animationDuration:`${Math.random()*3+2}s`,animationDelay:`${Math.random()*2}s`,fontSize:`${Math.random()*15+15}px`,transform:`rotate(${Math.random()*360}deg)`,opacity:.8},children:["","","","","",""][Math.floor(Math.random()*6)]},k))}),lm=()=>y.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-bounce-in",children:y.jsxs("div",{className:"bg-gradient-to-br from-green-400 to-blue-500 p-8 rounded-[40px] text-center max-w-sm w-full shadow-2xl border-4 border-white relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 bg-white opacity-20 bg-[radial-gradient(circle,transparent_20%,#000_20%,#000_80%,transparent_80%,transparent),radial-gradient(circle,transparent_20%,#000_20%,#000_80%,transparent_80%,transparent)] bg-[length:20px_20px]"}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"text-8xl mb-2 animate-bounce drop-shadow-lg",children:""}),y.jsx("h2",{className:"text-3xl font-black text-white mb-2 drop-shadow-md tracking-wide",children:"Xut sc!"}),y.jsx("div",{className:"bg-white/20 backdrop-blur rounded-2xl p-4 mt-4 border border-white/30",children:y.jsx("span",{className:"text-4xl font-bold text-yellow-300 drop-shadow-sm",children:"+1 im"})})]})]})});if(f==="select-user")return y.jsxs("div",{className:"min-h-screen bg-indigo-50 p-6 flex flex-col items-center justify-center",children:[y.jsx("h1",{className:"text-4xl font-extrabold text-indigo-600 mb-8 text-center tracking-tight",children:"KiddoQuest "}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-6 w-full max-w-2xl",children:[n.map(I=>y.jsx("div",{className:"relative group",children:y.jsxs("button",{onClick:()=>{u(I.id),h("dashboard"),Y("click")},className:"w-full bg-white p-6 rounded-3xl shadow-lg hover:scale-105 transition-transform flex flex-col items-center border-4 border-transparent hover:border-indigo-300",children:[y.jsx("span",{className:"text-6xl mb-2",children:I.avatar}),y.jsx("span",{className:"text-xl font-bold text-gray-700",children:I.name}),y.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-2 py-1 rounded-full mt-2",children:I.level})]})},I.id)),y.jsxs("button",{onClick:()=>{d(null),h("onboarding")},className:"bg-indigo-100 p-6 rounded-3xl shadow-sm hover:bg-indigo-200 transition-colors flex flex-col items-center justify-center border-2 border-dashed border-indigo-300",children:[y.jsx(Xy,{size:48,className:"text-indigo-400 mb-2"}),y.jsx("span",{className:"text-lg font-medium text-indigo-600",children:"Thm b mi"})]})]}),y.jsx("div",{className:"mt-12",children:y.jsxs("button",{onClick:jh,className:"text-gray-400 text-sm flex items-center gap-2 hover:text-indigo-600",children:[y.jsx(Ky,{size:16})," Khu vc ph huynh"]})}),y.jsx(Dd,{isOpen:!!F,onClose:()=>J(null),title:"Cu hi bo mt",children:y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-xl mb-4 text-gray-600",children:"B/M hy gii bi ton ny nh:"}),y.jsxs("p",{className:"text-4xl font-bold text-indigo-600 mb-6",children:[F==null?void 0:F.problem," = ?"]}),y.jsx("div",{className:"bg-gray-100 p-4 rounded-xl mb-4 text-3xl font-bold text-indigo-800 h-16 flex items-center justify-center tracking-widest border-2 border-indigo-200",children:_e||y.jsx("span",{className:"text-gray-300",children:"..."})}),y.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[[1,2,3,4,5,6,7,8,9].map(I=>y.jsx("button",{className:"bg-white border-b-4 border-gray-200 active:border-b-0 active:translate-y-1 p-3 rounded-xl text-2xl font-bold hover:bg-indigo-50 text-gray-700 transition-all",onClick:()=>Pa(I.toString()),children:I},I)),y.jsx("button",{className:"bg-red-100 border-b-4 border-red-200 active:border-b-0 active:translate-y-1 p-3 rounded-xl text-xl font-bold text-red-600 hover:bg-red-200 flex items-center justify-center",onClick:em,children:y.jsx(e0,{})}),y.jsx("button",{className:"bg-white border-b-4 border-gray-200 active:border-b-0 active:translate-y-1 p-3 rounded-xl text-2xl font-bold hover:bg-indigo-50 text-gray-700",onClick:()=>Pa("0"),children:"0"}),y.jsx("button",{className:"bg-green-400 border-b-4 border-green-600 active:border-b-0 active:translate-y-1 p-3 rounded-xl text-xl font-bold text-white hover:bg-green-300 flex items-center justify-center",onClick:nm,children:y.jsx(Yu,{})})]})]})})]});if(f==="onboarding")return y.jsx("div",{className:"min-h-screen bg-indigo-50 p-6 flex flex-col items-center justify-center",children:y.jsxs("div",{className:"bg-white p-8 rounded-3xl shadow-xl max-w-md w-full",children:[y.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-indigo-700",children:c?"Chnh sa h s ":"Cho bn mi! "}),y.jsxs("form",{onSubmit:I=>{I.preventDefault();const k=I.target,q=k.elements.namedItem("name").value,$=k.elements.namedItem("level").value,re=k.elements.namedItem("avatar").value;q&&zh(q,$,re)},children:[y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Tn ca b"}),y.jsx("input",{name:"name",type:"text",defaultValue:c==null?void 0:c.name,className:"w-full p-3 border-2 border-indigo-100 rounded-xl focus:border-indigo-500 outline-none",required:!0,placeholder:"V d: B Bi"})]}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Cp "}),y.jsxs("select",{name:"level",defaultValue:c==null?void 0:c.level,className:"w-full p-3 border-2 border-indigo-100 rounded-xl bg-white",required:!0,children:[y.jsx("option",{value:Mn.KINDERGARTEN,children:"Mu gio (3-6 tui)"}),y.jsx("option",{value:Mn.ELEMENTARY,children:"Tiu hc (6-10 tui)"})]})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("label",{className:"block text-gray-700 font-bold mb-2",children:"Chn hnh i din"}),y.jsx("div",{className:"flex flex-wrap gap-2 justify-center bg-gray-50 p-3 rounded-xl",children:y.jsx("select",{name:"avatar",defaultValue:c==null?void 0:c.avatar,className:"w-full p-3 text-2xl border-2 border-indigo-100 rounded-xl bg-white",children:n0.map(I=>y.jsx("option",{value:I,children:I},I))})})]}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(fn,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>{d(null),h("select-user")},children:"Hy"}),y.jsx(fn,{type:"submit",variant:"primary",className:"flex-1",children:"Lu"})]})]})]})});if(f==="dashboard"&&j)return y.jsxs("div",{className:"min-h-screen bg-yellow-50 relative overflow-hidden flex flex-col",children:[w&&Ua(),P&&Da(),U&&lm(),y.jsxs("header",{className:"bg-white p-4 shadow-sm sticky top-0 z-20 flex justify-between items-center rounded-b-3xl shrink-0",children:[y.jsxs("div",{className:"flex items-center gap-3",onClick:()=>{h("select-user"),Y("click")},children:[y.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center text-3xl",children:j.avatar}),y.jsxs("div",{children:[y.jsx("h2",{className:"font-bold text-gray-800 text-lg",children:j.name}),y.jsxs("div",{className:"flex items-center gap-1 text-yellow-600 font-bold bg-yellow-100 px-2 rounded-full text-sm w-fit",children:[y.jsx(Xu,{size:14,fill:"currentColor"})," ",j.points," im"]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:()=>{h("history"),Y("click")},className:"bg-indigo-100 p-2 rounded-2xl text-indigo-600 border-2 border-indigo-200 active:scale-95",title:"Lch s hot ng",children:y.jsx(Wu,{size:28})}),y.jsx("button",{onClick:()=>{h("inventory"),Y("click")},className:"bg-blue-100 p-2 rounded-2xl text-blue-600 border-2 border-blue-200 active:scale-95",title:"Ti  ca b",children:y.jsx(Ku,{size:28})}),y.jsx("button",{onClick:()=>{h("shop"),Y("click")},className:"bg-pink-100 p-2 rounded-2xl text-pink-600 border-2 border-pink-200 active:scale-95",title:"Ca hng qu",children:y.jsx(by,{size:28})})]})]}),y.jsxs("div",{className:"p-4 md:p-8 max-w-4xl mx-auto w-full flex-grow flex flex-col",children:[y.jsxs("div",{className:"flex justify-between items-center mb-6",children:[y.jsxs("h3",{className:"text-2xl font-bold text-gray-700 flex items-center gap-2",children:[y.jsx(zy,{className:"text-green-500"}),"Nhim v hm nay"]}),y.jsx("button",{onClick:Jh,className:"p-2 bg-white rounded-full shadow hover:bg-gray-50 text-indigo-500 transition-colors",title:"Lm mi nhim v",children:y.jsx(Wy,{size:20})})]}),y.jsx("div",{className:"flex-grow space-y-4 mb-8",children:Ze.map(I=>y.jsxs("div",{onClick:()=>!I.completed&&Yh(I.task.id),className:`
                   relative p-4 rounded-2xl border-2 transition-all cursor-pointer flex items-center gap-4 shadow-sm group
                   ${I.completed?"bg-gray-100 border-gray-200 opacity-70":I.checked?"bg-green-50 border-green-400 scale-[1.02]":"bg-white border-indigo-100 hover:border-indigo-300"}
                 `,children:[y.jsx("div",{className:`
                    w-8 h-8 rounded-lg flex items-center justify-center transition-colors
                    ${I.checked||I.completed?"bg-green-500 text-white":"bg-gray-200 text-gray-400"}
                  `,children:I.checked||I.completed?y.jsx(Ju,{size:20}):y.jsx(Qy,{size:20,className:"text-transparent"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("p",{className:`font-bold text-lg ${I.completed?"line-through text-gray-400":"text-gray-800"}`,children:I.task.content}),y.jsxs("div",{className:"flex gap-2 text-xs font-bold mt-1 uppercase text-gray-400",children:[I.task.isCustom&&y.jsx("span",{className:"bg-purple-100 text-purple-600 px-2 py-0.5 rounded",children:"T to"}),y.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-500",children:I.task.topic}),y.jsxs("span",{children:[I.task.durationMinutes," pht"]})]})]}),y.jsx("button",{onClick:k=>Ma(k,I.task.content),className:"p-2 rounded-full text-indigo-400 hover:bg-indigo-50 active:scale-95 transition-transform",title:"c nhim v",children:y.jsx(ju,{size:20})}),I.completed&&y.jsx("span",{className:"text-green-600 font-bold text-sm",children:"+1 "})]},I.task.id))}),y.jsxs("div",{className:"sticky bottom-4 z-10 flex flex-col gap-3",children:[y.jsx(fn,{variant:"success",size:"lg",onClick:Wh,className:"w-full shadow-lg transform active:scale-95 transition-transform",disabled:Ze.filter(I=>I.checked&&!I.completed).length===0,children:"Nhn thng ngay! "}),y.jsxs(fn,{variant:"secondary",size:"md",onClick:()=>h("topic-selection"),className:"w-full bg-white text-indigo-500 border-indigo-200 hover:bg-indigo-50",children:[y.jsx($y,{size:18})," Chn ch  khc"]})]})]})]});if(f==="topic-selection")return y.jsxs("div",{className:"min-h-screen bg-blue-50 p-6",children:[y.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>h("dashboard"),className:"bg-white p-3 rounded-2xl shadow border-2 border-indigo-100 text-indigo-600",children:y.jsx(So,{})}),y.jsx("h1",{className:"text-2xl font-bold text-indigo-800",children:"Chn ch  yu thch"})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 max-w-4xl mx-auto",children:Object.values(m).map(I=>y.jsxs("button",{onClick:()=>Kh(I),className:`${i0[I]} text-white p-6 rounded-3xl shadow-[0_6px_0_rgba(0,0,0,0.15)] active:shadow-none active:translate-y-[6px] transition-all transform flex items-center justify-between group`,children:[y.jsx("span",{className:"text-xl font-bold",children:I}),y.jsx(Jy,{className:"bg-white/20 p-1 rounded-full w-10 h-10 group-hover:bg-white/30 transition-colors",fill:"currentColor"})]},I))})]});if(f==="task")return y.jsxs("div",{className:`min-h-screen p-6 flex flex-col items-center justify-center transition-colors duration-500 ${w?"bg-green-100":"bg-blue-50"}`,children:[w&&Ua(),C?y.jsxs("div",{className:"text-center animate-pulse",children:[y.jsx("div",{className:"text-6xl mb-4",children:""}),y.jsx("p",{className:"text-xl font-bold text-indigo-600",children:"ang suy ngh nhim v..."})]}):p?y.jsxs("div",{className:"w-full max-w-md bg-white rounded-3xl p-8 shadow-2xl border-b-8 border-blue-200 text-center relative",children:[y.jsx("div",{className:"absolute top-4 right-4 flex gap-2",children:p.isAI?y.jsx(jy,{className:"text-green-500",size:20}):y.jsx(Zy,{className:"text-gray-400",size:20})}),y.jsx("div",{className:"inline-block bg-blue-100 text-blue-600 px-4 py-1 rounded-full font-bold mb-6",children:p.topic}),y.jsxs("div",{className:"flex items-start justify-center gap-2 mb-8",children:[y.jsx("h2",{className:"text-3xl md:text-4xl font-extrabold text-gray-800 leading-tight",children:p.content}),y.jsx("button",{onClick:I=>Ma(I,p.content),className:"mt-1 p-2 bg-indigo-50 text-indigo-500 rounded-full hover:bg-indigo-100 active:scale-95",children:y.jsx(ju,{size:24})})]}),y.jsxs("div",{className:"mb-8",children:[y.jsxs("div",{className:"text-6xl font-black text-gray-200 mb-2 font-mono",children:[Math.floor(A/60),":",(A%60).toString().padStart(2,"0")]}),y.jsx("div",{className:"h-4 bg-gray-100 rounded-full overflow-hidden",children:y.jsx("div",{className:"h-full bg-green-400 transition-all duration-1000 ease-linear",style:{width:`${A/(p.durationMinutes*60)*100}%`}})})]}),y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs(fn,{variant:"success",size:"xl",onClick:Qh,className:"w-full",children:[y.jsx(Ju,{className:"mr-2"})," Con lm xong ri!"]}),y.jsx("button",{onClick:()=>h("dashboard"),className:"text-gray-400 hover:text-gray-600 font-medium py-2",children:"B qua nhim v ny"})]})]}):y.jsxs("div",{className:"text-center",children:[y.jsx("p",{className:"text-red-500",children:"C li xy ra, th li nh!"}),y.jsx(fn,{onClick:()=>h("dashboard"),children:"Quay li"})]})]});if(f==="shop"&&j)return y.jsxs("div",{className:"min-h-screen bg-pink-50 p-4",children:[cn&&y.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-bounce-in",children:[y.jsxs("div",{className:"bg-white p-8 rounded-[40px] text-center max-w-sm w-full shadow-2xl border-8 border-yellow-400 relative overflow-hidden",children:[y.jsx("div",{className:"absolute inset-0 z-0 flex items-center justify-center",children:y.jsx("div",{className:"w-[500px] h-[500px] bg-[conic-gradient(from_0deg,transparent_0deg,transparent_10deg,#fef3c7_10deg,#fef3c7_20deg,transparent_20deg)] animate-spin-slow opacity-50 rounded-full"})}),y.jsxs("div",{className:"relative z-10",children:[y.jsx("div",{className:"text-8xl mb-4 animate-bounce drop-shadow-2xl",children:cn.icon}),y.jsx("h2",{className:"text-3xl font-black text-pink-600 mb-2",children:"Tuyt vi!"}),y.jsx("p",{className:"text-gray-700 text-lg mb-4 font-bold",children:"Bn  nhn c:"}),y.jsx("div",{className:"bg-yellow-100 border-2 border-yellow-300 p-4 rounded-2xl mb-2",children:y.jsx("span",{className:"font-black text-indigo-700 text-2xl",children:cn.name})})]})]}),Da(),y.jsx("style",{children:`
                @keyframes spin-slow {
                    from { transform: rotate(0deg); }
                    to { transform: rotate(360deg); }
                }
                .animate-spin-slow {
                    animation: spin-slow 10s linear infinite;
                }
             `})]}),y.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>h("dashboard"),className:"bg-white p-2 rounded-full shadow",children:y.jsx(So,{})}),y.jsx("h1",{className:"text-2xl font-bold text-pink-700",children:"Ca hng i qu"})]}),y.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-lg mb-8 text-center border-4 border-yellow-300",children:[y.jsxs("p",{className:"text-gray-500 font-bold uppercase text-xs mb-1",children:["V im ca ",j.name]}),y.jsxs("p",{className:"text-5xl font-black text-yellow-500 flex items-center justify-center gap-2",children:[j.points," ",y.jsx(Xu,{fill:"currentColor",className:"text-yellow-400"})]})]}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:t.map(I=>{const k=j.points>=I.pointsCost;return y.jsxs("div",{className:`bg-white p-4 rounded-3xl shadow-sm border-b-4 ${k?"border-pink-200":"border-gray-200 opacity-70"} flex items-center justify-between`,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("span",{className:"text-4xl",children:I.icon}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-bold text-gray-800",children:I.name}),y.jsxs("span",{className:"text-pink-500 font-bold text-sm",children:[I.pointsCost," im"]})]})]}),y.jsx(fn,{size:"sm",variant:k?"primary":"secondary",onClick:()=>Xh(I),disabled:!k,className:k?"":"bg-gray-200 text-gray-400 border-gray-300 shadow-none",children:k?"i":"Thiu im"})]},I.id)})})]});if(f==="history"&&j){const I=[...j.history.map(k=>({type:"task",id:k.taskId+k.timestamp,name:k.taskContent,timestamp:k.timestamp,value:k.pointsEarned,icon:""})),...j.redeemedRewards.map(k=>({type:"reward",id:k.id,name:`i qu: ${k.name}`,timestamp:k.timestamp,value:-k.cost,icon:k.icon}))].sort((k,q)=>q.timestamp-k.timestamp);return y.jsxs("div",{className:"min-h-screen bg-indigo-50 p-4",children:[y.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>h("dashboard"),className:"bg-white p-2 rounded-full shadow",children:y.jsx(So,{})}),y.jsx("h1",{className:"text-2xl font-bold text-indigo-800",children:"Lch s hot ng "})]}),y.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:I.length===0?y.jsxs("div",{className:"text-center mt-20 text-gray-400",children:[y.jsx(By,{size:64,className:"mx-auto mb-4"}),y.jsx("p",{children:"Cha c hot ng no c ghi nhn."})]}):I.map(k=>y.jsxs("div",{className:"bg-white p-4 rounded-2xl shadow-sm flex items-center gap-4",children:[y.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-2xl ${k.type==="task"?"bg-green-100":"bg-pink-100"}`,children:k.icon}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-gray-800 text-lg",children:k.name}),y.jsxs("p",{className:"text-sm text-gray-400 flex items-center gap-1",children:[y.jsx(Wu,{size:12})," ",new Date(k.timestamp).toLocaleString("vi-VN")]})]}),y.jsxs("div",{className:`font-bold text-lg ${k.value>0?"text-green-600":"text-red-500"}`,children:[k.value>0?"+":"",k.value," "]})]},k.id))})]})}if(f==="inventory"&&j){const I=j.redeemedRewards||[];return y.jsxs("div",{className:"min-h-screen bg-blue-50 p-4",children:[y.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>h("dashboard"),className:"bg-white p-2 rounded-full shadow",children:y.jsx(So,{})}),y.jsxs("h1",{className:"text-2xl font-bold text-blue-800",children:["Ti  ca ",j.name," "]})]}),I.length===0?y.jsxs("div",{className:"text-center mt-20 opacity-50",children:[y.jsx(Ku,{size:64,className:"mx-auto mb-4 text-gray-300"}),y.jsx("p",{children:"Cha c mn qu no."}),y.jsx("p",{children:"Hy chm ch lm nhim v nh!"})]}):y.jsx("div",{className:"space-y-4",children:I.sort((k,q)=>q.timestamp-k.timestamp).map(k=>y.jsxs("div",{onClick:()=>Zh(k.id),className:`
                   p-4 rounded-3xl border-2 transition-all flex items-center justify-between cursor-pointer
                   ${k.isUsed?"bg-gray-100 border-gray-200 opacity-60 grayscale":"bg-white border-blue-200 shadow-lg hover:scale-102"}
                `,children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx("div",{className:"text-4xl",children:k.icon}),y.jsxs("div",{children:[y.jsx("h3",{className:`font-bold text-lg ${k.isUsed?"line-through text-gray-500":"text-gray-800"}`,children:k.name}),y.jsx("p",{className:"text-xs text-gray-400",children:new Date(k.timestamp).toLocaleDateString("vi-VN")})]})]}),y.jsx("div",{className:`
                    w-8 h-8 rounded-full border-2 flex items-center justify-center
                    ${k.isUsed?"bg-green-500 border-green-500 text-white":"border-gray-300"}
                 `,children:k.isUsed&&y.jsx(Yu,{size:16})})]},k.id))})]})}return f==="parent-zone"?y.jsxs("div",{className:"min-h-screen bg-gray-100 p-6",children:[y.jsxs("header",{className:"flex items-center gap-4 mb-8",children:[y.jsx("button",{onClick:()=>h("select-user"),className:"bg-white p-2 rounded-full shadow text-gray-700",children:y.jsx(So,{})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Khu vc Ph Huynh "})]}),y.jsxs("div",{className:"max-w-2xl mx-auto mb-6 flex bg-white p-1 rounded-xl shadow-sm",children:[y.jsx("button",{onClick:()=>{ct("settings"),Y("click")},className:`flex-1 py-3 rounded-lg font-bold text-sm transition-colors ${Ie==="settings"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:bg-gray-50"}`,children:"Ci t & Qu"}),y.jsx("button",{onClick:()=>{ct("tasks"),Y("click")},className:`flex-1 py-3 rounded-lg font-bold text-sm transition-colors ${Ie==="tasks"?"bg-indigo-100 text-indigo-700":"text-gray-500 hover:bg-gray-50"}`,children:"Qun l nhim v"})]}),Ie==="settings"?y.jsxs("div",{className:"grid gap-6 max-w-2xl mx-auto",children:[y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[y.jsx("h2",{className:"text-lg font-bold mb-4 border-b pb-2",children:"Thnh tch cc b"}),n.map(I=>y.jsxs("div",{className:"flex justify-between items-center py-2",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{children:I.avatar}),y.jsx("span",{className:"font-medium",children:I.name})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"text-yellow-600 font-bold",children:[I.points," im"]}),y.jsxs("button",{type:"button",onClick:k=>{k.stopPropagation(),sm(I)},className:"text-blue-400 hover:text-blue-600 text-sm flex items-center gap-1 px-2 py-1 hover:bg-blue-50 rounded",title:"Chnh sa h s b",children:[y.jsx(Qu,{size:14})," Sa"]}),y.jsxs("button",{type:"button",onClick:k=>{k.stopPropagation(),rm(I.id,I.name)},className:"text-red-400 hover:text-red-600 text-sm flex items-center gap-1 px-2 py-1 hover:bg-red-50 rounded",title:"Xa h s b",children:[y.jsx(_i,{size:14})," Xa"]})]})]},I.id))]}),y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[y.jsxs("h2",{className:"text-lg font-bold mb-4 border-b pb-2 flex justify-between items-center",children:[y.jsx("span",{children:de?"Chnh sa qu":"Thm qu mi"}),de&&y.jsx("button",{onClick:La,className:"text-xs text-red-500 hover:underline",children:"Hy"})]}),y.jsxs("form",{onSubmit:tm,className:"flex flex-col gap-4 mb-4",children:[y.jsxs("div",{className:"flex gap-2 items-end",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"Tn qu"}),y.jsx("input",{name:"rName",value:D.name,onChange:I=>B({...D,name:I.target.value}),className:"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-indigo-400 outline-none",required:!0,placeholder:"V d: i cng vin"})]}),y.jsxs("div",{className:"w-24",children:[y.jsx("label",{className:"text-xs text-gray-500 font-bold",children:"im"}),y.jsx("input",{name:"rCost",type:"number",value:D.cost,onChange:I=>B({...D,cost:parseInt(I.target.value)||0}),className:"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-indigo-400 outline-none",required:!0,min:"1"})]}),y.jsx(fn,{type:"submit",size:"md",variant:de?"success":"primary",className:"h-[50px]",children:de?"Lu":"+"})]}),y.jsxs("div",{children:[y.jsxs("label",{className:"text-xs text-gray-500 font-bold mb-2 block",children:["Chn biu tng (",D.icon,")"]}),y.jsx("div",{className:"grid grid-cols-8 gap-2 bg-gray-50 p-2 rounded-xl h-32 overflow-y-auto custom-scrollbar",children:t0.map(I=>y.jsx("button",{type:"button",onClick:()=>{B({...D,icon:I}),Y("click")},className:`text-2xl p-1 rounded hover:bg-gray-200 transition ${D.icon===I?"bg-indigo-200 scale-110":""}`,children:I},I))})]})]}),y.jsx("ul",{className:"space-y-2 mt-4 max-h-60 overflow-y-auto",children:t.map(I=>y.jsxs("li",{className:`flex justify-between items-center p-3 rounded-xl ${de===I.id?"bg-indigo-50 border-2 border-indigo-200":"bg-gray-50 border border-transparent"}`,children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("span",{className:"text-2xl",children:I.icon}),y.jsx("span",{className:"font-bold text-gray-700",children:I.name})]}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs("span",{className:"font-bold text-indigo-500 bg-indigo-100 px-2 py-1 rounded-lg text-sm",children:[I.pointsCost,""]}),y.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),om(I)},className:"text-gray-400 hover:text-blue-500 p-1",children:y.jsx(Qu,{size:16})}),y.jsx("button",{type:"button",onClick:k=>{k.stopPropagation(),im(I.id,I.name)},className:"text-gray-400 hover:text-red-500 p-1",children:y.jsx(_i,{size:16})})]})]},I.id))})]})]}):y.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[y.jsx("h2",{className:"text-lg font-bold mb-4 border-b pb-2",children:"To nhim v mi"}),y.jsxs("form",{onSubmit:$h,className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Ni dung nhim v"}),y.jsx("input",{className:"w-full border-2 border-gray-200 rounded-xl p-3 focus:border-indigo-400 outline-none",placeholder:"V d: Gp qun o gn gng...",required:!0,value:b.content,onChange:I=>ee({...b,content:I.target.value})})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Ch "}),y.jsx("select",{className:"w-full border-2 border-gray-200 rounded-xl p-3 bg-white",value:b.topic,onChange:I=>ee({...b,topic:I.target.value}),children:Object.values(m).map(I=>y.jsx("option",{value:I,children:I},I))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Cp "}),y.jsxs("select",{className:"w-full border-2 border-gray-200 rounded-xl p-3 bg-white",value:b.level,onChange:I=>ee({...b,level:I.target.value}),children:[y.jsx("option",{value:Mn.KINDERGARTEN,children:"Mu gio"}),y.jsx("option",{value:Mn.ELEMENTARY,children:"Tiu hc"})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-xs font-bold text-gray-500 mb-1",children:"Giao cho b (Khng bt buc)"}),y.jsxs("select",{className:"w-full border-2 border-gray-200 rounded-xl p-3 bg-white",value:b.assignedChildId,onChange:I=>ee({...b,assignedChildId:I.target.value}),children:[y.jsx("option",{value:"",children:"Tt c cc b"}),n.map(I=>y.jsx("option",{value:I.id,children:I.name},I.id))]})]}),y.jsxs(fn,{type:"submit",className:"w-full",variant:"primary",children:[y.jsx(Yy,{size:20})," Thm nhim v"]})]})]}),y.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm",children:[y.jsxs("h2",{className:"text-lg font-bold mb-4 border-b pb-2 flex items-center gap-2",children:[y.jsx(Oy,{size:20})," Nhim v t to (",i.length,")"]}),i.length===0?y.jsx("div",{className:"text-center text-gray-400 py-8",children:"Cha c nhim v no."}):y.jsx("ul",{className:"space-y-3 max-h-[400px] overflow-y-auto",children:i.map(I=>{const k=I.assignedChildId?n.find(q=>q.id===I.assignedChildId):null;return y.jsxs("li",{className:"border border-gray-200 p-3 rounded-xl flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-bold text-gray-800",children:I.content}),y.jsxs("div",{className:"flex gap-2 mt-1 text-xs",children:[y.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:I.topic}),y.jsx("span",{className:"bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:I.level}),k?y.jsxs("span",{className:"bg-blue-100 text-blue-600 px-2 py-0.5 rounded flex items-center gap-1",children:[y.jsx(Zu,{size:10})," ",k.name]}):y.jsxs("span",{className:"bg-green-100 text-green-600 px-2 py-0.5 rounded flex items-center gap-1",children:[y.jsx(Zu,{size:10})," Tt c"]})]})]}),y.jsx("button",{onClick:()=>Oh(I.id),className:"text-gray-400 hover:text-red-500 p-2",children:y.jsx(_i,{size:16})})]},I.id)})})]})]}),y.jsx("div",{className:"text-center text-gray-400 text-sm mt-8 pb-8",children:"KiddoQuest v2.0  Epic Sounds  Offline First"}),ne.isOpen&&y.jsx(Dd,{isOpen:ne.isOpen,onClose:()=>$e({...ne,isOpen:!1}),title:ne.title,children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"mb-6 text-gray-600",children:ne.message}),y.jsxs("div",{className:"flex gap-4 justify-center",children:[y.jsx(fn,{variant:"secondary",onClick:()=>$e({...ne,isOpen:!1}),children:"Khng xa"}),y.jsxs(fn,{variant:"danger",onClick:ne.onConfirm,children:[y.jsx(_i,{size:16,className:"mr-2"})," Xa lun"]})]})]})})]}):null}const Bh=document.getElementById("root");if(!Bh)throw new Error("Could not find root element to mount to");const EI=Wp(Bh);EI.render(y.jsx(Am.StrictMode,{children:y.jsx(vI,{})}));
