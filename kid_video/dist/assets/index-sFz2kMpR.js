import{r as b0,R as gr,a as H,j as d,m as ve,A as $n}from"./motion-DRm28CPu.js";import{r as Mv}from"./vendor-DX_WDAl5.js";import{G as Fe}from"./icons-k-IPNWRF.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function a(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=a(o);fetch(o.href,h)}})();var uh={exports:{}},vs={},hh={exports:{}},dh={};var wp;function S0(){return wp||(wp=1,(function(l){function n(D,B){var X=D.length;D.push(B);e:for(;0<X;){var ge=X-1>>>1,_e=D[ge];if(0<o(_e,B))D[ge]=B,D[X]=_e,X=ge;else break e}}function a(D){return D.length===0?null:D[0]}function c(D){if(D.length===0)return null;var B=D[0],X=D.pop();if(X!==B){D[0]=X;e:for(var ge=0,_e=D.length,L=_e>>>1;ge<L;){var J=2*(ge+1)-1,P=D[J],ae=J+1,et=D[ae];if(0>o(P,X))ae<_e&&0>o(et,P)?(D[ge]=et,D[ae]=X,ge=ae):(D[ge]=P,D[J]=X,ge=J);else if(ae<_e&&0>o(et,X))D[ge]=et,D[ae]=X,ge=ae;else break e}}return B}function o(D,B){var X=D.sortIndex-B.sortIndex;return X!==0?X:D.id-B.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();l.unstable_now=function(){return f.now()-g}}var v=[],y=[],T=1,S=null,C=3,R=!1,U=!1,F=!1,q=!1,le=typeof setTimeout=="function"?setTimeout:null,Le=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function Z(D){for(var B=a(y);B!==null;){if(B.callback===null)c(y);else if(B.startTime<=D)c(y),B.sortIndex=B.expirationTime,n(v,B);else break;B=a(y)}}function ye(D){if(F=!1,Z(D),!U)if(a(v)!==null)U=!0,Te||(Te=!0,ne());else{var B=a(y);B!==null&&Ye(ye,B.startTime-D)}}var Te=!1,it=-1,be=5,je=-1;function ot(){return q?!0:!(l.unstable_now()-je<be)}function lt(){if(q=!1,Te){var D=l.unstable_now();je=D;var B=!0;try{e:{U=!1,F&&(F=!1,Le(it),it=-1),R=!0;var X=C;try{t:{for(Z(D),S=a(v);S!==null&&!(S.expirationTime>D&&ot());){var ge=S.callback;if(typeof ge=="function"){S.callback=null,C=S.priorityLevel;var _e=ge(S.expirationTime<=D);if(D=l.unstable_now(),typeof _e=="function"){S.callback=_e,Z(D),B=!0;break t}S===a(v)&&c(v),Z(D)}else c(v);S=a(v)}if(S!==null)B=!0;else{var L=a(y);L!==null&&Ye(ye,L.startTime-D),B=!1}}break e}finally{S=null,C=X,R=!1}B=void 0}}finally{B?ne():Te=!1}}}var ne;if(typeof ee=="function")ne=function(){ee(lt)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Ne=De.port2;De.port1.onmessage=lt,ne=function(){Ne.postMessage(null)}}else ne=function(){le(lt,0)};function Ye(D,B){it=le(function(){D(l.unstable_now())},B)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(D){D.callback=null},l.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):be=0<D?Math.floor(1e3/D):5},l.unstable_getCurrentPriorityLevel=function(){return C},l.unstable_next=function(D){switch(C){case 1:case 2:case 3:var B=3;break;default:B=C}var X=C;C=B;try{return D()}finally{C=X}},l.unstable_requestPaint=function(){q=!0},l.unstable_runWithPriority=function(D,B){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var X=C;C=D;try{return B()}finally{C=X}},l.unstable_scheduleCallback=function(D,B,X){var ge=l.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?ge+X:ge):X=ge,D){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=X+_e,D={id:T++,callback:B,priorityLevel:D,startTime:X,expirationTime:_e,sortIndex:-1},X>ge?(D.sortIndex=X,n(y,D),a(v)===null&&D===a(y)&&(F?(Le(it),it=-1):F=!0,Ye(ye,X-ge))):(D.sortIndex=_e,n(v,D),U||R||(U=!0,Te||(Te=!0,ne()))),D},l.unstable_shouldYield=ot,l.unstable_wrapCallback=function(D){var B=C;return function(){var X=C;C=B;try{return D.apply(this,arguments)}finally{C=X}}}})(dh)),dh}var jp;function C0(){return jp||(jp=1,hh.exports=S0()),hh.exports}var Dp;function E0(){if(Dp)return vs;Dp=1;var l=C0(),n=b0(),a=Mv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===i)return v(r),e;if(u===s)return v(r),t;u=u.sibling}throw Error(c(188))}if(i.return!==s.return)i=r,s=u;else{for(var m=!1,p=r.child;p;){if(p===i){m=!0,i=r,s=u;break}if(p===s){m=!0,s=r,i=u;break}p=p.sibling}if(!m){for(p=u.child;p;){if(p===i){m=!0,i=u,s=r;break}if(p===s){m=!0,s=u,i=r;break}p=p.sibling}if(!m)throw Error(c(189))}}if(i.alternate!==s)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),q=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),Le=Symbol.for("react.consumer"),ee=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ye=Symbol.for("react.suspense"),Te=Symbol.for("react.suspense_list"),it=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),je=Symbol.for("react.activity"),ot=Symbol.for("react.memo_cache_sentinel"),lt=Symbol.iterator;function ne(e){return e===null||typeof e!="object"?null:(e=lt&&e[lt]||e["@@iterator"],typeof e=="function"?e:null)}var De=Symbol.for("react.client.reference");function Ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===De?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case le:return"Profiler";case q:return"StrictMode";case ye:return"Suspense";case Te:return"SuspenseList";case je:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case ee:return e.displayName||"Context";case Le:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case it:return t=e.displayName||null,t!==null?t:Ne(e.type)||"Memo";case be:t=e._payload,e=e._init;try{return Ne(e(t))}catch{}}return null}var Ye=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},ge=[],_e=-1;function L(e){return{current:e}}function J(e){0>_e||(e.current=ge[_e],ge[_e]=null,_e--)}function P(e,t){_e++,ge[_e]=e.current,e.current=t}var ae=L(null),et=L(null),Ut=L(null),pe=L(null);function se(e,t){switch(P(Ut,t),P(et,e),P(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wg(t),e=$g(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(ae),P(ae,e)}function gt(){J(ae),J(et),J(Ut)}function ut(e){e.memoizedState!==null&&P(pe,e);var t=ae.current,i=$g(t,e.type);t!==i&&(P(et,e),P(ae,i))}function On(e){et.current===e&&(J(ae),J(et)),pe.current===e&&(J(pe),fs._currentValue=X)}var si,Zs;function Pt(e){if(si===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);si=t&&t[1]||"",Zs=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+si+e+Zs}var _a=!1;function ci(e,t){if(!e||_a)return"";_a=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var z=function(){throw Error()};if(Object.defineProperty(z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(z,[])}catch(j){var w=j}Reflect.construct(e,[],z)}else{try{z.call()}catch(j){w=j}e.call(z.prototype)}}else{try{throw Error()}catch(j){w=j}(z=e())&&typeof z.catch=="function"&&z.catch(function(){})}}catch(j){if(j&&w&&typeof j.stack=="string")return[j.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],p=u[1];if(m&&p){var b=m.split(`
`),A=p.split(`
`);for(r=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;if(s===b.length||r===A.length)for(s=b.length-1,r=A.length-1;1<=s&&0<=r&&b[s]!==A[r];)r--;for(;1<=s&&0<=r;s--,r--)if(b[s]!==A[r]){if(s!==1||r!==1)do if(s--,r--,0>r||b[s]!==A[r]){var M=`
`+b[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=r);break}}}finally{_a=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Pt(i):""}function Pr(e,t){switch(e.tag){case 26:case 27:case 5:return Pt(e.type);case 16:return Pt("Lazy");case 13:return e.child!==t&&t!==null?Pt("Suspense Fallback"):Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return ci(e.type,!1);case 11:return ci(e.type.render,!1);case 1:return ci(e.type,!0);case 31:return Pt("Activity");default:return""}}function Yt(e){try{var t="",i=null;do t+=Pr(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var En=Object.prototype.hasOwnProperty,Lt=l.unstable_scheduleCallback,Vi=l.unstable_cancelCallback,en=l.unstable_shouldYield,Gi=l.unstable_requestPaint,ke=l.unstable_now,wt=l.unstable_getCurrentPriorityLevel,jt=l.unstable_ImmediatePriority,xn=l.unstable_UserBlockingPriority,Dt=l.unstable_NormalPriority,Tn=l.unstable_LowPriority,ba=l.unstable_IdlePriority,Js=l.log,eo=l.unstable_setDisableYieldValue,tn=null,Mt=null;function bt(e){if(typeof Js=="function"&&eo(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(tn,e)}catch{}}var ht=Math.clz32?Math.clz32:Ca,Ws=Math.log,Sa=Math.LN2;function Ca(e){return e>>>=0,e===0?32:31-(Ws(e)/Sa|0)|0}var qi=256,Yi=262144,Rn=4194304;function Nn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Qi(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~u,s!==0?r=Nn(s):(m&=p,m!==0?r=Nn(m):i||(i=p&~e,i!==0&&(r=Nn(i))))):(p=s&~u,p!==0?r=Nn(p):m!==0?r=Nn(m):i||(i=s&~e,i!==0&&(r=Nn(i)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:r}function ri(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $s(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ea(){var e=Rn;return Rn<<=1,(Rn&62914560)===0&&(Rn=4194304),e}function yl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Fi(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ps(e,t,i,s,r,u){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(i=m&~i;0<i;){var M=31-ht(i),z=1<<M;p[M]=0,b[M]=-1;var w=A[M];if(w!==null)for(A[M]=null,M=0;M<w.length;M++){var j=w[M];j!==null&&(j.lane&=-536870913)}i&=~z}s!==0&&ec(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function ec(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-ht(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function tc(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-ht(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function nc(e,t){var i=t&-t;return i=(i&42)!==0?1:xa(i),(i&(e.suspendedLanes|t))!==0?0:i}function xa(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ta(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Na(){var e=B.p;return e!==0?e:(e=window.event,e===void 0?32:Sp(e.type))}function Aa(e,t){var i=B.p;try{return B.p=e,t()}finally{B.p=i}}var _=Math.random().toString(36).slice(2),I="__reactFiber$"+_,G="__reactProps$"+_,$="__reactContainer$"+_,Qe="__reactEvents$"+_,nn="__reactListeners$"+_,Qt="__reactHandles$"+_,kd="__reactResources$"+_,wa="__reactMarker$"+_;function to(e){delete e[I],delete e[G],delete e[Qe],delete e[nn],delete e[Qt]}function _l(e){var t=e[I];if(t)return t;for(var i=e.parentNode;i;){if(t=i[$]||i[I]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=ap(e);e!==null;){if(i=e[I])return i;e=ap(e)}return t}e=i,i=e.parentNode}return null}function bl(e){if(e=e[I]||e[$]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ja(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function Sl(e){var t=e[kd];return t||(t=e[kd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function pt(e){e[wa]=!0}var Bd=new Set,Hd={};function Xi(e,t){Cl(e,t),Cl(e+"Capture",t)}function Cl(e,t){for(Hd[e]=t,e=0;e<t.length;e++)Bd.add(t[e])}var h_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Id={},Vd={};function d_(e){return En.call(Vd,e)?!0:En.call(Id,e)?!1:h_.test(e)?Vd[e]=!0:(Id[e]=!0,!1)}function ic(e,t,i){if(d_(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function lc(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function zn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function ln(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function f_(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){i=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function no(e){if(!e._valueTracker){var t=Gd(e)?"checked":"value";e._valueTracker=f_(e,t,""+e[t])}}function qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Gd(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var m_=/[\n"\\]/g;function an(e){return e.replace(m_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function io(e,t,i,s,r,u,m,p){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ln(t)):e.value!==""+ln(t)&&(e.value=""+ln(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?lo(e,m,ln(t)):i!=null?lo(e,m,ln(i)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+ln(p):e.removeAttribute("name")}function Yd(e,t,i,s,r,u,m,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){no(e);return}i=i!=null?""+ln(i):"",t=t!=null?""+ln(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),no(e)}function lo(e,t,i){t==="number"&&ac(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function El(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+ln(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Qd(e,t,i){if(t!=null&&(t=""+ln(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+ln(i):""}function Fd(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(c(92));if(Ye(s)){if(1<s.length)throw Error(c(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=ln(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),no(e)}function xl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var g_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xd(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||g_.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Kd(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Xd(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Xd(e,u,t[u])}function ao(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var p_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),v_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sc(e){return v_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Un(){}var so=null;function co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,Nl=null;function Zd(e){var t=bl(e);if(t&&(e=t.stateNode)){var i=e[G]||null;e:switch(e=t.stateNode,t.type){case"input":if(io(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+an(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[G]||null;if(!r)throw Error(c(90));io(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&qd(s)}break e;case"textarea":Qd(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&El(e,!!i.multiple,t,!1)}}}var ro=!1;function Jd(e,t,i){if(ro)return e(t,i);ro=!0;try{var s=e(t);return s}finally{if(ro=!1,(Tl!==null||Nl!==null)&&(Xc(),Tl&&(t=Tl,e=Nl,Nl=Tl=null,Zd(t),e)))for(t=0;t<e.length;t++)Zd(e[t])}}function Da(e,t){var i=e.stateNode;if(i===null)return null;var s=i[G]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=!1;if(Ln)try{var Ma={};Object.defineProperty(Ma,"passive",{get:function(){oo=!0}}),window.addEventListener("test",Ma,Ma),window.removeEventListener("test",Ma,Ma)}catch{oo=!1}var oi=null,uo=null,cc=null;function Wd(){if(cc)return cc;var e,t=uo,i=t.length,s,r="value"in oi?oi.value:oi.textContent,u=r.length;for(e=0;e<i&&t[e]===r[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===r[u-s];s++);return cc=r.slice(e,1<s?1-s:void 0)}function rc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function oc(){return!0}function $d(){return!1}function kt(e){function t(i,s,r,u,m){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?oc:$d,this.isPropagationStopped=$d,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),t}var Ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uc=kt(Ki),Oa=S({},Ki,{view:0,detail:0}),y_=kt(Oa),ho,fo,Ra,hc=S({},Oa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:go,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ra&&(Ra&&e.type==="mousemove"?(ho=e.screenX-Ra.screenX,fo=e.screenY-Ra.screenY):fo=ho=0,Ra=e),ho)},movementY:function(e){return"movementY"in e?e.movementY:fo}}),Pd=kt(hc),__=S({},hc,{dataTransfer:0}),b_=kt(__),S_=S({},Oa,{relatedTarget:0}),mo=kt(S_),C_=S({},Ki,{animationName:0,elapsedTime:0,pseudoElement:0}),E_=kt(C_),x_=S({},Ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),T_=kt(x_),N_=S({},Ki,{data:0}),ef=kt(N_),A_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j_[e])?!!t[e]:!1}function go(){return D_}var M_=S({},Oa,{key:function(e){if(e.key){var t=A_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=rc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?w_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:go,charCode:function(e){return e.type==="keypress"?rc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?rc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),O_=kt(M_),R_=S({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=kt(R_),z_=S({},Oa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:go}),U_=kt(z_),L_=S({},Ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),k_=kt(L_),B_=S({},hc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H_=kt(B_),I_=S({},Ki,{newState:0,oldState:0}),V_=kt(I_),G_=[9,13,27,32],po=Ln&&"CompositionEvent"in window,za=null;Ln&&"documentMode"in document&&(za=document.documentMode);var q_=Ln&&"TextEvent"in window&&!za,nf=Ln&&(!po||za&&8<za&&11>=za),lf=" ",af=!1;function sf(e,t){switch(e){case"keyup":return G_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Al=!1;function Y_(e,t){switch(e){case"compositionend":return cf(t);case"keypress":return t.which!==32?null:(af=!0,lf);case"textInput":return e=t.data,e===lf&&af?null:e;default:return null}}function Q_(e,t){if(Al)return e==="compositionend"||!po&&sf(e,t)?(e=Wd(),cc=uo=oi=null,Al=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nf&&t.locale!=="ko"?null:t.data;default:return null}}var F_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F_[e.type]:t==="textarea"}function of(e,t,i,s){Tl?Nl?Nl.push(s):Nl=[s]:Tl=s,t=er(t,"onChange"),0<t.length&&(i=new uc("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Ua=null,La=null;function X_(e){Qg(e,0)}function dc(e){var t=ja(e);if(qd(t))return e}function uf(e,t){if(e==="change")return t}var hf=!1;if(Ln){var vo;if(Ln){var yo="oninput"in document;if(!yo){var df=document.createElement("div");df.setAttribute("oninput","return;"),yo=typeof df.oninput=="function"}vo=yo}else vo=!1;hf=vo&&(!document.documentMode||9<document.documentMode)}function ff(){Ua&&(Ua.detachEvent("onpropertychange",mf),La=Ua=null)}function mf(e){if(e.propertyName==="value"&&dc(La)){var t=[];of(t,La,e,co(e)),Jd(X_,t)}}function K_(e,t,i){e==="focusin"?(ff(),Ua=t,La=i,Ua.attachEvent("onpropertychange",mf)):e==="focusout"&&ff()}function Z_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dc(La)}function J_(e,t){if(e==="click")return dc(t)}function W_(e,t){if(e==="input"||e==="change")return dc(t)}function $_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:$_;function ka(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!En.call(t,r)||!Ft(e[r],t[r]))return!1}return!0}function gf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var i=gf(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=gf(i)}}function vf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function yf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ac(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ac(e.document)}return t}function _o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var P_=Ln&&"documentMode"in document&&11>=document.documentMode,wl=null,bo=null,Ba=null,So=!1;function _f(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;So||wl==null||wl!==ac(s)||(s=wl,"selectionStart"in s&&_o(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ba&&ka(Ba,s)||(Ba=s,s=er(bo,"onSelect"),0<s.length&&(t=new uc("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=wl)))}function Zi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var jl={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},Co={},bf={};Ln&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Ji(e){if(Co[e])return Co[e];if(!jl[e])return e;var t=jl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in bf)return Co[e]=t[i];return e}var Sf=Ji("animationend"),Cf=Ji("animationiteration"),Ef=Ji("animationstart"),e1=Ji("transitionrun"),t1=Ji("transitionstart"),n1=Ji("transitioncancel"),xf=Ji("transitionend"),Tf=new Map,Eo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eo.push("scrollEnd");function pn(e,t){Tf.set(e,t),Xi(t,[e])}var fc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},sn=[],Dl=0,xo=0;function mc(){for(var e=Dl,t=xo=Dl=0;t<e;){var i=sn[t];sn[t++]=null;var s=sn[t];sn[t++]=null;var r=sn[t];sn[t++]=null;var u=sn[t];if(sn[t++]=null,s!==null&&r!==null){var m=s.pending;m===null?r.next=r:(r.next=m.next,m.next=r),s.pending=r}u!==0&&Nf(i,r,u)}}function gc(e,t,i,s){sn[Dl++]=e,sn[Dl++]=t,sn[Dl++]=i,sn[Dl++]=s,xo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function To(e,t,i,s){return gc(e,t,i,s),pc(e)}function Wi(e,t){return gc(e,null,null,t),pc(e)}function Nf(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-ht(i),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),u):null}function pc(e){if(50<ss)throw ss=0,zu=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ml={};function i1(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,i,s){return new i1(e,t,i,s)}function No(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kn(e,t){var i=e.alternate;return i===null?(i=Xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Af(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function vc(e,t,i,s,r,u){var m=0;if(s=e,typeof e=="function")No(e)&&(m=1);else if(typeof e=="string")m=r0(e,i,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case je:return e=Xt(31,i,t,r),e.elementType=je,e.lanes=u,e;case F:return $i(i.children,r,u,t);case q:m=8,r|=24;break;case le:return e=Xt(12,i,t,r|2),e.elementType=le,e.lanes=u,e;case ye:return e=Xt(13,i,t,r),e.elementType=ye,e.lanes=u,e;case Te:return e=Xt(19,i,t,r),e.elementType=Te,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ee:m=10;break e;case Le:m=9;break e;case Z:m=11;break e;case it:m=14;break e;case be:m=16,s=null;break e}m=29,i=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Xt(m,i,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function $i(e,t,i,s){return e=Xt(7,e,s,t),e.lanes=i,e}function Ao(e,t,i){return e=Xt(6,e,null,t),e.lanes=i,e}function wf(e){var t=Xt(18,null,null,0);return t.stateNode=e,t}function wo(e,t,i){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var jf=new WeakMap;function cn(e,t){if(typeof e=="object"&&e!==null){var i=jf.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Yt(t)},jf.set(e,t),t)}return{value:e,source:t,stack:Yt(t)}}var Ol=[],Rl=0,yc=null,Ha=0,rn=[],on=0,ui=null,An=1,wn="";function Bn(e,t){Ol[Rl++]=Ha,Ol[Rl++]=yc,yc=e,Ha=t}function Df(e,t,i){rn[on++]=An,rn[on++]=wn,rn[on++]=ui,ui=e;var s=An;e=wn;var r=32-ht(s)-1;s&=~(1<<r),i+=1;var u=32-ht(t)+r;if(30<u){var m=r-r%5;u=(s&(1<<m)-1).toString(32),s>>=m,r-=m,An=1<<32-ht(t)+r|i<<r|s,wn=u+e}else An=1<<u|i<<r|s,wn=e}function jo(e){e.return!==null&&(Bn(e,1),Df(e,1,0))}function Do(e){for(;e===yc;)yc=Ol[--Rl],Ol[Rl]=null,Ha=Ol[--Rl],Ol[Rl]=null;for(;e===ui;)ui=rn[--on],rn[on]=null,wn=rn[--on],rn[on]=null,An=rn[--on],rn[on]=null}function Mf(e,t){rn[on++]=An,rn[on++]=wn,rn[on++]=ui,An=t.id,wn=t.overflow,ui=e}var St=null,Ve=null,me=!1,hi=null,un=!1,Mo=Error(c(519));function di(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ia(cn(t,e)),Mo}function Of(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[I]=e,t[G]=s,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<rs.length;i++)ue(rs[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),Yd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),Fd(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Zg(t.textContent,i)?(s.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),s.onScroll!=null&&ue("scroll",t),s.onScrollEnd!=null&&ue("scrollend",t),s.onClick!=null&&(t.onclick=Un),t=!0):t=!1,t||di(e,!0)}function Rf(e){for(St=e.return;St;)switch(St.tag){case 5:case 31:case 13:un=!1;return;case 27:case 3:un=!0;return;default:St=St.return}}function zl(e){if(e!==St)return!1;if(!me)return Rf(e),me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Zu(e.type,e.memoizedProps)),i=!i),i&&Ve&&di(e),Rf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ve=lp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ve=lp(e)}else t===27?(t=Ve,Ni(e.type)?(e=eh,eh=null,Ve=e):Ve=t):Ve=St?dn(e.stateNode.nextSibling):null;return!0}function Pi(){Ve=St=null,me=!1}function Oo(){var e=hi;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),hi=null),e}function Ia(e){hi===null?hi=[e]:hi.push(e)}var Ro=L(null),el=null,Hn=null;function fi(e,t,i){P(Ro,t._currentValue),t._currentValue=i}function In(e){e._currentValue=Ro.current,J(Ro)}function zo(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Uo(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var m=r.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=r;for(var b=0;b<t.length;b++)if(p.context===t[b]){u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),zo(u.return,i,e),s||(m=null);break e}u=p.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(c(341));m.lanes|=i,u=m.alternate,u!==null&&(u.lanes|=i),zo(m,i,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Ul(e,t,i,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var p=r.type;Ft(r.pendingProps.value,m.value)||(e!==null?e.push(p):e=[p])}}else if(r===pe.current){if(m=r.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(fs):e=[fs])}r=r.return}e!==null&&Uo(t,e,i,s),t.flags|=262144}function _c(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tl(e){el=e,Hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ct(e){return zf(el,e)}function bc(e,t){return el===null&&tl(e),zf(e,t)}function zf(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Hn===null){if(e===null)throw Error(c(308));Hn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Hn=Hn.next=t;return i}var l1=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},a1=l.unstable_scheduleCallback,s1=l.unstable_NormalPriority,at={$$typeof:ee,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lo(){return{controller:new l1,data:new Map,refCount:0}}function Va(e){e.refCount--,e.refCount===0&&a1(s1,function(){e.controller.abort()})}var Ga=null,ko=0,Ll=0,kl=null;function c1(e,t){if(Ga===null){var i=Ga=[];ko=0,Ll=Iu(),kl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return ko++,t.then(Uf,Uf),t}function Uf(){if(--ko===0&&Ga!==null){kl!==null&&(kl.status="fulfilled");var e=Ga;Ga=null,Ll=0,kl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function r1(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var Lf=D.S;D.S=function(e,t){_g=ke(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&c1(e,t),Lf!==null&&Lf(e,t)};var nl=L(null);function Bo(){var e=nl.current;return e!==null?e:Ue.pooledCache}function Sc(e,t){t===null?P(nl,nl.current):P(nl,t.pool)}function kf(){var e=Bo();return e===null?null:{parent:at._currentValue,pool:e}}var Bl=Error(c(460)),Ho=Error(c(474)),Cc=Error(c(542)),Ec={then:function(){}};function Bf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Hf(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Un,Un),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vf(e),e;default:if(typeof t.status=="string")t.then(Un,Un);else{if(e=Ue,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Vf(e),e}throw ll=t,Bl}}function il(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(ll=i,Bl):i}}var ll=null;function If(){if(ll===null)throw Error(c(459));var e=ll;return ll=null,e}function Vf(e){if(e===Bl||e===Cc)throw Error(c(483))}var Hl=null,qa=0;function xc(e){var t=qa;return qa+=1,Hl===null&&(Hl=[]),Hf(Hl,e,t)}function Ya(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Tc(e,t){throw t.$$typeof===C?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Gf(e){function t(x,E){if(e){var N=x.deletions;N===null?(x.deletions=[E],x.flags|=16):N.push(E)}}function i(x,E){if(!e)return null;for(;E!==null;)t(x,E),E=E.sibling;return null}function s(x){for(var E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function r(x,E){return x=kn(x,E),x.index=0,x.sibling=null,x}function u(x,E,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<E?(x.flags|=67108866,E):N):(x.flags|=67108866,E)):(x.flags|=1048576,E)}function m(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function p(x,E,N,O){return E===null||E.tag!==6?(E=Ao(N,x.mode,O),E.return=x,E):(E=r(E,N),E.return=x,E)}function b(x,E,N,O){var Q=N.type;return Q===F?M(x,E,N.props.children,O,N.key):E!==null&&(E.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===be&&il(Q)===E.type)?(E=r(E,N.props),Ya(E,N),E.return=x,E):(E=vc(N.type,N.key,N.props,null,x.mode,O),Ya(E,N),E.return=x,E)}function A(x,E,N,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=wo(N,x.mode,O),E.return=x,E):(E=r(E,N.children||[]),E.return=x,E)}function M(x,E,N,O,Q){return E===null||E.tag!==7?(E=$i(N,x.mode,O,Q),E.return=x,E):(E=r(E,N),E.return=x,E)}function z(x,E,N){if(typeof E=="string"&&E!==""||typeof E=="number"||typeof E=="bigint")return E=Ao(""+E,x.mode,N),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case R:return N=vc(E.type,E.key,E.props,null,x.mode,N),Ya(N,E),N.return=x,N;case U:return E=wo(E,x.mode,N),E.return=x,E;case be:return E=il(E),z(x,E,N)}if(Ye(E)||ne(E))return E=$i(E,x.mode,N,null),E.return=x,E;if(typeof E.then=="function")return z(x,xc(E),N);if(E.$$typeof===ee)return z(x,bc(x,E),N);Tc(x,E)}return null}function w(x,E,N,O){var Q=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Q!==null?null:p(x,E,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case R:return N.key===Q?b(x,E,N,O):null;case U:return N.key===Q?A(x,E,N,O):null;case be:return N=il(N),w(x,E,N,O)}if(Ye(N)||ne(N))return Q!==null?null:M(x,E,N,O,null);if(typeof N.then=="function")return w(x,E,xc(N),O);if(N.$$typeof===ee)return w(x,E,bc(x,N),O);Tc(x,N)}return null}function j(x,E,N,O,Q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return x=x.get(N)||null,p(E,x,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return x=x.get(O.key===null?N:O.key)||null,b(E,x,O,Q);case U:return x=x.get(O.key===null?N:O.key)||null,A(E,x,O,Q);case be:return O=il(O),j(x,E,N,O,Q)}if(Ye(O)||ne(O))return x=x.get(N)||null,M(E,x,O,Q,null);if(typeof O.then=="function")return j(x,E,N,xc(O),Q);if(O.$$typeof===ee)return j(x,E,N,bc(E,O),Q);Tc(E,O)}return null}function V(x,E,N,O){for(var Q=null,Se=null,Y=E,ie=E=0,fe=null;Y!==null&&ie<N.length;ie++){Y.index>ie?(fe=Y,Y=null):fe=Y.sibling;var Ce=w(x,Y,N[ie],O);if(Ce===null){Y===null&&(Y=fe);break}e&&Y&&Ce.alternate===null&&t(x,Y),E=u(Ce,E,ie),Se===null?Q=Ce:Se.sibling=Ce,Se=Ce,Y=fe}if(ie===N.length)return i(x,Y),me&&Bn(x,ie),Q;if(Y===null){for(;ie<N.length;ie++)Y=z(x,N[ie],O),Y!==null&&(E=u(Y,E,ie),Se===null?Q=Y:Se.sibling=Y,Se=Y);return me&&Bn(x,ie),Q}for(Y=s(Y);ie<N.length;ie++)fe=j(Y,x,ie,N[ie],O),fe!==null&&(e&&fe.alternate!==null&&Y.delete(fe.key===null?ie:fe.key),E=u(fe,E,ie),Se===null?Q=fe:Se.sibling=fe,Se=fe);return e&&Y.forEach(function(Mi){return t(x,Mi)}),me&&Bn(x,ie),Q}function K(x,E,N,O){if(N==null)throw Error(c(151));for(var Q=null,Se=null,Y=E,ie=E=0,fe=null,Ce=N.next();Y!==null&&!Ce.done;ie++,Ce=N.next()){Y.index>ie?(fe=Y,Y=null):fe=Y.sibling;var Mi=w(x,Y,Ce.value,O);if(Mi===null){Y===null&&(Y=fe);break}e&&Y&&Mi.alternate===null&&t(x,Y),E=u(Mi,E,ie),Se===null?Q=Mi:Se.sibling=Mi,Se=Mi,Y=fe}if(Ce.done)return i(x,Y),me&&Bn(x,ie),Q;if(Y===null){for(;!Ce.done;ie++,Ce=N.next())Ce=z(x,Ce.value,O),Ce!==null&&(E=u(Ce,E,ie),Se===null?Q=Ce:Se.sibling=Ce,Se=Ce);return me&&Bn(x,ie),Q}for(Y=s(Y);!Ce.done;ie++,Ce=N.next())Ce=j(Y,x,ie,Ce.value,O),Ce!==null&&(e&&Ce.alternate!==null&&Y.delete(Ce.key===null?ie:Ce.key),E=u(Ce,E,ie),Se===null?Q=Ce:Se.sibling=Ce,Se=Ce);return e&&Y.forEach(function(_0){return t(x,_0)}),me&&Bn(x,ie),Q}function Re(x,E,N,O){if(typeof N=="object"&&N!==null&&N.type===F&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case R:e:{for(var Q=N.key;E!==null;){if(E.key===Q){if(Q=N.type,Q===F){if(E.tag===7){i(x,E.sibling),O=r(E,N.props.children),O.return=x,x=O;break e}}else if(E.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===be&&il(Q)===E.type){i(x,E.sibling),O=r(E,N.props),Ya(O,N),O.return=x,x=O;break e}i(x,E);break}else t(x,E);E=E.sibling}N.type===F?(O=$i(N.props.children,x.mode,O,N.key),O.return=x,x=O):(O=vc(N.type,N.key,N.props,null,x.mode,O),Ya(O,N),O.return=x,x=O)}return m(x);case U:e:{for(Q=N.key;E!==null;){if(E.key===Q)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){i(x,E.sibling),O=r(E,N.children||[]),O.return=x,x=O;break e}else{i(x,E);break}else t(x,E);E=E.sibling}O=wo(N,x.mode,O),O.return=x,x=O}return m(x);case be:return N=il(N),Re(x,E,N,O)}if(Ye(N))return V(x,E,N,O);if(ne(N)){if(Q=ne(N),typeof Q!="function")throw Error(c(150));return N=Q.call(N),K(x,E,N,O)}if(typeof N.then=="function")return Re(x,E,xc(N),O);if(N.$$typeof===ee)return Re(x,E,bc(x,N),O);Tc(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,E!==null&&E.tag===6?(i(x,E.sibling),O=r(E,N),O.return=x,x=O):(i(x,E),O=Ao(N,x.mode,O),O.return=x,x=O),m(x)):i(x,E)}return function(x,E,N,O){try{qa=0;var Q=Re(x,E,N,O);return Hl=null,Q}catch(Y){if(Y===Bl||Y===Cc)throw Y;var Se=Xt(29,Y,null,x.mode);return Se.lanes=O,Se.return=x,Se}}}var al=Gf(!0),qf=Gf(!1),mi=!1;function Io(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Vo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(xe&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=pc(e),Nf(e,null,i),t}return gc(e,s,t,i),pc(e)}function Qa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,tc(e,i)}}function Go(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?r=u=m:u=u.next=m,i=i.next}while(i!==null);u===null?r=u=t:u=u.next=t}else r=u=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var qo=!1;function Fa(){if(qo){var e=kl;if(e!==null)throw e}}function Xa(e,t,i,s){qo=!1;var r=e.updateQueue;mi=!1;var u=r.firstBaseUpdate,m=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var b=p,A=b.next;b.next=null,m===null?u=A:m.next=A,m=b;var M=e.alternate;M!==null&&(M=M.updateQueue,p=M.lastBaseUpdate,p!==m&&(p===null?M.firstBaseUpdate=A:p.next=A,M.lastBaseUpdate=b))}if(u!==null){var z=r.baseState;m=0,M=A=b=null,p=u;do{var w=p.lane&-536870913,j=w!==p.lane;if(j?(de&w)===w:(s&w)===w){w!==0&&w===Ll&&(qo=!0),M!==null&&(M=M.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var V=e,K=p;w=t;var Re=i;switch(K.tag){case 1:if(V=K.payload,typeof V=="function"){z=V.call(Re,z,w);break e}z=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=K.payload,w=typeof V=="function"?V.call(Re,z,w):V,w==null)break e;z=S({},z,w);break e;case 2:mi=!0}}w=p.callback,w!==null&&(e.flags|=64,j&&(e.flags|=8192),j=r.callbacks,j===null?r.callbacks=[w]:j.push(w))}else j={lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},M===null?(A=M=j,b=z):M=M.next=j,m|=w;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;j=p,p=j.next,j.next=null,r.lastBaseUpdate=j,r.shared.pending=null}}while(!0);M===null&&(b=z),r.baseState=b,r.firstBaseUpdate=A,r.lastBaseUpdate=M,u===null&&(r.shared.lanes=0),Si|=m,e.lanes=m,e.memoizedState=z}}function Yf(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Qf(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Yf(i[e],t)}var Il=L(null),Nc=L(0);function Ff(e,t){e=Zn,P(Nc,e),P(Il,t),Zn=e|t.baseLanes}function Yo(){P(Nc,Zn),P(Il,Il.current)}function Qo(){Zn=Nc.current,J(Il),J(Nc)}var Kt=L(null),hn=null;function vi(e){var t=e.alternate;P(tt,tt.current&1),P(Kt,e),hn===null&&(t===null||Il.current!==null||t.memoizedState!==null)&&(hn=e)}function Fo(e){P(tt,tt.current),P(Kt,e),hn===null&&(hn=e)}function Xf(e){e.tag===22?(P(tt,tt.current),P(Kt,e),hn===null&&(hn=e)):yi()}function yi(){P(tt,tt.current),P(Kt,Kt.current)}function Zt(e){J(Kt),hn===e&&(hn=null),J(tt)}var tt=L(0);function Ac(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||$u(i)||Pu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vn=0,te=null,Me=null,st=null,wc=!1,Vl=!1,sl=!1,jc=0,Ka=0,Gl=null,o1=0;function Xe(){throw Error(c(321))}function Xo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ft(e[i],t[i]))return!1;return!0}function Ko(e,t,i,s,r,u){return Vn=u,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Dm:ou,sl=!1,u=i(s,r),sl=!1,Vl&&(u=Zf(t,i,s,r)),Kf(e),u}function Kf(e){D.H=Wa;var t=Me!==null&&Me.next!==null;if(Vn=0,st=Me=te=null,wc=!1,Ka=0,Gl=null,t)throw Error(c(300));e===null||ct||(e=e.dependencies,e!==null&&_c(e)&&(ct=!0))}function Zf(e,t,i,s){te=e;var r=0;do{if(Vl&&(Gl=null),Ka=0,Vl=!1,25<=r)throw Error(c(301));if(r+=1,st=Me=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=Mm,u=t(i,s)}while(Vl);return u}function u1(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Za(t):t,e=e.useState()[0],(Me!==null?Me.memoizedState:null)!==e&&(te.flags|=1024),t}function Zo(){var e=jc!==0;return jc=0,e}function Jo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Wo(e){if(wc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wc=!1}Vn=0,st=Me=te=null,Vl=!1,Ka=jc=0,Gl=null}function Ot(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return st===null?te.memoizedState=st=e:st=st.next=e,st}function nt(){if(Me===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=st===null?te.memoizedState:st.next;if(t!==null)st=t,Me=e;else{if(e===null)throw te.alternate===null?Error(c(467)):Error(c(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},st===null?te.memoizedState=st=e:st=st.next=e}return st}function Dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(e){var t=Ka;return Ka+=1,Gl===null&&(Gl=[]),e=Hf(Gl,e,t),t=te,(st===null?t.memoizedState:st.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Dm:ou),e}function Mc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Za(e);if(e.$$typeof===ee)return Ct(e)}throw Error(c(438,String(e)))}function $o(e){var t=null,i=te.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Dc(),te.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=ot;return t.index++,i}function Gn(e,t){return typeof t=="function"?t(e):t}function Oc(e){var t=nt();return Po(t,Me,e)}function Po(e,t,i){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=i;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var m=r.next;r.next=u.next,u.next=m}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var p=m=null,b=null,A=t,M=!1;do{var z=A.lane&-536870913;if(z!==A.lane?(de&z)===z:(Vn&z)===z){var w=A.revertLane;if(w===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),z===Ll&&(M=!0);else if((Vn&w)===w){A=A.next,w===Ll&&(M=!0);continue}else z={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=z,m=u):b=b.next=z,te.lanes|=w,Si|=w;z=A.action,sl&&i(u,z),u=A.hasEagerState?A.eagerState:i(u,z)}else w={lane:z,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=w,m=u):b=b.next=w,te.lanes|=z,Si|=z;A=A.next}while(A!==null&&A!==t);if(b===null?m=u:b.next=p,!Ft(u,e.memoizedState)&&(ct=!0,M&&(i=kl,i!==null)))throw i;e.memoizedState=u,e.baseState=m,e.baseQueue=b,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function eu(e){var t=nt(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,u=t.memoizedState;if(r!==null){i.pending=null;var m=r=r.next;do u=e(u,m.action),m=m.next;while(m!==r);Ft(u,t.memoizedState)||(ct=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function Jf(e,t,i){var s=te,r=nt(),u=me;if(u){if(i===void 0)throw Error(c(407));i=i()}else i=t();var m=!Ft((Me||r).memoizedState,i);if(m&&(r.memoizedState=i,ct=!0),r=r.queue,iu(Pf.bind(null,s,r,e),[e]),r.getSnapshot!==t||m||st!==null&&st.memoizedState.tag&1){if(s.flags|=2048,ql(9,{destroy:void 0},$f.bind(null,s,r,i,t),null),Ue===null)throw Error(c(349));u||(Vn&127)!==0||Wf(s,t,i)}return i}function Wf(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=te.updateQueue,t===null?(t=Dc(),te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function $f(e,t,i,s){t.value=i,t.getSnapshot=s,em(t)&&tm(e)}function Pf(e,t,i){return i(function(){em(t)&&tm(e)})}function em(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ft(e,i)}catch{return!0}}function tm(e){var t=Wi(e,2);t!==null&&Gt(t,e,2)}function tu(e){var t=Ot();if(typeof e=="function"){var i=e;if(e=i(),sl){bt(!0);try{i()}finally{bt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t}function nm(e,t,i,s){return e.baseState=i,Po(e,Me,typeof s=="function"?s:Gn)}function h1(e,t,i,s,r){if(Uc(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};D.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,im(t,u)):(u.next=i.next,t.pending=i.next=u)}}function im(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=D.T,m={};D.T=m;try{var p=i(r,s),b=D.S;b!==null&&b(m,p),lm(e,t,p)}catch(A){nu(e,t,A)}finally{u!==null&&m.types!==null&&(u.types=m.types),D.T=u}}else try{u=i(r,s),lm(e,t,u)}catch(A){nu(e,t,A)}}function lm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){am(e,t,s)},function(s){return nu(e,t,s)}):am(e,t,i)}function am(e,t,i){t.status="fulfilled",t.value=i,sm(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,im(e,i)))}function nu(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,sm(t),t=t.next;while(t!==s)}e.action=null}function sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function cm(e,t){return t}function rm(e,t){if(me){var i=Ue.formState;if(i!==null){e:{var s=te;if(me){if(Ve){t:{for(var r=Ve,u=un;r.nodeType!==8;){if(!u){r=null;break t}if(r=dn(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Ve=dn(r.nextSibling),s=r.data==="F!";break e}}di(s)}s=!1}s&&(t=i[0])}}return i=Ot(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cm,lastRenderedState:t},i.queue=s,i=Am.bind(null,te,s),s.dispatch=i,s=tu(!1),u=ru.bind(null,te,!1,s.queue),s=Ot(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=h1.bind(null,te,r,u,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function om(e){var t=nt();return um(t,Me,e)}function um(e,t,i){if(t=Po(e,t,cm)[0],e=Oc(Gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Za(t)}catch(m){throw m===Bl?Cc:m}else s=t;t=nt();var r=t.queue,u=r.dispatch;return i!==t.memoizedState&&(te.flags|=2048,ql(9,{destroy:void 0},d1.bind(null,r,i),null)),[s,u,e]}function d1(e,t){e.action=t}function hm(e){var t=nt(),i=Me;if(i!==null)return um(t,i,e);nt(),t=t.memoizedState,i=nt();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function ql(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=te.updateQueue,t===null&&(t=Dc(),te.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function dm(){return nt().memoizedState}function Rc(e,t,i,s){var r=Ot();te.flags|=e,r.memoizedState=ql(1|t,{destroy:void 0},i,s===void 0?null:s)}function zc(e,t,i,s){var r=nt();s=s===void 0?null:s;var u=r.memoizedState.inst;Me!==null&&s!==null&&Xo(s,Me.memoizedState.deps)?r.memoizedState=ql(t,u,i,s):(te.flags|=e,r.memoizedState=ql(1|t,u,i,s))}function fm(e,t){Rc(8390656,8,e,t)}function iu(e,t){zc(2048,8,e,t)}function f1(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=Dc(),te.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function mm(e){var t=nt().memoizedState;return f1({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function gm(e,t){return zc(4,2,e,t)}function pm(e,t){return zc(4,4,e,t)}function vm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ym(e,t,i){i=i!=null?i.concat([e]):null,zc(4,4,vm.bind(null,t,e),i)}function lu(){}function _m(e,t){var i=nt();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Xo(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function bm(e,t){var i=nt();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Xo(t,s[1]))return s[0];if(s=e(),sl){bt(!0);try{e()}finally{bt(!1)}}return i.memoizedState=[s,t],s}function au(e,t,i){return i===void 0||(Vn&1073741824)!==0&&(de&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Sg(),te.lanes|=e,Si|=e,i)}function Sm(e,t,i,s){return Ft(i,t)?i:Il.current!==null?(e=au(e,i,s),Ft(e,t)||(ct=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(de&261930)===0?(ct=!0,e.memoizedState=i):(e=Sg(),te.lanes|=e,Si|=e,t)}function Cm(e,t,i,s,r){var u=B.p;B.p=u!==0&&8>u?u:8;var m=D.T,p={};D.T=p,ru(e,!1,t,i);try{var b=r(),A=D.S;if(A!==null&&A(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=r1(b,s);Ja(e,t,M,$t(e))}else Ja(e,t,s,$t(e))}catch(z){Ja(e,t,{then:function(){},status:"rejected",reason:z},$t())}finally{B.p=u,m!==null&&p.types!==null&&(m.types=p.types),D.T=m}}function m1(){}function su(e,t,i,s){if(e.tag!==5)throw Error(c(476));var r=Em(e).queue;Cm(e,r,t,X,i===null?m1:function(){return xm(e),i(s)})}function Em(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:X},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function xm(e){var t=Em(e);t.next===null&&(t=e.alternate.memoizedState),Ja(e,t.next.queue,{},$t())}function cu(){return Ct(fs)}function Tm(){return nt().memoizedState}function Nm(){return nt().memoizedState}function g1(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=$t();e=gi(i);var s=pi(t,e,i);s!==null&&(Gt(s,t,i),Qa(s,t,i)),t={cache:Lo()},e.payload=t;return}t=t.return}}function p1(e,t,i){var s=$t();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Uc(e)?wm(t,i):(i=To(e,t,i,s),i!==null&&(Gt(i,e,s),jm(i,t,s)))}function Am(e,t,i){var s=$t();Ja(e,t,i,s)}function Ja(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Uc(e))wm(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,p=u(m,i);if(r.hasEagerState=!0,r.eagerState=p,Ft(p,m))return gc(e,t,r,0),Ue===null&&mc(),!1}catch{}if(i=To(e,t,r,s),i!==null)return Gt(i,e,s),jm(i,t,s),!0}return!1}function ru(e,t,i,s){if(s={lane:2,revertLane:Iu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Uc(e)){if(t)throw Error(c(479))}else t=To(e,i,s,2),t!==null&&Gt(t,e,2)}function Uc(e){var t=e.alternate;return e===te||t!==null&&t===te}function wm(e,t){Vl=wc=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function jm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,tc(e,i)}}var Wa={readContext:Ct,use:Mc,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Wa.useEffectEvent=Xe;var Dm={readContext:Ct,use:Mc,useCallback:function(e,t){return Ot().memoizedState=[e,t===void 0?null:t],e},useContext:Ct,useEffect:fm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Rc(4194308,4,vm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Rc(4194308,4,e,t)},useInsertionEffect:function(e,t){Rc(4,2,e,t)},useMemo:function(e,t){var i=Ot();t=t===void 0?null:t;var s=e();if(sl){bt(!0);try{e()}finally{bt(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Ot();if(i!==void 0){var r=i(t);if(sl){bt(!0);try{i(t)}finally{bt(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=p1.bind(null,te,e),[s.memoizedState,e]},useRef:function(e){var t=Ot();return e={current:e},t.memoizedState=e},useState:function(e){e=tu(e);var t=e.queue,i=Am.bind(null,te,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:lu,useDeferredValue:function(e,t){var i=Ot();return au(i,e,t)},useTransition:function(){var e=tu(!1);return e=Cm.bind(null,te,e.queue,!0,!1),Ot().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=te,r=Ot();if(me){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),Ue===null)throw Error(c(349));(de&127)!==0||Wf(s,t,i)}r.memoizedState=i;var u={value:i,getSnapshot:t};return r.queue=u,fm(Pf.bind(null,s,u,e),[e]),s.flags|=2048,ql(9,{destroy:void 0},$f.bind(null,s,u,i,t),null),i},useId:function(){var e=Ot(),t=Ue.identifierPrefix;if(me){var i=wn,s=An;i=(s&~(1<<32-ht(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=jc++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=o1++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:cu,useFormState:rm,useActionState:rm,useOptimistic:function(e){var t=Ot();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=ru.bind(null,te,!0,i),i.dispatch=t,[e,t]},useMemoCache:$o,useCacheRefresh:function(){return Ot().memoizedState=g1.bind(null,te)},useEffectEvent:function(e){var t=Ot(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},ou={readContext:Ct,use:Mc,useCallback:_m,useContext:Ct,useEffect:iu,useImperativeHandle:ym,useInsertionEffect:gm,useLayoutEffect:pm,useMemo:bm,useReducer:Oc,useRef:dm,useState:function(){return Oc(Gn)},useDebugValue:lu,useDeferredValue:function(e,t){var i=nt();return Sm(i,Me.memoizedState,e,t)},useTransition:function(){var e=Oc(Gn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Za(e),t]},useSyncExternalStore:Jf,useId:Tm,useHostTransitionStatus:cu,useFormState:om,useActionState:om,useOptimistic:function(e,t){var i=nt();return nm(i,Me,e,t)},useMemoCache:$o,useCacheRefresh:Nm};ou.useEffectEvent=mm;var Mm={readContext:Ct,use:Mc,useCallback:_m,useContext:Ct,useEffect:iu,useImperativeHandle:ym,useInsertionEffect:gm,useLayoutEffect:pm,useMemo:bm,useReducer:eu,useRef:dm,useState:function(){return eu(Gn)},useDebugValue:lu,useDeferredValue:function(e,t){var i=nt();return Me===null?au(i,e,t):Sm(i,Me.memoizedState,e,t)},useTransition:function(){var e=eu(Gn)[0],t=nt().memoizedState;return[typeof e=="boolean"?e:Za(e),t]},useSyncExternalStore:Jf,useId:Tm,useHostTransitionStatus:cu,useFormState:hm,useActionState:hm,useOptimistic:function(e,t){var i=nt();return Me!==null?nm(i,Me,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:$o,useCacheRefresh:Nm};Mm.useEffectEvent=mm;function uu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var hu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=$t(),r=gi(s);r.payload=t,i!=null&&(r.callback=i),t=pi(e,r,s),t!==null&&(Gt(t,e,s),Qa(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=$t(),r=gi(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=pi(e,r,s),t!==null&&(Gt(t,e,s),Qa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=$t(),s=gi(i);s.tag=2,t!=null&&(s.callback=t),t=pi(e,s,i),t!==null&&(Gt(t,e,i),Qa(t,e,i))}};function Om(e,t,i,s,r,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!ka(i,s)||!ka(r,u):!0}function Rm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&hu.enqueueReplaceState(t,t.state,null)}function cl(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function zm(e){fc(e)}function Um(e){console.error(e)}function Lm(e){fc(e)}function Lc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function km(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function du(e,t,i){return i=gi(i),i.tag=3,i.payload={element:null},i.callback=function(){Lc(e,t)},i}function Bm(e){return e=gi(e),e.tag=3,e}function Hm(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){km(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){km(t,i,s),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function v1(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Ul(t,i,r,!0),i=Kt.current,i!==null){switch(i.tag){case 31:case 13:return hn===null?Kc():i.alternate===null&&Ke===0&&(Ke=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===Ec?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),ku(e,s,r)),!1;case 22:return i.flags|=65536,s===Ec?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),ku(e,s,r)),!1}throw Error(c(435,i.tag))}return ku(e,s,r),Kc(),!1}if(me)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Mo&&(e=Error(c(422),{cause:s}),Ia(cn(e,i)))):(s!==Mo&&(t=Error(c(423),{cause:s}),Ia(cn(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=cn(s,i),r=du(e.stateNode,s,r),Go(e,r),Ke!==4&&(Ke=2)),!1;var u=Error(c(520),{cause:s});if(u=cn(u,i),as===null?as=[u]:as.push(u),Ke!==4&&(Ke=2),t===null)return!0;s=cn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=du(i.stateNode,s,e),Go(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ci===null||!Ci.has(u))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Bm(r),Hm(r,e,i,s),Go(i,r),!1}i=i.return}while(i!==null);return!1}var fu=Error(c(461)),ct=!1;function Et(e,t,i,s){t.child=e===null?qf(t,null,i,s):al(t,e.child,i,s)}function Im(e,t,i,s,r){i=i.render;var u=t.ref;if("ref"in s){var m={};for(var p in s)p!=="ref"&&(m[p]=s[p])}else m=s;return tl(t),s=Ko(e,t,i,m,u,r),p=Zo(),e!==null&&!ct?(Jo(e,t,r),qn(e,t,r)):(me&&p&&jo(t),t.flags|=1,Et(e,t,s,r),t.child)}function Vm(e,t,i,s,r){if(e===null){var u=i.type;return typeof u=="function"&&!No(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Gm(e,t,u,s,r)):(e=vc(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Su(e,r)){var m=u.memoizedProps;if(i=i.compare,i=i!==null?i:ka,i(m,s)&&e.ref===t.ref)return qn(e,t,r)}return t.flags|=1,e=kn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Gm(e,t,i,s,r){if(e!==null){var u=e.memoizedProps;if(ka(u,s)&&e.ref===t.ref)if(ct=!1,t.pendingProps=s=u,Su(e,r))(e.flags&131072)!==0&&(ct=!0);else return t.lanes=e.lanes,qn(e,t,r)}return mu(e,t,i,s,r)}function qm(e,t,i,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return Ym(e,t,u,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Sc(t,u!==null?u.cachePool:null),u!==null?Ff(t,u):Yo(),Xf(t);else return s=t.lanes=536870912,Ym(e,t,u!==null?u.baseLanes|i:i,i,s)}else u!==null?(Sc(t,u.cachePool),Ff(t,u),yi(),t.memoizedState=null):(e!==null&&Sc(t,null),Yo(),yi());return Et(e,t,r,i),t.child}function $a(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Ym(e,t,i,s,r){var u=Bo();return u=u===null?null:{parent:at._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&Sc(t,null),Yo(),Xf(t),e!==null&&Ul(e,t,s,!0),t.childLanes=r,null}function kc(e,t){return t=Hc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Qm(e,t,i){return al(t,e.child,null,i),e=kc(t,t.pendingProps),e.flags|=2,Zt(t),t.memoizedState=null,e}function y1(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(s.mode==="hidden")return e=kc(t,s),t.lanes=536870912,$a(null,e);if(Fo(t),(e=Ve)?(e=ip(e,un),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:An,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},i=wf(e),i.return=t,t.child=i,St=t,Ve=null)):e=null,e===null)throw di(t);return t.lanes=536870912,null}return kc(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(Fo(t),r)if(t.flags&256)t.flags&=-257,t=Qm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(ct||Ul(e,t,i,!1),r=(i&e.childLanes)!==0,ct||r){if(s=Ue,s!==null&&(m=nc(s,i),m!==0&&m!==u.retryLane))throw u.retryLane=m,Wi(e,m),Gt(s,e,m),fu;Kc(),t=Qm(e,t,i)}else e=u.treeContext,Ve=dn(m.nextSibling),St=t,me=!0,hi=null,un=!1,e!==null&&Mf(t,e),t=kc(t,s),t.flags|=4096;return t}return e=kn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Bc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function mu(e,t,i,s,r){return tl(t),i=Ko(e,t,i,s,void 0,r),s=Zo(),e!==null&&!ct?(Jo(e,t,r),qn(e,t,r)):(me&&s&&jo(t),t.flags|=1,Et(e,t,i,r),t.child)}function Fm(e,t,i,s,r,u){return tl(t),t.updateQueue=null,i=Zf(t,s,i,r),Kf(e),s=Zo(),e!==null&&!ct?(Jo(e,t,u),qn(e,t,u)):(me&&s&&jo(t),t.flags|=1,Et(e,t,i,u),t.child)}function Xm(e,t,i,s,r){if(tl(t),t.stateNode===null){var u=Ml,m=i.contextType;typeof m=="object"&&m!==null&&(u=Ct(m)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=hu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Io(t),m=i.contextType,u.context=typeof m=="object"&&m!==null?Ct(m):Ml,u.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(uu(t,i,m,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&hu.enqueueReplaceState(u,u.state,null),Xa(t,s,u,r),Fa(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,b=cl(i,p);u.props=b;var A=u.context,M=i.contextType;m=Ml,typeof M=="object"&&M!==null&&(m=Ct(M));var z=i.getDerivedStateFromProps;M=typeof z=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||A!==m)&&Rm(t,u,s,m),mi=!1;var w=t.memoizedState;u.state=w,Xa(t,s,u,r),Fa(),A=t.memoizedState,p||w!==A||mi?(typeof z=="function"&&(uu(t,i,z,s),A=t.memoizedState),(b=mi||Om(t,i,b,s,w,A,m))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=m,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Vo(e,t),m=t.memoizedProps,M=cl(i,m),u.props=M,z=t.pendingProps,w=u.context,A=i.contextType,b=Ml,typeof A=="object"&&A!==null&&(b=Ct(A)),p=i.getDerivedStateFromProps,(A=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==z||w!==b)&&Rm(t,u,s,b),mi=!1,w=t.memoizedState,u.state=w,Xa(t,s,u,r),Fa();var j=t.memoizedState;m!==z||w!==j||mi||e!==null&&e.dependencies!==null&&_c(e.dependencies)?(typeof p=="function"&&(uu(t,i,p,s),j=t.memoizedState),(M=mi||Om(t,i,M,s,w,j,b)||e!==null&&e.dependencies!==null&&_c(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,j,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,j,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=j),u.props=s,u.state=j,u.context=b,s=M):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Bc(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=al(t,e.child,null,r),t.child=al(t,null,i,r)):Et(e,t,i,r),t.memoizedState=u.state,e=t.child):e=qn(e,t,r),e}function Km(e,t,i,s){return Pi(),t.flags|=256,Et(e,t,i,s),t.child}var gu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pu(e){return{baseLanes:e,cachePool:kf()}}function vu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Wt),e}function Zm(e,t,i){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(tt.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?vi(t):yi(),(e=Ve)?(e=ip(e,un),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:An,overflow:wn}:null,retryLane:536870912,hydrationErrors:null},i=wf(e),i.return=t,t.child=i,St=t,Ve=null)):e=null,e===null)throw di(t);return Pu(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,r?(yi(),r=t.mode,p=Hc({mode:"hidden",children:p},r),s=$i(s,r,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=pu(i),s.childLanes=vu(e,m,i),t.memoizedState=gu,$a(null,s)):(vi(t),yu(t,p))}var b=e.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(u)t.flags&256?(vi(t),t.flags&=-257,t=_u(e,t,i)):t.memoizedState!==null?(yi(),t.child=e.child,t.flags|=128,t=null):(yi(),p=s.fallback,r=t.mode,s=Hc({mode:"visible",children:s.children},r),p=$i(p,r,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,al(t,e.child,null,i),s=t.child,s.memoizedState=pu(i),s.childLanes=vu(e,m,i),t.memoizedState=gu,t=$a(null,s));else if(vi(t),Pu(p)){if(m=p.nextSibling&&p.nextSibling.dataset,m)var A=m.dgst;m=A,s=Error(c(419)),s.stack="",s.digest=m,Ia({value:s,source:null,stack:null}),t=_u(e,t,i)}else if(ct||Ul(e,t,i,!1),m=(i&e.childLanes)!==0,ct||m){if(m=Ue,m!==null&&(s=nc(m,i),s!==0&&s!==b.retryLane))throw b.retryLane=s,Wi(e,s),Gt(m,e,s),fu;$u(p)||Kc(),t=_u(e,t,i)}else $u(p)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ve=dn(p.nextSibling),St=t,me=!0,hi=null,un=!1,e!==null&&Mf(t,e),t=yu(t,s.children),t.flags|=4096);return t}return r?(yi(),p=s.fallback,r=t.mode,b=e.child,A=b.sibling,s=kn(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,A!==null?p=kn(A,p):(p=$i(p,r,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,$a(null,s),s=t.child,p=e.child.memoizedState,p===null?p=pu(i):(r=p.cachePool,r!==null?(b=at._currentValue,r=r.parent!==b?{parent:b,pool:b}:r):r=kf(),p={baseLanes:p.baseLanes|i,cachePool:r}),s.memoizedState=p,s.childLanes=vu(e,m,i),t.memoizedState=gu,$a(e.child,s)):(vi(t),i=e.child,e=i.sibling,i=kn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function yu(e,t){return t=Hc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Hc(e,t){return e=Xt(22,e,null,t),e.lanes=0,e}function _u(e,t,i){return al(t,e.child,null,i),e=yu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Jm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),zo(e.return,t,i)}function bu(e,t,i,s,r,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=i,m.tailMode=r,m.treeForkCount=u)}function Wm(e,t,i){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var m=tt.current,p=(m&2)!==0;if(p?(m=m&1|2,t.flags|=128):m&=1,P(tt,m),Et(e,t,s,i),s=me?Ha:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jm(e,i,t);else if(e.tag===19)Jm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&Ac(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),bu(t,!1,r,i,u,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&Ac(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}bu(t,!0,i,null,u,s);break;case"together":bu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function qn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Ul(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=kn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=kn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Su(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_c(e)))}function _1(e,t,i){switch(t.tag){case 3:se(t,t.stateNode.containerInfo),fi(t,at,e.memoizedState.cache),Pi();break;case 27:case 5:ut(t);break;case 4:se(t,t.stateNode.containerInfo);break;case 10:fi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Fo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(vi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Zm(e,t,i):(vi(t),e=qn(e,t,i),e!==null?e.sibling:null);vi(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Ul(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Wm(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),P(tt,tt.current),s)break;return null;case 22:return t.lanes=0,qm(e,t,i,t.pendingProps);case 24:fi(t,at,e.memoizedState.cache)}return qn(e,t,i)}function $m(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)ct=!0;else{if(!Su(e,i)&&(t.flags&128)===0)return ct=!1,_1(e,t,i);ct=(e.flags&131072)!==0}else ct=!1,me&&(t.flags&1048576)!==0&&Df(t,Ha,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=il(t.elementType),t.type=e,typeof e=="function")No(e)?(s=cl(e,s),t.tag=1,t=Xm(null,t,e,s,i)):(t.tag=0,t=mu(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===Z){t.tag=11,t=Im(null,t,e,s,i);break e}else if(r===it){t.tag=14,t=Vm(null,t,e,s,i);break e}}throw t=Ne(e)||e,Error(c(306,t,""))}}return t;case 0:return mu(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=cl(s,t.pendingProps),Xm(e,t,s,r,i);case 3:e:{if(se(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,Vo(e,t),Xa(t,s,null,i);var m=t.memoizedState;if(s=m.cache,fi(t,at,s),s!==u.cache&&Uo(t,[at],i,!0),Fa(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Km(e,t,s,i);break e}else if(s!==r){r=cn(Error(c(424)),t),Ia(r),t=Km(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ve=dn(e.firstChild),St=t,me=!0,hi=null,un=!0,i=qf(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Pi(),s===r){t=qn(e,t,i);break e}Et(e,t,s,i)}t=t.child}return t;case 26:return Bc(e,t),e===null?(i=op(t.type,null,t.pendingProps,null))?t.memoizedState=i:me||(i=t.type,e=t.pendingProps,s=tr(Ut.current).createElement(i),s[I]=t,s[G]=e,xt(s,i,e),pt(s),t.stateNode=s):t.memoizedState=op(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ut(t),e===null&&me&&(s=t.stateNode=sp(t.type,t.pendingProps,Ut.current),St=t,un=!0,r=Ve,Ni(t.type)?(eh=r,Ve=dn(s.firstChild)):Ve=r),Et(e,t,t.pendingProps.children,i),Bc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=s=Ve)&&(s=Z1(s,t.type,t.pendingProps,un),s!==null?(t.stateNode=s,St=t,Ve=dn(s.firstChild),un=!1,r=!0):r=!1),r||di(t)),ut(t),r=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Zu(r,u)?s=null:m!==null&&Zu(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=Ko(e,t,u1,null,null,i),fs._currentValue=r),Bc(e,t),Et(e,t,s,i),t.child;case 6:return e===null&&me&&((e=i=Ve)&&(i=J1(i,t.pendingProps,un),i!==null?(t.stateNode=i,St=t,Ve=null,e=!0):e=!1),e||di(t)),null;case 13:return Zm(e,t,i);case 4:return se(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=al(t,null,s,i):Et(e,t,s,i),t.child;case 11:return Im(e,t,t.type,t.pendingProps,i);case 7:return Et(e,t,t.pendingProps,i),t.child;case 8:return Et(e,t,t.pendingProps.children,i),t.child;case 12:return Et(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,fi(t,t.type,s.value),Et(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,tl(t),r=Ct(r),s=s(r),t.flags|=1,Et(e,t,s,i),t.child;case 14:return Vm(e,t,t.type,t.pendingProps,i);case 15:return Gm(e,t,t.type,t.pendingProps,i);case 19:return Wm(e,t,i);case 31:return y1(e,t,i);case 22:return qm(e,t,i,t.pendingProps);case 24:return tl(t),s=Ct(at),e===null?(r=Bo(),r===null&&(r=Ue,u=Lo(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=i),r=u),t.memoizedState={parent:s,cache:r},Io(t),fi(t,at,r)):((e.lanes&i)!==0&&(Vo(e,t),Xa(t,null,null,i),Fa()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),fi(t,at,s)):(s=u.cache,fi(t,at,s),s!==r.cache&&Uo(t,[at],i,!0))),Et(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function Yn(e){e.flags|=4}function Cu(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Tg())e.flags|=8192;else throw ll=Ec,Ho}else e.flags&=-16777217}function Pm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!mp(t))if(Tg())e.flags|=8192;else throw ll=Ec,Ho}function Ic(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ea():536870912,e.lanes|=t,Xl|=t)}function Pa(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function b1(e,t,i){var s=t.pendingProps;switch(Do(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),In(at),gt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(zl(t)?Yn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Oo())),Ge(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(Yn(t),u!==null?(Ge(t),Pm(t,u)):(Ge(t),Cu(t,r,null,s,i))):u?u!==e.memoizedState?(Yn(t),Ge(t),Pm(t,u)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&Yn(t),Ge(t),Cu(t,r,e,s,i)),null;case 27:if(On(t),i=Ut.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Yn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}e=ae.current,zl(t)?Of(t):(e=sp(r,s,i),t.stateNode=e,Yn(t))}return Ge(t),null;case 5:if(On(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&Yn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}if(u=ae.current,zl(t))Of(t);else{var m=tr(Ut.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(r,{is:s.is}):m.createElement(r)}}u[I]=t,u[G]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(xt(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&Yn(t)}}return Ge(t),Cu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&Yn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=Ut.current,zl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=St,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[I]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Zg(e.nodeValue,i)),e||di(t,!0)}else e=tr(e).createTextNode(s),e[I]=t,t.stateNode=e}return Ge(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=zl(t),i!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[I]=t}else Pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else i=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Zt(t),t):(Zt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ge(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=zl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[I]=t}else Pi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),r=!1}else r=Oo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Zt(t),t):(Zt(t),null)}return Zt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ic(t,t.updateQueue),Ge(t),null);case 4:return gt(),e===null&&Yu(t.stateNode.containerInfo),Ge(t),null;case 10:return In(t.type),Ge(t),null;case 19:if(J(tt),s=t.memoizedState,s===null)return Ge(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Pa(s,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=Ac(e),u!==null){for(t.flags|=128,Pa(s,!1),e=u.updateQueue,t.updateQueue=e,Ic(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Af(i,e),i=i.sibling;return P(tt,tt.current&1|2),me&&Bn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&ke()>Qc&&(t.flags|=128,r=!0,Pa(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ac(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Ic(t,e),Pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!me)return Ge(t),null}else 2*ke()-s.renderingStartTime>Qc&&i!==536870912&&(t.flags|=128,r=!0,Pa(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ke(),e.sibling=null,i=tt.current,P(tt,r?i&1|2:i&1),me&&Bn(t,s.treeForkCount),e):(Ge(t),null);case 22:case 23:return Zt(t),Qo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),i=t.updateQueue,i!==null&&Ic(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&J(nl),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),In(at),Ge(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function S1(e,t){switch(Do(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return In(at),gt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return On(t),null;case 31:if(t.memoizedState!==null){if(Zt(t),t.alternate===null)throw Error(c(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Pi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(tt),null;case 4:return gt(),null;case 10:return In(t.type),null;case 22:case 23:return Zt(t),Qo(),e!==null&&J(nl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return In(at),null;case 25:return null;default:return null}}function eg(e,t){switch(Do(t),t.tag){case 3:In(at),gt();break;case 26:case 27:case 5:On(t);break;case 4:gt();break;case 31:t.memoizedState!==null&&Zt(t);break;case 13:Zt(t);break;case 19:J(tt);break;case 10:In(t.type);break;case 22:case 23:Zt(t),Qo(),e!==null&&J(nl);break;case 24:In(at)}}function es(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var u=i.create,m=i.inst;s=u(),m.destroy=s}i=i.next}while(i!==r)}}catch(p){we(t,t.return,p)}}function _i(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var m=s.inst,p=m.destroy;if(p!==void 0){m.destroy=void 0,r=t;var b=i,A=p;try{A()}catch(M){we(r,b,M)}}}s=s.next}while(s!==u)}}catch(M){we(t,t.return,M)}}function tg(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Qf(t,i)}catch(s){we(e,e.return,s)}}}function ng(e,t,i){i.props=cl(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){we(e,t,s)}}function ts(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){we(e,t,r)}}function jn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){we(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){we(e,t,r)}else i.current=null}function ig(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){we(e,e.return,r)}}function Eu(e,t,i){try{var s=e.stateNode;q1(s,e.type,i,t),s[G]=t}catch(r){we(e,e.return,r)}}function lg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ni(e.type)||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Un));else if(s!==4&&(s===27&&Ni(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Tu(e,t,i),e=e.sibling;e!==null;)Tu(e,t,i),e=e.sibling}function Vc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Ni(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Vc(e,t,i),e=e.sibling;e!==null;)Vc(e,t,i),e=e.sibling}function ag(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);xt(t,s,i),t[I]=e,t[G]=i}catch(u){we(e,e.return,u)}}var Qn=!1,rt=!1,Nu=!1,sg=typeof WeakSet=="function"?WeakSet:Set,vt=null;function C1(e,t){if(e=e.containerInfo,Xu=rr,e=yf(e),_o(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var m=0,p=-1,b=-1,A=0,M=0,z=e,w=null;t:for(;;){for(var j;z!==i||r!==0&&z.nodeType!==3||(p=m+r),z!==u||s!==0&&z.nodeType!==3||(b=m+s),z.nodeType===3&&(m+=z.nodeValue.length),(j=z.firstChild)!==null;)w=z,z=j;for(;;){if(z===e)break t;if(w===i&&++A===r&&(p=m),w===u&&++M===s&&(b=m),(j=z.nextSibling)!==null)break;z=w,w=z.parentNode}z=j}i=p===-1||b===-1?null:{start:p,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ku={focusedElem:e,selectionRange:i},rr=!1,vt=t;vt!==null;)if(t=vt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,vt=e;else for(;vt!==null;){switch(t=vt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,r=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var V=cl(i.type,r);e=s.getSnapshotBeforeUpdate(V,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){we(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Wu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,vt=e;break}vt=t.return}}function cg(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(e,i),s&4&&es(5,i);break;case 1:if(Xn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){we(i,i.return,m)}else{var r=cl(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){we(i,i.return,m)}}s&64&&tg(i),s&512&&ts(i,i.return);break;case 3:if(Xn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Qf(e,t)}catch(m){we(i,i.return,m)}}break;case 27:t===null&&s&4&&ag(i);case 26:case 5:Xn(e,i),t===null&&s&4&&ig(i),s&512&&ts(i,i.return);break;case 12:Xn(e,i);break;case 31:Xn(e,i),s&4&&ug(e,i);break;case 13:Xn(e,i),s&4&&hg(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=M1.bind(null,i),W1(e,i))));break;case 22:if(s=i.memoizedState!==null||Qn,!s){t=t!==null&&t.memoizedState!==null||rt,r=Qn;var u=rt;Qn=s,(rt=t)&&!u?Kn(e,i,(i.subtreeFlags&8772)!==0):Xn(e,i),Qn=r,rt=u}break;case 30:break;default:Xn(e,i)}}function rg(e){var t=e.alternate;t!==null&&(e.alternate=null,rg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&to(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Bt=!1;function Fn(e,t,i){for(i=i.child;i!==null;)og(e,t,i),i=i.sibling}function og(e,t,i){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(tn,i)}catch{}switch(i.tag){case 26:rt||jn(i,t),Fn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:rt||jn(i,t);var s=qe,r=Bt;Ni(i.type)&&(qe=i.stateNode,Bt=!1),Fn(e,t,i),us(i.stateNode),qe=s,Bt=r;break;case 5:rt||jn(i,t);case 6:if(s=qe,r=Bt,qe=null,Fn(e,t,i),qe=s,Bt=r,qe!==null)if(Bt)try{(qe.nodeType===9?qe.body:qe.nodeName==="HTML"?qe.ownerDocument.body:qe).removeChild(i.stateNode)}catch(u){we(i,t,u)}else try{qe.removeChild(i.stateNode)}catch(u){we(i,t,u)}break;case 18:qe!==null&&(Bt?(e=qe,tp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ta(e)):tp(qe,i.stateNode));break;case 4:s=qe,r=Bt,qe=i.stateNode.containerInfo,Bt=!0,Fn(e,t,i),qe=s,Bt=r;break;case 0:case 11:case 14:case 15:_i(2,i,t),rt||_i(4,i,t),Fn(e,t,i);break;case 1:rt||(jn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&ng(i,t,s)),Fn(e,t,i);break;case 21:Fn(e,t,i);break;case 22:rt=(s=rt)||i.memoizedState!==null,Fn(e,t,i),rt=s;break;default:Fn(e,t,i)}}function ug(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ta(e)}catch(i){we(t,t.return,i)}}}function hg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ta(e)}catch(i){we(t,t.return,i)}}function E1(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new sg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new sg),t;default:throw Error(c(435,e.tag))}}function Gc(e,t){var i=E1(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=O1.bind(null,e,s);s.then(r,r)}})}function Ht(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],u=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 27:if(Ni(p.type)){qe=p.stateNode,Bt=!1;break e}break;case 5:qe=p.stateNode,Bt=!1;break e;case 3:case 4:qe=p.stateNode.containerInfo,Bt=!0;break e}p=p.return}if(qe===null)throw Error(c(160));og(u,m,r),qe=null,Bt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dg(t,e),t=t.sibling}var vn=null;function dg(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ht(t,e),It(e),s&4&&(_i(3,e,e.return),es(3,e),_i(5,e,e.return));break;case 1:Ht(t,e),It(e),s&512&&(rt||i===null||jn(i,i.return)),s&64&&Qn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=vn;if(Ht(t,e),It(e),s&512&&(rt||i===null||jn(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[wa]||u[I]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),xt(u,s,i),u[I]=e,pt(u),s=u;break e;case"link":var m=dp("link","href",r).get(s+(i.href||""));if(m){for(var p=0;p<m.length;p++)if(u=m[p],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(p,1);break t}}u=r.createElement(s),xt(u,s,i),r.head.appendChild(u);break;case"meta":if(m=dp("meta","content",r).get(s+(i.content||""))){for(p=0;p<m.length;p++)if(u=m[p],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(p,1);break t}}u=r.createElement(s),xt(u,s,i),r.head.appendChild(u);break;default:throw Error(c(468,s))}u[I]=e,pt(u),s=u}e.stateNode=s}else fp(r,e.type,e.stateNode);else e.stateNode=hp(r,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?fp(r,e.type,e.stateNode):hp(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Eu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Ht(t,e),It(e),s&512&&(rt||i===null||jn(i,i.return)),i!==null&&s&4&&Eu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Ht(t,e),It(e),s&512&&(rt||i===null||jn(i,i.return)),e.flags&32){r=e.stateNode;try{xl(r,"")}catch(V){we(e,e.return,V)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,Eu(e,r,i!==null?i.memoizedProps:r)),s&1024&&(Nu=!0);break;case 6:if(Ht(t,e),It(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(V){we(e,e.return,V)}}break;case 3:if(lr=null,r=vn,vn=nr(t.containerInfo),Ht(t,e),vn=r,It(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ta(t.containerInfo)}catch(V){we(e,e.return,V)}Nu&&(Nu=!1,fg(e));break;case 4:s=vn,vn=nr(e.stateNode.containerInfo),Ht(t,e),It(e),vn=s;break;case 12:Ht(t,e),It(e);break;case 31:Ht(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gc(e,s)));break;case 13:Ht(t,e),It(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yc=ke()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gc(e,s)));break;case 22:r=e.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,A=Qn,M=rt;if(Qn=A||r,rt=M||b,Ht(t,e),rt=M,Qn=A,It(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||b||Qn||rt||rl(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){b=i=t;try{if(u=b.stateNode,r)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{p=b.stateNode;var z=b.memoizedProps.style,w=z!=null&&z.hasOwnProperty("display")?z.display:null;p.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(V){we(b,b.return,V)}}}else if(t.tag===6){if(i===null){b=t;try{b.stateNode.nodeValue=r?"":b.memoizedProps}catch(V){we(b,b.return,V)}}}else if(t.tag===18){if(i===null){b=t;try{var j=b.stateNode;r?np(j,!0):np(b.stateNode,!1)}catch(V){we(b,b.return,V)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Gc(e,i))));break;case 19:Ht(t,e),It(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Gc(e,s)));break;case 30:break;case 21:break;default:Ht(t,e),It(e)}}function It(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(lg(s)){i=s;break}s=s.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var r=i.stateNode,u=xu(e);Vc(e,u,r);break;case 5:var m=i.stateNode;i.flags&32&&(xl(m,""),i.flags&=-33);var p=xu(e);Vc(e,p,m);break;case 3:case 4:var b=i.stateNode.containerInfo,A=xu(e);Tu(e,A,b);break;default:throw Error(c(161))}}catch(M){we(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;fg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Xn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)cg(e,t.alternate,t),t=t.sibling}function rl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_i(4,t,t.return),rl(t);break;case 1:jn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ng(t,t.return,i),rl(t);break;case 27:us(t.stateNode);case 26:case 5:jn(t,t.return),rl(t);break;case 22:t.memoizedState===null&&rl(t);break;case 30:rl(t);break;default:rl(t)}e=e.sibling}}function Kn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Kn(r,u,i),es(4,u);break;case 1:if(Kn(r,u,i),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(A){we(s,s.return,A)}if(s=u,r=s.updateQueue,r!==null){var p=s.stateNode;try{var b=r.shared.hiddenCallbacks;if(b!==null)for(r.shared.hiddenCallbacks=null,r=0;r<b.length;r++)Yf(b[r],p)}catch(A){we(s,s.return,A)}}i&&m&64&&tg(u),ts(u,u.return);break;case 27:ag(u);case 26:case 5:Kn(r,u,i),i&&s===null&&m&4&&ig(u),ts(u,u.return);break;case 12:Kn(r,u,i);break;case 31:Kn(r,u,i),i&&m&4&&ug(r,u);break;case 13:Kn(r,u,i),i&&m&4&&hg(r,u);break;case 22:u.memoizedState===null&&Kn(r,u,i),ts(u,u.return);break;case 30:break;default:Kn(r,u,i)}t=t.sibling}}function Au(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Va(i))}function wu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Va(e))}function yn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)mg(e,t,i,s),t=t.sibling}function mg(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:yn(e,t,i,s),r&2048&&es(9,t);break;case 1:yn(e,t,i,s);break;case 3:yn(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Va(e)));break;case 12:if(r&2048){yn(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,p=u.onPostCommit;typeof p=="function"&&p(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){we(t,t.return,b)}}else yn(e,t,i,s);break;case 31:yn(e,t,i,s);break;case 13:yn(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?yn(e,t,i,s):ns(e,t):u._visibility&2?yn(e,t,i,s):(u._visibility|=2,Yl(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Au(m,t);break;case 24:yn(e,t,i,s),r&2048&&wu(t.alternate,t);break;default:yn(e,t,i,s)}}function Yl(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,p=i,b=s,A=m.flags;switch(m.tag){case 0:case 11:case 15:Yl(u,m,p,b,r),es(8,m);break;case 23:break;case 22:var M=m.stateNode;m.memoizedState!==null?M._visibility&2?Yl(u,m,p,b,r):ns(u,m):(M._visibility|=2,Yl(u,m,p,b,r)),r&&A&2048&&Au(m.alternate,m);break;case 24:Yl(u,m,p,b,r),r&&A&2048&&wu(m.alternate,m);break;default:Yl(u,m,p,b,r)}t=t.sibling}}function ns(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:ns(i,s),r&2048&&Au(s.alternate,s);break;case 24:ns(i,s),r&2048&&wu(s.alternate,s);break;default:ns(i,s)}t=t.sibling}}var is=8192;function Ql(e,t,i){if(e.subtreeFlags&is)for(e=e.child;e!==null;)gg(e,t,i),e=e.sibling}function gg(e,t,i){switch(e.tag){case 26:Ql(e,t,i),e.flags&is&&e.memoizedState!==null&&o0(i,vn,e.memoizedState,e.memoizedProps);break;case 5:Ql(e,t,i);break;case 3:case 4:var s=vn;vn=nr(e.stateNode.containerInfo),Ql(e,t,i),vn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=is,is=16777216,Ql(e,t,i),is=s):Ql(e,t,i));break;default:Ql(e,t,i)}}function pg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];vt=s,yg(s,e)}pg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vg(e),e=e.sibling}function vg(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&_i(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,qc(e)):ls(e);break;default:ls(e)}}function qc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];vt=s,yg(s,e)}pg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_i(8,t,t.return),qc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,qc(t));break;default:qc(t)}e=e.sibling}}function yg(e,t){for(;vt!==null;){var i=vt;switch(i.tag){case 0:case 11:case 15:_i(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Va(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,vt=s;else e:for(i=e;vt!==null;){s=vt;var r=s.sibling,u=s.return;if(rg(s),s===i){vt=null;break e}if(r!==null){r.return=u,vt=r;break e}vt=u}}}var x1={getCacheForType:function(e){var t=Ct(at),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ct(at).controller.signal}},T1=typeof WeakMap=="function"?WeakMap:Map,xe=0,Ue=null,oe=null,de=0,Ae=0,Jt=null,bi=!1,Fl=!1,ju=!1,Zn=0,Ke=0,Si=0,ol=0,Du=0,Wt=0,Xl=0,as=null,Vt=null,Mu=!1,Yc=0,_g=0,Qc=1/0,Fc=null,Ci=null,dt=0,Ei=null,Kl=null,Jn=0,Ou=0,Ru=null,bg=null,ss=0,zu=null;function $t(){return(xe&2)!==0&&de!==0?de&-de:D.T!==null?Iu():Na()}function Sg(){if(Wt===0)if((de&536870912)===0||me){var e=Yi;Yi<<=1,(Yi&3932160)===0&&(Yi=262144),Wt=e}else Wt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Wt}function Gt(e,t,i){(e===Ue&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Zl(e,0),xi(e,de,Wt,!1)),Fi(e,i),((xe&2)===0||e!==Ue)&&(e===Ue&&((xe&2)===0&&(ol|=i),Ke===4&&xi(e,de,Wt,!1)),Dn(e))}function Cg(e,t,i){if((xe&6)!==0)throw Error(c(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ri(e,t),r=s?w1(e,t):Lu(e,t,!0),u=s;do{if(r===0){Fl&&!s&&xi(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!N1(i)){r=Lu(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var p=e;r=as;var b=p.current.memoizedState.isDehydrated;if(b&&(Zl(p,m).flags|=256),m=Lu(p,m,!1),m!==2){if(ju&&!b){p.errorRecoveryDisabledLanes|=u,ol|=u,r=4;break e}u=Vt,Vt=r,u!==null&&(Vt===null?Vt=u:Vt.push.apply(Vt,u))}r=m}if(u=!1,r!==2)continue}}if(r===1){Zl(e,0),xi(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:xi(s,t,Wt,!bi);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Yc+300-ke(),10<r)){if(xi(s,t,Wt,!bi),Qi(s,0,!0)!==0)break e;Jn=t,s.timeoutHandle=Pg(Eg.bind(null,s,i,Vt,Fc,Mu,t,Wt,ol,Xl,bi,u,"Throttled",-0,0),r);break e}Eg(s,i,Vt,Fc,Mu,t,Wt,ol,Xl,bi,u,null,-0,0)}}break}while(!0);Dn(e)}function Eg(e,t,i,s,r,u,m,p,b,A,M,z,w,j){if(e.timeoutHandle=-1,z=t.subtreeFlags,z&8192||(z&16785408)===16785408){z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Un},gg(t,u,z);var V=(u&62914560)===u?Yc-ke():(u&4194048)===u?_g-ke():0;if(V=u0(z,V),V!==null){Jn=u,e.cancelPendingCommit=V(Mg.bind(null,e,t,u,i,s,r,m,p,b,M,z,null,w,j)),xi(e,u,m,!A);return}}Mg(e,t,u,i,s,r,m,p,b)}function N1(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],u=r.getSnapshot;r=r.value;try{if(!Ft(u(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xi(e,t,i,s){t&=~Du,t&=~ol,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-ht(r),m=1<<u;s[u]=-1,r&=~m}i!==0&&ec(e,i,t)}function Xc(){return(xe&6)===0?(cs(0),!1):!0}function Uu(){if(oe!==null){if(Ae===0)var e=oe.return;else e=oe,Hn=el=null,Wo(e),Hl=null,qa=0,e=oe;for(;e!==null;)eg(e.alternate,e),e=e.return;oe=null}}function Zl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,F1(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Jn=0,Uu(),Ue=e,oe=i=kn(e.current,null),de=t,Ae=0,Jt=null,bi=!1,Fl=ri(e,t),ju=!1,Xl=Wt=Du=ol=Si=Ke=0,Vt=as=null,Mu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-ht(s),u=1<<r;t|=e[r],s&=~u}return Zn=t,mc(),i}function xg(e,t){te=null,D.H=Wa,t===Bl||t===Cc?(t=If(),Ae=3):t===Ho?(t=If(),Ae=4):Ae=t===fu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,oe===null&&(Ke=1,Lc(e,cn(t,e.current)))}function Tg(){var e=Kt.current;return e===null?!0:(de&4194048)===de?hn===null:(de&62914560)===de||(de&536870912)!==0?e===hn:!1}function Ng(){var e=D.H;return D.H=Wa,e===null?Wa:e}function Ag(){var e=D.A;return D.A=x1,e}function Kc(){Ke=4,bi||(de&4194048)!==de&&Kt.current!==null||(Fl=!0),(Si&134217727)===0&&(ol&134217727)===0||Ue===null||xi(Ue,de,Wt,!1)}function Lu(e,t,i){var s=xe;xe|=2;var r=Ng(),u=Ag();(Ue!==e||de!==t)&&(Fc=null,Zl(e,t)),t=!1;var m=Ke;e:do try{if(Ae!==0&&oe!==null){var p=oe,b=Jt;switch(Ae){case 8:Uu(),m=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var A=Ae;if(Ae=0,Jt=null,Jl(e,p,b,A),i&&Fl){m=0;break e}break;default:A=Ae,Ae=0,Jt=null,Jl(e,p,b,A)}}A1(),m=Ke;break}catch(M){xg(e,M)}while(!0);return t&&e.shellSuspendCounter++,Hn=el=null,xe=s,D.H=r,D.A=u,oe===null&&(Ue=null,de=0,mc()),m}function A1(){for(;oe!==null;)wg(oe)}function w1(e,t){var i=xe;xe|=2;var s=Ng(),r=Ag();Ue!==e||de!==t?(Fc=null,Qc=ke()+500,Zl(e,t)):Fl=ri(e,t);e:do try{if(Ae!==0&&oe!==null){t=oe;var u=Jt;t:switch(Ae){case 1:Ae=0,Jt=null,Jl(e,t,u,1);break;case 2:case 9:if(Bf(u)){Ae=0,Jt=null,jg(t);break}t=function(){Ae!==2&&Ae!==9||Ue!==e||(Ae=7),Dn(e)},u.then(t,t);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Bf(u)?(Ae=0,Jt=null,jg(t)):(Ae=0,Jt=null,Jl(e,t,u,7));break;case 5:var m=null;switch(oe.tag){case 26:m=oe.memoizedState;case 5:case 27:var p=oe;if(m?mp(m):p.stateNode.complete){Ae=0,Jt=null;var b=p.sibling;if(b!==null)oe=b;else{var A=p.return;A!==null?(oe=A,Zc(A)):oe=null}break t}}Ae=0,Jt=null,Jl(e,t,u,5);break;case 6:Ae=0,Jt=null,Jl(e,t,u,6);break;case 8:Uu(),Ke=6;break e;default:throw Error(c(462))}}j1();break}catch(M){xg(e,M)}while(!0);return Hn=el=null,D.H=s,D.A=r,xe=i,oe!==null?0:(Ue=null,de=0,mc(),Ke)}function j1(){for(;oe!==null&&!en();)wg(oe)}function wg(e){var t=$m(e.alternate,e,Zn);e.memoizedProps=e.pendingProps,t===null?Zc(e):oe=t}function jg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Fm(i,t,t.pendingProps,t.type,void 0,de);break;case 11:t=Fm(i,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:Wo(t);default:eg(i,t),t=oe=Af(t,Zn),t=$m(i,t,Zn)}e.memoizedProps=e.pendingProps,t===null?Zc(e):oe=t}function Jl(e,t,i,s){Hn=el=null,Wo(t),Hl=null,qa=0;var r=t.return;try{if(v1(e,r,t,i,de)){Ke=1,Lc(e,cn(i,e.current)),oe=null;return}}catch(u){if(r!==null)throw oe=r,u;Ke=1,Lc(e,cn(i,e.current)),oe=null;return}t.flags&32768?(me||s===1?e=!0:Fl||(de&536870912)!==0?e=!1:(bi=e=!0,(s===2||s===9||s===3||s===6)&&(s=Kt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Dg(t,e)):Zc(t)}function Zc(e){var t=e;do{if((t.flags&32768)!==0){Dg(t,bi);return}e=t.return;var i=b1(t.alternate,t,Zn);if(i!==null){oe=i;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);Ke===0&&(Ke=5)}function Dg(e,t){do{var i=S1(e.alternate,e);if(i!==null){i.flags&=32767,oe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=i}while(e!==null);Ke=6,oe=null}function Mg(e,t,i,s,r,u,m,p,b){e.cancelPendingCommit=null;do Jc();while(dt!==0);if((xe&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=xo,Ps(e,i,u,m,p,b),e===Ue&&(oe=Ue=null,de=0),Kl=t,Ei=e,Jn=i,Ou=u,Ru=r,bg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,R1(Dt,function(){return Lg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,r=B.p,B.p=2,m=xe,xe|=4;try{C1(e,t,i)}finally{xe=m,B.p=r,D.T=s}}dt=1,Og(),Rg(),zg()}}function Og(){if(dt===1){dt=0;var e=Ei,t=Kl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var s=B.p;B.p=2;var r=xe;xe|=4;try{dg(t,e);var u=Ku,m=yf(e.containerInfo),p=u.focusedElem,b=u.selectionRange;if(m!==p&&p&&p.ownerDocument&&vf(p.ownerDocument.documentElement,p)){if(b!==null&&_o(p)){var A=b.start,M=b.end;if(M===void 0&&(M=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(M,p.value.length);else{var z=p.ownerDocument||document,w=z&&z.defaultView||window;if(w.getSelection){var j=w.getSelection(),V=p.textContent.length,K=Math.min(b.start,V),Re=b.end===void 0?K:Math.min(b.end,V);!j.extend&&K>Re&&(m=Re,Re=K,K=m);var x=pf(p,K),E=pf(p,Re);if(x&&E&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==E.node||j.focusOffset!==E.offset)){var N=z.createRange();N.setStart(x.node,x.offset),j.removeAllRanges(),K>Re?(j.addRange(N),j.extend(E.node,E.offset)):(N.setEnd(E.node,E.offset),j.addRange(N))}}}}for(z=[],j=p;j=j.parentNode;)j.nodeType===1&&z.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<z.length;p++){var O=z[p];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}rr=!!Xu,Ku=Xu=null}finally{xe=r,B.p=s,D.T=i}}e.current=t,dt=2}}function Rg(){if(dt===2){dt=0;var e=Ei,t=Kl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var s=B.p;B.p=2;var r=xe;xe|=4;try{cg(e,t.alternate,t)}finally{xe=r,B.p=s,D.T=i}}dt=3}}function zg(){if(dt===4||dt===3){dt=0,Gi();var e=Ei,t=Kl,i=Jn,s=bg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?dt=5:(dt=0,Kl=Ei=null,Ug(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),Ta(i),t=t.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(tn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,r=B.p,B.p=2,D.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var p=s[m];u(p.value,{componentStack:p.stack})}}finally{D.T=t,B.p=r}}(Jn&3)!==0&&Jc(),Dn(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===zu?ss++:(ss=0,zu=e):ss=0,cs(0)}}function Ug(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Va(t)))}function Jc(){return Og(),Rg(),zg(),Lg()}function Lg(){if(dt!==5)return!1;var e=Ei,t=Ou;Ou=0;var i=Ta(Jn),s=D.T,r=B.p;try{B.p=32>i?32:i,D.T=null,i=Ru,Ru=null;var u=Ei,m=Jn;if(dt=0,Kl=Ei=null,Jn=0,(xe&6)!==0)throw Error(c(331));var p=xe;if(xe|=4,vg(u.current),mg(u,u.current,m,i),xe=p,cs(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(tn,u)}catch{}return!0}finally{B.p=r,D.T=s,Ug(e,t)}}function kg(e,t,i){t=cn(i,t),t=du(e.stateNode,t,2),e=pi(e,t,2),e!==null&&(Fi(e,2),Dn(e))}function we(e,t,i){if(e.tag===3)kg(e,e,i);else for(;t!==null;){if(t.tag===3){kg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))){e=cn(i,e),i=Bm(2),s=pi(t,i,2),s!==null&&(Hm(i,s,t,e),Fi(s,2),Dn(s));break}}t=t.return}}function ku(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new T1;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(ju=!0,r.add(i),e=D1.bind(null,e,t,i),t.then(e,e))}function D1(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Ue===e&&(de&i)===i&&(Ke===4||Ke===3&&(de&62914560)===de&&300>ke()-Yc?(xe&2)===0&&Zl(e,0):Du|=i,Xl===de&&(Xl=0)),Dn(e)}function Bg(e,t){t===0&&(t=Ea()),e=Wi(e,t),e!==null&&(Fi(e,t),Dn(e))}function M1(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Bg(e,i)}function O1(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Bg(e,i)}function R1(e,t){return Lt(e,t)}var Wc=null,Wl=null,Bu=!1,$c=!1,Hu=!1,Ti=0;function Dn(e){e!==Wl&&e.next===null&&(Wl===null?Wc=Wl=e:Wl=Wl.next=e),$c=!0,Bu||(Bu=!0,U1())}function cs(e,t){if(!Hu&&$c){Hu=!0;do for(var i=!1,s=Wc;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var m=s.suspendedLanes,p=s.pingedLanes;u=(1<<31-ht(42|e)+1)-1,u&=r&~(m&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Gg(s,u))}else u=de,u=Qi(s,s===Ue?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||ri(s,u)||(i=!0,Gg(s,u));s=s.next}while(i);Hu=!1}}function z1(){Hg()}function Hg(){$c=Bu=!1;var e=0;Ti!==0&&Q1()&&(e=Ti);for(var t=ke(),i=null,s=Wc;s!==null;){var r=s.next,u=Ig(s,t);u===0?(s.next=null,i===null?Wc=r:i.next=r,r===null&&(Wl=i)):(i=s,(e!==0||(u&3)!==0)&&($c=!0)),s=r}dt!==0&&dt!==5||cs(e),Ti!==0&&(Ti=0)}function Ig(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-ht(u),p=1<<m,b=r[m];b===-1?((p&i)===0||(p&s)!==0)&&(r[m]=$s(p,t)):b<=t&&(e.expiredLanes|=p),u&=~p}if(t=Ue,i=de,i=Qi(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Vi(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ri(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Vi(s),Ta(i)){case 2:case 8:i=xn;break;case 32:i=Dt;break;case 268435456:i=ba;break;default:i=Dt}return s=Vg.bind(null,e),i=Lt(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Vi(s),e.callbackPriority=2,e.callbackNode=null,2}function Vg(e,t){if(dt!==0&&dt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Jc()&&e.callbackNode!==i)return null;var s=de;return s=Qi(e,e===Ue?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Cg(e,s,t),Ig(e,ke()),e.callbackNode!=null&&e.callbackNode===i?Vg.bind(null,e):null)}function Gg(e,t){if(Jc())return null;Cg(e,t,!0)}function U1(){X1(function(){(xe&6)!==0?Lt(jt,z1):Hg()})}function Iu(){if(Ti===0){var e=Ll;e===0&&(e=qi,qi<<=1,(qi&261888)===0&&(qi=256)),Ti=e}return Ti}function qg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sc(""+e)}function Yg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function L1(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var u=qg((r[G]||null).action),m=s.submitter;m&&(t=(t=m[G]||null)?qg(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var p=new uc("action","action",null,s,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ti!==0){var b=m?Yg(r,m):new FormData(r);su(i,{pending:!0,data:b,method:r.method,action:u},null,b)}}else typeof u=="function"&&(p.preventDefault(),b=m?Yg(r,m):new FormData(r),su(i,{pending:!0,data:b,method:r.method,action:u},u,b))},currentTarget:r}]})}}for(var Vu=0;Vu<Eo.length;Vu++){var Gu=Eo[Vu],k1=Gu.toLowerCase(),B1=Gu[0].toUpperCase()+Gu.slice(1);pn(k1,"on"+B1)}pn(Sf,"onAnimationEnd"),pn(Cf,"onAnimationIteration"),pn(Ef,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(e1,"onTransitionRun"),pn(t1,"onTransitionStart"),pn(n1,"onTransitionCancel"),pn(xf,"onTransitionEnd"),Cl("onMouseEnter",["mouseout","mouseover"]),Cl("onMouseLeave",["mouseout","mouseover"]),Cl("onPointerEnter",["pointerout","pointerover"]),Cl("onPointerLeave",["pointerout","pointerover"]),Xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),H1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rs));function Qg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var p=s[m],b=p.instance,A=p.currentTarget;if(p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(M){fc(M)}r.currentTarget=null,u=b}else for(m=0;m<s.length;m++){if(p=s[m],b=p.instance,A=p.currentTarget,p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(M){fc(M)}r.currentTarget=null,u=b}}}}function ue(e,t){var i=t[Qe];i===void 0&&(i=t[Qe]=new Set);var s=e+"__bubble";i.has(s)||(Fg(t,e,2,!1),i.add(s))}function qu(e,t,i){var s=0;t&&(s|=4),Fg(i,e,s,t)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Yu(e){if(!e[Pc]){e[Pc]=!0,Bd.forEach(function(i){i!=="selectionchange"&&(H1.has(i)||qu(i,!1,e),qu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pc]||(t[Pc]=!0,qu("selectionchange",!1,t))}}function Fg(e,t,i,s){switch(Sp(t)){case 2:var r=f0;break;case 8:r=m0;break;default:r=ah}i=r.bind(null,t,i,e),r=void 0,!oo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Qu(e,t,i,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var p=s.stateNode.containerInfo;if(p===r)break;if(m===4)for(m=s.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;p!==null;){if(m=_l(p),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){s=u=m;continue e}p=p.parentNode}}s=s.return}Jd(function(){var A=u,M=co(i),z=[];e:{var w=Tf.get(e);if(w!==void 0){var j=uc,V=e;switch(e){case"keypress":if(rc(i)===0)break e;case"keydown":case"keyup":j=O_;break;case"focusin":V="focus",j=mo;break;case"focusout":V="blur",j=mo;break;case"beforeblur":case"afterblur":j=mo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Pd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=b_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=U_;break;case Sf:case Cf:case Ef:j=E_;break;case xf:j=k_;break;case"scroll":case"scrollend":j=y_;break;case"wheel":j=H_;break;case"copy":case"cut":case"paste":j=T_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=tf;break;case"toggle":case"beforetoggle":j=V_}var K=(t&4)!==0,Re=!K&&(e==="scroll"||e==="scrollend"),x=K?w!==null?w+"Capture":null:w;K=[];for(var E=A,N;E!==null;){var O=E;if(N=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||N===null||x===null||(O=Da(E,x),O!=null&&K.push(os(E,O,N))),Re)break;E=E.return}0<K.length&&(w=new j(w,V,null,i,M),z.push({event:w,listeners:K}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",w&&i!==so&&(V=i.relatedTarget||i.fromElement)&&(_l(V)||V[$]))break e;if((j||w)&&(w=M.window===M?M:(w=M.ownerDocument)?w.defaultView||w.parentWindow:window,j?(V=i.relatedTarget||i.toElement,j=A,V=V?_l(V):null,V!==null&&(Re=h(V),K=V.tag,V!==Re||K!==5&&K!==27&&K!==6)&&(V=null)):(j=null,V=A),j!==V)){if(K=Pd,O="onMouseLeave",x="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(K=tf,O="onPointerLeave",x="onPointerEnter",E="pointer"),Re=j==null?w:ja(j),N=V==null?w:ja(V),w=new K(O,E+"leave",j,i,M),w.target=Re,w.relatedTarget=N,O=null,_l(M)===A&&(K=new K(x,E+"enter",V,i,M),K.target=N,K.relatedTarget=Re,O=K),Re=O,j&&V)t:{for(K=I1,x=j,E=V,N=0,O=x;O;O=K(O))N++;O=0;for(var Q=E;Q;Q=K(Q))O++;for(;0<N-O;)x=K(x),N--;for(;0<O-N;)E=K(E),O--;for(;N--;){if(x===E||E!==null&&x===E.alternate){K=x;break t}x=K(x),E=K(E)}K=null}else K=null;j!==null&&Xg(z,w,j,K,!1),V!==null&&Re!==null&&Xg(z,Re,V,K,!0)}}e:{if(w=A?ja(A):window,j=w.nodeName&&w.nodeName.toLowerCase(),j==="select"||j==="input"&&w.type==="file")var Se=uf;else if(rf(w))if(hf)Se=W_;else{Se=Z_;var Y=K_}else j=w.nodeName,!j||j.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&ao(A.elementType)&&(Se=uf):Se=J_;if(Se&&(Se=Se(e,A))){of(z,Se,i,M);break e}Y&&Y(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&lo(w,"number",w.value)}switch(Y=A?ja(A):window,e){case"focusin":(rf(Y)||Y.contentEditable==="true")&&(wl=Y,bo=A,Ba=null);break;case"focusout":Ba=bo=wl=null;break;case"mousedown":So=!0;break;case"contextmenu":case"mouseup":case"dragend":So=!1,_f(z,i,M);break;case"selectionchange":if(P_)break;case"keydown":case"keyup":_f(z,i,M)}var ie;if(po)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Al?sf(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(nf&&i.locale!=="ko"&&(Al||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Al&&(ie=Wd()):(oi=M,uo="value"in oi?oi.value:oi.textContent,Al=!0)),Y=er(A,fe),0<Y.length&&(fe=new ef(fe,e,null,i,M),z.push({event:fe,listeners:Y}),ie?fe.data=ie:(ie=cf(i),ie!==null&&(fe.data=ie)))),(ie=q_?Y_(e,i):Q_(e,i))&&(fe=er(A,"onBeforeInput"),0<fe.length&&(Y=new ef("onBeforeInput","beforeinput",null,i,M),z.push({event:Y,listeners:fe}),Y.data=ie)),L1(z,e,A,i,M)}Qg(z,t)})}function os(e,t,i){return{instance:e,listener:t,currentTarget:i}}function er(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Da(e,i),r!=null&&s.unshift(os(e,r,u)),r=Da(e,t),r!=null&&s.push(os(e,r,u))),e.tag===3)return s;e=e.return}return[]}function I1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xg(e,t,i,s,r){for(var u=t._reactName,m=[];i!==null&&i!==s;){var p=i,b=p.alternate,A=p.stateNode;if(p=p.tag,b!==null&&b===s)break;p!==5&&p!==26&&p!==27||A===null||(b=A,r?(A=Da(i,u),A!=null&&m.unshift(os(i,A,b))):r||(A=Da(i,u),A!=null&&m.push(os(i,A,b)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var V1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function Kg(e){return(typeof e=="string"?e:""+e).replace(V1,`
`).replace(G1,"")}function Zg(e,t){return t=Kg(t),Kg(e)===t}function Oe(e,t,i,s,r,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||xl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&xl(e,""+s);break;case"className":lc(e,"class",s);break;case"tabIndex":lc(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":lc(e,i,s);break;case"style":Kd(e,s,u);break;case"data":if(t!=="object"){lc(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=sc(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Oe(e,t,"name",r.name,r,null),Oe(e,t,"formEncType",r.formEncType,r,null),Oe(e,t,"formMethod",r.formMethod,r,null),Oe(e,t,"formTarget",r.formTarget,r,null)):(Oe(e,t,"encType",r.encType,r,null),Oe(e,t,"method",r.method,r,null),Oe(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=sc(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Un);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=sc(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ue("beforetoggle",e),ue("toggle",e),ic(e,"popover",s);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ic(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=p_.get(i)||i,ic(e,i,s))}}function Fu(e,t,i,s,r,u){switch(i){case"style":Kd(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof s=="string"?xl(e,s):(typeof s=="number"||typeof s=="bigint")&&xl(e,""+s);break;case"onScroll":s!=null&&ue("scroll",e);break;case"onScrollEnd":s!=null&&ue("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hd.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),u=e[G]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):ic(e,i,s)}}}function xt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var s=!1,r=!1,u;for(u in i)if(i.hasOwnProperty(u)){var m=i[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Oe(e,t,u,m,i,null)}}r&&Oe(e,t,"srcSet",i.srcSet,i,null),s&&Oe(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var p=u=m=r=null,b=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var M=i[s];if(M!=null)switch(s){case"name":r=M;break;case"type":m=M;break;case"checked":b=M;break;case"defaultChecked":A=M;break;case"value":u=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(c(137,t));break;default:Oe(e,t,s,M,i,null)}}Yd(e,u,p,b,A,m,r,!1);return;case"select":ue("invalid",e),s=m=u=null;for(r in i)if(i.hasOwnProperty(r)&&(p=i[r],p!=null))switch(r){case"value":u=p;break;case"defaultValue":m=p;break;case"multiple":s=p;default:Oe(e,t,r,p,i,null)}t=u,i=m,e.multiple=!!s,t!=null?El(e,!!s,t,!1):i!=null&&El(e,!!s,i,!0);return;case"textarea":ue("invalid",e),u=r=s=null;for(m in i)if(i.hasOwnProperty(m)&&(p=i[m],p!=null))switch(m){case"value":s=p;break;case"defaultValue":r=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:Oe(e,t,m,p,i,null)}Fd(e,s,r,u);return;case"option":for(b in i)i.hasOwnProperty(b)&&(s=i[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Oe(e,t,b,s,i,null));return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(s=0;s<rs.length;s++)ue(rs[s],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Oe(e,t,A,s,i,null)}return;default:if(ao(t)){for(M in i)i.hasOwnProperty(M)&&(s=i[M],s!==void 0&&Fu(e,t,M,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Oe(e,t,p,s,i,null))}function q1(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,m=null,p=null,b=null,A=null,M=null;for(j in i){var z=i[j];if(i.hasOwnProperty(j)&&z!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":b=z;default:s.hasOwnProperty(j)||Oe(e,t,j,null,s,z)}}for(var w in s){var j=s[w];if(z=i[w],s.hasOwnProperty(w)&&(j!=null||z!=null))switch(w){case"type":u=j;break;case"name":r=j;break;case"checked":A=j;break;case"defaultChecked":M=j;break;case"value":m=j;break;case"defaultValue":p=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(137,t));break;default:j!==z&&Oe(e,t,w,j,s,z)}}io(e,m,p,b,A,M,u,r);return;case"select":j=m=p=w=null;for(u in i)if(b=i[u],i.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":j=b;default:s.hasOwnProperty(u)||Oe(e,t,u,null,s,b)}for(r in s)if(u=s[r],b=i[r],s.hasOwnProperty(r)&&(u!=null||b!=null))switch(r){case"value":w=u;break;case"defaultValue":p=u;break;case"multiple":m=u;default:u!==b&&Oe(e,t,r,u,s,b)}t=p,i=m,s=j,w!=null?El(e,!!i,w,!1):!!s!=!!i&&(t!=null?El(e,!!i,t,!0):El(e,!!i,i?[]:"",!1));return;case"textarea":j=w=null;for(p in i)if(r=i[p],i.hasOwnProperty(p)&&r!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Oe(e,t,p,null,s,r)}for(m in s)if(r=s[m],u=i[m],s.hasOwnProperty(m)&&(r!=null||u!=null))switch(m){case"value":w=r;break;case"defaultValue":j=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==u&&Oe(e,t,m,r,s,u)}Qd(e,w,j);return;case"option":for(var V in i)w=i[V],i.hasOwnProperty(V)&&w!=null&&!s.hasOwnProperty(V)&&(V==="selected"?e.selected=!1:Oe(e,t,V,null,s,w));for(b in s)w=s[b],j=i[b],s.hasOwnProperty(b)&&w!==j&&(w!=null||j!=null)&&(b==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":Oe(e,t,b,w,s,j));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)w=i[K],i.hasOwnProperty(K)&&w!=null&&!s.hasOwnProperty(K)&&Oe(e,t,K,null,s,w);for(A in s)if(w=s[A],j=i[A],s.hasOwnProperty(A)&&w!==j&&(w!=null||j!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(c(137,t));break;default:Oe(e,t,A,w,s,j)}return;default:if(ao(t)){for(var Re in i)w=i[Re],i.hasOwnProperty(Re)&&w!==void 0&&!s.hasOwnProperty(Re)&&Fu(e,t,Re,void 0,s,w);for(M in s)w=s[M],j=i[M],!s.hasOwnProperty(M)||w===j||w===void 0&&j===void 0||Fu(e,t,M,w,s,j);return}}for(var x in i)w=i[x],i.hasOwnProperty(x)&&w!=null&&!s.hasOwnProperty(x)&&Oe(e,t,x,null,s,w);for(z in s)w=s[z],j=i[z],!s.hasOwnProperty(z)||w===j||w==null&&j==null||Oe(e,t,z,w,s,j)}function Jg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],u=r.transferSize,m=r.initiatorType,p=r.duration;if(u&&p&&Jg(m)){for(m=0,p=r.responseEnd,s+=1;s<i.length;s++){var b=i[s],A=b.startTime;if(A>p)break;var M=b.transferSize,z=b.initiatorType;M&&Jg(z)&&(b=b.responseEnd,m+=M*(b<p?1:(p-A)/(b-A)))}if(--s,t+=8*(u+m)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xu=null,Ku=null;function tr(e){return e.nodeType===9?e:e.ownerDocument}function Wg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $g(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=null;function Q1(){var e=window.event;return e&&e.type==="popstate"?e===Ju?!1:(Ju=e,!0):(Ju=null,!1)}var Pg=typeof setTimeout=="function"?setTimeout:void 0,F1=typeof clearTimeout=="function"?clearTimeout:void 0,ep=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof ep<"u"?function(e){return ep.resolve(null).then(e).catch(K1)}:Pg;function K1(e){setTimeout(function(){throw e})}function Ni(e){return e==="head"}function tp(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),ta(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")us(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,us(i);for(var u=i.firstChild;u;){var m=u.nextSibling,p=u.nodeName;u[wa]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=m}}else i==="body"&&us(e.ownerDocument.body);i=r}while(i);ta(t)}function np(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Wu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Wu(i),to(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Z1(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[wa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=dn(e.nextSibling),e===null)break}return null}function J1(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=dn(e.nextSibling),e===null))return null;return e}function ip(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=dn(e.nextSibling),e===null))return null;return e}function $u(e){return e.data==="$?"||e.data==="$~"}function Pu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W1(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var eh=null;function lp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return dn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function ap(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function sp(e,t,i){switch(t=tr(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function us(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);to(e)}var fn=new Map,cp=new Set;function nr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Wn=B.d;B.d={f:$1,r:P1,D:e0,C:t0,L:n0,m:i0,X:a0,S:l0,M:s0};function $1(){var e=Wn.f(),t=Xc();return e||t}function P1(e){var t=bl(e);t!==null&&t.tag===5&&t.type==="form"?xm(t):Wn.r(e)}var $l=typeof document>"u"?null:document;function rp(e,t,i){var s=$l;if(s&&typeof t=="string"&&t){var r=an(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),cp.has(r)||(cp.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),xt(t,"link",e),pt(t),s.head.appendChild(t)))}}function e0(e){Wn.D(e),rp("dns-prefetch",e,null)}function t0(e,t){Wn.C(e,t),rp("preconnect",e,t)}function n0(e,t,i){Wn.L(e,t,i);var s=$l;if(s&&e&&t){var r='link[rel="preload"][as="'+an(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+an(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+an(i.imageSizes)+'"]')):r+='[href="'+an(e)+'"]';var u=r;switch(t){case"style":u=Pl(e);break;case"script":u=ea(e)}fn.has(u)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),fn.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(hs(u))||t==="script"&&s.querySelector(ds(u))||(t=s.createElement("link"),xt(t,"link",e),pt(t),s.head.appendChild(t)))}}function i0(e,t){Wn.m(e,t);var i=$l;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+an(s)+'"][href="'+an(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ea(e)}if(!fn.has(u)&&(e=S({rel:"modulepreload",href:e},t),fn.set(u,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ds(u)))return}s=i.createElement("link"),xt(s,"link",e),pt(s),i.head.appendChild(s)}}}function l0(e,t,i){Wn.S(e,t,i);var s=$l;if(s&&e){var r=Sl(s).hoistableStyles,u=Pl(e);t=t||"default";var m=r.get(u);if(!m){var p={loading:0,preload:null};if(m=s.querySelector(hs(u)))p.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=fn.get(u))&&th(e,i);var b=m=s.createElement("link");pt(b),xt(b,"link",e),b._p=new Promise(function(A,M){b.onload=A,b.onerror=M}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,ir(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:p},r.set(u,m)}}}function a0(e,t){Wn.X(e,t);var i=$l;if(i&&e){var s=Sl(i).hoistableScripts,r=ea(e),u=s.get(r);u||(u=i.querySelector(ds(r)),u||(e=S({src:e,async:!0},t),(t=fn.get(r))&&nh(e,t),u=i.createElement("script"),pt(u),xt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function s0(e,t){Wn.M(e,t);var i=$l;if(i&&e){var s=Sl(i).hoistableScripts,r=ea(e),u=s.get(r);u||(u=i.querySelector(ds(r)),u||(e=S({src:e,async:!0,type:"module"},t),(t=fn.get(r))&&nh(e,t),u=i.createElement("script"),pt(u),xt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function op(e,t,i,s){var r=(r=Ut.current)?nr(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Pl(i.href),i=Sl(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Pl(i.href);var u=Sl(r).hoistableStyles,m=u.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=r.querySelector(hs(e)))&&!u._p&&(m.instance=u,m.state.loading=5),fn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},fn.set(e,i),u||c0(r,e,i,m.state))),t&&s===null)throw Error(c(528,""));return m}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ea(i),i=Sl(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Pl(e){return'href="'+an(e)+'"'}function hs(e){return'link[rel="stylesheet"]['+e+"]"}function up(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function c0(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),xt(t,"link",i),pt(t),e.head.appendChild(t))}function ea(e){return'[src="'+an(e)+'"]'}function ds(e){return"script[async]"+e}function hp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+an(i.href)+'"]');if(s)return t.instance=s,pt(s),s;var r=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),pt(s),xt(s,"style",r),ir(s,i.precedence,e),t.instance=s;case"stylesheet":r=Pl(i.href);var u=e.querySelector(hs(r));if(u)return t.state.loading|=4,t.instance=u,pt(u),u;s=up(i),(r=fn.get(r))&&th(s,r),u=(e.ownerDocument||e).createElement("link"),pt(u);var m=u;return m._p=new Promise(function(p,b){m.onload=p,m.onerror=b}),xt(u,"link",s),t.state.loading|=4,ir(u,i.precedence,e),t.instance=u;case"script":return u=ea(i.src),(r=e.querySelector(ds(u)))?(t.instance=r,pt(r),r):(s=i,(r=fn.get(u))&&(s=S({},i),nh(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),pt(r),xt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,ir(s,i.precedence,e));return t.instance}function ir(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,m=0;m<s.length;m++){var p=s[m];if(p.dataset.precedence===t)u=p;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function th(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function nh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var lr=null;function dp(e,t,i){if(lr===null){var s=new Map,r=lr=new Map;r.set(i,s)}else r=lr,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var u=i[r];if(!(u[wa]||u[I]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var p=s.get(m);p?p.push(u):s.set(m,[u])}}return s}function fp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function r0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function mp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function o0(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=Pl(s.href),u=t.querySelector(hs(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ar.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,pt(u);return}u=t.ownerDocument||t,s=up(s),(r=fn.get(r))&&th(s,r),u=u.createElement("link"),pt(u);var m=u;m._p=new Promise(function(p,b){m.onload=p,m.onerror=b}),xt(u,"link",s),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=ar.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var ih=0;function u0(e,t){return e.stylesheets&&e.count===0&&cr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&cr(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&ih===0&&(ih=62500*Y1());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&cr(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>ih?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function ar(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)cr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var sr=null;function cr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,sr=new Map,t.forEach(h0,e),sr=null,ar.call(e))}function h0(e,t){if(!(t.state.loading&4)){var i=sr.get(e);if(i)var s=i.get(null);else{i=new Map,sr.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var m=r[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}r=t.instance,m=r.getAttribute("data-precedence"),u=i.get(m)||s,u===s&&i.set(null,r),i.set(m,r),this.count++,s=ar.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var fs={$$typeof:ee,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function d0(e,t,i,s,r,u,m,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yl(0),this.hiddenUpdates=yl(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function gp(e,t,i,s,r,u,m,p,b,A,M,z){return e=new d0(e,t,i,m,b,A,M,z,p),t=1,u===!0&&(t|=24),u=Xt(3,null,null,t),e.current=u,u.stateNode=e,t=Lo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},Io(u),e}function pp(e){return e?(e=Ml,e):Ml}function vp(e,t,i,s,r,u){r=pp(r),s.context===null?s.context=r:s.pendingContext=r,s=gi(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=pi(e,s,t),i!==null&&(Gt(i,e,t),Qa(i,e,t))}function yp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function lh(e,t){yp(e,t),(e=e.alternate)&&yp(e,t)}function _p(e){if(e.tag===13||e.tag===31){var t=Wi(e,67108864);t!==null&&Gt(t,e,67108864),lh(e,67108864)}}function bp(e){if(e.tag===13||e.tag===31){var t=$t();t=xa(t);var i=Wi(e,t);i!==null&&Gt(i,e,t),lh(e,t)}}var rr=!0;function f0(e,t,i,s){var r=D.T;D.T=null;var u=B.p;try{B.p=2,ah(e,t,i,s)}finally{B.p=u,D.T=r}}function m0(e,t,i,s){var r=D.T;D.T=null;var u=B.p;try{B.p=8,ah(e,t,i,s)}finally{B.p=u,D.T=r}}function ah(e,t,i,s){if(rr){var r=sh(s);if(r===null)Qu(e,t,s,or,i),Cp(e,s);else if(p0(r,e,t,i,s))s.stopPropagation();else if(Cp(e,s),t&4&&-1<g0.indexOf(e)){for(;r!==null;){var u=bl(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Nn(u.pendingLanes);if(m!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var b=1<<31-ht(m);p.entanglements[1]|=b,m&=~b}Dn(u),(xe&6)===0&&(Qc=ke()+500,cs(0))}}break;case 31:case 13:p=Wi(u,2),p!==null&&Gt(p,u,2),Xc(),lh(u,2)}if(u=sh(s),u===null&&Qu(e,t,s,or,i),u===r)break;r=u}r!==null&&s.stopPropagation()}else Qu(e,t,s,null,i)}}function sh(e){return e=co(e),ch(e)}var or=null;function ch(e){if(or=null,e=_l(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return or=e,null}function Sp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wt()){case jt:return 2;case xn:return 8;case Dt:case Tn:return 32;case ba:return 268435456;default:return 32}default:return 32}}var rh=!1,Ai=null,wi=null,ji=null,ms=new Map,gs=new Map,Di=[],g0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cp(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":ji=null;break;case"pointerover":case"pointerout":ms.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(t.pointerId)}}function ps(e,t,i,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=bl(t),t!==null&&_p(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function p0(e,t,i,s,r){switch(t){case"focusin":return Ai=ps(Ai,e,t,i,s,r),!0;case"dragenter":return wi=ps(wi,e,t,i,s,r),!0;case"mouseover":return ji=ps(ji,e,t,i,s,r),!0;case"pointerover":var u=r.pointerId;return ms.set(u,ps(ms.get(u)||null,e,t,i,s,r)),!0;case"gotpointercapture":return u=r.pointerId,gs.set(u,ps(gs.get(u)||null,e,t,i,s,r)),!0}return!1}function Ep(e){var t=_l(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Aa(e.priority,function(){bp(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,Aa(e.priority,function(){bp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ur(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=sh(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);so=s,i.target.dispatchEvent(s),so=null}else return t=bl(i),t!==null&&_p(t),e.blockedOn=i,!1;t.shift()}return!0}function xp(e,t,i){ur(e)&&i.delete(t)}function v0(){rh=!1,Ai!==null&&ur(Ai)&&(Ai=null),wi!==null&&ur(wi)&&(wi=null),ji!==null&&ur(ji)&&(ji=null),ms.forEach(xp),gs.forEach(xp)}function hr(e,t){e.blockedOn===t&&(e.blockedOn=null,rh||(rh=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,v0)))}var dr=null;function Tp(e){dr!==e&&(dr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){dr===e&&(dr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(ch(s||i)===null)continue;break}var u=bl(i);u!==null&&(e.splice(t,3),t-=3,su(u,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function ta(e){function t(b){return hr(b,e)}Ai!==null&&hr(Ai,e),wi!==null&&hr(wi,e),ji!==null&&hr(ji,e),ms.forEach(t),gs.forEach(t);for(var i=0;i<Di.length;i++){var s=Di[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Di.length&&(i=Di[0],i.blockedOn===null);)Ep(i),i.blockedOn===null&&Di.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],u=i[s+1],m=r[G]||null;if(typeof u=="function")m||Tp(i);else if(m){var p=null;if(u&&u.hasAttribute("formAction")){if(r=u,m=u[G]||null)p=m.formAction;else if(ch(r)!==null)continue}else p=m.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),Tp(i)}}}function Np(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return r=m})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function oh(e){this._internalRoot=e}fr.prototype.render=oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,s=$t();vp(i,s,e,t,null,null)},fr.prototype.unmount=oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;vp(e.current,2,null,e,null,null),Xc(),t[$]=null}};function fr(e){this._internalRoot=e}fr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Na();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Di.length&&t!==0&&t<Di[i].priority;i++);Di.splice(i,0,e),i===0&&Ep(e)}};var Ap=n.version;if(Ap!=="19.2.4")throw Error(c(527,Ap,"19.2.4"));B.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var y0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mr.isDisabled&&mr.supportsFiber)try{tn=mr.inject(y0),Mt=mr}catch{}}return vs.createRoot=function(e,t){if(!o(e))throw Error(c(299));var i=!1,s="",r=zm,u=Um,m=Lm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=gp(e,1,!1,null,null,i,s,null,r,u,m,Np),e[$]=t.current,Yu(e),new oh(t)},vs.hydrateRoot=function(e,t,i){if(!o(e))throw Error(c(299));var s=!1,r="",u=zm,m=Um,p=Lm,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(b=i.formState)),t=gp(e,1,!0,t,i??null,s,r,b,u,m,p,Np),t.context=pp(null),i=t.current,s=$t(),s=xa(s),r=gi(s),r.callback=null,pi(i,r,s),i=s,t.current.lanes=i,Fi(t,i),Dn(t),e[$]=t.current,Yu(e),new fr(t)},vs.version="19.2.4",vs}var Mp;function x0(){if(Mp)return uh.exports;Mp=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),uh.exports=E0(),uh.exports}var T0=x0();function Ov(l){return Fe({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(l)}function N0(l){return Fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"},child:[]}]})(l)}function A0(l){return Fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(l)}function wh(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(l)}function w0(l){return Fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(l)}function j0(l){return Fe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(l)}function D0(l){return Fe({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(l)}function M0(l){return Fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(l)}function Op(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(l)}function Rp(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(l)}function O0(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(l)}function R0(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(l)}function jh(l){return Fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(l)}function _n(l){return Fe({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(l)}function z0(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M500.33 0h-47.41a12 12 0 0 0-12 12.57l4 82.76A247.42 247.42 0 0 0 256 8C119.34 8 7.9 119.53 8 256.19 8.1 393.07 119.1 504 256 504a247.1 247.1 0 0 0 166.18-63.91 12 12 0 0 0 .48-17.43l-34-34a12 12 0 0 0-16.38-.55A176 176 0 1 1 402.1 157.8l-101.53-4.87a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12h200.33a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12z"},child:[]}]})(l)}function yr(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(l)}function U0(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(l)}function fh(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(l)}function mh(l){return Fe({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(l)}function L0(l){return Fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(l)}function zp(l){return Fe({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(l)}function k0(l){return Fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(l)}function B0(l){return Fe({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(l)}const Up=l=>{let n;const a=new Set,c=(y,T)=>{const S=typeof y=="function"?y(n):y;if(!Object.is(S,n)){const C=n;n=T??(typeof S!="object"||S===null)?S:Object.assign({},n,S),a.forEach(R=>R(n,C))}},o=()=>n,g={setState:c,getState:o,getInitialState:()=>v,subscribe:y=>(a.add(y),()=>a.delete(y))},v=n=l(c,o,g);return g},H0=(l=>l?Up(l):Up),I0=l=>l;function V0(l,n=I0){const a=gr.useSyncExternalStore(l.subscribe,gr.useCallback(()=>n(l.getState()),[l,n]),gr.useCallback(()=>n(l.getInitialState()),[l,n]));return gr.useDebugValue(a),a}const Lp=l=>{const n=H0(l),a=c=>V0(n,c);return Object.assign(a,n),a},G0=(l=>l?Lp(l):Lp);function q0(l,n){let a;try{a=l()}catch{return}return{getItem:o=>{var h;const f=v=>v===null?null:JSON.parse(v,void 0),g=(h=a.getItem(o))!=null?h:null;return g instanceof Promise?g.then(f):f(g)},setItem:(o,h)=>a.setItem(o,JSON.stringify(h,void 0)),removeItem:o=>a.removeItem(o)}}const Dh=l=>n=>{try{const a=l(n);return a instanceof Promise?a:{then(c){return Dh(c)(a)},catch(c){return this}}}catch(a){return{then(c){return this},catch(c){return Dh(c)(a)}}}},Y0=(l,n)=>(a,c,o)=>{let h={storage:q0(()=>localStorage),partialize:q=>q,version:0,merge:(q,le)=>({...le,...q}),...n},f=!1,g=0;const v=new Set,y=new Set;let T=h.storage;if(!T)return l((...q)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),a(...q)},c,o);const S=()=>{const q=h.partialize({...c()});return T.setItem(h.name,{state:q,version:h.version})},C=o.setState;o.setState=(q,le)=>(C(q,le),S());const R=l((...q)=>(a(...q),S()),c,o);o.getInitialState=()=>R;let U;const F=()=>{var q,le;if(!T)return;const Le=++g;f=!1,v.forEach(Z=>{var ye;return Z((ye=c())!=null?ye:R)});const ee=((le=h.onRehydrateStorage)==null?void 0:le.call(h,(q=c())!=null?q:R))||void 0;return Dh(T.getItem.bind(T))(h.name).then(Z=>{if(Z)if(typeof Z.version=="number"&&Z.version!==h.version){if(h.migrate){const ye=h.migrate(Z.state,Z.version);return ye instanceof Promise?ye.then(Te=>[!0,Te]):[!0,ye]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Z.state];return[!1,void 0]}).then(Z=>{var ye;if(Le!==g)return;const[Te,it]=Z;if(U=h.merge(it,(ye=c())!=null?ye:R),a(U,!0),Te)return S()}).then(()=>{Le===g&&(ee?.(U,void 0),U=c(),f=!0,y.forEach(Z=>Z(U)))}).catch(Z=>{Le===g&&ee?.(void 0,Z)})};return o.persist={setOptions:q=>{h={...h,...q},q.storage&&(T=q.storage)},clearStorage:()=>{T?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>F(),hasHydrated:()=>f,onHydrate:q=>(v.add(q),()=>{v.delete(q)}),onFinishHydration:q=>(y.add(q),()=>{y.delete(q)})},h.skipHydration||F(),U||R},Q0=Y0,F0=()=>{};var kp={};const Rv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const k=function(l,n){if(!l)throw ma(n)},ma=function(l){return new Error("Firebase Database ("+Rv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};const zv=function(l){const n=[];let a=0;for(let c=0;c<l.length;c++){let o=l.charCodeAt(c);o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):(o&64512)===55296&&c+1<l.length&&(l.charCodeAt(c+1)&64512)===56320?(o=65536+((o&1023)<<10)+(l.charCodeAt(++c)&1023),n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},X0=function(l){const n=[];let a=0,c=0;for(;a<l.length;){const o=l[a++];if(o<128)n[c++]=String.fromCharCode(o);else if(o>191&&o<224){const h=l[a++];n[c++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=l[a++],f=l[a++],g=l[a++],v=((o&7)<<18|(h&63)<<12|(f&63)<<6|g&63)-65536;n[c++]=String.fromCharCode(55296+(v>>10)),n[c++]=String.fromCharCode(56320+(v&1023))}else{const h=l[a++],f=l[a++];n[c++]=String.fromCharCode((o&15)<<12|(h&63)<<6|f&63)}}return n.join("")},Wh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const a=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let o=0;o<l.length;o+=3){const h=l[o],f=o+1<l.length,g=f?l[o+1]:0,v=o+2<l.length,y=v?l[o+2]:0,T=h>>2,S=(h&3)<<4|g>>4;let C=(g&15)<<2|y>>6,R=y&63;v||(R=64,f||(C=64)),c.push(a[T],a[S],a[C],a[R])}return c.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(zv(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):X0(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const a=n?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let o=0;o<l.length;){const h=a[l.charAt(o++)],g=o<l.length?a[l.charAt(o)]:0;++o;const y=o<l.length?a[l.charAt(o)]:64;++o;const S=o<l.length?a[l.charAt(o)]:64;if(++o,h==null||g==null||y==null||S==null)throw new K0;const C=h<<2|g>>4;if(c.push(C),y!==64){const R=g<<4&240|y>>2;if(c.push(R),S!==64){const U=y<<6&192|S;c.push(U)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class K0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uv=function(l){const n=zv(l);return Wh.encodeByteArray(n,!0)},br=function(l){return Uv(l).replace(/\./g,"")},Mh=function(l){try{return Wh.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function Z0(l){return Lv(void 0,l)}function Lv(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const a=n;return new Date(a.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const a in n)!n.hasOwnProperty(a)||!J0(a)||(l[a]=Lv(l[a],n[a]));return l}function J0(l){return l!=="__proto__"}function W0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const $0=()=>W0().__FIREBASE_DEFAULTS__,P0=()=>{if(typeof process>"u"||typeof kp>"u")return;const l=kp.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},e2=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Mh(l[1]);return n&&JSON.parse(n)},kv=()=>{try{return F0()||$0()||P0()||e2()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},t2=l=>kv()?.emulatorHosts?.[l],n2=l=>{const n=t2(l);if(!n)return;const a=n.lastIndexOf(":");if(a<=0||a+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const c=parseInt(n.substring(a+1),10);return n[0]==="["?[n.substring(1,a-1),c]:[n.substring(0,a),c]},Bv=()=>kv()?.config;class Vs{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}wrapCallback(n){return(a,c)=>{a?this.reject(a):this.resolve(c),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(a):n(a,c))}}}function $h(l){try{return(l.startsWith("http://")||l.startsWith("https://")?new URL(l).hostname:l).endsWith(".cloudworkstations.dev")}catch{return!1}}async function i2(l){return(await fetch(l,{credentials:"include"})).ok}function l2(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const a={alg:"none",type:"JWT"},c=n||"demo-project",o=l.iat||0,h=l.sub||l.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${c}`,aud:c,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...l};return[br(JSON.stringify(a)),br(JSON.stringify(f)),""].join(".")}const xs={};function a2(){const l={prod:[],emulator:[]};for(const n of Object.keys(xs))xs[n]?l.emulator.push(n):l.prod.push(n);return l}function s2(l){let n=document.getElementById(l),a=!1;return n||(n=document.createElement("div"),n.setAttribute("id",l),a=!0),{created:a,element:n}}let Bp=!1;function c2(l,n){if(typeof window>"u"||typeof document>"u"||!$h(window.location.host)||xs[l]===n||xs[l]||Bp)return;xs[l]=n;function a(C){return`__firebase__banner__${C}`}const c="__firebase__banner",h=a2().prod.length>0;function f(){const C=document.getElementById(c);C&&C.remove()}function g(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function v(C,R){C.setAttribute("width","24"),C.setAttribute("id",R),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function y(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{Bp=!0,f()},C}function T(C,R){C.setAttribute("id",R),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function S(){const C=s2(c),R=a("text"),U=document.getElementById(R)||document.createElement("span"),F=a("learnmore"),q=document.getElementById(F)||document.createElement("a"),le=a("preprendIcon"),Le=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const ee=C.element;g(ee),T(q,F);const Z=y();v(Le,le),ee.append(Le,U,q,Z),document.body.appendChild(ee)}h?(U.innerText="Preview backend disconnected.",Le.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Le.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function r2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Hv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(r2())}function o2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function u2(){return Rv.NODE_ADMIN===!0}function h2(){try{return typeof indexedDB=="object"}catch{return!1}}function d2(){return new Promise((l,n)=>{try{let a=!0;const c="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(c);o.onsuccess=()=>{o.result.close(),a||self.indexedDB.deleteDatabase(c),l(!0)},o.onupgradeneeded=()=>{a=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(a){n(a)}})}const f2="FirebaseError";class Gs extends Error{constructor(n,a,c){super(a),this.code=n,this.customData=c,this.name=f2,Object.setPrototypeOf(this,Gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Iv.prototype.create)}}class Iv{constructor(n,a,c){this.service=n,this.serviceName=a,this.errors=c}create(n,...a){const c=a[0]||{},o=`${this.service}/${n}`,h=this.errors[n],f=h?m2(h,c):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Gs(o,g,c)}}function m2(l,n){return l.replace(g2,(a,c)=>{const o=n[c];return o!=null?String(o):`<${c}?>`})}const g2=/\{\$([^}]+)}/g;function Ds(l){return JSON.parse(l)}function mt(l){return JSON.stringify(l)}const Vv=function(l){let n={},a={},c={},o="";try{const h=l.split(".");n=Ds(Mh(h[0])||""),a=Ds(Mh(h[1])||""),o=h[2],c=a.d||{},delete a.d}catch{}return{header:n,claims:a,data:c,signature:o}},p2=function(l){const n=Vv(l),a=n.claims;return!!a&&typeof a=="object"&&a.hasOwnProperty("iat")},v2=function(l){const n=Vv(l).claims;return typeof n=="object"&&n.admin===!0};function Mn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function ra(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Hp(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Sr(l,n,a){const c={};for(const o in l)Object.prototype.hasOwnProperty.call(l,o)&&(c[o]=n.call(a,l[o],o,l));return c}function Cr(l,n){if(l===n)return!0;const a=Object.keys(l),c=Object.keys(n);for(const o of a){if(!c.includes(o))return!1;const h=l[o],f=n[o];if(Ip(h)&&Ip(f)){if(!Cr(h,f))return!1}else if(h!==f)return!1}for(const o of c)if(!a.includes(o))return!1;return!0}function Ip(l){return l!==null&&typeof l=="object"}function y2(l){const n=[];for(const[a,c]of Object.entries(l))Array.isArray(c)?c.forEach(o=>{n.push(encodeURIComponent(a)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(a)+"="+encodeURIComponent(c));return n.length?"&"+n.join("&"):""}class _2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,a){a||(a=0);const c=this.W_;if(typeof n=="string")for(let S=0;S<16;S++)c[S]=n.charCodeAt(a)<<24|n.charCodeAt(a+1)<<16|n.charCodeAt(a+2)<<8|n.charCodeAt(a+3),a+=4;else for(let S=0;S<16;S++)c[S]=n[a]<<24|n[a+1]<<16|n[a+2]<<8|n[a+3],a+=4;for(let S=16;S<80;S++){const C=c[S-3]^c[S-8]^c[S-14]^c[S-16];c[S]=(C<<1|C>>>31)&4294967295}let o=this.chain_[0],h=this.chain_[1],f=this.chain_[2],g=this.chain_[3],v=this.chain_[4],y,T;for(let S=0;S<80;S++){S<40?S<20?(y=g^h&(f^g),T=1518500249):(y=h^f^g,T=1859775393):S<60?(y=h&f|g&(h|f),T=2400959708):(y=h^f^g,T=3395469782);const C=(o<<5|o>>>27)+y+v+T+c[S]&4294967295;v=g,g=f,f=(h<<30|h>>>2)&4294967295,h=o,o=C}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(n,a){if(n==null)return;a===void 0&&(a=n.length);const c=a-this.blockSize;let o=0;const h=this.buf_;let f=this.inbuf_;for(;o<a;){if(f===0)for(;o<=c;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<a;)if(h[f]=n.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}else for(;o<a;)if(h[f]=n[o],++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}this.inbuf_=f,this.total_+=a}digest(){const n=[];let a=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=a&255,a/=256;this.compress_(this.buf_);let c=0;for(let o=0;o<5;o++)for(let h=24;h>=0;h-=8)n[c]=this.chain_[o]>>h&255,++c;return n}}function Hr(l,n){return`${l} failed: ${n} argument `}const b2=function(l){const n=[];let a=0;for(let c=0;c<l.length;c++){let o=l.charCodeAt(c);if(o>=55296&&o<=56319){const h=o-55296;c++,k(c<l.length,"Surrogate pair missing trail surrogate.");const f=l.charCodeAt(c)-56320;o=65536+(h<<10)+f}o<128?n[a++]=o:o<2048?(n[a++]=o>>6|192,n[a++]=o&63|128):o<65536?(n[a++]=o>>12|224,n[a++]=o>>6&63|128,n[a++]=o&63|128):(n[a++]=o>>18|240,n[a++]=o>>12&63|128,n[a++]=o>>6&63|128,n[a++]=o&63|128)}return n},Ir=function(l){let n=0;for(let a=0;a<l.length;a++){const c=l.charCodeAt(a);c<128?n++:c<2048?n+=2:c>=55296&&c<=56319?(n+=4,a++):n+=3}return n};function ga(l){return l&&l._delegate?l._delegate:l}class Ms{constructor(n,a,c){this.name=n,this.instanceFactory=a,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const ul="[DEFAULT]";class S2{constructor(n,a){this.name=n,this.container=a,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const a=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(a)){const c=new Vs;if(this.instancesDeferred.set(a,c),this.isInitialized(a)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:a});o&&c.resolve(o)}catch{}}return this.instancesDeferred.get(a).promise}getImmediate(n){const a=this.normalizeInstanceIdentifier(n?.identifier),c=n?.optional??!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(o){if(c)return null;throw o}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(E2(n))try{this.getOrInitializeService({instanceIdentifier:ul})}catch{}for(const[a,c]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);try{const h=this.getOrInitializeService({instanceIdentifier:o});c.resolve(h)}catch{}}}}clearInstance(n=ul){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(a=>"INTERNAL"in a).map(a=>a.INTERNAL.delete()),...n.filter(a=>"_delete"in a).map(a=>a._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=ul){return this.instances.has(n)}getOptions(n=ul){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:a={}}=n,c=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:c,options:a});for(const[h,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);c===g&&f.resolve(o)}return o}onInit(n,a){const c=this.normalizeInstanceIdentifier(a),o=this.onInitCallbacks.get(c)??new Set;o.add(n),this.onInitCallbacks.set(c,o);const h=this.instances.get(c);return h&&n(h,c),()=>{o.delete(n)}}invokeOnInitCallbacks(n,a){const c=this.onInitCallbacks.get(a);if(c)for(const o of c)try{o(n,a)}catch{}}getOrInitializeService({instanceIdentifier:n,options:a={}}){let c=this.instances.get(n);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:C2(n),options:a}),this.instances.set(n,c),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(c,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,c)}catch{}return c||null}normalizeInstanceIdentifier(n=ul){return this.component?this.component.multipleInstances?n:ul:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function C2(l){return l===ul?void 0:l}function E2(l){return l.instantiationMode==="EAGER"}class x2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const a=this.getProvider(n.name);if(a.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);a.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const a=new S2(n,this);return this.providers.set(n,a),a}getProviders(){return Array.from(this.providers.values())}}var He;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(He||(He={}));const T2={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},N2=He.INFO,A2={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},w2=(l,n,...a)=>{if(n<l.logLevel)return;const c=new Date().toISOString(),o=A2[n];if(o)console[o](`[${c}]  ${l.name}:`,...a);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Gv{constructor(n){this.name=n,this._logLevel=N2,this._logHandler=w2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in He))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?T2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...n),this._logHandler(this,He.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...n),this._logHandler(this,He.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,He.INFO,...n),this._logHandler(this,He.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,He.WARN,...n),this._logHandler(this,He.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...n),this._logHandler(this,He.ERROR,...n)}}const j2=(l,n)=>n.some(a=>l instanceof a);let Vp,Gp;function D2(){return Vp||(Vp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function M2(){return Gp||(Gp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,Oh=new WeakMap,Yv=new WeakMap,gh=new WeakMap,Ph=new WeakMap;function O2(l){const n=new Promise((a,c)=>{const o=()=>{l.removeEventListener("success",h),l.removeEventListener("error",f)},h=()=>{a(zi(l.result)),o()},f=()=>{c(l.error),o()};l.addEventListener("success",h),l.addEventListener("error",f)});return n.then(a=>{a instanceof IDBCursor&&qv.set(a,l)}).catch(()=>{}),Ph.set(n,l),n}function R2(l){if(Oh.has(l))return;const n=new Promise((a,c)=>{const o=()=>{l.removeEventListener("complete",h),l.removeEventListener("error",f),l.removeEventListener("abort",f)},h=()=>{a(),o()},f=()=>{c(l.error||new DOMException("AbortError","AbortError")),o()};l.addEventListener("complete",h),l.addEventListener("error",f),l.addEventListener("abort",f)});Oh.set(l,n)}let Rh={get(l,n,a){if(l instanceof IDBTransaction){if(n==="done")return Oh.get(l);if(n==="objectStoreNames")return l.objectStoreNames||Yv.get(l);if(n==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return zi(l[n])},set(l,n,a){return l[n]=a,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function z2(l){Rh=l(Rh)}function U2(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...a){const c=l.call(ph(this),n,...a);return Yv.set(c,n.sort?n.sort():[n]),zi(c)}:M2().includes(l)?function(...n){return l.apply(ph(this),n),zi(qv.get(this))}:function(...n){return zi(l.apply(ph(this),n))}}function L2(l){return typeof l=="function"?U2(l):(l instanceof IDBTransaction&&R2(l),j2(l,D2())?new Proxy(l,Rh):l)}function zi(l){if(l instanceof IDBRequest)return O2(l);if(gh.has(l))return gh.get(l);const n=L2(l);return n!==l&&(gh.set(l,n),Ph.set(n,l)),n}const ph=l=>Ph.get(l);function k2(l,n,{blocked:a,upgrade:c,blocking:o,terminated:h}={}){const f=indexedDB.open(l,n),g=zi(f);return c&&f.addEventListener("upgradeneeded",v=>{c(zi(f.result),v.oldVersion,v.newVersion,zi(f.transaction),v)}),a&&f.addEventListener("blocked",v=>a(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const B2=["get","getKey","getAll","getAllKeys","count"],H2=["put","add","delete","clear"],vh=new Map;function qp(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(vh.get(n))return vh.get(n);const a=n.replace(/FromIndex$/,""),c=n!==a,o=H2.includes(a);if(!(a in(c?IDBIndex:IDBObjectStore).prototype)||!(o||B2.includes(a)))return;const h=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return c&&(y=y.index(g.shift())),(await Promise.all([y[a](...g),o&&v.done]))[0]};return vh.set(n,h),h}z2(l=>({...l,get:(n,a,c)=>qp(n,a)||l.get(n,a,c),has:(n,a)=>!!qp(n,a)||l.has(n,a)}));class I2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(a=>{if(V2(a)){const c=a.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(a=>a).join(" ")}}function V2(l){return l.getComponent()?.type==="VERSION"}const zh="@firebase/app",Yp="0.14.7";const ni=new Gv("@firebase/app"),G2="@firebase/app-compat",q2="@firebase/analytics-compat",Y2="@firebase/analytics",Q2="@firebase/app-check-compat",F2="@firebase/app-check",X2="@firebase/auth",K2="@firebase/auth-compat",Z2="@firebase/database",J2="@firebase/data-connect",W2="@firebase/database-compat",$2="@firebase/functions",P2="@firebase/functions-compat",eb="@firebase/installations",tb="@firebase/installations-compat",nb="@firebase/messaging",ib="@firebase/messaging-compat",lb="@firebase/performance",ab="@firebase/performance-compat",sb="@firebase/remote-config",cb="@firebase/remote-config-compat",rb="@firebase/storage",ob="@firebase/storage-compat",ub="@firebase/firestore",hb="@firebase/ai",db="@firebase/firestore-compat",fb="firebase",mb="12.8.0";const Uh="[DEFAULT]",gb={[zh]:"fire-core",[G2]:"fire-core-compat",[Y2]:"fire-analytics",[q2]:"fire-analytics-compat",[F2]:"fire-app-check",[Q2]:"fire-app-check-compat",[X2]:"fire-auth",[K2]:"fire-auth-compat",[Z2]:"fire-rtdb",[J2]:"fire-data-connect",[W2]:"fire-rtdb-compat",[$2]:"fire-fn",[P2]:"fire-fn-compat",[eb]:"fire-iid",[tb]:"fire-iid-compat",[nb]:"fire-fcm",[ib]:"fire-fcm-compat",[lb]:"fire-perf",[ab]:"fire-perf-compat",[sb]:"fire-rc",[cb]:"fire-rc-compat",[rb]:"fire-gcs",[ob]:"fire-gcs-compat",[ub]:"fire-fst",[db]:"fire-fst-compat",[hb]:"fire-vertex","fire-js":"fire-js",[fb]:"fire-js-all"};const Er=new Map,pb=new Map,Lh=new Map;function Qp(l,n){try{l.container.addComponent(n)}catch(a){ni.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,a)}}function xr(l){const n=l.name;if(Lh.has(n))return ni.debug(`There were multiple attempts to register component ${n}.`),!1;Lh.set(n,l);for(const a of Er.values())Qp(a,l);for(const a of pb.values())Qp(a,l);return!0}function vb(l,n){const a=l.container.getProvider("heartbeat").getImmediate({optional:!0});return a&&a.triggerHeartbeat(),l.container.getProvider(n)}function yb(l){return l==null?!1:l.settings!==void 0}const _b={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new Iv("app","Firebase",_b);class bb{constructor(n,a,c){this._isDeleted=!1,this._options={...n},this._config={...a},this._name=a.name,this._automaticDataCollectionEnabled=a.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Ms("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const Sb=mb;function Qv(l,n={}){let a=l;typeof n!="object"&&(n={name:n});const c={name:Uh,automaticDataCollectionEnabled:!0,...n},o=c.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(a||(a=Bv()),!a)throw Ui.create("no-options");const h=Er.get(o);if(h){if(Cr(a,h.options)&&Cr(c,h.config))return h;throw Ui.create("duplicate-app",{appName:o})}const f=new x2(o);for(const v of Lh.values())f.addComponent(v);const g=new bb(a,c,f);return Er.set(o,g),g}function Cb(l=Uh){const n=Er.get(l);if(!n&&l===Uh&&Bv())return Qv();if(!n)throw Ui.create("no-app",{appName:l});return n}function la(l,n,a){let c=gb[l]??l;a&&(c+=`-${a}`);const o=c.match(/\s|\//),h=n.match(/\s|\//);if(o||h){const f=[`Unable to register library "${c}" with version "${n}":`];o&&f.push(`library name "${c}" contains illegal characters (whitespace or "/")`),o&&h&&f.push("and"),h&&f.push(`version name "${n}" contains illegal characters (whitespace or "/")`),ni.warn(f.join(" "));return}xr(new Ms(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}const Eb="firebase-heartbeat-database",xb=1,Os="firebase-heartbeat-store";let yh=null;function Fv(){return yh||(yh=k2(Eb,xb,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(Os)}catch(a){console.warn(a)}}}}).catch(l=>{throw Ui.create("idb-open",{originalErrorMessage:l.message})})),yh}async function Tb(l){try{const a=(await Fv()).transaction(Os),c=await a.objectStore(Os).get(Xv(l));return await a.done,c}catch(n){if(n instanceof Gs)ni.warn(n.message);else{const a=Ui.create("idb-get",{originalErrorMessage:n?.message});ni.warn(a.message)}}}async function Fp(l,n){try{const c=(await Fv()).transaction(Os,"readwrite");await c.objectStore(Os).put(n,Xv(l)),await c.done}catch(a){if(a instanceof Gs)ni.warn(a.message);else{const c=Ui.create("idb-set",{originalErrorMessage:a?.message});ni.warn(c.message)}}}function Xv(l){return`${l.name}!${l.options.appId}`}const Nb=1024,Ab=30;class wb{constructor(n){this.container=n,this._heartbeatsCache=null;const a=this.container.getProvider("app").getImmediate();this._storage=new Db(a),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Xp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(o=>o.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats.length>Ab){const o=Mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ni.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Xp(),{heartbeatsToSend:a,unsentEntries:c}=jb(this._heartbeatsCache.heartbeats),o=br(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ni.warn(n),""}}}function Xp(){return new Date().toISOString().substring(0,10)}function jb(l,n=Nb){const a=[];let c=l.slice();for(const o of l){const h=a.find(f=>f.agent===o.agent);if(h){if(h.dates.push(o.date),Kp(a)>n){h.dates.pop();break}}else if(a.push({agent:o.agent,dates:[o.date]}),Kp(a)>n){a.pop();break}c=c.slice(1)}return{heartbeatsToSend:a,unsentEntries:c}}class Db{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return h2()?d2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const a=await Tb(this.app);return a?.heartbeats?a:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return Fp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return Fp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Kp(l){return br(JSON.stringify({version:2,heartbeats:l})).length}function Mb(l){if(l.length===0)return-1;let n=0,a=l[0].date;for(let c=1;c<l.length;c++)l[c].date<a&&(a=l[c].date,n=c);return n}function Ob(l){xr(new Ms("platform-logger",n=>new I2(n),"PRIVATE")),xr(new Ms("heartbeat",n=>new wb(n),"PRIVATE")),la(zh,Yp,l),la(zh,Yp,"esm2020"),la("fire-js","")}Ob("");var Rb="firebase",zb="12.8.0";la(Rb,zb,"app");var Zp={};const Jp="@firebase/database",Wp="1.1.0";let Kv="";function Ub(l){Kv=l}class Lb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,a){a==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),mt(a))}get(n){const a=this.domStorage_.getItem(this.prefixedName_(n));return a==null?null:Ds(a)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class kb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,a){a==null?delete this.cache_[n]:this.cache_[n]=a}get(n){return Mn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Zv=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Lb(n)}}catch{}return new kb},dl=Zv("localStorage"),Bb=Zv("sessionStorage");const aa=new Gv("@firebase/database"),Hb=(function(){let l=1;return function(){return l++}})(),Jv=function(l){const n=b2(l),a=new _2;a.update(n);const c=a.digest();return Wh.encodeByteArray(c)},qs=function(...l){let n="";for(let a=0;a<l.length;a++){const c=l[a];Array.isArray(c)||c&&typeof c=="object"&&typeof c.length=="number"?n+=qs.apply(null,c):typeof c=="object"?n+=mt(c):n+=c,n+=" "}return n};let Ts=null,$p=!0;const Ib=function(l,n){k(!0,"Can't turn on custom loggers persistently."),aa.logLevel=He.VERBOSE,Ts=aa.log.bind(aa)},Tt=function(...l){if($p===!0&&($p=!1,Ts===null&&Bb.get("logging_enabled")===!0&&Ib()),Ts){const n=qs.apply(null,l);Ts(n)}},Ys=function(l){return function(...n){Tt(l,...n)}},kh=function(...l){const n="FIREBASE INTERNAL ERROR: "+qs(...l);aa.error(n)},ii=function(...l){const n=`FIREBASE FATAL ERROR: ${qs(...l)}`;throw aa.error(n),new Error(n)},zt=function(...l){const n="FIREBASE WARNING: "+qs(...l);aa.warn(n)},Vb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&zt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ed=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},Gb=function(l){if(document.readyState==="complete")l();else{let n=!1;const a=function(){if(!document.body){setTimeout(a,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&a()}),window.attachEvent("onload",a))}},oa="[MIN_NAME]",fl="[MAX_NAME]",pl=function(l,n){if(l===n)return 0;if(l===oa||n===fl)return-1;if(n===oa||l===fl)return 1;{const a=Pp(l),c=Pp(n);return a!==null?c!==null?a-c===0?l.length-n.length:a-c:-1:c!==null?1:l<n?-1:1}},qb=function(l,n){return l===n?0:l<n?-1:1},ys=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+mt(n))},td=function(l){if(typeof l!="object"||l===null)return mt(l);const n=[];for(const c in l)n.push(c);n.sort();let a="{";for(let c=0;c<n.length;c++)c!==0&&(a+=","),a+=mt(n[c]),a+=":",a+=td(l[n[c]]);return a+="}",a},Wv=function(l,n){const a=l.length;if(a<=n)return[l];const c=[];for(let o=0;o<a;o+=n)o+n>a?c.push(l.substring(o,a)):c.push(l.substring(o,o+n));return c};function Nt(l,n){for(const a in l)l.hasOwnProperty(a)&&n(a,l[a])}const $v=function(l){k(!ed(l),"Invalid JSON number");const n=11,a=52,c=(1<<n-1)-1;let o,h,f,g,v;l===0?(h=0,f=0,o=1/l===-1/0?1:0):(o=l<0,l=Math.abs(l),l>=Math.pow(2,1-c)?(g=Math.min(Math.floor(Math.log(l)/Math.LN2),c),h=g+c,f=Math.round(l*Math.pow(2,a-g)-Math.pow(2,a))):(h=0,f=Math.round(l/Math.pow(2,1-c-a))));const y=[];for(v=a;v;v-=1)y.push(f%2?1:0),f=Math.floor(f/2);for(v=n;v;v-=1)y.push(h%2?1:0),h=Math.floor(h/2);y.push(o?1:0),y.reverse();const T=y.join("");let S="";for(v=0;v<64;v+=8){let C=parseInt(T.substr(v,8),2).toString(16);C.length===1&&(C="0"+C),S=S+C}return S.toLowerCase()},Yb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Qb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Fb(l,n){let a="Unknown Error";l==="too_big"?a="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?a="Client doesn't have permission to access the desired data.":l==="unavailable"&&(a="The service is unavailable");const c=new Error(l+" at "+n._path.toString()+": "+a);return c.code=l.toUpperCase(),c}const Xb=new RegExp("^-?(0*)\\d{1,10}$"),Kb=-2147483648,Zb=2147483647,Pp=function(l){if(Xb.test(l)){const n=Number(l);if(n>=Kb&&n<=Zb)return n}return null},pa=function(l){try{l()}catch(n){setTimeout(()=>{const a=n.stack||"";throw zt("Exception was thrown by user callback.",a),n},Math.floor(0))}},Jb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ns=function(l,n){const a=setTimeout(l,n);return typeof a=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(a):typeof a=="object"&&a.unref&&a.unref(),a};class Wb{constructor(n,a){this.appCheckProvider=a,this.appName=n.name,yb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=a?.getImmediate({optional:!0}),this.appCheck||a?.get().then(c=>this.appCheck=c)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((a,c)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(a,c):a(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(a=>a.addTokenListener(n))}notifyForInvalidToken(){zt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class $b{constructor(n,a,c){this.appName_=n,this.firebaseOptions_=a,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(a=>a&&a.code==="auth/token-not-initialized"?(Tt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(a)):new Promise((a,c)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(a,c):a(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(a=>a.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(a=>a.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',zt(n)}}class _r{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}_r.OWNER="owner";const nd="5",Pv="v",ey="s",ty="r",ny="f",iy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ly="ls",ay="p",Bh="ac",sy="websocket",cy="long_polling";class ry{constructor(n,a,c,o,h=!1,f="",g=!1,v=!1,y=null){this.secure=a,this.namespace=c,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this.emulatorOptions=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=dl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&dl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",a=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${a}`}}function Pb(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function oy(l,n,a){k(typeof n=="string","typeof type must == string"),k(typeof a=="object","typeof params must == object");let c;if(n===sy)c=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===cy)c=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Pb(l)&&(a.ns=l.namespace);const o=[];return Nt(a,(h,f)=>{o.push(h+"="+f)}),c+o.join("&")}class e4{constructor(){this.counters_={}}incrementCounter(n,a=1){Mn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=a}get(){return Z0(this.counters_)}}const _h={},bh={};function id(l){const n=l.toString();return _h[n]||(_h[n]=new e4),_h[n]}function t4(l,n){const a=l.toString();return bh[a]||(bh[a]=n()),bh[a]}class n4{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,a){this.closeAfterResponse=n,this.onClose=a,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,a){for(this.pendingResponses[n]=a;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<c.length;++o)c[o]&&pa(()=>{this.onMessage_(c[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const ev="start",i4="close",l4="pLPCommand",a4="pRTLPCB",uy="id",hy="pw",dy="ser",s4="cb",c4="seg",r4="ts",o4="d",u4="dframe",fy=1870,my=30,h4=fy-my,d4=25e3,f4=3e4;class ia{constructor(n,a,c,o,h,f,g){this.connId=n,this.repoInfo=a,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ys(n),this.stats_=id(a),this.urlFn=v=>(this.appCheckToken&&(v[Bh]=this.appCheckToken),oy(a,cy,v))}open(n,a){this.curSegmentNum=0,this.onDisconnect_=a,this.myPacketOrderer=new n4(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(f4)),Gb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ld((...h)=>{const[f,g,v,y,T]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===ev)this.id=g,this.password=v;else if(f===i4)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...h)=>{const[f,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const c={};c[ev]="t",c[dy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(c[s4]=this.scriptTagHolder.uniqueCallbackIdentifier),c[Pv]=nd,this.transportSessionId&&(c[ey]=this.transportSessionId),this.lastSessionId&&(c[ly]=this.lastSessionId),this.applicationId&&(c[ay]=this.applicationId),this.appCheckToken&&(c[Bh]=this.appCheckToken),typeof location<"u"&&location.hostname&&iy.test(location.hostname)&&(c[ty]=ny);const o=this.urlFn(c);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ia.forceAllow_=!0}static forceDisallow(){ia.forceDisallow_=!0}static isAvailable(){return ia.forceAllow_?!0:!ia.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Yb()&&!Qb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const a=mt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const c=Uv(a),o=Wv(c,h4);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,a){this.myDisconnFrame=document.createElement("iframe");const c={};c[u4]="t",c[uy]=n,c[hy]=a,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const a=mt(n).length;this.bytesReceived+=a,this.stats_.incrementCounter("bytes_received",a)}}class ld{constructor(n,a,c,o){this.onDisconnect=c,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Hb(),window[l4+this.uniqueCallbackIdentifier]=n,window[a4+this.uniqueCallbackIdentifier]=a,this.myIFrame=ld.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){Tt("frame writing exception"),g.stack&&Tt(g.stack),Tt(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||Tt("No IE domain setting required")}catch{const c=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,a){for(this.myID=n,this.myPW=a,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[uy]=this.myID,n[hy]=this.myPW,n[dy]=this.currentSerial;let a=this.urlFn(n),c="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+my+c.length<=fy;){const f=this.pendingSegs.shift();c=c+"&"+c4+o+"="+f.seg+"&"+r4+o+"="+f.ts+"&"+o4+o+"="+f.d,o++}return a=a+c,this.addLongPollTag_(a,this.currentSerial),!0}else return!1}enqueueSegment(n,a,c){this.pendingSegs.push({seg:n,ts:a,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(n,a){this.outstandingRequests.add(a);const c=()=>{this.outstandingRequests.delete(a),this.newRequest_()},o=setTimeout(c,Math.floor(d4)),h=()=>{clearTimeout(o),c()};this.addTag(n,h)}addTag(n,a){setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=n,c.onload=c.onreadystatechange=function(){const o=c.readyState;(!o||o==="loaded"||o==="complete")&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),a())},c.onerror=()=>{Tt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}const m4=16384,g4=45e3;let Tr=null;typeof MozWebSocket<"u"?Tr=MozWebSocket:typeof WebSocket<"u"&&(Tr=WebSocket);class bn{constructor(n,a,c,o,h,f,g){this.connId=n,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ys(this.connId),this.stats_=id(a),this.connURL=bn.connectionURL_(a,f,g,o,c),this.nodeAdmin=a.nodeAdmin}static connectionURL_(n,a,c,o,h){const f={};return f[Pv]=nd,typeof location<"u"&&location.hostname&&iy.test(location.hostname)&&(f[ty]=ny),a&&(f[ey]=a),c&&(f[ly]=c),o&&(f[Bh]=o),h&&(f[ay]=h),oy(n,sy,f)}open(n,a){this.onDisconnect=a,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,dl.set("previous_websocket_failure",!0);try{let c;u2(),this.mySock=new Tr(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){bn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=/Android ([0-9]{0,}\.[0-9]{0,})/,c=navigator.userAgent.match(a);c&&c.length>1&&parseFloat(c[1])<4.4&&(n=!0)}return!n&&Tr!==null&&!bn.forceDisallow_}static previouslyFailed(){return dl.isInMemoryStorage||dl.get("previous_websocket_failure")===!0}markConnectionHealthy(){dl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const a=this.frames.join("");this.frames=null;const c=Ds(a);this.onMessage(c)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(k(this.frames===null,"We already have a frame buffer"),n.length<=6){const a=Number(n);if(!isNaN(a))return this.handleNewFrameCount_(a),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const a=n.data;if(this.bytesReceived+=a.length,this.stats_.incrementCounter("bytes_received",a.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(a);else{const c=this.extractFrameCount_(a);c!==null&&this.appendFrame_(c)}}send(n){this.resetKeepAlive();const a=mt(n);this.bytesSent+=a.length,this.stats_.incrementCounter("bytes_sent",a.length);const c=Wv(a,m4);c.length>1&&this.sendString_(String(c.length));for(let o=0;o<c.length;o++)this.sendString_(c[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(g4))}sendString_(n){try{this.mySock.send(n)}catch(a){this.log_("Exception thrown from WebSocket.send():",a.message||a.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}bn.responsesRequiredToBeHealthy=2;bn.healthyTimeout=3e4;class Rs{static get ALL_TRANSPORTS(){return[ia,bn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const a=bn&&bn.isAvailable();let c=a&&!bn.previouslyFailed();if(n.webSocketOnly&&(a||zt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[bn];else{const o=this.transports_=[];for(const h of Rs.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);Rs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rs.globalTransportInitialized_=!1;const p4=6e4,v4=5e3,y4=10*1024,_4=100*1024,Sh="t",tv="d",b4="s",nv="r",S4="e",iv="o",lv="a",av="n",sv="p",C4="h";class E4{constructor(n,a,c,o,h,f,g,v,y,T){this.id=n,this.repoInfo_=a,this.applicationId_=c,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=v,this.onKill_=y,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ys("c:"+this.id+":"),this.transportManager_=new Rs(a),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(a,c)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_4?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>y4?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return a=>{n===this.conn_?this.onConnectionLost_(a):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return a=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(a):n===this.secondaryConn_?this.onSecondaryMessageReceived_(a):this.log_("message on old connection"))}}sendRequest(n){const a={t:"d",d:n};this.sendData_(a)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Sh in n){const a=n[Sh];a===lv?this.upgradeIfSecondaryHealthy_():a===nv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):a===iv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const a=ys("t",n),c=ys("d",n);if(a==="c")this.onSecondaryControl_(c);else if(a==="d")this.pendingDataMessages.push(c);else throw new Error("Unknown protocol layer: "+a)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:sv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:av,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const a=ys("t",n),c=ys("d",n);a==="c"?this.onControl_(c):a==="d"&&this.onDataMessage_(c)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const a=ys(Sh,n);if(tv in n){const c=n[tv];if(a===C4){const o={...c};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(a===av){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else a===b4?this.onConnectionShutdown_(c):a===nv?this.onReset_(c):a===S4?kh("Server Error: "+c):a===iv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):kh("Unknown control packet command: "+a)}}onHandshake_(n){const a=n.ts,c=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,a),nd!==c&&zt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const a=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(a,c),Ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(p4))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,a){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(a,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(v4))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:sv,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(dl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class gy{put(n,a,c,o){}merge(n,a,c,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,a,c){}onDisconnectMerge(n,a,c){}onDisconnectCancel(n,a){}reportStats(n){}}class py{constructor(n){this.allowedEvents_=n,this.listeners_={},k(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...a){if(Array.isArray(this.listeners_[n])){const c=[...this.listeners_[n]];for(let o=0;o<c.length;o++)c[o].callback.apply(c[o].context,a)}}on(n,a,c){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:a,context:c});const o=this.getInitialEvent(n);o&&a.apply(c,o)}off(n,a,c){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===a&&(!c||c===o[h].context)){o.splice(h,1);return}}validateEventType_(n){k(this.allowedEvents_.find(a=>a===n),"Unknown event: "+n)}}class Nr extends py{static getInstance(){return new Nr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Hv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return k(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const cv=32,rv=768;class ze{constructor(n,a){if(a===void 0){this.pieces_=n.split("/");let c=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[c]=this.pieces_[o],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=a}toString(){let n="";for(let a=this.pieceNum_;a<this.pieces_.length;a++)this.pieces_[a]!==""&&(n+="/"+this.pieces_[a]);return n||"/"}}function Ee(){return new ze("")}function ce(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function Bi(l){return l.pieces_.length-l.pieceNum_}function Ie(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new ze(l.pieces_,n)}function ad(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function x4(l){let n="";for(let a=l.pieceNum_;a<l.pieces_.length;a++)l.pieces_[a]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[a])));return n||"/"}function zs(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function vy(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let a=l.pieceNum_;a<l.pieces_.length-1;a++)n.push(l.pieces_[a]);return new ze(n,0)}function Ze(l,n){const a=[];for(let c=l.pieceNum_;c<l.pieces_.length;c++)a.push(l.pieces_[c]);if(n instanceof ze)for(let c=n.pieceNum_;c<n.pieces_.length;c++)a.push(n.pieces_[c]);else{const c=n.split("/");for(let o=0;o<c.length;o++)c[o].length>0&&a.push(c[o])}return new ze(a,0)}function he(l){return l.pieceNum_>=l.pieces_.length}function Rt(l,n){const a=ce(l),c=ce(n);if(a===null)return n;if(a===c)return Rt(Ie(l),Ie(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function T4(l,n){const a=zs(l,0),c=zs(n,0);for(let o=0;o<a.length&&o<c.length;o++){const h=pl(a[o],c[o]);if(h!==0)return h}return a.length===c.length?0:a.length<c.length?-1:1}function sd(l,n){if(Bi(l)!==Bi(n))return!1;for(let a=l.pieceNum_,c=n.pieceNum_;a<=l.pieces_.length;a++,c++)if(l.pieces_[a]!==n.pieces_[c])return!1;return!0}function mn(l,n){let a=l.pieceNum_,c=n.pieceNum_;if(Bi(l)>Bi(n))return!1;for(;a<l.pieces_.length;){if(l.pieces_[a]!==n.pieces_[c])return!1;++a,++c}return!0}class N4{constructor(n,a){this.errorPrefix_=a,this.parts_=zs(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=Ir(this.parts_[c]);yy(this)}}function A4(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=Ir(n),yy(l)}function w4(l){const n=l.parts_.pop();l.byteLength_-=Ir(n),l.parts_.length>0&&(l.byteLength_-=1)}function yy(l){if(l.byteLength_>rv)throw new Error(l.errorPrefix_+"has a key path longer than "+rv+" bytes ("+l.byteLength_+").");if(l.parts_.length>cv)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+cv+") or object contains a cycle "+hl(l))}function hl(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}class cd extends py{static getInstance(){return new cd}constructor(){super(["visible"]);let n,a;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(a="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(a="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(a="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(a="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,a&&document.addEventListener(a,()=>{const c=!document[n];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}getInitialEvent(n){return k(n==="visible","Unknown event type: "+n),[this.visible_]}}const _s=1e3,j4=300*1e3,ov=30*1e3,D4=1.3,M4=3e4,O4="server_kill",uv=3;class ti extends gy{constructor(n,a,c,o,h,f,g,v){if(super(),this.repoInfo_=n,this.applicationId_=a,this.onDataUpdate_=c,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=ti.nextPersistentConnectionId_++,this.log_=Ys("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=_s,this.maxReconnectDelay_=j4,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");cd.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Nr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,a,c){const o=++this.requestNumber_,h={r:o,a:n,b:a};this.log_(mt(h)),k(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),c&&(this.requestCBHash_[o]=c)}get(n){this.initConnection_();const a=new Vs,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const g=f.d;f.s==="ok"?a.resolve(g):a.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),a.promise}listen(n,a,c,o){this.initConnection_();const h=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+h),this.listens.has(f)||this.listens.set(f,new Map),k(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),k(!this.listens.get(f).has(h),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:a,query:n,tag:c};this.listens.get(f).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const a=this.outstandingGets_[n];this.sendRequest("g",a.request,c=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),a.onComplete&&a.onComplete(c)})}sendListen_(n){const a=n.query,c=a._path.toString(),o=a._queryIdentifier;this.log_("Listen on "+c+" for "+o);const h={p:c},f="q";n.tag&&(h.q=a._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(f,h,g=>{const v=g.d,y=g.s;ti.warnOnListenWarnings_(v,a),(this.listens.get(c)&&this.listens.get(c).get(o))===n&&(this.log_("listen response",g),y!=="ok"&&this.removeListen_(c,o),n.onComplete&&n.onComplete(y,v))})}static warnOnListenWarnings_(n,a){if(n&&typeof n=="object"&&Mn(n,"w")){const c=ra(n,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const o='".indexOn": "'+a._queryParams.getIndex().toString()+'"',h=a._path.toString();zt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||v2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ov)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,a=p2(n)?"auth":"gauth",c={cred:n};this.authOverride_===null?c.noauth=!0:typeof this.authOverride_=="object"&&(c.authvar=this.authOverride_),this.sendRequest(a,c,o=>{const h=o.s,f=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const a=n.s,c=n.d||"error";a==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(a,c)})}unlisten(n,a){const c=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+c+" "+o),k(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,o)&&this.connected_&&this.sendUnlisten_(c,o,n._queryObject,a)}sendUnlisten_(n,a,c,o){this.log_("Unlisten on "+n+" for "+a);const h={p:n},f="n";o&&(h.q=c,h.t=o),this.sendRequest(f,h)}onDisconnectPut(n,a,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,a,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:a,onComplete:c})}onDisconnectMerge(n,a,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,a,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:a,onComplete:c})}onDisconnectCancel(n,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,a):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:a})}sendOnDisconnect_(n,a,c,o){const h={p:a,d:c};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(n,a,c,o){this.putInternal("p",n,a,c,o)}merge(n,a,c,o){this.putInternal("m",n,a,c,o)}putInternal(n,a,c,o,h){this.initConnection_();const f={p:a,d:c};h!==void 0&&(f.h=h),this.outstandingPuts_.push({action:n,request:f,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+a)}sendPut_(n){const a=this.outstandingPuts_[n].action,c=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(a,c,h=>{this.log_(a+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const a={c:n};this.log_("reportStats",a),this.sendRequest("s",a,c=>{if(c.s!=="ok"){const h=c.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+mt(n));const a=n.r,c=this.requestCBHash_[a];c&&(delete this.requestCBHash_[a],c(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,a){this.log_("handleServerMessage",n,a),n==="d"?this.onDataUpdate_(a.p,a.d,!1,a.t):n==="m"?this.onDataUpdate_(a.p,a.d,!0,a.t):n==="c"?this.onListenRevoked_(a.p,a.q):n==="ac"?this.onAuthRevoked_(a.s,a.d):n==="apc"?this.onAppCheckRevoked_(a.s,a.d):n==="sd"?this.onSecurityDebugPacket_(a):kh("Unrecognized action received from server: "+mt(n)+`
Are you using the latest client?`)}onReady_(n,a){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=a,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){k(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>M4&&(this.reconnectDelay_=_s),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let a=Math.max(0,this.reconnectDelay_-n);a=Math.random()*a,this.log_("Trying to reconnect in "+a+"ms"),this.scheduleConnect_(a),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*D4)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),a=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+ti.nextConnectionId_++,h=this.lastSessionId;let f=!1,g=null;const v=function(){g?g.close():(f=!0,c())},y=function(S){k(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(S)};this.realtime_={close:v,sendRequest:y};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[S,C]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);f?Tt("getToken() completed but was canceled"):(Tt("getToken() completed. Creating connection."),this.authToken_=S&&S.accessToken,this.appCheckToken_=C&&C.token,g=new E4(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,a,c,R=>{zt(R+" ("+this.repoInfo_.toString()+")"),this.interrupt(O4)},h))}catch(S){this.log_("Failed to get token: "+S),f||(this.repoInfo_.nodeAdmin&&zt(S),v())}}}interrupt(n){Tt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Tt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Hp(this.interruptReasons_)&&(this.reconnectDelay_=_s,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const a=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:a})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const a=this.outstandingPuts_[n];a&&"h"in a.request&&a.queued&&(a.onComplete&&a.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,a){let c;a?c=a.map(h=>td(h)).join("$"):c="default";const o=this.removeListen_(n,c);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,a){const c=new ze(n).toString();let o;if(this.listens.has(c)){const h=this.listens.get(c);o=h.get(a),h.delete(a),h.size===0&&this.listens.delete(c)}else o=void 0;return o}onAuthRevoked_(n,a){Tt("Auth token revoked: "+n+"/"+a),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uv&&(this.reconnectDelay_=ov,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,a){Tt("App check token revoked: "+n+"/"+a),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const a of n.values())this.sendListen_(a);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let a="js";n["sdk."+a+"."+Kv.replace(/\./g,"-")]=1,Hv()?n["framework.cordova"]=1:o2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Nr.getInstance().currentlyOnline();return Hp(this.interruptReasons_)&&n}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;class re{constructor(n,a){this.name=n,this.node=a}static Wrap(n,a){return new re(n,a)}}class Vr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,a){const c=new re(oa,n),o=new re(oa,a);return this.compare(c,o)!==0}minPost(){return re.MIN}}let pr;class _y extends Vr{static get __EMPTY_NODE(){return pr}static set __EMPTY_NODE(n){pr=n}compare(n,a){return pl(n.name,a.name)}isDefinedOn(n){throw ma("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,a){return!1}minPost(){return re.MIN}maxPost(){return new re(fl,pr)}makePost(n,a){return k(typeof n=="string","KeyIndex indexValue must always be a string."),new re(n,pr)}toString(){return".key"}}const sa=new _y;class vr{constructor(n,a,c,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=a?c(n.key,a):1,o&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),a;if(this.resultGenerator_?a=this.resultGenerator_(n.key,n.value):a={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return a}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class _t{constructor(n,a,c,o,h){this.key=n,this.value=a,this.color=c??_t.RED,this.left=o??qt.EMPTY_NODE,this.right=h??qt.EMPTY_NODE}copy(n,a,c,o,h){return new _t(n??this.key,a??this.value,c??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,c){let o=this;const h=c(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,a,c),null):h===0?o=o.copy(null,a,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,a,c)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,a){let c,o;if(c=this,a(n,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(n,a),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),a(n,c.key)===0){if(c.right.isEmpty())return qt.EMPTY_NODE;o=c.right.min_(),c=c.copy(o.key,o.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(n,a))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}_t.RED=!0;_t.BLACK=!1;class R4{copy(n,a,c,o,h){return this}insert(n,a,c){return new _t(n,a,null)}remove(n,a){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(n,a=qt.EMPTY_NODE){this.comparator_=n,this.root_=a}insert(n,a){return new qt(this.comparator_,this.root_.insert(n,a,this.comparator_).copy(null,null,_t.BLACK,null,null))}remove(n){return new qt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,_t.BLACK,null,null))}get(n){let a,c=this.root_;for(;!c.isEmpty();){if(a=this.comparator_(n,c.key),a===0)return c.value;a<0?c=c.left:a>0&&(c=c.right)}return null}getPredecessorKey(n){let a,c=this.root_,o=null;for(;!c.isEmpty();)if(a=this.comparator_(n,c.key),a===0){if(c.left.isEmpty())return o?o.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}else a<0?c=c.left:a>0&&(o=c,c=c.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new vr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,a){return new vr(this.root_,n,this.comparator_,!1,a)}getReverseIteratorFrom(n,a){return new vr(this.root_,n,this.comparator_,!0,a)}getReverseIterator(n){return new vr(this.root_,null,this.comparator_,!0,n)}}qt.EMPTY_NODE=new R4;function z4(l,n){return pl(l.name,n.name)}function rd(l,n){return pl(l,n)}let Hh;function U4(l){Hh=l}const by=function(l){return typeof l=="number"?"number:"+$v(l):"string:"+l},Sy=function(l){if(l.isLeafNode()){const n=l.val();k(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Mn(n,".sv"),"Priority must be a string or number.")}else k(l===Hh||l.isEmpty(),"priority of unexpected type.");k(l===Hh||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let hv;class yt{static set __childrenNodeConstructor(n){hv=n}static get __childrenNodeConstructor(){return hv}constructor(n,a=yt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=a,this.lazyHash_=null,k(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new yt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return he(n)?this:ce(n)===".priority"?this.priorityNode_:yt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,a){return null}updateImmediateChild(n,a){return n===".priority"?this.updatePriority(a):a.isEmpty()&&n!==".priority"?this:yt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,a).updatePriority(this.priorityNode_)}updateChild(n,a){const c=ce(n);return c===null?a:a.isEmpty()&&c!==".priority"?this:(k(c!==".priority"||Bi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(c,yt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),a)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,a){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+by(this.priorityNode_.val())+":");const a=typeof this.value_;n+=a+":",a==="number"?n+=$v(this.value_):n+=this.value_,this.lazyHash_=Jv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===yt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof yt.__childrenNodeConstructor?-1:(k(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const a=typeof n.value_,c=typeof this.value_,o=yt.VALUE_TYPE_ORDER.indexOf(a),h=yt.VALUE_TYPE_ORDER.indexOf(c);return k(o>=0,"Unknown leaf type: "+a),k(h>=0,"Unknown leaf type: "+c),o===h?c==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const a=n;return this.value_===a.value_&&this.priorityNode_.equals(a.priorityNode_)}else return!1}}yt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Cy,Ey;function L4(l){Cy=l}function k4(l){Ey=l}class B4 extends Vr{compare(n,a){const c=n.node.getPriority(),o=a.node.getPriority(),h=c.compareTo(o);return h===0?pl(n.name,a.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,a){return!n.getPriority().equals(a.getPriority())}minPost(){return re.MIN}maxPost(){return new re(fl,new yt("[PRIORITY-POST]",Ey))}makePost(n,a){const c=Cy(n);return new re(a,new yt("[PRIORITY-POST]",c))}toString(){return".priority"}}const Je=new B4;const H4=Math.log(2);class I4{constructor(n){const a=h=>parseInt(Math.log(h)/H4,10),c=h=>parseInt(Array(h+1).join("1"),2);this.count=a(n+1),this.current_=this.count-1;const o=c(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const Ar=function(l,n,a,c){l.sort(n);const o=function(v,y){const T=y-v;let S,C;if(T===0)return null;if(T===1)return S=l[v],C=a?a(S):S,new _t(C,S.node,_t.BLACK,null,null);{const R=parseInt(T/2,10)+v,U=o(v,R),F=o(R+1,y);return S=l[R],C=a?a(S):S,new _t(C,S.node,_t.BLACK,U,F)}},h=function(v){let y=null,T=null,S=l.length;const C=function(U,F){const q=S-U,le=S;S-=U;const Le=o(q+1,le),ee=l[q],Z=a?a(ee):ee;R(new _t(Z,ee.node,F,null,Le))},R=function(U){y?(y.left=U,y=U):(T=U,y=U)};for(let U=0;U<v.count;++U){const F=v.nextBitIsOne(),q=Math.pow(2,v.count-(U+1));F?C(q,_t.BLACK):(C(q,_t.BLACK),C(q,_t.RED))}return T},f=new I4(l.length),g=h(f);return new qt(c||n,g)};let Ch;const na={};class Pn{static get Default(){return k(na&&Je,"ChildrenNode.ts has not been loaded"),Ch=Ch||new Pn({".priority":na},{".priority":Je}),Ch}constructor(n,a){this.indexes_=n,this.indexSet_=a}get(n){const a=ra(this.indexes_,n);if(!a)throw new Error("No index defined for "+n);return a instanceof qt?a:null}hasIndex(n){return Mn(this.indexSet_,n.toString())}addIndex(n,a){k(n!==sa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let o=!1;const h=a.getIterator(re.Wrap);let f=h.getNext();for(;f;)o=o||n.isDefinedOn(f.node),c.push(f),f=h.getNext();let g;o?g=Ar(c,n.getCompare()):g=na;const v=n.toString(),y={...this.indexSet_};y[v]=n;const T={...this.indexes_};return T[v]=g,new Pn(T,y)}addToIndexes(n,a){const c=Sr(this.indexes_,(o,h)=>{const f=ra(this.indexSet_,h);if(k(f,"Missing index implementation for "+h),o===na)if(f.isDefinedOn(n.node)){const g=[],v=a.getIterator(re.Wrap);let y=v.getNext();for(;y;)y.name!==n.name&&g.push(y),y=v.getNext();return g.push(n),Ar(g,f.getCompare())}else return na;else{const g=a.get(n.name);let v=o;return g&&(v=v.remove(new re(n.name,g))),v.insert(n,n.node)}});return new Pn(c,this.indexSet_)}removeFromIndexes(n,a){const c=Sr(this.indexes_,o=>{if(o===na)return o;{const h=a.get(n.name);return h?o.remove(new re(n.name,h)):o}});return new Pn(c,this.indexSet_)}}let bs;class W{static get EMPTY_NODE(){return bs||(bs=new W(new qt(rd),null,Pn.Default))}constructor(n,a,c){this.children_=n,this.priorityNode_=a,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&Sy(this.priorityNode_),this.children_.isEmpty()&&k(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||bs}updatePriority(n){return this.children_.isEmpty()?this:new W(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const a=this.children_.get(n);return a===null?bs:a}}getChild(n){const a=ce(n);return a===null?this:this.getImmediateChild(a).getChild(Ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,a){if(k(a,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(a);{const c=new re(n,a);let o,h;a.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(c,this.children_)):(o=this.children_.insert(n,a),h=this.indexMap_.addToIndexes(c,this.children_));const f=o.isEmpty()?bs:this.priorityNode_;return new W(o,f,h)}}updateChild(n,a){const c=ce(n);if(c===null)return a;{k(ce(n)!==".priority"||Bi(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(c).updateChild(Ie(n),a);return this.updateImmediateChild(c,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const a={};let c=0,o=0,h=!0;if(this.forEachChild(Je,(f,g)=>{a[f]=g.val(n),c++,h&&W.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):h=!1}),!n&&h&&o<2*c){const f=[];for(const g in a)f[g]=a[g];return f}else return n&&!this.getPriority().isEmpty()&&(a[".priority"]=this.getPriority().val()),a}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+by(this.getPriority().val())+":"),this.forEachChild(Je,(a,c)=>{const o=c.hash();o!==""&&(n+=":"+a+":"+o)}),this.lazyHash_=n===""?"":Jv(n)}return this.lazyHash_}getPredecessorChildName(n,a,c){const o=this.resolveIndex_(c);if(o){const h=o.getPredecessorKey(new re(n,a));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const a=this.resolveIndex_(n);if(a){const c=a.minKey();return c&&c.name}else return this.children_.minKey()}getFirstChild(n){const a=this.getFirstChildName(n);return a?new re(a,this.children_.get(a)):null}getLastChildName(n){const a=this.resolveIndex_(n);if(a){const c=a.maxKey();return c&&c.name}else return this.children_.maxKey()}getLastChild(n){const a=this.getLastChildName(n);return a?new re(a,this.children_.get(a)):null}forEachChild(n,a){const c=this.resolveIndex_(n);return c?c.inorderTraversal(o=>a(o.name,o.node)):this.children_.inorderTraversal(a)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,a){const c=this.resolveIndex_(a);if(c)return c.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,re.Wrap);let h=o.peek();for(;h!=null&&a.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,a){const c=this.resolveIndex_(a);if(c)return c.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,re.Wrap);let h=o.peek();for(;h!=null&&a.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Qs?-1:0}withIndex(n){if(n===sa||this.indexMap_.hasIndex(n))return this;{const a=this.indexMap_.addIndex(n,this.children_);return new W(this.children_,this.priorityNode_,a)}}isIndexed(n){return n===sa||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const a=n;if(this.getPriority().equals(a.getPriority()))if(this.children_.count()===a.children_.count()){const c=this.getIterator(Je),o=a.getIterator(Je);let h=c.getNext(),f=o.getNext();for(;h&&f;){if(h.name!==f.name||!h.node.equals(f.node))return!1;h=c.getNext(),f=o.getNext()}return h===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===sa?null:this.indexMap_.get(n.toString())}}W.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class V4 extends W{constructor(){super(new qt(rd),W.EMPTY_NODE,Pn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return W.EMPTY_NODE}isEmpty(){return!1}}const Qs=new V4;Object.defineProperties(re,{MIN:{value:new re(oa,W.EMPTY_NODE)},MAX:{value:new re(fl,Qs)}});_y.__EMPTY_NODE=W.EMPTY_NODE;yt.__childrenNodeConstructor=W;U4(Qs);k4(Qs);const G4=!0;function ft(l,n=null){if(l===null)return W.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),k(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const a=l;return new yt(a,ft(n))}if(!(l instanceof Array)&&G4){const a=[];let c=!1;if(Nt(l,(f,g)=>{if(f.substring(0,1)!=="."){const v=ft(g);v.isEmpty()||(c=c||!v.getPriority().isEmpty(),a.push(new re(f,v)))}}),a.length===0)return W.EMPTY_NODE;const h=Ar(a,z4,f=>f.name,rd);if(c){const f=Ar(a,Je.getCompare());return new W(h,ft(n),new Pn({".priority":f},{".priority":Je}))}else return new W(h,ft(n),Pn.Default)}else{let a=W.EMPTY_NODE;return Nt(l,(c,o)=>{if(Mn(l,c)&&c.substring(0,1)!=="."){const h=ft(o);(h.isLeafNode()||!h.isEmpty())&&(a=a.updateImmediateChild(c,h))}}),a.updatePriority(ft(n))}}L4(ft);class q4 extends Vr{constructor(n){super(),this.indexPath_=n,k(!he(n)&&ce(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,a){const c=this.extractChild(n.node),o=this.extractChild(a.node),h=c.compareTo(o);return h===0?pl(n.name,a.name):h}makePost(n,a){const c=ft(n),o=W.EMPTY_NODE.updateChild(this.indexPath_,c);return new re(a,o)}maxPost(){const n=W.EMPTY_NODE.updateChild(this.indexPath_,Qs);return new re(fl,n)}toString(){return zs(this.indexPath_,0).join("/")}}class Y4 extends Vr{compare(n,a){const c=n.node.compareTo(a.node);return c===0?pl(n.name,a.name):c}isDefinedOn(n){return!0}indexedValueChanged(n,a){return!n.equals(a)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(n,a){const c=ft(n);return new re(a,c)}toString(){return".value"}}const Q4=new Y4;function xy(l){return{type:"value",snapshotNode:l}}function ua(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function Us(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function Ls(l,n,a){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:a}}function F4(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}class od{constructor(n){this.index_=n}updateChild(n,a,c,o,h,f){k(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(a);return g.getChild(o).equals(c.getChild(o))&&g.isEmpty()===c.isEmpty()||(f!=null&&(c.isEmpty()?n.hasChild(a)?f.trackChildChange(Us(a,g)):k(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(ua(a,c)):f.trackChildChange(Ls(a,c,g))),n.isLeafNode()&&c.isEmpty())?n:n.updateImmediateChild(a,c).withIndex(this.index_)}updateFullNode(n,a,c){return c!=null&&(n.isLeafNode()||n.forEachChild(Je,(o,h)=>{a.hasChild(o)||c.trackChildChange(Us(o,h))}),a.isLeafNode()||a.forEachChild(Je,(o,h)=>{if(n.hasChild(o)){const f=n.getImmediateChild(o);f.equals(h)||c.trackChildChange(Ls(o,h,f))}else c.trackChildChange(ua(o,h))})),a.withIndex(this.index_)}updatePriority(n,a){return n.isEmpty()?W.EMPTY_NODE:n.updatePriority(a)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class ks{constructor(n){this.indexedFilter_=new od(n.getIndex()),this.index_=n.getIndex(),this.startPost_=ks.getStartPost_(n),this.endPost_=ks.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const a=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,c=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return a&&c}updateChild(n,a,c,o,h,f){return this.matches(new re(a,c))||(c=W.EMPTY_NODE),this.indexedFilter_.updateChild(n,a,c,o,h,f)}updateFullNode(n,a,c){a.isLeafNode()&&(a=W.EMPTY_NODE);let o=a.withIndex(this.index_);o=o.updatePriority(W.EMPTY_NODE);const h=this;return a.forEachChild(Je,(f,g)=>{h.matches(new re(f,g))||(o=o.updateImmediateChild(f,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,c)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const a=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),a)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const a=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),a)}else return n.getIndex().maxPost()}}class X4{constructor(n){this.withinDirectionalStart=a=>this.reverse_?this.withinEndPost(a):this.withinStartPost(a),this.withinDirectionalEnd=a=>this.reverse_?this.withinStartPost(a):this.withinEndPost(a),this.withinStartPost=a=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),a);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=a=>{const c=this.index_.compare(a,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new ks(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,a,c,o,h,f){return this.rangedFilter_.matches(new re(a,c))||(c=W.EMPTY_NODE),n.getImmediateChild(a).equals(c)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,a,c,o,h,f):this.fullLimitUpdateChild_(n,a,c,h,f)}updateFullNode(n,a,c){let o;if(a.isLeafNode()||a.isEmpty())o=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<a.numChildren()&&a.isIndexed(this.index_)){o=W.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=a.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=a.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;h.hasNext()&&f<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),f++;else break;else continue}}else{o=a.withIndex(this.index_),o=o.updatePriority(W.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let f=0;for(;h.hasNext();){const g=h.getNext();f<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?f++:o=o.updateImmediateChild(g.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,c)}updatePriority(n,a){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,a,c,o,h){let f;if(this.reverse_){const S=this.index_.getCompare();f=(C,R)=>S(R,C)}else f=this.index_.getCompare();const g=n;k(g.numChildren()===this.limit_,"");const v=new re(a,c),y=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(g.hasChild(a)){const S=g.getImmediateChild(a);let C=o.getChildAfterChild(this.index_,y,this.reverse_);for(;C!=null&&(C.name===a||g.hasChild(C.name));)C=o.getChildAfterChild(this.index_,C,this.reverse_);const R=C==null?1:f(C,v);if(T&&!c.isEmpty()&&R>=0)return h?.trackChildChange(Ls(a,c,S)),g.updateImmediateChild(a,c);{h?.trackChildChange(Us(a,S));const F=g.updateImmediateChild(a,W.EMPTY_NODE);return C!=null&&this.rangedFilter_.matches(C)?(h?.trackChildChange(ua(C.name,C.node)),F.updateImmediateChild(C.name,C.node)):F}}else return c.isEmpty()?n:T&&f(y,v)>=0?(h!=null&&(h.trackChildChange(Us(y.name,y.node)),h.trackChildChange(ua(a,c))),g.updateImmediateChild(a,c).updateImmediateChild(y.name,W.EMPTY_NODE)):n}}class ud{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Je}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return k(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return k(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oa}hasEnd(){return this.endSet_}getIndexEndValue(){return k(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return k(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fl}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return k(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Je}copy(){const n=new ud;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function K4(l){return l.loadsAllData()?new od(l.getIndex()):l.hasLimit()?new X4(l):new ks(l)}function dv(l){const n={};if(l.isDefault())return n;let a;if(l.index_===Je?a="$priority":l.index_===Q4?a="$value":l.index_===sa?a="$key":(k(l.index_ instanceof q4,"Unrecognized index type!"),a=l.index_.toString()),n.orderBy=mt(a),l.startSet_){const c=l.startAfterSet_?"startAfter":"startAt";n[c]=mt(l.indexStartValue_),l.startNameSet_&&(n[c]+=","+mt(l.indexStartName_))}if(l.endSet_){const c=l.endBeforeSet_?"endBefore":"endAt";n[c]=mt(l.indexEndValue_),l.endNameSet_&&(n[c]+=","+mt(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function fv(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let a=l.viewFrom_;a===""&&(l.isViewFromLeft()?a="l":a="r"),n.vf=a}return l.index_!==Je&&(n.i=l.index_.toString()),n}class wr extends gy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,a){return a!==void 0?"tag$"+a:(k(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,a,c,o){super(),this.repoInfo_=n,this.onDataUpdate_=a,this.authTokenProvider_=c,this.appCheckTokenProvider_=o,this.log_=Ys("p:rest:"),this.listens_={}}listen(n,a,c,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const f=wr.getListenId_(n,c),g={};this.listens_[f]=g;const v=dv(n._queryParams);this.restRequest_(h+".json",v,(y,T)=>{let S=T;if(y===404&&(S=null,y=null),y===null&&this.onDataUpdate_(h,S,!1,c),ra(this.listens_,f)===g){let C;y?y===401?C="permission_denied":C="rest_error:"+y:C="ok",o(C,null)}})}unlisten(n,a){const c=wr.getListenId_(n,a);delete this.listens_[c]}get(n){const a=dv(n._queryParams),c=n._path.toString(),o=new Vs;return this.restRequest_(c+".json",a,(h,f)=>{let g=f;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(c,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,a={},c){return a.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(a.auth=o.accessToken),h&&h.token&&(a.ac=h.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+y2(a);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(c&&g.readyState===4){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=Ds(g.responseText)}catch{zt("Failed to parse JSON response for "+f+": "+g.responseText)}c(null,v)}else g.status!==401&&g.status!==404&&zt("Got unsuccessful REST response for "+f+" Status: "+g.status),c(g.status);c=null}},g.open("GET",f,!0),g.send()})}}class Z4{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,a){this.rootNode_=this.rootNode_.updateChild(n,a)}}function jr(){return{value:null,children:new Map}}function Ty(l,n,a){if(he(n))l.value=a,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,a);else{const c=ce(n);l.children.has(c)||l.children.set(c,jr());const o=l.children.get(c);n=Ie(n),Ty(o,n,a)}}function Ih(l,n,a){l.value!==null?a(n,l.value):J4(l,(c,o)=>{const h=new ze(n.toString()+"/"+c);Ih(o,h,a)})}function J4(l,n){l.children.forEach((a,c)=>{n(c,a)})}class W4{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),a={...n};return this.last_&&Nt(this.last_,(c,o)=>{a[c]=a[c]-o}),this.last_=n,a}}const mv=10*1e3,$4=30*1e3,P4=300*1e3;class eS{constructor(n,a){this.server_=a,this.statsToReport_={},this.statsListener_=new W4(n);const c=mv+($4-mv)*Math.random();Ns(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const n=this.statsListener_.get(),a={};let c=!1;Nt(n,(o,h)=>{h>0&&Mn(this.statsToReport_,o)&&(a[o]=h,c=!0)}),c&&this.server_.reportStats(a),Ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*P4))}}var Sn;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Sn||(Sn={}));function hd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function dd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fd(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}class Dr{constructor(n,a,c){this.path=n,this.affectedTree=a,this.revert=c,this.type=Sn.ACK_USER_WRITE,this.source=hd()}operationForChild(n){if(he(this.path)){if(this.affectedTree.value!=null)return k(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const a=this.affectedTree.subtree(new ze(n));return new Dr(Ee(),a,this.revert)}}else return k(ce(this.path)===n,"operationForChild called for unrelated child."),new Dr(Ie(this.path),this.affectedTree,this.revert)}}class Bs{constructor(n,a){this.source=n,this.path=a,this.type=Sn.LISTEN_COMPLETE}operationForChild(n){return he(this.path)?new Bs(this.source,Ee()):new Bs(this.source,Ie(this.path))}}class ml{constructor(n,a,c){this.source=n,this.path=a,this.snap=c,this.type=Sn.OVERWRITE}operationForChild(n){return he(this.path)?new ml(this.source,Ee(),this.snap.getImmediateChild(n)):new ml(this.source,Ie(this.path),this.snap)}}class ha{constructor(n,a,c){this.source=n,this.path=a,this.children=c,this.type=Sn.MERGE}operationForChild(n){if(he(this.path)){const a=this.children.subtree(new ze(n));return a.isEmpty()?null:a.value?new ml(this.source,Ee(),a.value):new ha(this.source,Ee(),a)}else return k(ce(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ha(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hi{constructor(n,a,c){this.node_=n,this.fullyInitialized_=a,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(he(n))return this.isFullyInitialized()&&!this.filtered_;const a=ce(n);return this.isCompleteForChild(a)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class tS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function nS(l,n,a,c){const o=[],h=[];return n.forEach(f=>{f.type==="child_changed"&&l.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&h.push(F4(f.childName,f.snapshotNode))}),Ss(l,o,"child_removed",n,c,a),Ss(l,o,"child_added",n,c,a),Ss(l,o,"child_moved",h,c,a),Ss(l,o,"child_changed",n,c,a),Ss(l,o,"value",n,c,a),o}function Ss(l,n,a,c,o,h){const f=c.filter(g=>g.type===a);f.sort((g,v)=>lS(l,g,v)),f.forEach(g=>{const v=iS(l,g,h);o.forEach(y=>{y.respondsTo(g.type)&&n.push(y.createEvent(v,l.query_))})})}function iS(l,n,a){return n.type==="value"||n.type==="child_removed"||(n.prevName=a.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function lS(l,n,a){if(n.childName==null||a.childName==null)throw ma("Should only compare child_ events.");const c=new re(n.childName,n.snapshotNode),o=new re(a.childName,a.snapshotNode);return l.index_.compare(c,o)}function Gr(l,n){return{eventCache:l,serverCache:n}}function As(l,n,a,c){return Gr(new Hi(n,a,c),l.serverCache)}function Ny(l,n,a,c){return Gr(l.eventCache,new Hi(n,a,c))}function Mr(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function gl(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}let Eh;const aS=()=>(Eh||(Eh=new qt(qb)),Eh);class Be{static fromObject(n){let a=new Be(null);return Nt(n,(c,o)=>{a=a.set(new ze(c),o)}),a}constructor(n,a=aS()){this.value=n,this.children=a}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,a){if(this.value!=null&&a(this.value))return{path:Ee(),value:this.value};if(he(n))return null;{const c=ce(n),o=this.children.get(c);if(o!==null){const h=o.findRootMostMatchingPathAndValue(Ie(n),a);return h!=null?{path:Ze(new ze(c),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(he(n))return this;{const a=ce(n),c=this.children.get(a);return c!==null?c.subtree(Ie(n)):new Be(null)}}set(n,a){if(he(n))return new Be(a,this.children);{const c=ce(n),h=(this.children.get(c)||new Be(null)).set(Ie(n),a),f=this.children.insert(c,h);return new Be(this.value,f)}}remove(n){if(he(n))return this.children.isEmpty()?new Be(null):new Be(null,this.children);{const a=ce(n),c=this.children.get(a);if(c){const o=c.remove(Ie(n));let h;return o.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,o),this.value===null&&h.isEmpty()?new Be(null):new Be(this.value,h)}else return this}}get(n){if(he(n))return this.value;{const a=ce(n),c=this.children.get(a);return c?c.get(Ie(n)):null}}setTree(n,a){if(he(n))return a;{const c=ce(n),h=(this.children.get(c)||new Be(null)).setTree(Ie(n),a);let f;return h.isEmpty()?f=this.children.remove(c):f=this.children.insert(c,h),new Be(this.value,f)}}fold(n){return this.fold_(Ee(),n)}fold_(n,a){const c={};return this.children.inorderTraversal((o,h)=>{c[o]=h.fold_(Ze(n,o),a)}),a(n,this.value,c)}findOnPath(n,a){return this.findOnPath_(n,Ee(),a)}findOnPath_(n,a,c){const o=this.value?c(a,this.value):!1;if(o)return o;if(he(n))return null;{const h=ce(n),f=this.children.get(h);return f?f.findOnPath_(Ie(n),Ze(a,h),c):null}}foreachOnPath(n,a){return this.foreachOnPath_(n,Ee(),a)}foreachOnPath_(n,a,c){if(he(n))return this;{this.value&&c(a,this.value);const o=ce(n),h=this.children.get(o);return h?h.foreachOnPath_(Ie(n),Ze(a,o),c):new Be(null)}}foreach(n){this.foreach_(Ee(),n)}foreach_(n,a){this.children.inorderTraversal((c,o)=>{o.foreach_(Ze(n,c),a)}),this.value&&a(n,this.value)}foreachChild(n){this.children.inorderTraversal((a,c)=>{c.value&&n(a,c.value)})}}class Cn{constructor(n){this.writeTree_=n}static empty(){return new Cn(new Be(null))}}function ws(l,n,a){if(he(n))return new Cn(new Be(a));{const c=l.writeTree_.findRootMostValueAndPath(n);if(c!=null){const o=c.path;let h=c.value;const f=Rt(o,n);return h=h.updateChild(f,a),new Cn(l.writeTree_.set(o,h))}else{const o=new Be(a),h=l.writeTree_.setTree(n,o);return new Cn(h)}}}function Vh(l,n,a){let c=l;return Nt(a,(o,h)=>{c=ws(c,Ze(n,o),h)}),c}function gv(l,n){if(he(n))return Cn.empty();{const a=l.writeTree_.setTree(n,new Be(null));return new Cn(a)}}function Gh(l,n){return vl(l,n)!=null}function vl(l,n){const a=l.writeTree_.findRootMostValueAndPath(n);return a!=null?l.writeTree_.get(a.path).getChild(Rt(a.path,n)):null}function pv(l){const n=[],a=l.writeTree_.value;return a!=null?a.isLeafNode()||a.forEachChild(Je,(c,o)=>{n.push(new re(c,o))}):l.writeTree_.children.inorderTraversal((c,o)=>{o.value!=null&&n.push(new re(c,o.value))}),n}function Li(l,n){if(he(n))return l;{const a=vl(l,n);return a!=null?new Cn(new Be(a)):new Cn(l.writeTree_.subtree(n))}}function qh(l){return l.writeTree_.isEmpty()}function da(l,n){return Ay(Ee(),l.writeTree_,n)}function Ay(l,n,a){if(n.value!=null)return a.updateChild(l,n.value);{let c=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(k(h.value!==null,"Priority writes must always be leaf nodes"),c=h.value):a=Ay(Ze(l,o),h,a)}),!a.getChild(l).isEmpty()&&c!==null&&(a=a.updateChild(Ze(l,".priority"),c)),a}}function qr(l,n){return My(n,l)}function sS(l,n,a,c,o){k(c>l.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),l.allWrites.push({path:n,snap:a,writeId:c,visible:o}),o&&(l.visibleWrites=ws(l.visibleWrites,n,a)),l.lastWriteId=c}function cS(l,n,a,c){k(c>l.lastWriteId,"Stacking an older merge on top of newer ones"),l.allWrites.push({path:n,children:a,writeId:c,visible:!0}),l.visibleWrites=Vh(l.visibleWrites,n,a),l.lastWriteId=c}function rS(l,n){for(let a=0;a<l.allWrites.length;a++){const c=l.allWrites[a];if(c.writeId===n)return c}return null}function oS(l,n){const a=l.allWrites.findIndex(g=>g.writeId===n);k(a>=0,"removeWrite called with nonexistent writeId.");const c=l.allWrites[a];l.allWrites.splice(a,1);let o=c.visible,h=!1,f=l.allWrites.length-1;for(;o&&f>=0;){const g=l.allWrites[f];g.visible&&(f>=a&&uS(g,c.path)?o=!1:mn(c.path,g.path)&&(h=!0)),f--}if(o){if(h)return hS(l),!0;if(c.snap)l.visibleWrites=gv(l.visibleWrites,c.path);else{const g=c.children;Nt(g,v=>{l.visibleWrites=gv(l.visibleWrites,Ze(c.path,v))})}return!0}else return!1}function uS(l,n){if(l.snap)return mn(l.path,n);for(const a in l.children)if(l.children.hasOwnProperty(a)&&mn(Ze(l.path,a),n))return!0;return!1}function hS(l){l.visibleWrites=wy(l.allWrites,dS,Ee()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function dS(l){return l.visible}function wy(l,n,a){let c=Cn.empty();for(let o=0;o<l.length;++o){const h=l[o];if(n(h)){const f=h.path;let g;if(h.snap)mn(a,f)?(g=Rt(a,f),c=ws(c,g,h.snap)):mn(f,a)&&(g=Rt(f,a),c=ws(c,Ee(),h.snap.getChild(g)));else if(h.children){if(mn(a,f))g=Rt(a,f),c=Vh(c,g,h.children);else if(mn(f,a))if(g=Rt(f,a),he(g))c=Vh(c,Ee(),h.children);else{const v=ra(h.children,ce(g));if(v){const y=v.getChild(Ie(g));c=ws(c,Ee(),y)}}}else throw ma("WriteRecord should have .snap or .children")}}return c}function jy(l,n,a,c,o){if(!c&&!o){const h=vl(l.visibleWrites,n);if(h!=null)return h;{const f=Li(l.visibleWrites,n);if(qh(f))return a;if(a==null&&!Gh(f,Ee()))return null;{const g=a||W.EMPTY_NODE;return da(f,g)}}}else{const h=Li(l.visibleWrites,n);if(!o&&qh(h))return a;if(!o&&a==null&&!Gh(h,Ee()))return null;{const f=function(y){return(y.visible||o)&&(!c||!~c.indexOf(y.writeId))&&(mn(y.path,n)||mn(n,y.path))},g=wy(l.allWrites,f,n),v=a||W.EMPTY_NODE;return da(g,v)}}}function fS(l,n,a){let c=W.EMPTY_NODE;const o=vl(l.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Je,(h,f)=>{c=c.updateImmediateChild(h,f)}),c;if(a){const h=Li(l.visibleWrites,n);return a.forEachChild(Je,(f,g)=>{const v=da(Li(h,new ze(f)),g);c=c.updateImmediateChild(f,v)}),pv(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}else{const h=Li(l.visibleWrites,n);return pv(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}}function mS(l,n,a,c,o){k(c||o,"Either existingEventSnap or existingServerSnap must exist");const h=Ze(n,a);if(Gh(l.visibleWrites,h))return null;{const f=Li(l.visibleWrites,h);return qh(f)?o.getChild(a):da(f,o.getChild(a))}}function gS(l,n,a,c){const o=Ze(n,a),h=vl(l.visibleWrites,o);if(h!=null)return h;if(c.isCompleteForChild(a)){const f=Li(l.visibleWrites,o);return da(f,c.getNode().getImmediateChild(a))}else return null}function pS(l,n){return vl(l.visibleWrites,n)}function vS(l,n,a,c,o,h,f){let g;const v=Li(l.visibleWrites,n),y=vl(v,Ee());if(y!=null)g=y;else if(a!=null)g=da(v,a);else return[];if(g=g.withIndex(f),!g.isEmpty()&&!g.isLeafNode()){const T=[],S=f.getCompare(),C=h?g.getReverseIteratorFrom(c,f):g.getIteratorFrom(c,f);let R=C.getNext();for(;R&&T.length<o;)S(R,c)!==0&&T.push(R),R=C.getNext();return T}else return[]}function yS(){return{visibleWrites:Cn.empty(),allWrites:[],lastWriteId:-1}}function Or(l,n,a,c){return jy(l.writeTree,l.treePath,n,a,c)}function md(l,n){return fS(l.writeTree,l.treePath,n)}function vv(l,n,a,c){return mS(l.writeTree,l.treePath,n,a,c)}function Rr(l,n){return pS(l.writeTree,Ze(l.treePath,n))}function _S(l,n,a,c,o,h){return vS(l.writeTree,l.treePath,n,a,c,o,h)}function gd(l,n,a){return gS(l.writeTree,l.treePath,n,a)}function Dy(l,n){return My(Ze(l.treePath,n),l.writeTree)}function My(l,n){return{treePath:l,writeTree:n}}class bS{constructor(){this.changeMap=new Map}trackChildChange(n){const a=n.type,c=n.childName;k(a==="child_added"||a==="child_changed"||a==="child_removed","Only child changes supported for tracking"),k(c!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(c);if(o){const h=o.type;if(a==="child_added"&&h==="child_removed")this.changeMap.set(c,Ls(c,n.snapshotNode,o.snapshotNode));else if(a==="child_removed"&&h==="child_added")this.changeMap.delete(c);else if(a==="child_removed"&&h==="child_changed")this.changeMap.set(c,Us(c,o.oldSnap));else if(a==="child_changed"&&h==="child_added")this.changeMap.set(c,ua(c,n.snapshotNode));else if(a==="child_changed"&&h==="child_changed")this.changeMap.set(c,Ls(c,n.snapshotNode,o.oldSnap));else throw ma("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(c,n)}getChanges(){return Array.from(this.changeMap.values())}}class SS{getCompleteChild(n){return null}getChildAfterChild(n,a,c){return null}}const Oy=new SS;class pd{constructor(n,a,c=null){this.writes_=n,this.viewCache_=a,this.optCompleteServerCache_=c}getCompleteChild(n){const a=this.viewCache_.eventCache;if(a.isCompleteForChild(n))return a.getNode().getImmediateChild(n);{const c=this.optCompleteServerCache_!=null?new Hi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return gd(this.writes_,n,c)}}getChildAfterChild(n,a,c){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:gl(this.viewCache_),h=_S(this.writes_,o,a,1,c,n);return h.length===0?null:h[0]}}function CS(l){return{filter:l}}function ES(l,n){k(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),k(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function xS(l,n,a,c,o){const h=new bS;let f,g;if(a.type===Sn.OVERWRITE){const y=a;y.source.fromUser?f=Yh(l,n,y.path,y.snap,c,o,h):(k(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered()&&!he(y.path),f=zr(l,n,y.path,y.snap,c,o,g,h))}else if(a.type===Sn.MERGE){const y=a;y.source.fromUser?f=NS(l,n,y.path,y.children,c,o,h):(k(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered(),f=Qh(l,n,y.path,y.children,c,o,g,h))}else if(a.type===Sn.ACK_USER_WRITE){const y=a;y.revert?f=jS(l,n,y.path,c,o,h):f=AS(l,n,y.path,y.affectedTree,c,o,h)}else if(a.type===Sn.LISTEN_COMPLETE)f=wS(l,n,a.path,c,h);else throw ma("Unknown operation type: "+a.type);const v=h.getChanges();return TS(n,f,v),{viewCache:f,changes:v}}function TS(l,n,a){const c=n.eventCache;if(c.isFullyInitialized()){const o=c.getNode().isLeafNode()||c.getNode().isEmpty(),h=Mr(l);(a.length>0||!l.eventCache.isFullyInitialized()||o&&!c.getNode().equals(h)||!c.getNode().getPriority().equals(h.getPriority()))&&a.push(xy(Mr(n)))}}function Ry(l,n,a,c,o,h){const f=n.eventCache;if(Rr(c,a)!=null)return n;{let g,v;if(he(a))if(k(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=gl(n),T=y instanceof W?y:W.EMPTY_NODE,S=md(c,T);g=l.filter.updateFullNode(n.eventCache.getNode(),S,h)}else{const y=Or(c,gl(n));g=l.filter.updateFullNode(n.eventCache.getNode(),y,h)}else{const y=ce(a);if(y===".priority"){k(Bi(a)===1,"Can't have a priority with additional path components");const T=f.getNode();v=n.serverCache.getNode();const S=vv(c,a,T,v);S!=null?g=l.filter.updatePriority(T,S):g=f.getNode()}else{const T=Ie(a);let S;if(f.isCompleteForChild(y)){v=n.serverCache.getNode();const C=vv(c,a,f.getNode(),v);C!=null?S=f.getNode().getImmediateChild(y).updateChild(T,C):S=f.getNode().getImmediateChild(y)}else S=gd(c,y,n.serverCache);S!=null?g=l.filter.updateChild(f.getNode(),y,S,T,o,h):g=f.getNode()}}return As(n,g,f.isFullyInitialized()||he(a),l.filter.filtersNodes())}}function zr(l,n,a,c,o,h,f,g){const v=n.serverCache;let y;const T=f?l.filter:l.filter.getIndexedFilter();if(he(a))y=T.updateFullNode(v.getNode(),c,null);else if(T.filtersNodes()&&!v.isFiltered()){const R=v.getNode().updateChild(a,c);y=T.updateFullNode(v.getNode(),R,null)}else{const R=ce(a);if(!v.isCompleteForPath(a)&&Bi(a)>1)return n;const U=Ie(a),q=v.getNode().getImmediateChild(R).updateChild(U,c);R===".priority"?y=T.updatePriority(v.getNode(),q):y=T.updateChild(v.getNode(),R,q,U,Oy,null)}const S=Ny(n,y,v.isFullyInitialized()||he(a),T.filtersNodes()),C=new pd(o,S,h);return Ry(l,S,a,o,C,g)}function Yh(l,n,a,c,o,h,f){const g=n.eventCache;let v,y;const T=new pd(o,n,h);if(he(a))y=l.filter.updateFullNode(n.eventCache.getNode(),c,f),v=As(n,y,!0,l.filter.filtersNodes());else{const S=ce(a);if(S===".priority")y=l.filter.updatePriority(n.eventCache.getNode(),c),v=As(n,y,g.isFullyInitialized(),g.isFiltered());else{const C=Ie(a),R=g.getNode().getImmediateChild(S);let U;if(he(C))U=c;else{const F=T.getCompleteChild(S);F!=null?ad(C)===".priority"&&F.getChild(vy(C)).isEmpty()?U=F:U=F.updateChild(C,c):U=W.EMPTY_NODE}if(R.equals(U))v=n;else{const F=l.filter.updateChild(g.getNode(),S,U,C,T,f);v=As(n,F,g.isFullyInitialized(),l.filter.filtersNodes())}}}return v}function yv(l,n){return l.eventCache.isCompleteForChild(n)}function NS(l,n,a,c,o,h,f){let g=n;return c.foreach((v,y)=>{const T=Ze(a,v);yv(n,ce(T))&&(g=Yh(l,g,T,y,o,h,f))}),c.foreach((v,y)=>{const T=Ze(a,v);yv(n,ce(T))||(g=Yh(l,g,T,y,o,h,f))}),g}function _v(l,n,a){return a.foreach((c,o)=>{n=n.updateChild(c,o)}),n}function Qh(l,n,a,c,o,h,f,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let v=n,y;he(a)?y=c:y=new Be(null).setTree(a,c);const T=n.serverCache.getNode();return y.children.inorderTraversal((S,C)=>{if(T.hasChild(S)){const R=n.serverCache.getNode().getImmediateChild(S),U=_v(l,R,C);v=zr(l,v,new ze(S),U,o,h,f,g)}}),y.children.inorderTraversal((S,C)=>{const R=!n.serverCache.isCompleteForChild(S)&&C.value===null;if(!T.hasChild(S)&&!R){const U=n.serverCache.getNode().getImmediateChild(S),F=_v(l,U,C);v=zr(l,v,new ze(S),F,o,h,f,g)}}),v}function AS(l,n,a,c,o,h,f){if(Rr(o,a)!=null)return n;const g=n.serverCache.isFiltered(),v=n.serverCache;if(c.value!=null){if(he(a)&&v.isFullyInitialized()||v.isCompleteForPath(a))return zr(l,n,a,v.getNode().getChild(a),o,h,g,f);if(he(a)){let y=new Be(null);return v.getNode().forEachChild(sa,(T,S)=>{y=y.set(new ze(T),S)}),Qh(l,n,a,y,o,h,g,f)}else return n}else{let y=new Be(null);return c.foreach((T,S)=>{const C=Ze(a,T);v.isCompleteForPath(C)&&(y=y.set(T,v.getNode().getChild(C)))}),Qh(l,n,a,y,o,h,g,f)}}function wS(l,n,a,c,o){const h=n.serverCache,f=Ny(n,h.getNode(),h.isFullyInitialized()||he(a),h.isFiltered());return Ry(l,f,a,c,Oy,o)}function jS(l,n,a,c,o,h){let f;if(Rr(c,a)!=null)return n;{const g=new pd(c,n,o),v=n.eventCache.getNode();let y;if(he(a)||ce(a)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=Or(c,gl(n));else{const S=n.serverCache.getNode();k(S instanceof W,"serverChildren would be complete if leaf node"),T=md(c,S)}T=T,y=l.filter.updateFullNode(v,T,h)}else{const T=ce(a);let S=gd(c,T,n.serverCache);S==null&&n.serverCache.isCompleteForChild(T)&&(S=v.getImmediateChild(T)),S!=null?y=l.filter.updateChild(v,T,S,Ie(a),g,h):n.eventCache.getNode().hasChild(T)?y=l.filter.updateChild(v,T,W.EMPTY_NODE,Ie(a),g,h):y=v,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=Or(c,gl(n)),f.isLeafNode()&&(y=l.filter.updateFullNode(y,f,h)))}return f=n.serverCache.isFullyInitialized()||Rr(c,Ee())!=null,As(n,y,f,l.filter.filtersNodes())}}class DS{constructor(n,a){this.query_=n,this.eventRegistrations_=[];const c=this.query_._queryParams,o=new od(c.getIndex()),h=K4(c);this.processor_=CS(h);const f=a.serverCache,g=a.eventCache,v=o.updateFullNode(W.EMPTY_NODE,f.getNode(),null),y=h.updateFullNode(W.EMPTY_NODE,g.getNode(),null),T=new Hi(v,f.isFullyInitialized(),o.filtersNodes()),S=new Hi(y,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=Gr(S,T),this.eventGenerator_=new tS(this.query_)}get query(){return this.query_}}function MS(l){return l.viewCache_.serverCache.getNode()}function OS(l){return Mr(l.viewCache_)}function RS(l,n){const a=gl(l.viewCache_);return a&&(l.query._queryParams.loadsAllData()||!he(n)&&!a.getImmediateChild(ce(n)).isEmpty())?a.getChild(n):null}function bv(l){return l.eventRegistrations_.length===0}function zS(l,n){l.eventRegistrations_.push(n)}function Sv(l,n,a){const c=[];if(a){k(n==null,"A cancel should cancel all event registrations.");const o=l.query._path;l.eventRegistrations_.forEach(h=>{const f=h.createCancelEvent(a,o);f&&c.push(f)})}if(n){let o=[];for(let h=0;h<l.eventRegistrations_.length;++h){const f=l.eventRegistrations_[h];if(!f.matches(n))o.push(f);else if(n.hasAnyCallback()){o=o.concat(l.eventRegistrations_.slice(h+1));break}}l.eventRegistrations_=o}else l.eventRegistrations_=[];return c}function Cv(l,n,a,c){n.type===Sn.MERGE&&n.source.queryId!==null&&(k(gl(l.viewCache_),"We should always have a full cache before handling merges"),k(Mr(l.viewCache_),"Missing event cache, even though we have a server cache"));const o=l.viewCache_,h=xS(l.processor_,o,n,a,c);return ES(l.processor_,h.viewCache),k(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=h.viewCache,zy(l,h.changes,h.viewCache.eventCache.getNode(),null)}function US(l,n){const a=l.viewCache_.eventCache,c=[];return a.getNode().isLeafNode()||a.getNode().forEachChild(Je,(h,f)=>{c.push(ua(h,f))}),a.isFullyInitialized()&&c.push(xy(a.getNode())),zy(l,c,a.getNode(),n)}function zy(l,n,a,c){const o=c?[c]:l.eventRegistrations_;return nS(l.eventGenerator_,n,a,o)}let Ur;class Uy{constructor(){this.views=new Map}}function LS(l){k(!Ur,"__referenceConstructor has already been defined"),Ur=l}function kS(){return k(Ur,"Reference.ts has not been loaded"),Ur}function BS(l){return l.views.size===0}function vd(l,n,a,c){const o=n.source.queryId;if(o!==null){const h=l.views.get(o);return k(h!=null,"SyncTree gave us an op for an invalid query."),Cv(h,n,a,c)}else{let h=[];for(const f of l.views.values())h=h.concat(Cv(f,n,a,c));return h}}function Ly(l,n,a,c,o){const h=n._queryIdentifier,f=l.views.get(h);if(!f){let g=Or(a,o?c:null),v=!1;g?v=!0:c instanceof W?(g=md(a,c),v=!1):(g=W.EMPTY_NODE,v=!1);const y=Gr(new Hi(g,v,!1),new Hi(c,o,!1));return new DS(n,y)}return f}function HS(l,n,a,c,o,h){const f=Ly(l,n,c,o,h);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,f),zS(f,a),US(f,a)}function IS(l,n,a,c){const o=n._queryIdentifier,h=[];let f=[];const g=Ii(l);if(o==="default")for(const[v,y]of l.views.entries())f=f.concat(Sv(y,a,c)),bv(y)&&(l.views.delete(v),y.query._queryParams.loadsAllData()||h.push(y.query));else{const v=l.views.get(o);v&&(f=f.concat(Sv(v,a,c)),bv(v)&&(l.views.delete(o),v.query._queryParams.loadsAllData()||h.push(v.query)))}return g&&!Ii(l)&&h.push(new(kS())(n._repo,n._path)),{removed:h,events:f}}function ky(l){const n=[];for(const a of l.views.values())a.query._queryParams.loadsAllData()||n.push(a);return n}function ki(l,n){let a=null;for(const c of l.views.values())a=a||RS(c,n);return a}function By(l,n){if(n._queryParams.loadsAllData())return Yr(l);{const c=n._queryIdentifier;return l.views.get(c)}}function Hy(l,n){return By(l,n)!=null}function Ii(l){return Yr(l)!=null}function Yr(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Lr;function VS(l){k(!Lr,"__referenceConstructor has already been defined"),Lr=l}function GS(){return k(Lr,"Reference.ts has not been loaded"),Lr}let qS=1;class Ev{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Be(null),this.pendingWriteTree_=yS(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Iy(l,n,a,c,o){return sS(l.pendingWriteTree_,n,a,c,o),o?va(l,new ml(hd(),n,a)):[]}function YS(l,n,a,c){cS(l.pendingWriteTree_,n,a,c);const o=Be.fromObject(a);return va(l,new ha(hd(),n,o))}function Oi(l,n,a=!1){const c=rS(l.pendingWriteTree_,n);if(oS(l.pendingWriteTree_,n)){let h=new Be(null);return c.snap!=null?h=h.set(Ee(),!0):Nt(c.children,f=>{h=h.set(new ze(f),!0)}),va(l,new Dr(c.path,h,a))}else return[]}function Fs(l,n,a){return va(l,new ml(dd(),n,a))}function QS(l,n,a){const c=Be.fromObject(a);return va(l,new ha(dd(),n,c))}function FS(l,n){return va(l,new Bs(dd(),n))}function XS(l,n,a){const c=_d(l,a);if(c){const o=bd(c),h=o.path,f=o.queryId,g=Rt(h,n),v=new Bs(fd(f),g);return Sd(l,h,v)}else return[]}function kr(l,n,a,c,o=!1){const h=n._path,f=l.syncPointTree_.get(h);let g=[];if(f&&(n._queryIdentifier==="default"||Hy(f,n))){const v=IS(f,n,a,c);BS(f)&&(l.syncPointTree_=l.syncPointTree_.remove(h));const y=v.removed;if(g=v.events,!o){const T=y.findIndex(C=>C._queryParams.loadsAllData())!==-1,S=l.syncPointTree_.findOnPath(h,(C,R)=>Ii(R));if(T&&!S){const C=l.syncPointTree_.subtree(h);if(!C.isEmpty()){const R=JS(C);for(let U=0;U<R.length;++U){const F=R[U],q=F.query,le=Yy(l,F);l.listenProvider_.startListening(js(q),Hs(l,q),le.hashFn,le.onComplete)}}}!S&&y.length>0&&!c&&(T?l.listenProvider_.stopListening(js(n),null):y.forEach(C=>{const R=l.queryToTagMap.get(Qr(C));l.listenProvider_.stopListening(js(C),R)}))}WS(l,y)}return g}function Vy(l,n,a,c){const o=_d(l,c);if(o!=null){const h=bd(o),f=h.path,g=h.queryId,v=Rt(f,n),y=new ml(fd(g),v,a);return Sd(l,f,y)}else return[]}function KS(l,n,a,c){const o=_d(l,c);if(o){const h=bd(o),f=h.path,g=h.queryId,v=Rt(f,n),y=Be.fromObject(a),T=new ha(fd(g),v,y);return Sd(l,f,T)}else return[]}function Fh(l,n,a,c=!1){const o=n._path;let h=null,f=!1;l.syncPointTree_.foreachOnPath(o,(C,R)=>{const U=Rt(C,o);h=h||ki(R,U),f=f||Ii(R)});let g=l.syncPointTree_.get(o);g?(f=f||Ii(g),h=h||ki(g,Ee())):(g=new Uy,l.syncPointTree_=l.syncPointTree_.set(o,g));let v;h!=null?v=!0:(v=!1,h=W.EMPTY_NODE,l.syncPointTree_.subtree(o).foreachChild((R,U)=>{const F=ki(U,Ee());F&&(h=h.updateImmediateChild(R,F))}));const y=Hy(g,n);if(!y&&!n._queryParams.loadsAllData()){const C=Qr(n);k(!l.queryToTagMap.has(C),"View does not exist, but we have a tag");const R=$S();l.queryToTagMap.set(C,R),l.tagToQueryMap.set(R,C)}const T=qr(l.pendingWriteTree_,o);let S=HS(g,n,a,T,h,v);if(!y&&!f&&!c){const C=By(g,n);S=S.concat(PS(l,n,C))}return S}function yd(l,n,a){const o=l.pendingWriteTree_,h=l.syncPointTree_.findOnPath(n,(f,g)=>{const v=Rt(f,n),y=ki(g,v);if(y)return y});return jy(o,n,h,a,!0)}function ZS(l,n){const a=n._path;let c=null;l.syncPointTree_.foreachOnPath(a,(y,T)=>{const S=Rt(y,a);c=c||ki(T,S)});let o=l.syncPointTree_.get(a);o?c=c||ki(o,Ee()):(o=new Uy,l.syncPointTree_=l.syncPointTree_.set(a,o));const h=c!=null,f=h?new Hi(c,!0,!1):null,g=qr(l.pendingWriteTree_,n._path),v=Ly(o,n,g,h?f.getNode():W.EMPTY_NODE,h);return OS(v)}function va(l,n){return Gy(n,l.syncPointTree_,null,qr(l.pendingWriteTree_,Ee()))}function Gy(l,n,a,c){if(he(l.path))return qy(l,n,a,c);{const o=n.get(Ee());a==null&&o!=null&&(a=ki(o,Ee()));let h=[];const f=ce(l.path),g=l.operationForChild(f),v=n.children.get(f);if(v&&g){const y=a?a.getImmediateChild(f):null,T=Dy(c,f);h=h.concat(Gy(g,v,y,T))}return o&&(h=h.concat(vd(o,l,c,a))),h}}function qy(l,n,a,c){const o=n.get(Ee());a==null&&o!=null&&(a=ki(o,Ee()));let h=[];return n.children.inorderTraversal((f,g)=>{const v=a?a.getImmediateChild(f):null,y=Dy(c,f),T=l.operationForChild(f);T&&(h=h.concat(qy(T,g,v,y)))}),o&&(h=h.concat(vd(o,l,c,a))),h}function Yy(l,n){const a=n.query,c=Hs(l,a);return{hashFn:()=>(MS(n)||W.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return c?XS(l,a._path,c):FS(l,a._path);{const h=Fb(o,a);return kr(l,a,null,h)}}}}function Hs(l,n){const a=Qr(n);return l.queryToTagMap.get(a)}function Qr(l){return l._path.toString()+"$"+l._queryIdentifier}function _d(l,n){return l.tagToQueryMap.get(n)}function bd(l){const n=l.indexOf("$");return k(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new ze(l.substr(0,n))}}function Sd(l,n,a){const c=l.syncPointTree_.get(n);k(c,"Missing sync point for query tag that we're tracking");const o=qr(l.pendingWriteTree_,n);return vd(c,a,o,null)}function JS(l){return l.fold((n,a,c)=>{if(a&&Ii(a))return[Yr(a)];{let o=[];return a&&(o=ky(a)),Nt(c,(h,f)=>{o=o.concat(f)}),o}})}function js(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(GS())(l._repo,l._path):l}function WS(l,n){for(let a=0;a<n.length;++a){const c=n[a];if(!c._queryParams.loadsAllData()){const o=Qr(c),h=l.queryToTagMap.get(o);l.queryToTagMap.delete(o),l.tagToQueryMap.delete(h)}}}function $S(){return qS++}function PS(l,n,a){const c=n._path,o=Hs(l,n),h=Yy(l,a),f=l.listenProvider_.startListening(js(n),o,h.hashFn,h.onComplete),g=l.syncPointTree_.subtree(c);if(o)k(!Ii(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((y,T,S)=>{if(!he(y)&&T&&Ii(T))return[Yr(T).query];{let C=[];return T&&(C=C.concat(ky(T).map(R=>R.query))),Nt(S,(R,U)=>{C=C.concat(U)}),C}});for(let y=0;y<v.length;++y){const T=v[y];l.listenProvider_.stopListening(js(T),Hs(l,T))}}return f}class Cd{constructor(n){this.node_=n}getImmediateChild(n){const a=this.node_.getImmediateChild(n);return new Cd(a)}node(){return this.node_}}class Ed{constructor(n,a){this.syncTree_=n,this.path_=a}getImmediateChild(n){const a=Ze(this.path_,n);return new Ed(this.syncTree_,a)}node(){return yd(this.syncTree_,this.path_)}}const e3=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},xv=function(l,n,a){if(!l||typeof l!="object")return l;if(k(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return t3(l[".sv"],n,a);if(typeof l[".sv"]=="object")return n3(l[".sv"],n);k(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},t3=function(l,n,a){if(l==="timestamp")return a.timestamp;k(!1,"Unexpected server value: "+l)},n3=function(l,n,a){l.hasOwnProperty("increment")||k(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const c=l.increment;typeof c!="number"&&k(!1,"Unexpected increment value: "+c);const o=n.node();if(k(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return c;const f=o.getValue();return typeof f!="number"?c:f+c},Qy=function(l,n,a,c){return xd(n,new Ed(a,l),c)},Fy=function(l,n,a){return xd(l,new Cd(n),a)};function xd(l,n,a){const c=l.getPriority().val(),o=xv(c,n.getImmediateChild(".priority"),a);let h;if(l.isLeafNode()){const f=l,g=xv(f.getValue(),n,a);return g!==f.getValue()||o!==f.getPriority().val()?new yt(g,ft(o)):l}else{const f=l;return h=f,o!==f.getPriority().val()&&(h=h.updatePriority(new yt(o))),f.forEachChild(Je,(g,v)=>{const y=xd(v,n.getImmediateChild(g),a);y!==v&&(h=h.updateImmediateChild(g,y))}),h}}class Td{constructor(n="",a=null,c={children:{},childCount:0}){this.name=n,this.parent=a,this.node=c}}function Nd(l,n){let a=n instanceof ze?n:new ze(n),c=l,o=ce(a);for(;o!==null;){const h=ra(c.node.children,o)||{children:{},childCount:0};c=new Td(o,c,h),a=Ie(a),o=ce(a)}return c}function ya(l){return l.node.value}function Xy(l,n){l.node.value=n,Xh(l)}function Ky(l){return l.node.childCount>0}function i3(l){return ya(l)===void 0&&!Ky(l)}function Fr(l,n){Nt(l.node.children,(a,c)=>{n(new Td(a,l,c))})}function Zy(l,n,a,c){a&&n(l),Fr(l,o=>{Zy(o,n,!0)})}function l3(l,n,a){let c=l.parent;for(;c!==null;){if(n(c))return!0;c=c.parent}return!1}function Xs(l){return new ze(l.parent===null?l.name:Xs(l.parent)+"/"+l.name)}function Xh(l){l.parent!==null&&a3(l.parent,l.name,l)}function a3(l,n,a){const c=i3(a),o=Mn(l.node.children,n);c&&o?(delete l.node.children[n],l.node.childCount--,Xh(l)):!c&&!o&&(l.node.children[n]=a.node,l.node.childCount++,Xh(l))}const s3=/[\[\].#$\/\u0000-\u001F\u007F]/,c3=/[\[\].#$\u0000-\u001F\u007F]/,xh=10*1024*1024,Ad=function(l){return typeof l=="string"&&l.length!==0&&!s3.test(l)},Jy=function(l){return typeof l=="string"&&l.length!==0&&!c3.test(l)},r3=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Jy(l)},o3=function(l){return l===null||typeof l=="string"||typeof l=="number"&&!ed(l)||l&&typeof l=="object"&&Mn(l,".sv")},u3=function(l,n,a,c){Xr(Hr(l,"value"),n,a)},Xr=function(l,n,a){const c=a instanceof ze?new N4(a,l):a;if(n===void 0)throw new Error(l+"contains undefined "+hl(c));if(typeof n=="function")throw new Error(l+"contains a function "+hl(c)+" with contents = "+n.toString());if(ed(n))throw new Error(l+"contains "+n.toString()+" "+hl(c));if(typeof n=="string"&&n.length>xh/3&&Ir(n)>xh)throw new Error(l+"contains a string greater than "+xh+" utf8 bytes "+hl(c)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(Nt(n,(f,g)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(h=!0,!Ad(f)))throw new Error(l+" contains an invalid key ("+f+") "+hl(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);A4(c,f),Xr(l,g,c),w4(c)}),o&&h)throw new Error(l+' contains ".value" child '+hl(c)+" in addition to actual children.")}},h3=function(l,n){let a,c;for(a=0;a<n.length;a++){c=n[a];const h=zs(c);for(let f=0;f<h.length;f++)if(!(h[f]===".priority"&&f===h.length-1)){if(!Ad(h[f]))throw new Error(l+"contains an invalid key ("+h[f]+") in path "+c.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(T4);let o=null;for(a=0;a<n.length;a++){if(c=n[a],o!==null&&mn(o,c))throw new Error(l+"contains a path "+o.toString()+" that is ancestor of another path "+c.toString());o=c}},d3=function(l,n,a,c){const o=Hr(l,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];Nt(n,(f,g)=>{const v=new ze(f);if(Xr(o,g,Ze(a,v)),ad(v)===".priority"&&!o3(g))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(v)}),h3(o,h)},Wy=function(l,n,a,c){if(!Jy(a))throw new Error(Hr(l,n)+'was an invalid path = "'+a+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},f3=function(l,n,a,c){a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Wy(l,n,a)},$y=function(l,n){if(ce(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},m3=function(l,n){const a=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Ad(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||a.length!==0&&!r3(a))throw new Error(Hr(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class g3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Kr(l,n){let a=null;for(let c=0;c<n.length;c++){const o=n[c],h=o.getPath();a!==null&&!sd(h,a.path)&&(l.eventLists_.push(a),a=null),a===null&&(a={events:[],path:h}),a.events.push(o)}a&&l.eventLists_.push(a)}function Py(l,n,a){Kr(l,a),e_(l,c=>sd(c,n))}function gn(l,n,a){Kr(l,a),e_(l,c=>mn(c,n)||mn(n,c))}function e_(l,n){l.recursionDepth_++;let a=!0;for(let c=0;c<l.eventLists_.length;c++){const o=l.eventLists_[c];if(o){const h=o.path;n(h)?(p3(l.eventLists_[c]),l.eventLists_[c]=null):a=!1}}a&&(l.eventLists_=[]),l.recursionDepth_--}function p3(l){for(let n=0;n<l.events.length;n++){const a=l.events[n];if(a!==null){l.events[n]=null;const c=a.getEventRunner();Ts&&Tt("event: "+a.toString()),pa(c)}}}const v3="repo_interrupt",y3=25;class _3{constructor(n,a,c,o){this.repoInfo_=n,this.forceRestClient_=a,this.authTokenProvider_=c,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new g3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jr(),this.transactionQueueTree_=new Td,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function b3(l,n,a){if(l.stats_=id(l.repoInfo_),l.forceRestClient_||Jb())l.server_=new wr(l.repoInfo_,(c,o,h,f)=>{Tv(l,c,o,h,f)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>Nv(l,!0),0);else{if(typeof a<"u"&&a!==null){if(typeof a!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{mt(a)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}l.persistentConnection_=new ti(l.repoInfo_,n,(c,o,h,f)=>{Tv(l,c,o,h,f)},c=>{Nv(l,c)},c=>{C3(l,c)},l.authTokenProvider_,l.appCheckProvider_,a),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(c=>{l.server_.refreshAuthToken(c)}),l.appCheckProvider_.addTokenChangeListener(c=>{l.server_.refreshAppCheckToken(c.token)}),l.statsReporter_=t4(l.repoInfo_,()=>new eS(l.stats_,l.server_)),l.infoData_=new Z4,l.infoSyncTree_=new Ev({startListening:(c,o,h,f)=>{let g=[];const v=l.infoData_.getNode(c._path);return v.isEmpty()||(g=Fs(l.infoSyncTree_,c._path,v),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),wd(l,"connected",!1),l.serverSyncTree_=new Ev({startListening:(c,o,h,f)=>(l.server_.listen(c,h,o,(g,v)=>{const y=f(g,v);gn(l.eventQueue_,c._path,y)}),[]),stopListening:(c,o)=>{l.server_.unlisten(c,o)}})}function S3(l){const a=l.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+a}function Zr(l){return e3({timestamp:S3(l)})}function Tv(l,n,a,c,o){l.dataUpdateCount++;const h=new ze(n);a=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,a):a;let f=[];if(o)if(c){const v=Sr(a,y=>ft(y));f=KS(l.serverSyncTree_,h,v,o)}else{const v=ft(a);f=Vy(l.serverSyncTree_,h,v,o)}else if(c){const v=Sr(a,y=>ft(y));f=QS(l.serverSyncTree_,h,v)}else{const v=ft(a);f=Fs(l.serverSyncTree_,h,v)}let g=h;f.length>0&&(g=fa(l,h)),gn(l.eventQueue_,g,f)}function Nv(l,n){wd(l,"connected",n),n===!1&&N3(l)}function C3(l,n){Nt(n,(a,c)=>{wd(l,a,c)})}function wd(l,n,a){const c=new ze("/.info/"+n),o=ft(a);l.infoData_.updateSnapshot(c,o);const h=Fs(l.infoSyncTree_,c,o);gn(l.eventQueue_,c,h)}function jd(l){return l.nextWriteId_++}function E3(l,n,a){const c=ZS(l.serverSyncTree_,n);return c!=null?Promise.resolve(c):l.server_.get(n).then(o=>{const h=ft(o).withIndex(n._queryParams.getIndex());Fh(l.serverSyncTree_,n,a,!0);let f;if(n._queryParams.loadsAllData())f=Fs(l.serverSyncTree_,n._path,h);else{const g=Hs(l.serverSyncTree_,n);f=Vy(l.serverSyncTree_,n._path,h,g)}return gn(l.eventQueue_,n._path,f),kr(l.serverSyncTree_,n,a,null,!0),h},o=>(Ks(l,"get for query "+mt(n)+" failed: "+o),Promise.reject(new Error(o))))}function x3(l,n,a,c,o){Ks(l,"set",{path:n.toString(),value:a,priority:c});const h=Zr(l),f=ft(a,c),g=yd(l.serverSyncTree_,n),v=Fy(f,g,h),y=jd(l),T=Iy(l.serverSyncTree_,n,v,y,!0);Kr(l.eventQueue_,T),l.server_.put(n.toString(),f.val(!0),(C,R)=>{const U=C==="ok";U||zt("set at "+n+" failed: "+C);const F=Oi(l.serverSyncTree_,y,!U);gn(l.eventQueue_,n,F),Kh(l,o,C,R)});const S=Md(l,n);fa(l,S),gn(l.eventQueue_,S,[])}function T3(l,n,a,c){Ks(l,"update",{path:n.toString(),value:a});let o=!0;const h=Zr(l),f={};if(Nt(a,(g,v)=>{o=!1,f[g]=Qy(Ze(n,g),ft(v),l.serverSyncTree_,h)}),o)Tt("update() called with empty data.  Don't do anything."),Kh(l,c,"ok",void 0);else{const g=jd(l),v=YS(l.serverSyncTree_,n,f,g);Kr(l.eventQueue_,v),l.server_.merge(n.toString(),a,(y,T)=>{const S=y==="ok";S||zt("update at "+n+" failed: "+y);const C=Oi(l.serverSyncTree_,g,!S),R=C.length>0?fa(l,n):n;gn(l.eventQueue_,R,C),Kh(l,c,y,T)}),Nt(a,y=>{const T=Md(l,Ze(n,y));fa(l,T)}),gn(l.eventQueue_,n,[])}}function N3(l){Ks(l,"onDisconnectEvents");const n=Zr(l),a=jr();Ih(l.onDisconnect_,Ee(),(o,h)=>{const f=Qy(o,h,l.serverSyncTree_,n);Ty(a,o,f)});let c=[];Ih(a,Ee(),(o,h)=>{c=c.concat(Fs(l.serverSyncTree_,o,h));const f=Md(l,o);fa(l,f)}),l.onDisconnect_=jr(),gn(l.eventQueue_,Ee(),c)}function A3(l,n,a){let c;ce(n._path)===".info"?c=Fh(l.infoSyncTree_,n,a):c=Fh(l.serverSyncTree_,n,a),Py(l.eventQueue_,n._path,c)}function w3(l,n,a){let c;ce(n._path)===".info"?c=kr(l.infoSyncTree_,n,a):c=kr(l.serverSyncTree_,n,a),Py(l.eventQueue_,n._path,c)}function j3(l){l.persistentConnection_&&l.persistentConnection_.interrupt(v3)}function Ks(l,...n){let a="";l.persistentConnection_&&(a=l.persistentConnection_.id+":"),Tt(a,...n)}function Kh(l,n,a,c){n&&pa(()=>{if(a==="ok")n(null);else{const o=(a||"error").toUpperCase();let h=o;c&&(h+=": "+c);const f=new Error(h);f.code=o,n(f)}})}function t_(l,n,a){return yd(l.serverSyncTree_,n,a)||W.EMPTY_NODE}function Dd(l,n=l.transactionQueueTree_){if(n||Jr(l,n),ya(n)){const a=i_(l,n);k(a.length>0,"Sending zero length transaction queue"),a.every(o=>o.status===0)&&D3(l,Xs(n),a)}else Ky(n)&&Fr(n,a=>{Dd(l,a)})}function D3(l,n,a){const c=a.map(y=>y.currentWriteId),o=t_(l,n,c);let h=o;const f=o.hash();for(let y=0;y<a.length;y++){const T=a[y];k(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const S=Rt(n,T.path);h=h.updateChild(S,T.currentOutputSnapshotRaw)}const g=h.val(!0),v=n;l.server_.put(v.toString(),g,y=>{Ks(l,"transaction put response",{path:v.toString(),status:y});let T=[];if(y==="ok"){const S=[];for(let C=0;C<a.length;C++)a[C].status=2,T=T.concat(Oi(l.serverSyncTree_,a[C].currentWriteId)),a[C].onComplete&&S.push(()=>a[C].onComplete(null,!0,a[C].currentOutputSnapshotResolved)),a[C].unwatcher();Jr(l,Nd(l.transactionQueueTree_,n)),Dd(l,l.transactionQueueTree_),gn(l.eventQueue_,n,T);for(let C=0;C<S.length;C++)pa(S[C])}else{if(y==="datastale")for(let S=0;S<a.length;S++)a[S].status===3?a[S].status=4:a[S].status=0;else{zt("transaction at "+v.toString()+" failed: "+y);for(let S=0;S<a.length;S++)a[S].status=4,a[S].abortReason=y}fa(l,n)}},f)}function fa(l,n){const a=n_(l,n),c=Xs(a),o=i_(l,a);return M3(l,o,c),c}function M3(l,n,a){if(n.length===0)return;const c=[];let o=[];const f=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const v=n[g],y=Rt(a,v.path);let T=!1,S;if(k(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)T=!0,S=v.abortReason,o=o.concat(Oi(l.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=y3)T=!0,S="maxretry",o=o.concat(Oi(l.serverSyncTree_,v.currentWriteId,!0));else{const C=t_(l,v.path,f);v.currentInputSnapshot=C;const R=n[g].update(C.val());if(R!==void 0){Xr("transaction failed: Data returned ",R,v.path);let U=ft(R);typeof R=="object"&&R!=null&&Mn(R,".priority")||(U=U.updatePriority(C.getPriority()));const q=v.currentWriteId,le=Zr(l),Le=Fy(U,C,le);v.currentOutputSnapshotRaw=U,v.currentOutputSnapshotResolved=Le,v.currentWriteId=jd(l),f.splice(f.indexOf(q),1),o=o.concat(Iy(l.serverSyncTree_,v.path,Le,v.currentWriteId,v.applyLocally)),o=o.concat(Oi(l.serverSyncTree_,q,!0))}else T=!0,S="nodata",o=o.concat(Oi(l.serverSyncTree_,v.currentWriteId,!0))}gn(l.eventQueue_,a,o),o=[],T&&(n[g].status=2,(function(C){setTimeout(C,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(S==="nodata"?c.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):c.push(()=>n[g].onComplete(new Error(S),!1,null))))}Jr(l,l.transactionQueueTree_);for(let g=0;g<c.length;g++)pa(c[g]);Dd(l,l.transactionQueueTree_)}function n_(l,n){let a,c=l.transactionQueueTree_;for(a=ce(n);a!==null&&ya(c)===void 0;)c=Nd(c,a),n=Ie(n),a=ce(n);return c}function i_(l,n){const a=[];return l_(l,n,a),a.sort((c,o)=>c.order-o.order),a}function l_(l,n,a){const c=ya(n);if(c)for(let o=0;o<c.length;o++)a.push(c[o]);Fr(n,o=>{l_(l,o,a)})}function Jr(l,n){const a=ya(n);if(a){let c=0;for(let o=0;o<a.length;o++)a[o].status!==2&&(a[c]=a[o],c++);a.length=c,Xy(n,a.length>0?a:void 0)}Fr(n,c=>{Jr(l,c)})}function Md(l,n){const a=Xs(n_(l,n)),c=Nd(l.transactionQueueTree_,n);return l3(c,o=>{Th(l,o)}),Th(l,c),Zy(c,o=>{Th(l,o)}),a}function Th(l,n){const a=ya(n);if(a){const c=[];let o=[],h=-1;for(let f=0;f<a.length;f++)a[f].status===3||(a[f].status===1?(k(h===f-1,"All SENT items should be at beginning of queue."),h=f,a[f].status=3,a[f].abortReason="set"):(k(a[f].status===0,"Unexpected transaction status in abort"),a[f].unwatcher(),o=o.concat(Oi(l.serverSyncTree_,a[f].currentWriteId,!0)),a[f].onComplete&&c.push(a[f].onComplete.bind(null,new Error("set"),!1,null))));h===-1?Xy(n,void 0):a.length=h+1,gn(l.eventQueue_,Xs(n),o);for(let f=0;f<c.length;f++)pa(c[f])}}function O3(l){let n="";const a=l.split("/");for(let c=0;c<a.length;c++)if(a[c].length>0){let o=a[c];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function R3(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const a of l.split("&")){if(a.length===0)continue;const c=a.split("=");c.length===2?n[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):zt(`Invalid query segment '${a}' in query '${l}'`)}return n}const Av=function(l,n){const a=z3(l),c=a.namespace;a.domain==="firebase.com"&&ii(a.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||c==="undefined")&&a.domain!=="localhost"&&ii("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),a.secure||Vb();const o=a.scheme==="ws"||a.scheme==="wss";return{repoInfo:new ry(a.host,a.secure,c,o,n,"",c!==a.subdomain),path:new ze(a.pathString)}},z3=function(l){let n="",a="",c="",o="",h="",f=!0,g="https",v=443;if(typeof l=="string"){let y=l.indexOf("//");y>=0&&(g=l.substring(0,y-1),l=l.substring(y+2));let T=l.indexOf("/");T===-1&&(T=l.length);let S=l.indexOf("?");S===-1&&(S=l.length),n=l.substring(0,Math.min(T,S)),T<S&&(o=O3(l.substring(T,S)));const C=R3(l.substring(Math.min(l.length,S)));y=n.indexOf(":"),y>=0?(f=g==="https"||g==="wss",v=parseInt(n.substring(y+1),10)):y=n.length;const R=n.slice(0,y);if(R.toLowerCase()==="localhost")a="localhost";else if(R.split(".").length<=2)a=R;else{const U=n.indexOf(".");c=n.substring(0,U).toLowerCase(),a=n.substring(U+1),h=c}"ns"in C&&(h=C.ns)}return{host:n,port:v,domain:a,subdomain:c,secure:f,scheme:g,pathString:o,namespace:h}};class U3{constructor(n,a,c,o){this.eventType=n,this.eventRegistration=a,this.snapshot=c,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+mt(this.snapshot.exportVal())}}class L3{constructor(n,a,c){this.eventRegistration=n,this.error=a,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class a_{constructor(n,a){this.snapshotCallback=n,this.cancelCallback=a}onValue(n,a){this.snapshotCallback.call(null,n,a)}onCancel(n){return k(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Od{constructor(n,a,c,o){this._repo=n,this._path=a,this._queryParams=c,this._orderByCalled=o}get key(){return he(this._path)?null:ad(this._path)}get ref(){return new li(this._repo,this._path)}get _queryIdentifier(){const n=fv(this._queryParams),a=td(n);return a==="{}"?"default":a}get _queryObject(){return fv(this._queryParams)}isEqual(n){if(n=ga(n),!(n instanceof Od))return!1;const a=this._repo===n._repo,c=sd(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return a&&c&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+x4(this._path)}}class li extends Od{constructor(n,a){super(n,a,new ud,!1)}get parent(){const n=vy(this._path);return n===null?null:new li(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Is{constructor(n,a,c){this._node=n,this.ref=a,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const a=new ze(n),c=Zh(this.ref,n);return new Is(this._node.getChild(a),c,Je)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(c,o)=>n(new Is(o,Zh(this.ref,c),Je)))}hasChild(n){const a=new ze(n);return!this._node.getChild(a).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function We(l,n){return l=ga(l),l._checkNotDeleted("ref"),n!==void 0?Zh(l._root,n):l._root}function Zh(l,n){return l=ga(l),ce(l._path)===null?f3("child","path",n):Wy("child","path",n),new li(l._repo,Ze(l._path,n))}function Rd(l){return $y("remove",l._path),ei(l,null)}function ei(l,n){l=ga(l),$y("set",l._path),u3("set",n,l._path);const a=new Vs;return x3(l._repo,l._path,n,null,a.wrapCallback(()=>{})),a.promise}function zd(l,n){d3("update",n,l._path);const a=new Vs;return T3(l._repo,l._path,n,a.wrapCallback(()=>{})),a.promise}function Es(l){l=ga(l);const n=new a_(()=>{}),a=new Wr(n);return E3(l._repo,l,a).then(c=>new Is(c,new li(l._repo,l._path),l._queryParams.getIndex()))}class Wr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,a){const c=a._queryParams.getIndex();return new U3("value",this,new Is(n.snapshotNode,new li(a._repo,a._path),c))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,a){return this.callbackContext.hasCancelCallback?new L3(this,n,a):null}matches(n){return n instanceof Wr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function k3(l,n,a,c,o){const h=new a_(a,void 0),f=new Wr(h);return A3(l._repo,l,f),()=>w3(l._repo,l,f)}function Ud(l,n,a,c){return k3(l,"value",n)}LS(li);VS(li);const B3="FIREBASE_DATABASE_EMULATOR_HOST",Jh={};let H3=!1;function I3(l,n,a,c){const o=n.lastIndexOf(":"),h=n.substring(0,o),f=$h(h);l.repoInfo_=new ry(n,f,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,a),c&&(l.authTokenProvider_=c)}function V3(l,n,a,c,o){let h=c||l.options.databaseURL;h===void 0&&(l.options.projectId||ii("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Tt("Using default host for project ",l.options.projectId),h=`${l.options.projectId}-default-rtdb.firebaseio.com`);let f=Av(h,o),g=f.repoInfo,v;typeof process<"u"&&Zp&&(v=Zp[B3]),v?(h=`http://${v}?ns=${g.namespace}`,f=Av(h,o),g=f.repoInfo):f.repoInfo.secure;const y=new $b(l.name,l.options,n);m3("Invalid Firebase Database URL",f),he(f.path)||ii("Database URL must point to the root of a Firebase Database (not including a child path).");const T=q3(g,l,y,new Wb(l,a));return new Y3(T,l)}function G3(l,n){const a=Jh[n];(!a||a[l.key]!==l)&&ii(`Database ${n}(${l.repoInfo_}) has already been deleted.`),j3(l),delete a[l.key]}function q3(l,n,a,c){let o=Jh[n.name];o||(o={},Jh[n.name]=o);let h=o[l.toURLString()];return h&&ii("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new _3(l,H3,a,c),o[l.toURLString()]=h,h}class Y3{constructor(n,a){this._repoInternal=n,this.app=a,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(b3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new li(this._repo,Ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(G3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&ii("Cannot call "+n+" on a deleted database.")}}function Q3(l=Cb(),n){const a=vb(l,"database").getImmediate({identifier:n});if(!a._instanceStarted){const c=n2("database");c&&F3(a,...c)}return a}function F3(l,n,a,c={}){l=ga(l),l._checkNotDeleted("useEmulator");const o=`${n}:${a}`,h=l._repoInternal;if(l._instanceStarted){if(o===l._repoInternal.repoInfo_.host&&Cr(c,h.repoInfo_.emulatorOptions))return;ii("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(h.repoInfo_.nodeAdmin)c.mockUserToken&&ii('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new _r(_r.OWNER);else if(c.mockUserToken){const g=typeof c.mockUserToken=="string"?c.mockUserToken:l2(c.mockUserToken,l.app.options.projectId);f=new _r(g)}$h(n)&&(i2(n),c2("Database",!0)),I3(h,o,c,f)}function X3(l){Ub(Sb),xr(new Ms("database",(n,{instanceIdentifier:a})=>{const c=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return V3(c,o,h,a)},"PUBLIC").setMultipleInstances(!0)),la(Jp,Wp,l),la(Jp,Wp,"esm2020")}ti.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};ti.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};X3();const K3={apiKey:"AIzaSyD_a5ykUzFClrzJalmql4vs_6TPE5WYLqQ",authDomain:"ai-demo-64219.firebaseapp.com",projectId:"ai-demo-64219",storageBucket:"ai-demo-64219.firebasestorage.app",messagingSenderId:"14008379823",appId:"1:14008379823:web:1350b9cb75cef1d783275a",databaseURL:"https://ai-demo-64219-default-rtdb.asia-southeast1.firebasedatabase.app"},Z3=Qv(K3),$e=Q3(Z3),Pe="kid_video",s_=[{id:"v001",url:"https://www.youtube.com/watch?v=XqZsoesa55w",title:"Baby Shark Dance - Pinkfong",thumbnail:"https://img.youtube.com/vi/XqZsoesa55w/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Pinkfong"},{id:"v002",url:"https://www.youtube.com/watch?v=e_04ZrNroTo",title:"Wheels on the Bus - Cocomelon",thumbnail:"https://img.youtube.com/vi/e_04ZrNroTo/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Cocomelon"},{id:"v003",url:"https://www.youtube.com/watch?v=75NQK-Sm1YY",title:"Baby Bus - Five Little Ducks",thumbnail:"https://img.youtube.com/vi/75NQK-Sm1YY/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"BabyBus"},{id:"v004",url:"https://www.youtube.com/watch?v=_UR-l3QI2nE",title:"ABC Song - Hc bng ch ci",thumbnail:"https://img.youtube.com/vi/_UR-l3QI2nE/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v005",url:"https://www.youtube.com/watch?v=ZanHgPprl-0",title:"Phonics Song - Hc pht m",thumbnail:"https://img.youtube.com/vi/ZanHgPprl-0/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v006",url:"https://www.youtube.com/watch?v=L0MK7qz13bU",title:"Numbers Song - Hc m s",thumbnail:"https://img.youtube.com/vi/L0MK7qz13bU/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v007",url:"https://www.youtube.com/watch?v=QkHQ0CYwjaI",title:"Counting 1-100 - m s",thumbnail:"https://img.youtube.com/vi/QkHQ0CYwjaI/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Jack Hartmann"},{id:"v008",url:"https://www.youtube.com/watch?v=teMdjJ3w9iM",title:"Five Little Monkeys - Hc m",thumbnail:"https://img.youtube.com/vi/teMdjJ3w9iM/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Super Simple Songs"}],c_=[{id:"c001",name:"Pinkfong",channelId:"UCcdwLMPsaU2ezNSJU1nFoBQ",ageGroup:"0-3",category:"music"},{id:"c002",name:"Cocomelon",channelId:"UCbCmjCuTUZos6Inko4u57UQ",ageGroup:"0-3",category:"music"},{id:"c003",name:"Super Simple Songs",channelId:"UCLsooMJoIpl_7ux2jvdPB-Q",ageGroup:"3-6",category:"english"}],r_=[{id:"parent",name:"Ph huynh",type:"parent",avatar:""},{id:"user001",name:"B Bi",type:"child",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:["music","entertainment"]},{id:"user002",name:"B Bo",type:"child",avatar:"",ageGroup:"3-6",dailyLimit:90,allowedCategories:["music","english","math"]}],Ld={dailyLimit:60,parentPin:"1234"},ca=l=>l?Object.keys(l).map(n=>({...l[n],id:n})):[],J3=async()=>{try{return(await Es(We($e,`${Pe}/videos`))).exists()||(console.log("Initializing database with default data..."),await o_()),await $r()}catch(l){return console.error("Firebase init error:",l),{videos:s_,channels:c_,users:r_,settings:Ld}}},o_=async()=>{const l={};s_.forEach(c=>{l[c.id]=c});const n={};c_.forEach(c=>{n[c.id]=c});const a={};r_.forEach(c=>{a[c.id]=c}),await ei(We($e,`${Pe}/videos`),l),await ei(We($e,`${Pe}/channels`),n),await ei(We($e,`${Pe}/users`),a),await ei(We($e,`${Pe}/settings`),Ld)},$r=async()=>{const[l,n,a,c]=await Promise.all([Es(We($e,`${Pe}/videos`)),Es(We($e,`${Pe}/channels`)),Es(We($e,`${Pe}/users`)),Es(We($e,`${Pe}/settings`))]);return{videos:ca(l.val()),channels:ca(n.val()),users:ca(a.val()),settings:c.val()||Ld}},wv=async l=>{const n=l.id||`v${Date.now()}`,a={...l,id:n,addedAt:Date.now()};return await ei(We($e,`${Pe}/videos/${n}`),a),a},W3=async(l,n)=>{await zd(We($e,`${Pe}/videos/${l}`),n)},$3=async l=>{await Rd(We($e,`${Pe}/videos/${l}`))},P3=async l=>{const n=l.id||`c${Date.now()}`,a={...l,id:n};return await ei(We($e,`${Pe}/channels/${n}`),a),a},eC=async l=>{await Rd(We($e,`${Pe}/channels/${l}`))},tC=async l=>{const n=l.id||`u${Date.now()}`,a={...l,id:n,createdAt:Date.now()};return await ei(We($e,`${Pe}/users/${n}`),a),a},nC=async(l,n)=>{await zd(We($e,`${Pe}/users/${l}`),n)},iC=async l=>{await Rd(We($e,`${Pe}/users/${l}`))},lC=async l=>{await zd(We($e,`${Pe}/settings`),l)},aC=l=>Ud(We($e,`${Pe}/videos`),n=>{l(ca(n.val()))}),sC=l=>Ud(We($e,`${Pe}/users`),n=>{l(ca(n.val()))}),cC=l=>Ud(We($e,`${Pe}/channels`),n=>{l(ca(n.val()))}),rC=async()=>(await o_(),await $r()),oC=async()=>{const l=await $r(),n=new Blob([JSON.stringify({...l,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),a=URL.createObjectURL(n),c=document.createElement("a");c.href=a,c.download=`kid_video_${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(a)},uC=async l=>{if(l.videos){const n={};l.videos.forEach(a=>{n[a.id]=a}),await ei(We($e,`${Pe}/videos`),n)}return await $r()},Br=l=>{if(!l)return null;if(l.length===11&&/^[a-zA-Z0-9_-]+$/.test(l))return l;const n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,a=l.match(n);return a&&a[7].length===11?a[7]:null},At=[{id:"math",name:"Ton hc",icon:"",color:"#ff6b6b"},{id:"english",name:"Anh vn",icon:"",color:"#4ecdc4"},{id:"communication",name:"Giao tip",icon:"",color:"#45b7d1"},{id:"thinking",name:"T duy",icon:"",color:"#96ceb4"},{id:"entertainment",name:"Gii tr",icon:"",color:"#ffeaa7"},{id:"learning",name:"Hc tp",icon:"",color:"#dfe6e9"},{id:"music",name:"m nhc",icon:"",color:"#fd79a8"},{id:"science",name:"Khoa hc",icon:"",color:"#a29bfe"}],ai=G0(Q0((l,n)=>({videos:[],channels:[],users:[],settings:{categories:At,dailyLimit:60},currentVideo:null,currentUser:null,selectedAgeGroup:"all",selectedCategory:"all",searchQuery:"",parentMode:!1,watchHistory:[],favorites:[],dailyLimit:60,todayWatchTime:0,unavailableVideos:[],isLoading:!1,error:null,setVideos:a=>l({videos:a}),setUsers:a=>l({users:a}),setChannels:a=>l({channels:a}),initializeData:async()=>{l({isLoading:!0,error:null});try{const a=await J3();l({videos:a.videos||[],channels:a.channels||[],users:a.users||[],settings:{...n().settings,...a.settings},dailyLimit:a.settings?.dailyLimit||60,isLoading:!1})}catch(a){console.error("Failed to initialize:",a),l({error:a.message,isLoading:!1})}},markVideoUnavailable:a=>{const{unavailableVideos:c}=n();c.includes(a)||l({unavailableVideos:[...c,a]})},clearUnavailableVideos:()=>l({unavailableVideos:[]}),isVideoAvailable:a=>!n().unavailableVideos.includes(a),login:a=>{const o=n().users.find(h=>h.id===a);return o?(l({currentUser:o,dailyLimit:o.dailyLimit||60}),!0):!1},logout:()=>l({currentUser:null,parentMode:!1}),addVideo:async a=>{const c=await wv(a);return l(o=>({videos:[...o.videos,c]})),c},updateVideo:async(a,c)=>{await W3(a,c),l(o=>({videos:o.videos.map(h=>h.id===a?{...h,...c}:h)}))},deleteVideo:async a=>{await $3(a),l(c=>({videos:c.videos.filter(o=>o.id!==a)}))},addVideoFromURL:async(a,c="entertainment",o="all")=>{const h=Br(a);if(!h)throw new Error("URL YouTube khng hp l");if(n().videos.find(T=>Br(T.url)===h))throw new Error("Video ny  c trong danh sch");const g=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${h}&format=json`);if(!g.ok)throw new Error("Video khng tn ti hoc khng kh dng");const v=await g.json(),y=await wv({url:`https://www.youtube.com/watch?v=${h}`,title:v.title,thumbnail:`https://img.youtube.com/vi/${h}/mqdefault.jpg`,channel:v.author_name,category:c,ageGroup:o});return l(T=>({videos:[...T.videos,y]})),y},addChannel:async a=>{const c=await P3(a);return l(o=>({channels:[...o.channels,c]})),c},deleteChannel:async a=>{await eC(a),l(c=>({channels:c.channels.filter(o=>o.id!==a)}))},addUser:async a=>{const c=await tC(a);return l(o=>({users:[...o.users,c]})),c},updateUser:async(a,c)=>{await nC(a,c),l(o=>({users:o.users.map(h=>h.id===a?{...h,...c}:h),currentUser:o.currentUser?.id===a?{...o.currentUser,...c}:o.currentUser}))},deleteUser:async a=>{await iC(a),l(c=>({users:c.users.filter(o=>o.id!==a)}))},setCurrentVideo:a=>l({currentVideo:a}),setAgeGroup:a=>l({selectedAgeGroup:a}),setCategory:a=>l({selectedCategory:a}),setSearchQuery:a=>l({searchQuery:a}),toggleParentMode:a=>n().parentMode?(l({parentMode:!1}),!0):a==="bypass"?(l({parentMode:!0}),!0):!1,addToHistory:a=>l(c=>({watchHistory:[{...a,watchedAt:Date.now()},...c.watchHistory.filter(o=>o.id!==a.id).slice(0,49)]})),toggleFavorite:a=>l(c=>({favorites:c.favorites.includes(a)?c.favorites.filter(o=>o!==a):[...c.favorites,a]})),addWatchTime:a=>l(c=>({todayWatchTime:c.todayWatchTime+a})),resetDailyWatchTime:()=>l({todayWatchTime:0}),setDailyLimit:async a=>{await lC({dailyLimit:a}),l({dailyLimit:a})},getFilteredVideos:()=>{const a=n();let c=a.videos.filter(o=>!a.unavailableVideos.includes(o.id));if(a.selectedAgeGroup!=="all"&&(c=c.filter(o=>o.ageGroup===a.selectedAgeGroup||o.ageGroup==="all")),a.selectedCategory!=="all"&&(c=c.filter(o=>o.category===a.selectedCategory)),a.searchQuery){const o=a.searchQuery.toLowerCase();c=c.filter(h=>h.title?.toLowerCase().includes(o)||h.channel?.toLowerCase().includes(o))}return c},exportData:async()=>await oC(),importData:async a=>{const c=await uC(a);l({videos:c.videos,channels:c.channels,users:c.users})},resetToDefaults:async()=>{const a=await rC();l({videos:a.videos||[],channels:a.channels||[],users:a.users||[]})}}),{name:"kid-video-storage",partialize:l=>({currentUser:l.currentUser,watchHistory:l.watchHistory,favorites:l.favorites,todayWatchTime:l.todayWatchTime,unavailableVideos:l.unavailableVideos})})),Ri=Br,hC=l=>{const n=Br(l);return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:null};function dC(l,n){const[a,c]=H.useState(l);return H.useEffect(()=>{const o=setTimeout(()=>{c(l)},n);return()=>clearTimeout(o)},[l,n]),a}function fC(){const{searchQuery:l,setSearchQuery:n,searchYouTube:a,youtubeSearchLoading:c,clearYouTubeSearch:o,parentMode:h}=ai(),[f,g]=H.useState(!1),[v,y]=H.useState(l),T=dC(v,300);H.useEffect(()=>{n(T)},[T,n]);const S=H.useCallback(()=>{v.trim()&&a(v.trim())},[v,a]),C=U=>{U.key==="Enter"&&S()},R=()=>{y(""),n(""),o()};return d.jsxs(ve.div,{className:"search-bar",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:`search-container ${f?"focused":""}`,children:[d.jsx("input",{type:"text",placeholder:" Tm video yu thch...",value:v,onChange:U=>y(U.target.value),onFocus:()=>g(!0),onBlur:()=>g(!1),onKeyDown:C,className:"search-input"}),v&&d.jsx(ve.button,{className:"clear-btn",onClick:R,initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},title:"Xa tm kim",children:""}),d.jsx(ve.button,{className:`search-btn ${h?"youtube-search":""} ${c?"loading":""}`,onClick:S,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!v.trim()||c,title:h?"Tm trn YouTube":"Tm video",children:c?d.jsx("span",{className:"search-spinner",children:""}):d.jsxs(d.Fragment,{children:[d.jsx(yr,{className:"search-icon-btn"}),d.jsx("span",{className:"btn-text",children:h?"YouTube":"Tm"})]})})]}),h&&v&&d.jsxs("div",{className:"search-hint",children:[" Nhn Enter hoc nt ",d.jsx(Ov,{style:{color:"#ff0000"}}),"  tm video mi t YouTube"]})]})}function mC(){const{youtubeSearchResults:l,youtubeSearchQuery:n,youtubeSearchLoading:a,youtubeNextPageToken:c,youtubeTotalResults:o,showYoutubeResults:h,loadMoreYouTubeResults:f,clearYouTubeSearch:g,addVideoFromYouTube:v,addVideoFromURL:y,setCurrentVideo:T,parentMode:S}=ai(),[C,R]=H.useState(null),[U,F]=H.useState([]),[q,le]=H.useState(!1),[Le,ee]=H.useState(!1),[Z,ye]=H.useState(null),[Te,it]=H.useState("entertainment"),[be,je]=H.useState("all"),[ot,lt]=H.useState(""),[ne,De]=H.useState(""),[Ne,Ye]=H.useState(!1),D=L=>{T({id:L.videoId||Ri(L.url),url:L.url,title:L.title,thumbnail:L.thumbnail,channel:L.channel})},B=L=>{ye(L),le(!0)},X=async()=>{if(Z){R(Z.videoId);try{await v(Z,Te,be),F(L=>[...L,Z.videoId]),le(!1),ye(null)}catch(L){console.error("Failed to add video:",L)}finally{R(null)}}},ge=async()=>{if(!ot.trim()){De("Vui lng nhp URL video");return}if(!Ri(ot)){De("URL YouTube khng hp l");return}Ye(!0),De("");try{await y(ot,Te,be),ee(!1),lt(""),De("")}catch(J){De(J.message||"Khng th thm video")}finally{Ye(!1)}},_e=[{id:"all",name:"Tt c",icon:""},{id:"0-3",name:"0-3 tui",icon:""},{id:"3-6",name:"3-6 tui",icon:""},{id:"6-9",name:"6-9 tui",icon:""}];return!h&&!S?null:d.jsxs(d.Fragment,{children:[S&&d.jsx(ve.div,{className:"add-video-section",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:d.jsxs("button",{className:"add-by-url-btn",onClick:()=>ee(!0),children:[d.jsx(R0,{})," Thm video t YouTube URL"]})}),h&&l.length>0&&d.jsxs(ve.div,{className:"search-results-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[d.jsxs("div",{className:"search-results-header",children:[d.jsxs("div",{className:"search-results-info",children:[d.jsxs("h3",{children:[' Kt qu tm kim: "',n,'"']}),d.jsxs("span",{className:"results-count",children:[l.length," video"]})]}),d.jsx("button",{className:"close-results-btn",onClick:g,children:d.jsx(mh,{})})]}),d.jsx("div",{className:"search-results-grid",children:d.jsx($n,{children:l.map((L,J)=>d.jsxs(ve.div,{className:"search-result-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:J*.05},children:[d.jsxs("div",{className:"result-thumbnail",onClick:()=>D(L),children:[d.jsx("img",{src:L.thumbnail,alt:L.title,loading:"lazy"}),d.jsx("div",{className:"play-overlay",children:d.jsx(jh,{})})]}),d.jsxs("div",{className:"result-info",children:[d.jsx("h4",{className:"result-title",title:L.title,children:L.title}),d.jsx("p",{className:"result-channel",children:L.channel})]}),d.jsxs("div",{className:"result-actions",children:[d.jsxs("button",{className:"play-btn",onClick:()=>D(L),title:"Xem video",children:[d.jsx(jh,{})," Xem"]}),S&&d.jsx("button",{className:`add-btn ${U.includes(L.videoId)?"added":""}`,onClick:()=>B(L),disabled:C===L.videoId||U.includes(L.videoId),title:U.includes(L.videoId)?" thm":"Thm vo danh sch",children:C===L.videoId?d.jsx(fh,{className:"spinning"}):U.includes(L.videoId)?d.jsxs(d.Fragment,{children:[d.jsx(wh,{}),"  thm"]}):d.jsxs(d.Fragment,{children:[d.jsx(_n,{})," Thm"]})})]})]},L.videoId||J))})}),c&&d.jsx("div",{className:"load-more-container",children:d.jsx("button",{className:"load-more-btn",onClick:f,disabled:a,children:a?d.jsxs(d.Fragment,{children:[d.jsx(fh,{className:"spinning"})," ang ti..."]}):d.jsxs(d.Fragment,{children:[d.jsx(w0,{})," Xem thm video"]})})}),d.jsx($n,{children:q&&Z&&d.jsx(ve.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>le(!1),children:d.jsxs(ve.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:L=>L.stopPropagation(),children:[d.jsxs("div",{className:"add-modal-header",children:[d.jsx("h3",{children:" Thm video vo danh sch"}),d.jsx("button",{className:"close-modal-btn",onClick:()=>le(!1),children:d.jsx(mh,{})})]}),d.jsxs("div",{className:"add-modal-content",children:[d.jsxs("div",{className:"video-preview",children:[d.jsx("img",{src:Z.thumbnail,alt:Z.title}),d.jsxs("div",{className:"video-preview-info",children:[d.jsx("h4",{children:Z.title}),d.jsx("p",{children:Z.channel})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" Danh mc:"}),d.jsx("div",{className:"category-select",children:At.map(L=>d.jsxs("button",{className:`category-option ${Te===L.id?"selected":""}`,onClick:()=>it(L.id),style:{"--cat-color":L.color},children:[L.icon," ",L.name]},L.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"  tui:"}),d.jsx("div",{className:"age-select",children:_e.map(L=>d.jsxs("button",{className:`age-option ${be===L.id?"selected":""}`,onClick:()=>je(L.id),children:[L.icon," ",L.name]},L.id))})]})]}),d.jsxs("div",{className:"add-modal-footer",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>le(!1),children:"Hy"}),d.jsxs("button",{className:"confirm-btn",onClick:X,children:[d.jsx(_n,{})," Thm video"]})]})]})})})]}),d.jsx($n,{children:Le&&d.jsx(ve.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ee(!1),children:d.jsxs(ve.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:L=>L.stopPropagation(),children:[d.jsxs("div",{className:"add-modal-header",children:[d.jsx("h3",{children:" Thm video t YouTube URL"}),d.jsx("button",{className:"close-modal-btn",onClick:()=>ee(!1),children:d.jsx(mh,{})})]}),d.jsxs("div",{className:"add-modal-content",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" URL YouTube:"}),d.jsx("input",{type:"text",className:"url-input",placeholder:"https://www.youtube.com/watch?v=... hoc Video ID",value:ot,onChange:L=>{lt(L.target.value),De("")}}),ne&&d.jsx("p",{className:"url-error",children:ne}),d.jsx("p",{className:"url-hint",children:"Paste link YouTube hoc ch Video ID (v d: dQw4w9WgXcQ)"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" Danh mc:"}),d.jsx("div",{className:"category-select",children:At.map(L=>d.jsxs("button",{className:`category-option ${Te===L.id?"selected":""}`,onClick:()=>it(L.id),style:{"--cat-color":L.color},children:[L.icon," ",L.name]},L.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"  tui:"}),d.jsx("div",{className:"age-select",children:_e.map(L=>d.jsxs("button",{className:`age-option ${be===L.id?"selected":""}`,onClick:()=>je(L.id),children:[L.icon," ",L.name]},L.id))})]})]}),d.jsxs("div",{className:"add-modal-footer",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>ee(!1),children:"Hy"}),d.jsx("button",{className:"confirm-btn",onClick:ge,disabled:Ne,children:Ne?d.jsxs(d.Fragment,{children:[d.jsx(fh,{className:"spinning"})," ang xc thc..."]}):d.jsxs(d.Fragment,{children:[d.jsx(_n,{})," Thm video"]})})]})]})})})]})}function gC(){const{selectedCategory:l,setCategory:n,currentUser:a}=ai(),c=H.useMemo(()=>{const o=a?.allowedCategories||[];if(o.length===0)return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...At];const h=At.filter(f=>o.includes(f.id));return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...h]},[a?.allowedCategories]);return d.jsx("div",{className:"category-filter",children:d.jsx("div",{className:"category-scroll",children:c.map((o,h)=>d.jsxs(ve.button,{className:`category-btn ${l===o.id?"active":""}`,style:{"--cat-color":o.color},onClick:()=>n(o.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:h*.05},whileHover:{scale:1.08,y:-3},whileTap:{scale:.95},children:[d.jsx("span",{className:"category-icon",children:o.icon}),d.jsx("span",{className:"category-name",children:o.name})]},o.id))})})}function pC({video:l,index:n}){const{setCurrentVideo:a,favorites:c,markVideoUnavailable:o}=ai(),[h,f]=H.useState(!1),g=c.includes(l.id),v={"0-3":"linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%)","3-6":"linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)","6-9":"linear-gradient(135deg, #84FAB0 0%, #8FD3F4 100%)",all:"linear-gradient(135deg, #FFE66D 0%, #FF9A3D 100%)"},y=At.find(C=>C.id===l.category),T=()=>{f(!0)},S="data:image/svg+xml,"+encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 180">
      <rect fill="#1A3A32" width="320" height="180"/>
      <text x="160" y="90" fill="#00D4AA" font-size="48" text-anchor="middle" dominant-baseline="middle"></text>
    </svg>
  `);return d.jsxs(ve.div,{className:"video-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.05,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>a(l),children:[d.jsxs("div",{className:"thumbnail-container",children:[d.jsx("img",{src:h?S:l.thumbnail,alt:l.title,className:"thumbnail",loading:"lazy",onError:T}),d.jsx("div",{className:"play-overlay",children:d.jsx(ve.div,{className:"play-button",whileHover:{scale:1.15},whileTap:{scale:.9},children:d.jsx(jh,{})})}),g&&d.jsx("div",{className:"favorite-indicator",children:d.jsx(O0,{color:"#FF6B9D"})}),y&&d.jsx("div",{className:"category-tag",style:{background:y.color},children:y.icon}),d.jsx("div",{className:"age-tag",style:{background:v[l.ageGroup]||v.all},children:l.ageGroup==="all"?" Tt c":` ${l.ageGroup}`})]}),d.jsxs("div",{className:"video-info",children:[d.jsx("h3",{className:"video-title",children:l.title}),d.jsxs("p",{className:"channel-name",children:[" ",l.channel]})]})]})}function vC(){const{getFilteredVideos:l,searchQuery:n,selectedAgeGroup:a}=ai(),c=l();return c.length===0?d.jsxs(ve.div,{className:"empty-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Khng tm thy video"}),d.jsx("p",{children:n?`Khng c video no ph hp vi "${n}"`:"Cha c video no trong danh sch"})]}):d.jsxs("div",{className:"video-grid-container",children:[d.jsxs("div",{className:"results-info",children:[d.jsxs("span",{className:"results-count",children:[" ",c.length," video"]}),a!=="all"&&d.jsxs("span",{className:"filter-info",children:[" Lc theo: ",a," tui"]})]}),d.jsx(ve.div,{className:"video-grid",initial:{opacity:0},animate:{opacity:1},children:c.map((o,h)=>d.jsx(pC,{video:o,index:h},o.id))})]})}const yC=15e3;function _C(){const{currentVideo:l,setCurrentVideo:n,favorites:a,toggleFavorite:c,addToHistory:o,addWatchTime:h,markVideoUnavailable:f,getFilteredVideos:g,videos:v,selectedAgeGroup:y,selectedCategory:T,searchQuery:S,unavailableVideos:C}=ai(),[R,U]=H.useState(!1),[F,q]=H.useState(!0),le=H.useRef(null),Le=H.useRef(null),[ee,Z]=H.useState(!0),[ye,Te]=H.useState(!1),[it,be]=H.useState(0),je=H.useRef(null),ot=H.useRef(!1),lt=H.useRef(null),ne=l&&a.includes(l.id),De=H.useMemo(()=>g?.()||[],[g,v,y,T,S,C]),Ne=H.useMemo(()=>l?De.findIndex(se=>se.id===l.id):-1,[l,De]),Ye=Ne>0,D=Ne<De.length-1&&Ne!==-1,B=H.useCallback(()=>{if(Ye){const se=De[Ne-1];n(se)}},[Ye,De,Ne,n]),X=H.useCallback(()=>{if(D){const se=De[Ne+1];n(se)}},[D,De,Ne,n]);H.useEffect(()=>{const se=gt=>{if(gt.origin==="https://www.youtube.com")try{const ut=typeof gt.data=="string"?JSON.parse(gt.data):gt.data;ut.event==="onError"&&(console.log("YouTube error detected via postMessage:",ut),Z(!1),Te(!0),l&&f?.(l.id)),ut.event==="onStateChange"&&(console.log("YouTube state change:",ut.info),ut.info!==-1&&(ot.current=!0,Z(!1),je.current&&clearTimeout(je.current))),ut.event==="onReady"&&(console.log("YouTube player ready"),ot.current=!0,Z(!1),je.current&&clearTimeout(je.current))}catch{}};return window.addEventListener("message",se),()=>window.removeEventListener("message",se)},[l,f]),H.useEffect(()=>(l&&ee&&!ye&&(ot.current=!1,je.current&&clearTimeout(je.current),je.current=setTimeout(()=>{!ot.current&&ee&&!ye&&(console.log("Video load timeout - no response from YouTube"),Z(!1),Te(!0),l&&f?.(l.id))},yC)),()=>{je.current&&clearTimeout(je.current)}),[l,ee,ye,f]),H.useEffect(()=>{l&&(Z(!0),Te(!1),be(0),ot.current=!1,o(l))},[l]);const ge=H.useCallback(()=>{document.fullscreenElement&&document.exitFullscreen().catch(()=>{});try{screen.orientation?.unlock?.()}catch{}je.current&&clearTimeout(je.current),n(null),U(!1),Z(!0),Te(!1),be(0),ot.current=!1},[n]),_e=H.useCallback(async()=>{if(R){try{document.fullscreenElement&&await document.exitFullscreen();try{screen.orientation?.unlock?.()}catch{}}catch{}U(!1)}else{try{const se=Le.current||document.documentElement;se.requestFullscreen?await se.requestFullscreen():se.webkitRequestFullscreen&&await se.webkitRequestFullscreen();try{await screen.orientation?.lock?.("landscape")}catch{}}catch(se){console.log("Fullscreen not supported:",se)}U(!0)}},[R]);H.useEffect(()=>{const se=()=>{if(!document.fullscreenElement){U(!1),q(!0);try{screen.orientation?.unlock?.()}catch{}}};return document.addEventListener("fullscreenchange",se),document.addEventListener("webkitfullscreenchange",se),()=>{document.removeEventListener("fullscreenchange",se),document.removeEventListener("webkitfullscreenchange",se)}},[]);const L=H.useCallback(()=>{q(!0),le.current&&clearTimeout(le.current),R&&(le.current=setTimeout(()=>{q(!1)},3e3))},[R]);H.useEffect(()=>(R?L():(q(!0),le.current&&clearTimeout(le.current)),()=>{le.current&&clearTimeout(le.current)}),[R,L]);const J=H.useCallback(()=>{R&&L()},[R,L]),P=H.useCallback(()=>{console.log("Iframe loaded for video:",l?.id),ot.current=!0,setTimeout(()=>{ye||Z(!1)},1e3),je.current&&clearTimeout(je.current)},[l,ye]),ae=H.useCallback(()=>{console.log("Iframe error for video:",l?.id),Z(!1),Te(!0),l&&f?.(l.id)},[l,f]),et=H.useCallback(()=>{l&&f?.(l.id);const se=g?.()||[],gt=se.findIndex(On=>On.id===l?.id),ut=se[gt+1]||se[0];ut&&ut.id!==l?.id?n(ut):ge()},[l,f,g,n,ge]);if(H.useCallback(()=>{be(se=>se+1),Te(!1),Z(!0),videoLoadedRef.current=!1},[]),!l)return null;const Ut=Ri(l.url),pe=Ut?`https://www.youtube.com/embed/${Ut}?autoplay=1&rel=0&modestbranding=1&controls=1&disablekb=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}`:l.url;return d.jsx($n,{children:d.jsx(ve.div,{className:`video-player-overlay ${R?"fullscreen":""} ${R&&!F?"controls-hidden":""}`,ref:Le,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onMouseMove:J,onTouchStart:J,onClick:J,children:d.jsxs(ve.div,{className:"video-player-container",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},children:[d.jsxs("div",{className:"video-player-header",children:[d.jsx("h2",{className:"video-title",children:l.title}),d.jsxs("div",{className:"video-controls",children:[d.jsx("button",{className:"control-btn favorite-btn",onClick:()=>c(l.id),title:ne?"B yu thch":"Thm yu thch",children:ne?"":""}),d.jsx("button",{className:"control-btn expand-btn",onClick:_e,title:R?"Thu nh":"Phng to (xoay ngang)",children:""}),d.jsx("button",{className:"control-btn close-btn",onClick:ge,title:"ng video",children:""})]})]}),d.jsxs("div",{className:"video-wrapper",children:[ee&&!ye&&d.jsxs("div",{className:"video-loading",children:[d.jsx("div",{className:"loading-icon",children:""}),d.jsxs("p",{className:"loading-text",children:["ang ti video",d.jsx("span",{className:"loading-dots"})]})]}),ye?d.jsxs("div",{className:"video-error",children:[d.jsx("div",{className:"error-icon",children:""}),d.jsx("h3",{children:"Video khng kh dng"}),d.jsx("p",{children:"Video ny  b xa hoc khng cho php nhng."}),d.jsx("p",{className:"error-suggestion",children:"Hy chn video khc  xem nh!"}),d.jsxs("div",{className:"error-actions",children:[d.jsx("button",{className:"skip-btn primary",onClick:et,children:" Xem video tip theo"}),d.jsx("button",{className:"close-error-btn",onClick:ge,children:" ng"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"youtube-block-overlay top-overlay"}),d.jsx("div",{className:"youtube-block-overlay bottom-right-overlay"}),d.jsx("div",{className:"youtube-block-overlay channel-overlay"}),d.jsx("div",{className:"youtube-block-overlay info-cards-overlay"}),d.jsx("iframe",{ref:lt,src:pe,title:l.title,width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-presentation",onLoad:P,onError:ae,style:{opacity:ee?0:1,transition:"opacity 0.3s ease"}},`${l.id}-${it}`)]})]}),d.jsxs("div",{className:"video-info",children:[d.jsxs("div",{className:"video-nav-controls",children:[d.jsxs("button",{className:`nav-btn prev-btn ${Ye?"":"disabled"}`,onClick:B,disabled:!Ye,title:"Video trc",children:[d.jsx(j0,{}),d.jsx("span",{className:"nav-text",children:"Trc"})]}),d.jsxs("span",{className:"video-position",children:[Ne+1," / ",De.length]}),d.jsxs("button",{className:`nav-btn next-btn ${D?"":"disabled"}`,onClick:X,disabled:!D,title:"Video sau",children:[d.jsx("span",{className:"nav-text",children:"Sau"}),d.jsx(D0,{})]})]}),d.jsxs("div",{className:"video-meta",children:[d.jsxs("span",{className:"channel-name",children:[" ",l.channel]}),d.jsx("span",{className:"age-badge",children:l.ageGroup==="all"?" Mi la tui":` ${l.ageGroup} tui`})]})]})]})})})}var Cs=Mv();const Nh=()=>{const l=["+","-",""],n=l[Math.floor(Math.random()*l.length)];let a,c,o;switch(n){case"+":a=Math.floor(Math.random()*20)+1,c=Math.floor(Math.random()*20)+1,o=a+c;break;case"-":a=Math.floor(Math.random()*20)+10,c=Math.floor(Math.random()*a),o=a-c;break;case"":a=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1,o=a*c;break;default:a=1,c=1,o=2}return{question:`${a} ${n} ${c} = ?`,answer:o.toString()}},jv=["","","","","","","","","","","","","","","","","","","","","","","",""],u_=async l=>{const n=Ri(l);if(!n)return{valid:!1,error:"URL khng hp l"};try{const a=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${n}&format=json`);if(a.ok){const c=await a.json();return{valid:!0,title:c.title,channel:c.author_name,thumbnail:`https://img.youtube.com/vi/${n}/mqdefault.jpg`}}else{if(a.status===404)return{valid:!1,error:"Video khng tn ti hoc  b xa"};if(a.status===401)return{valid:!1,error:"Video b hn ch, khng th nhng"}}return{valid:!1,error:"Khng th kim tra video"}}catch(a){return console.log("Validation failed:",a),{valid:!1,error:"Li kt ni, khng th kim tra video"}}},bC=async l=>{const n=await u_(l);return n.valid?{title:n.title,channel:n.channel,thumbnail:n.thumbnail}:null},Dv=async(l,n,a=null)=>{try{const c=`https://www.youtube.com/feeds/videos.xml?channel_id=${l}`,o=`https://api.allorigins.win/raw?url=${encodeURIComponent(c)}`,h=await fetch(o);if(!h.ok)throw new Error("Failed to fetch");const f=await h.text(),y=new DOMParser().parseFromString(f,"text/xml").querySelectorAll("entry"),T=[];return y.forEach((S,C)=>{if(C>=50)return;const R=S.querySelector("yt\\:videoId, videoId")?.textContent,U=S.querySelector("title")?.textContent,F=S.querySelector("published")?.textContent;R&&U&&T.push({id:R,videoId:R,title:U,thumbnail:`https://img.youtube.com/vi/${R}/mqdefault.jpg`,url:`https://www.youtube.com/watch?v=${R}`,channel:n,publishedAt:F})}),{videos:T,hasMore:!1}}catch(c){return console.error("Error fetching channel videos:",c),{videos:[],hasMore:!1}}},SC="/api/youtube-search",Ah=async(l,n="",a=1)=>{const c=n?`${l} ${n}`:l;try{console.log("Searching YouTube:",c);const o=await fetch(SC,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c}),signal:AbortSignal.timeout(15e3)});if(!o.ok)throw new Error(`API error: ${o.status}`);const h=await o.json();return h.videos&&h.videos.length>0?(console.log("Found:",h.videos.length,"videos"),{videos:h.videos,hasMore:h.videos.length>=5,totalResults:h.totalResults||h.videos.length}):(console.log("No videos found"),{videos:[],hasMore:!1})}catch(o){return console.error("YouTube search error:",o.message),{videos:[],hasMore:!1}}};function CC({inHeader:l=!1}){const{parentMode:n,toggleParentMode:a,videos:c,channels:o,users:h,addVideo:f,updateVideo:g,deleteVideo:v,addChannel:y,deleteChannel:T,addUser:S,updateUser:C,deleteUser:R,dailyLimit:U,setDailyLimit:F,resetToDefaults:q,initializeData:le}=ai(),[Le,ee]=H.useState(!1),[Z,ye]=H.useState(""),[Te,it]=H.useState(""),[be,je]=H.useState("videos"),[ot,lt]=H.useState(!1),[ne,De]=H.useState({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),[Ne,Ye]=H.useState({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),[D,B]=H.useState({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),[X,ge]=H.useState(!1),[_e,L]=H.useState(()=>Nh()),[J,P]=H.useState(null),[ae,et]=H.useState(null),[Ut,pe]=H.useState(""),[se,gt]=H.useState("all"),[ut,On]=H.useState("entertainment"),[si,Zs]=H.useState("all"),[Pt,_a]=H.useState("all"),[ci,Pr]=H.useState(""),[Yt,En]=H.useState("url"),[Lt,Vi]=H.useState(""),[en,Gi]=H.useState(""),[ke,wt]=H.useState([]),[jt,xn]=H.useState([]),[Dt,Tn]=H.useState(!1),[ba,Js]=H.useState(!1),[eo,tn]=H.useState(1),[Mt,bt]=H.useState(!1),[ht,Ws]=H.useState(!1),Sa=h.filter(_=>_.type==="child"),Ca=H.useMemo(()=>{let _=[...c];if(si!=="all"&&(_=_.filter(I=>I.category===si)),Pt!=="all"&&(_=_.filter(I=>I.ageGroup===Pt)),ci.trim()){const I=ci.toLowerCase();_=_.filter(G=>G.title?.toLowerCase().includes(I)||G.channel?.toLowerCase().includes(I))}return _},[c,si,Pt,ci]),qi=()=>{const _={videos:c,channels:o,users:h,settings:{dailyLimit:U},exportedAt:new Date().toISOString()},I=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),G=URL.createObjectURL(I),$=document.createElement("a");$.href=G,$.download=`kid_video_backup_${new Date().toISOString().split("T")[0]}.json`,$.click(),URL.revokeObjectURL(G),pe("  xut d liu thnh cng!"),setTimeout(()=>pe(""),3e3)},Yi=_=>{const I=_.target.files[0];if(!I)return;const G=new FileReader;G.onload=async $=>{try{const Qe=JSON.parse($.target.result);if(Qe.videos&&Array.isArray(Qe.videos))for(const nn of Qe.videos)c.find(Qt=>Qt.id===nn.id)||f(nn);if(Qe.channels&&Array.isArray(Qe.channels))for(const nn of Qe.channels)o.find(Qt=>Qt.id===nn.id)||y(nn);if(Qe.users&&Array.isArray(Qe.users))for(const nn of Qe.users)h.find(Qt=>Qt.id===nn.id)||S(nn);pe("  nhp d liu thnh cng!"),setTimeout(()=>pe(""),3e3)}catch{pe(" File khng hp l"),setTimeout(()=>pe(""),3e3)}},G.readAsText(I),_.target.value=""};H.useEffect(()=>{const I=setTimeout(async()=>{if(ne.url&&Ri(ne.url)){Js(!0);const G=await bC(ne.url);G&&De($=>({...$,title:$.title||G.title,channel:$.channel||G.channel})),Js(!1)}},500);return()=>clearTimeout(I)},[ne.url]),H.useEffect(()=>{(async()=>{if(Lt&&Yt==="search"){Tn(!0),wt([]),tn(1),bt(!1);const I=o.find(G=>G.id===Lt);if(I){const G=await Dv(I.channelId,I.name);wt(G.videos),bt(G.hasMore)}Tn(!1)}})()},[Lt,Yt,o]);const Rn=async()=>{if(Yt==="keyword"){if(!en.trim()){wt([]);return}Tn(!0),tn(1);const $=await Ah(en,"",1);wt($.videos),bt($.hasMore),Tn(!1);return}if(!en.trim()){if(Lt){Tn(!0),tn(1);const $=o.find(Qe=>Qe.id===Lt);if($){const Qe=await Dv($.channelId,$.name);wt(Qe.videos),bt(Qe.hasMore)}Tn(!1)}return}Tn(!0),tn(1);const I=o.find($=>$.id===Lt)?.name||"",G=await Ah(en,I,1);wt(G.videos),bt(G.hasMore),Tn(!1)},Nn=async()=>{if(ht||!Mt)return;Ws(!0);const _=eo+1,G=(Yt==="keyword"?null:o.find(Qe=>Qe.id===Lt))?.name||"",$=await Ah(en||"",G,_);if($.videos.length>0){const Qe=new Set(ke.map(Qt=>Qt.videoId)),nn=$.videos.filter(Qt=>!Qe.has(Qt.videoId));wt(Qt=>[...Qt,...nn]),tn(_),bt($.hasMore)}else bt(!1);Ws(!1)},Qi=_=>{xn(I=>I.find($=>$.videoId===_.videoId)?I.filter($=>$.videoId!==_.videoId):[...I,_])},ri=_=>jt.some(I=>I.videoId===_),$s=_=>c.some(I=>Ri(I.url)===_),Ea=async()=>{if(jt.length!==0)try{for(const _ of jt)await f({url:_.url,title:_.title,channel:_.channel||"YouTube",thumbnail:_.thumbnail,ageGroup:se,category:ut});pe(`  thm ${jt.length} video!`),setTimeout(()=>pe(""),2e3),xn([]),wt([]),Gi(""),lt(!1),En("url")}catch{pe(" Li khi lu!")}},yl=async(_,I)=>{const G=c.findIndex($=>$.id===_.id);if(I==="up"&&G>0){const $=c[G-1];await g(_.id,{sortOrder:$.sortOrder??G-1}),await g($.id,{sortOrder:_.sortOrder??G})}else if(I==="down"&&G<c.length-1){const $=c[G+1];await g(_.id,{sortOrder:$.sortOrder??G+1}),await g($.id,{sortOrder:_.sortOrder??G})}},Fi=()=>{if(n){a();return}L(Nh()),ee(!0),ye(""),it("")},Ps=()=>{Z===_e.answer?(a("bypass"),ee(!1),ye(""),it("")):(it("Sai ri! Th li nh "),L(Nh()),ye(""))},ec=async()=>{if(!ne.url||!ne.title)return;pe(" ang kim tra video...");const _=await u_(ne.url);if(!_.valid){pe(` ${_.error}`),setTimeout(()=>pe(""),3e3);return}const I=hC(ne.url);try{await f({...ne,thumbnail:I||"https://via.placeholder.com/320x180?text=Video"}),pe("  lu video!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}De({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),lt(!1),En("url"),wt([]),xn([])},tc=async()=>{if(!(!Ne.name||!Ne.channelId)){try{await y(Ne),pe("  lu knh!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}Ye({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),lt(!1)}},nc=async()=>{if(D.name){try{await S(D),pe("  thm b!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}B({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),lt(!1)}},xa=async()=>{if(J){try{await C(J.id,J),pe("  cp nht!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}P(null)}},Ta=async()=>{if(ae){try{await g(ae.id,{title:ae.title,channel:ae.channel,ageGroup:ae.ageGroup,category:ae.category}),pe("  cp nht video!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}et(null)}},Na=_=>{if(J){const I=J.allowedCategories||[],G=I.includes(_)?I.filter($=>$!==_):[...I,_];P({...J,allowedCategories:G})}else{const I=D.allowedCategories||[],G=I.includes(_)?I.filter($=>$!==_):[...I,_];B({...D,allowedCategories:G})}},Aa=()=>{lt(!1),En("url"),wt([]),xn([]),Gi(""),Vi(""),tn(1),bt(!1)};return d.jsxs(d.Fragment,{children:[d.jsxs(ve.button,{className:`parent-mode-btn ${l?"in-header":""}`,onClick:Fi,whileHover:{scale:1.05},whileTap:{scale:.95},title:n?"Thot ch  ph huynh":"Ch  ph huynh",children:[d.jsx(k0,{}),l&&d.jsx("span",{className:"btn-label",children:"Ph huynh"})]}),Cs.createPortal(d.jsx($n,{children:Le&&d.jsx(ve.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ee(!1),children:d.jsxs(ve.div,{className:"pin-modal math-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:_=>_.stopPropagation(),children:[d.jsx("h3",{children:" Gii bi ton  vo"}),d.jsx("p",{className:"pin-hint",children:"Ch ngi ln mi gii c nhanh!"}),d.jsx("div",{className:"math-question",children:_e.question}),d.jsx("input",{type:"number",value:Z,onChange:_=>ye(_.target.value),placeholder:"Nhp p n...",className:"pin-input math-input",onKeyDown:_=>_.key==="Enter"&&Ps(),autoFocus:!0}),Te&&d.jsx("p",{className:"pin-error",children:Te}),d.jsxs("div",{className:"pin-actions",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>ee(!1),children:"Hy"}),d.jsx("button",{className:"submit-btn",onClick:Ps,children:"Tr li"})]})]})})}),document.body),Cs.createPortal(d.jsx($n,{children:n&&d.jsxs(d.Fragment,{children:[d.jsx(ve.div,{className:"panel-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>a()}),d.jsxs(ve.div,{className:"parent-panel",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("h3",{children:" Ch  ph huynh"}),d.jsxs("div",{className:"panel-header-actions",children:[d.jsx("button",{className:"settings-btn",onClick:()=>ge(!X),title:"Ci t",children:""}),d.jsx("button",{className:"close-panel-btn",onClick:()=>a(),title:"ng",children:""})]})]}),X&&d.jsxs("div",{className:"settings-section",children:[d.jsx("h4",{children:" Ci t"}),d.jsxs("div",{className:"setting-group",children:[d.jsx("label",{children:" Sao lu d liu:"}),d.jsx("p",{className:"storage-note",style:{marginTop:0},children:"D liu lu trong trnh duyt. Dng Xut/Nhp  chia s gia cc thit b."}),d.jsxs("div",{className:"storage-actions",children:[d.jsxs("button",{className:"export-btn",onClick:qi,children:[d.jsx(Op,{})," Xut d liu"]}),d.jsxs("label",{className:"import-btn",children:[d.jsx(zp,{})," Nhp d liu",d.jsx("input",{type:"file",accept:".json",onChange:Yi,hidden:!0})]})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsx("label",{children:"Gii hn xem/ngy (pht):"}),d.jsx("input",{type:"number",value:U,onChange:_=>F(Number(_.target.value)),min:"10",max:"180"})]}),d.jsx("button",{className:"reset-btn",onClick:q,children:" Khi phc mc nh"})]}),d.jsxs("div",{className:"panel-tabs",children:[d.jsxs("button",{className:`tab-btn ${be==="videos"?"active":""}`,onClick:()=>je("videos"),children:[d.jsx(Ov,{})," ",d.jsx("span",{className:"tab-text",children:"Video"})," ",d.jsxs("span",{className:"tab-count",children:["(",c.length,")"]})]}),d.jsxs("button",{className:`tab-btn ${be==="channels"?"active":""}`,onClick:()=>je("channels"),children:[d.jsx(L0,{})," ",d.jsx("span",{className:"tab-text",children:"Knh"})," ",d.jsxs("span",{className:"tab-count",children:["(",o.length,")"]})]}),d.jsxs("button",{className:`tab-btn ${be==="users"?"active":""}`,onClick:()=>je("users"),children:[d.jsx(B0,{})," ",d.jsx("span",{className:"tab-text",children:"B"})," ",d.jsxs("span",{className:"tab-count",children:["(",Sa.length,")"]})]}),d.jsxs("button",{className:`tab-btn ${be==="backup"?"active":""}`,onClick:()=>je("backup"),children:[d.jsx(M0,{})," ",d.jsx("span",{className:"tab-text",children:"Sao lu"})]})]}),Ut&&d.jsx("div",{className:"save-message",children:Ut}),d.jsxs("div",{className:"panel-content",children:[be==="videos"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"add-btn",onClick:()=>lt(!0),children:[d.jsx(_n,{})," Thm video"]}),d.jsxs("div",{className:"video-filter-bar",children:[d.jsxs("div",{className:"filter-search",children:[d.jsx(yr,{className:"filter-search-icon"}),d.jsx("input",{type:"text",value:ci,onChange:_=>Pr(_.target.value),placeholder:"Tm video...",className:"filter-search-input"})]}),d.jsxs("select",{value:si,onChange:_=>Zs(_.target.value),className:"filter-select",children:[d.jsx("option",{value:"",children:"Tt c ch "}),At.map(_=>d.jsxs("option",{value:_.id,children:[_.icon," ",_.name]},_.id))]}),d.jsxs("select",{value:Pt,onChange:_=>_a(_.target.value),className:"filter-select",children:[d.jsx("option",{value:"",children:"Mi tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"}),d.jsx("option",{value:"all",children:"Chung"})]})]}),d.jsx("div",{className:"video-filter-info",children:d.jsxs("span",{children:["Hin th ",Ca.length,"/",c.length," video"]})}),d.jsx("div",{className:"video-table",children:Ca.map((_,I)=>d.jsxs("div",{className:"video-table-row",children:[d.jsxs("div",{className:"video-table-order",children:[d.jsx("button",{className:"move-btn",onClick:()=>yl(_,"up"),disabled:I===0,title:"Di chuyn ln",children:d.jsx(A0,{})}),d.jsx("button",{className:"move-btn",onClick:()=>yl(_,"down"),disabled:I===Ca.length-1,title:"Di chuyn xung",children:d.jsx(N0,{})})]}),d.jsx("img",{src:_.thumbnail,alt:_.title,className:"video-table-thumb"}),d.jsxs("div",{className:"video-table-info",children:[d.jsx("span",{className:"video-table-title",children:_.title}),d.jsxs("div",{className:"video-table-tags",children:[d.jsx("span",{className:"tag tag-channel",children:_.channel}),d.jsx("span",{className:"tag tag-age",children:_.ageGroup}),d.jsxs("span",{className:"tag tag-category",children:[At.find(G=>G.id===_.category)?.icon||""," ",At.find(G=>G.id===_.category)?.name||_.category]})]})]}),d.jsxs("div",{className:"video-table-actions",children:[d.jsx("button",{className:"edit-btn",onClick:()=>et(_),title:"Sa",children:""}),d.jsx("button",{className:"delete-btn",onClick:()=>v(_.id),title:"Xo",children:""})]})]},_.id))})]}),be==="channels"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"add-btn",onClick:()=>lt(!0),children:[d.jsx(_n,{})," Thm knh"]}),d.jsx("div",{className:"item-list",children:o.map(_=>d.jsxs("div",{className:"list-item",children:[d.jsx("div",{className:"channel-icon",children:""}),d.jsxs("div",{className:"item-info",children:[d.jsx("span",{className:"item-title",children:_.name}),d.jsxs("span",{className:"item-meta",children:[_.ageGroup," tui"]})]}),d.jsx("button",{className:"delete-btn",onClick:()=>T(_.id),children:""})]},_.id))})]}),be==="users"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"add-btn",onClick:()=>{P(null),lt(!0)},children:[d.jsx(_n,{})," Thm b"]}),d.jsx("div",{className:"item-list",children:Sa.map(_=>d.jsxs("div",{className:"list-item",children:[d.jsx("div",{className:"channel-icon",children:_.avatar}),d.jsxs("div",{className:"item-info",children:[d.jsx("span",{className:"item-title",children:_.name}),d.jsxs("span",{className:"item-meta",children:[_.ageGroup," tui  ",_.dailyLimit,"p/ngy"]})]}),d.jsx("button",{className:"edit-btn",onClick:()=>P(_),children:""}),d.jsx("button",{className:"delete-btn",onClick:()=>R(_.id),children:""})]},_.id))})]}),be==="backup"&&d.jsxs("div",{className:"backup-section",children:[d.jsxs("div",{className:"backup-card",children:[d.jsx("div",{className:"backup-card-icon",children:""}),d.jsx("h4",{children:"Xut d liu"}),d.jsx("p",{children:"Ti xung ton b d liu (video, knh, ngi dng, ci t) di dng file JSON."}),d.jsxs("button",{className:"export-btn backup-action-btn",onClick:qi,children:[d.jsx(Op,{})," Xut file JSON"]})]}),d.jsxs("div",{className:"backup-card",children:[d.jsx("div",{className:"backup-card-icon",children:""}),d.jsx("h4",{children:"Nhp d liu"}),d.jsx("p",{children:"Khi phc d liu t file JSON  xut trc . D liu hin ti s c gp thm."}),d.jsxs("label",{className:"import-btn backup-action-btn",children:[d.jsx(zp,{})," Chn file JSON",d.jsx("input",{type:"file",accept:".json",onChange:Yi,hidden:!0})]})]}),d.jsxs("div",{className:"backup-card backup-card-danger",children:[d.jsx("div",{className:"backup-card-icon",children:""}),d.jsx("h4",{children:"Khi phc mc nh"}),d.jsx("p",{children:"Xo ton b d liu tu chnh v khi phc v trng thi ban u."}),d.jsxs("button",{className:"reset-btn backup-action-btn",onClick:q,children:[d.jsx(z0,{})," Khi phc mc nh"]})]}),d.jsxs("div",{className:"backup-stats",children:[d.jsx("h4",{children:" Thng k d liu"}),d.jsxs("div",{className:"stats-grid",children:[d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-value",children:c.length}),d.jsx("span",{className:"stat-label",children:"Video"})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-value",children:o.length}),d.jsx("span",{className:"stat-label",children:"Knh"})]}),d.jsxs("div",{className:"stat-item",children:[d.jsx("span",{className:"stat-value",children:Sa.length}),d.jsx("span",{className:"stat-label",children:"Ngi dng"})]})]})]})]})]})]})]})}),document.body),Cs.createPortal(d.jsx($n,{children:J&&d.jsx(ve.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>P(null),children:d.jsxs(ve.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:_=>_.stopPropagation(),children:[d.jsx("button",{className:"close-modal",onClick:()=>P(null),children:""}),d.jsxs("div",{className:"modal-scroll-content",children:[d.jsxs("h3",{children:[" Chnh sa: ",J.name]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tn:"}),d.jsx("input",{type:"text",value:J.name,onChange:_=>P({...J,name:_.target.value})})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Avatar:"}),d.jsx("div",{className:"avatar-picker",children:jv.map(_=>d.jsx("button",{className:`avatar-btn ${J.avatar===_?"active":""}`,onClick:()=>P({...J,avatar:_}),children:_},_))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:J.ageGroup||"0-3",onChange:_=>P({...J,ageGroup:_.target.value}),children:[d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Gii hn xem/ngy (pht):"}),d.jsx("input",{type:"number",value:J.dailyLimit,onChange:_=>P({...J,dailyLimit:Number(_.target.value)}),min:"10",max:"180"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch  c php xem:"}),d.jsx("div",{className:"category-picker",children:At.map(_=>d.jsxs("button",{className:`category-chip ${(J.allowedCategories||[]).includes(_.id)?"active":""}`,style:{"--cat-color":_.color},onClick:()=>Na(_.id),children:[_.icon," ",_.name]},_.id))})]}),d.jsx("button",{className:"submit-btn save-btn",onClick:xa,children:" Lu thay i"})]})]})})}),document.body),Cs.createPortal(d.jsx($n,{children:ae&&d.jsx(ve.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>et(null),children:d.jsxs(ve.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:_=>_.stopPropagation(),children:[d.jsx("button",{className:"close-modal",onClick:()=>et(null),children:""}),d.jsxs("div",{className:"modal-scroll-content",children:[d.jsx("h3",{children:" Chnh sa video"}),d.jsx("div",{className:"video-preview",style:{marginBottom:"16px"},children:d.jsx("img",{src:ae.thumbnail,alt:ae.title,className:"preview-thumb",style:{width:"100%",borderRadius:"12px"}})}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tiu :"}),d.jsx("input",{type:"text",value:ae.title,onChange:_=>et({...ae,title:_.target.value})})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Knh:"}),d.jsx("input",{type:"text",value:ae.channel,onChange:_=>et({...ae,channel:_.target.value})})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:ae.ageGroup||"all",onChange:_=>et({...ae,ageGroup:_.target.value}),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:ae.category||"entertainment",onChange:_=>et({...ae,category:_.target.value}),children:At.map(_=>d.jsxs("option",{value:_.id,children:[_.icon," ",_.name]},_.id))})]}),d.jsx("button",{className:"submit-btn save-btn",onClick:Ta,children:" Lu thay i"})]})]})})}),document.body),Cs.createPortal(d.jsx($n,{children:ot&&d.jsx(ve.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:Aa,children:d.jsxs(ve.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:_=>_.stopPropagation(),children:[d.jsx("button",{className:"close-modal",onClick:Aa,children:""}),d.jsxs("div",{className:"modal-scroll-content",children:[be==="videos"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:" Thm video mi"}),d.jsxs("div",{className:"mode-toggle",children:[d.jsx("button",{className:`mode-btn ${Yt==="url"?"active":""}`,onClick:()=>{En("url"),wt([]),xn([])},children:" Nhp URL"}),d.jsx("button",{className:`mode-btn ${Yt==="keyword"?"active":""}`,onClick:()=>{En("keyword"),wt([]),xn([]),Vi("")},children:" Tm video"}),o.length>0&&d.jsx("button",{className:`mode-btn ${Yt==="search"?"active":""}`,onClick:()=>En("search"),children:" Tm t knh"})]}),Yt==="keyword"&&d.jsxs("div",{className:"keyword-search-section",children:[d.jsxs("div",{className:"search-box",children:[d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(yr,{className:"search-icon"}),d.jsx("input",{type:"text",value:en,onChange:_=>Gi(_.target.value),placeholder:"Nhp t kha tm kim...",onKeyDown:_=>_.key==="Enter"&&Rn(),autoFocus:!0})]}),d.jsx("button",{className:"search-btn",onClick:Rn,disabled:Dt||!en.trim(),children:Dt?"":""})]}),Dt&&d.jsxs("div",{className:"search-loading",children:[d.jsx("span",{className:"loading-spinner-small",children:""}),d.jsx("span",{children:"ang tm kim video..."})]}),!Dt&&ke.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"search-results-header",children:[d.jsxs("span",{children:[" ",ke.length," video"]}),jt.length>0&&d.jsxs("span",{className:"selected-count",children:["  chn: ",jt.length]})]}),d.jsx("div",{className:"search-results",children:ke.map(_=>{const I=$s(_.videoId),G=ri(_.videoId);return d.jsxs("div",{className:`search-result-item ${G?"selected":""} ${I?"in-library":""}`,onClick:()=>!I&&Qi(_),children:[d.jsxs("div",{className:"result-thumb-wrapper",children:[d.jsx("img",{src:_.thumbnail,alt:_.title,className:"result-thumb"}),G&&d.jsx("div",{className:"check-overlay",children:d.jsx(wh,{})}),I&&d.jsx("div",{className:"in-library-badge",children:"  c"})]}),d.jsxs("div",{className:"result-info",children:[d.jsx("span",{className:"result-title",children:_.title}),d.jsx("span",{className:"result-channel",children:_.channel})]})]},_.videoId)})}),ke.length>=5&&d.jsx("button",{className:"load-more-btn",onClick:Nn,disabled:ht,children:ht?" ang ti...":" Tm thm video"}),jt.length>0&&d.jsxs("div",{className:"bulk-classify-section",children:[d.jsxs("h4",{children:[d.jsx(Rp,{})," Phn loi trc khi thm:"]}),d.jsxs("div",{className:"bulk-classify-options",children:[d.jsxs("div",{className:"bulk-option",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:se,onChange:_=>gt(_.target.value),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"bulk-option",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:ut,onChange:_=>On(_.target.value),children:At.map(_=>d.jsxs("option",{value:_.id,children:[_.icon," ",_.name]},_.id))})]})]}),d.jsxs("button",{className:"submit-btn add-selected-btn",onClick:Ea,children:[d.jsx(_n,{})," Thm ",jt.length," video  chn"]})]})]}),!Dt&&ke.length===0&&en.trim()&&d.jsxs("div",{className:"no-results",children:[d.jsx("p",{children:" Khng tm thy video"}),d.jsx("small",{children:"Th tm kim vi t kha khc"})]}),!en.trim()&&ke.length===0&&d.jsx("div",{className:"search-hint-box",children:d.jsx("p",{children:" Nhp t kha v nhn Enter hoc nt   tm video"})})]}),Yt==="search"&&o.length>0&&d.jsxs("div",{className:"channel-search-section",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Chn knh:"}),d.jsxs("select",{value:Lt,onChange:_=>{Vi(_.target.value),wt([]),xn([]),Gi("")},children:[d.jsx("option",{value:"",children:"-- Chn knh --"}),o.map(_=>d.jsx("option",{value:_.id,children:_.name},_.id))]})]}),Lt&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"search-box",children:[d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(yr,{className:"search-icon"}),d.jsx("input",{type:"text",value:en,onChange:_=>Gi(_.target.value),placeholder:"Tm video trong knh...",onKeyDown:_=>_.key==="Enter"&&Rn()})]}),d.jsx("button",{className:"search-btn",onClick:Rn,disabled:Dt,children:Dt?"":""})]}),Dt&&d.jsxs("div",{className:"search-loading",children:[d.jsx("span",{className:"loading-spinner-small",children:""}),d.jsx("span",{children:"ang ti video t knh..."})]}),!Dt&&ke.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"search-results-header",children:[d.jsxs("span",{children:[" ",ke.length," video"]}),jt.length>0&&d.jsxs("span",{className:"selected-count",children:["  chn: ",jt.length]})]}),d.jsx("div",{className:"search-results",children:ke.map(_=>{const I=$s(_.videoId),G=ri(_.videoId);return d.jsxs("div",{className:`search-result-item ${G?"selected":""} ${I?"in-library":""}`,onClick:()=>!I&&Qi(_),children:[d.jsxs("div",{className:"result-thumb-wrapper",children:[d.jsx("img",{src:_.thumbnail,alt:_.title,className:"result-thumb"}),G&&d.jsx("div",{className:"check-overlay",children:d.jsx(wh,{})}),I&&d.jsx("div",{className:"in-library-badge",children:"  c"})]}),d.jsxs("div",{className:"result-info",children:[d.jsx("span",{className:"result-title",children:_.title}),d.jsx("span",{className:"result-channel",children:_.channel})]})]},_.videoId)})}),ke.length>=5&&d.jsx("button",{className:"load-more-btn",onClick:Nn,disabled:ht,children:ht?" ang ti...":" Tm thm video"}),jt.length>0&&d.jsxs("div",{className:"bulk-classify-section",children:[d.jsxs("h4",{children:[d.jsx(Rp,{})," Phn loi trc khi thm:"]}),d.jsxs("div",{className:"bulk-classify-options",children:[d.jsxs("div",{className:"bulk-option",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:se,onChange:_=>gt(_.target.value),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"bulk-option",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:ut,onChange:_=>On(_.target.value),children:At.map(_=>d.jsxs("option",{value:_.id,children:[_.icon," ",_.name]},_.id))})]})]}),d.jsxs("button",{className:"submit-btn add-selected-btn",onClick:Ea,children:[d.jsx(_n,{})," Thm ",jt.length," video  chn"]})]})]}),!Dt&&ke.length===0&&Lt&&d.jsxs("div",{className:"no-results",children:[d.jsx("p",{children:" Khng tm thy video"}),d.jsx("small",{children:"Th tm kim vi t kha khc hoc kim tra Channel ID"})]})]})]}),Yt==="url"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"URL YouTube:"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"url",value:ne.url,onChange:_=>De({...ne,url:_.target.value}),placeholder:"https://www.youtube.com/watch?v=..."}),ba&&d.jsx("span",{className:"loading-spinner",children:""})]})]}),ne.url&&Ri(ne.url)&&d.jsx("div",{className:"video-preview",children:d.jsx("img",{src:`https://img.youtube.com/vi/${Ri(ne.url)}/mqdefault.jpg`,alt:"Preview",className:"preview-thumb"})}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:["Tiu : ",ba&&d.jsx("span",{className:"auto-fill-hint",children:"(ang ti...)"})]}),d.jsx("input",{type:"text",value:ne.title,onChange:_=>De({...ne,title:_.target.value}),placeholder:"Tn video..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Knh:"}),d.jsx("input",{type:"text",value:ne.channel,onChange:_=>De({...ne,channel:_.target.value}),placeholder:"Tn knh..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:ne.ageGroup,onChange:_=>De({...ne,ageGroup:_.target.value}),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:ne.category||"entertainment",onChange:_=>De({...ne,category:_.target.value}),children:At.map(_=>d.jsxs("option",{value:_.id,children:[_.icon," ",_.name]},_.id))})]}),d.jsxs("button",{className:"submit-btn",onClick:ec,children:[d.jsx(_n,{})," Thm video"]})]})]}),be==="channels"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:" Thm knh mi"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tn knh:"}),d.jsx("input",{type:"text",value:Ne.name,onChange:_=>Ye({...Ne,name:_.target.value}),placeholder:"Tn knh..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Channel ID:"}),d.jsx("input",{type:"text",value:Ne.channelId,onChange:_=>Ye({...Ne,channelId:_.target.value}),placeholder:"UCxxxxxx..."}),d.jsx("small",{className:"form-hint",children:"Ly t URL knh YouTube: youtube.com/channel/[Channel ID]"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:Ne.ageGroup,onChange:_=>Ye({...Ne,ageGroup:_.target.value}),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:Ne.category||"entertainment",onChange:_=>Ye({...Ne,category:_.target.value}),children:At.map(_=>d.jsxs("option",{value:_.id,children:[_.icon," ",_.name]},_.id))})]}),d.jsxs("button",{className:"submit-btn",onClick:tc,children:[d.jsx(_n,{})," Thm knh"]})]}),be==="users"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:" Thm b mi"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tn:"}),d.jsx("input",{type:"text",value:D.name,onChange:_=>B({...D,name:_.target.value}),placeholder:"Tn b..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Avatar:"}),d.jsx("div",{className:"avatar-picker",children:jv.map(_=>d.jsx("button",{className:`avatar-btn ${D.avatar===_?"active":""}`,onClick:()=>B({...D,avatar:_}),children:_},_))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:D.ageGroup,onChange:_=>B({...D,ageGroup:_.target.value}),children:[d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Gii hn xem/ngy (pht):"}),d.jsx("input",{type:"number",value:D.dailyLimit,onChange:_=>B({...D,dailyLimit:Number(_.target.value)}),min:"10",max:"180"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch  c php xem:"}),d.jsx("div",{className:"category-picker",children:At.map(_=>d.jsxs("button",{className:`category-chip ${(D.allowedCategories||[]).includes(_.id)?"active":""}`,style:{"--cat-color":_.color},onClick:()=>Na(_.id),children:[_.icon," ",_.name]},_.id))})]}),d.jsxs("button",{className:"submit-btn",onClick:nc,children:[d.jsx(_n,{})," Thm b"]})]})]})]})})}),document.body)]})}function EC(){const{users:l,login:n,initializeData:a,isLoading:c}=ai();H.useEffect(()=>{a()},[]);const o=l.filter(h=>h.type==="child");return c?d.jsx("div",{className:"login-screen",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner large"}),d.jsx("p",{children:"ang ti..."})]})}):d.jsx("div",{className:"login-screen",children:d.jsxs(ve.div,{className:"login-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"login-header",children:[d.jsx("h1",{children:" Kid Video"}),d.jsx("p",{children:"Chn ti khon ca b"})]}),d.jsx("div",{className:"user-grid",children:o.map((h,f)=>d.jsxs(ve.button,{className:"user-card",onClick:()=>n(h.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:f*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:[d.jsx("div",{className:"user-avatar",children:h.avatar}),d.jsx("span",{className:"user-name",children:h.name}),d.jsxs("span",{className:"user-age",children:[h.ageGroup," tui"]})]},h.id))}),d.jsx("div",{className:"login-footer",children:d.jsx("p",{children:" Video an ton cho b yu"})})]})})}function xC(){const{currentUser:l,todayWatchTime:n,dailyLimit:a,logout:c,initializeData:o,setVideos:h,setUsers:f,setChannels:g}=ai(),v=Math.min(n/a*100,100);return H.useEffect(()=>{o();const y=aC(C=>{console.log("Videos synced:",C.length),h(C)}),T=sC(C=>{console.log("Users synced:",C.length),f(C)}),S=cC(C=>{console.log("Channels synced:",C.length),g(C)});return()=>{y(),T(),S()}},[]),l?d.jsxs("div",{className:"app",children:[d.jsxs(ve.header,{className:"header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[d.jsxs("div",{className:"header-content",children:[d.jsx(ve.h1,{className:"app-title",whileHover:{scale:1.05},children:" Kid Video"}),d.jsx("p",{className:"app-subtitle",children:"Video an ton cho b yu"})]}),d.jsxs("div",{className:"user-info",children:[d.jsxs("span",{className:"current-user",children:[d.jsx("span",{className:"user-avatar-small",children:l.avatar}),d.jsx("span",{className:"user-name-small",children:l.name})]}),d.jsxs("button",{className:"logout-btn",onClick:c,children:[d.jsx(U0,{})," i b"]}),d.jsx(CC,{inHeader:!0})]}),d.jsxs("div",{className:"watch-time-indicator",children:[d.jsx("span",{className:"watch-time-label",children:" Thi gian xem hm nay"}),d.jsx("div",{className:"watch-time-bar",children:d.jsx(ve.div,{className:"watch-time-progress",initial:{width:0},animate:{width:`${v}%`},style:{background:v>80?"#ff6b6b":v>50?"#ffa502":"#84fab0"}})}),d.jsxs("span",{className:"watch-time-text",children:[n,"/",a," pht"]})]})]}),d.jsxs("main",{className:"main-content",children:[d.jsxs(ve.div,{className:"controls",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx(fC,{}),d.jsx(gC,{})]}),d.jsx(mC,{}),d.jsx(vC,{})]}),d.jsx(_C,{}),d.jsx("footer",{className:"footer",children:d.jsx("p",{children:" An ton & Thn thin vi tr em"})})]}):d.jsx(EC,{})}T0.createRoot(document.getElementById("root")).render(d.jsx(H.StrictMode,{children:d.jsx(xC,{})}));
