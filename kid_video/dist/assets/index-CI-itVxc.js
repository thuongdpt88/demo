import{r as g1,R as Jc,a as q,j as m,m as de,A as bi}from"./motion-DRm28CPu.js";import{r as S_}from"./vendor-DX_WDAl5.js";import{G as yt}from"./icons-k-IPNWRF.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function l(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=l(o);fetch(o.href,h)}})();var Pu={exports:{}},es={},eh={exports:{}},th={};var Sp;function p1(){return Sp||(Sp=1,(function(a){function n(O,H){var F=O.length;O.push(H);e:for(;0<F;){var ve=F-1>>>1,_e=O[ve];if(0<o(_e,H))O[ve]=H,O[F]=_e,F=ve;else break e}}function l(O){return O.length===0?null:O[0]}function c(O){if(O.length===0)return null;var H=O[0],F=O.pop();if(F!==H){O[0]=F;e:for(var ve=0,_e=O.length,U=_e>>>1;ve<U;){var te=2*(ve+1)-1,fe=O[te],J=te+1,rt=O[J];if(0>o(fe,F))J<_e&&0>o(rt,fe)?(O[ve]=rt,O[J]=F,ve=J):(O[ve]=fe,O[te]=F,ve=te);else if(J<_e&&0>o(rt,F))O[ve]=rt,O[J]=F,ve=J;else break e}}return H}function o(O,H){var F=O.sortIndex-H.sortIndex;return F!==0?F:O.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var _=[],y=[],E=1,v=null,S=3,z=!1,L=!1,Q=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,Ce=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function Z(O){for(var H=l(y);H!==null;){if(H.callback===null)c(y);else if(H.startTime<=O)c(y),H.sortIndex=H.expirationTime,n(_,H);else break;H=l(y)}}function Ue(O){if(Q=!1,Z(O),!L)if(l(_)!==null)L=!0,Le||(Le=!0,ue());else{var H=l(y);H!==null&&Me(Ue,H.startTime-O)}}var Le=!1,De=-1,Ge=5,Ut=-1;function Ae(){return I?!0:!(a.unstable_now()-Ut<Ge)}function ee(){if(I=!1,Le){var O=a.unstable_now();Ut=O;var H=!0;try{e:{L=!1,Q&&(Q=!1,Ce(De),De=-1),z=!0;var F=S;try{t:{for(Z(O),v=l(_);v!==null&&!(v.expirationTime>O&&Ae());){var ve=v.callback;if(typeof ve=="function"){v.callback=null,S=v.priorityLevel;var _e=ve(v.expirationTime<=O);if(O=a.unstable_now(),typeof _e=="function"){v.callback=_e,Z(O),H=!0;break t}v===l(_)&&c(_),Z(O)}else c(_);v=l(_)}if(v!==null)H=!0;else{var U=l(y);U!==null&&Me(Ue,U.startTime-O),H=!1}}break e}finally{v=null,S=F,z=!1}H=void 0}}finally{H?ue():Le=!1}}}var ue;if(typeof le=="function")ue=function(){le(ee)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,Tt=Be.port2;Be.port1.onmessage=ee,ue=function(){Tt.postMessage(null)}}else ue=function(){P(ee,0)};function Me(O,H){De=P(function(){O(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(O){O.callback=null},a.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<O?Math.floor(1e3/O):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(O){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var F=S;S=H;try{return O()}finally{S=F}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var F=S;S=O;try{return H()}finally{S=F}},a.unstable_scheduleCallback=function(O,H,F){var ve=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ve+F:ve):F=ve,O){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=F+_e,O={id:E++,callback:H,priorityLevel:O,startTime:F,expirationTime:_e,sortIndex:-1},F>ve?(O.sortIndex=F,n(y,O),l(_)===null&&O===l(y)&&(Q?(Ce(De),De=-1):Q=!0,Me(Ue,F-ve))):(O.sortIndex=_e,n(_,O),L||z||(L=!0,Le||(Le=!0,ue()))),O},a.unstable_shouldYield=Ae,a.unstable_wrapCallback=function(O){var H=S;return function(){var F=S;S=H;try{return O.apply(this,arguments)}finally{S=F}}}})(th)),th}var Cp;function _1(){return Cp||(Cp=1,eh.exports=p1()),eh.exports}var Ep;function y1(){if(Ep)return es;Ep=1;var a=_1(),n=g1(),l=S_();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _(e){if(h(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===i)return _(r),e;if(u===s)return _(r),t;u=u.sibling}throw Error(c(188))}if(i.return!==s.return)i=r,s=u;else{for(var d=!1,p=r.child;p;){if(p===i){d=!0,i=r,s=u;break}if(p===s){d=!0,s=r,i=u;break}p=p.sibling}if(!d){for(p=u.child;p;){if(p===i){d=!0,i=u,s=r;break}if(p===s){d=!0,s=u,i=r;break}p=p.sibling}if(!d)throw Error(c(189))}}if(i.alternate!==s)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,S=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Ce=Symbol.for("react.consumer"),le=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),Ue=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),De=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Ut=Symbol.for("react.activity"),Ae=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=ee&&e[ee]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function Tt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case Ue:return"Suspense";case Le:return"SuspenseList";case Ut:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case le:return e.displayName||"Context";case Ce:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case De:return t=e.displayName||null,t!==null?t:Tt(e.type)||"Memo";case Ge:t=e._payload,e=e._init;try{return Tt(e(t))}catch{}}return null}var Me=Array.isArray,O=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ve=[],_e=-1;function U(e){return{current:e}}function te(e){0>_e||(e.current=ve[_e],ve[_e]=null,_e--)}function fe(e,t){_e++,ve[_e]=e.current,e.current=t}var J=U(null),rt=U(null),Nt=U(null),vt=U(null);function Mi(e,t){switch(fe(Nt,t),fe(rt,e),fe(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Yg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Yg(t),e=Qg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}te(J),fe(J,e)}function hn(){te(J),te(rt),te(Nt)}function Kn(e){e.memoizedState!==null&&fe(vt,e);var t=J.current,i=Qg(t,e.type);t!==i&&(fe(rt,e),fe(J,i))}function Cn(e){rt.current===e&&(te(J),te(rt)),vt.current===e&&(te(vt),Ja._currentValue=F)}var Lt,ln;function xt(e){if(Lt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Lt=t&&t[1]||"",ln=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Lt+e+ln}var En=!1;function fn(e,t){if(!e||En)return"";En=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(D){var w=D}Reflect.construct(e,[],j)}else{try{j.call()}catch(D){w=D}e.call(j.prototype)}}else{try{throw Error()}catch(D){w=D}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(D){if(D&&w&&typeof D.stack=="string")return[D.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),d=u[0],p=u[1];if(d&&p){var b=d.split(`
`),A=p.split(`
`);for(r=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;if(s===b.length||r===A.length)for(s=b.length-1,r=A.length-1;1<=s&&0<=r&&b[s]!==A[r];)r--;for(;1<=s&&0<=r;s--,r--)if(b[s]!==A[r]){if(s!==1||r!==1)do if(s--,r--,0>r||b[s]!==A[r]){var M=`
`+b[s].replace(" at new "," at ");return e.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",e.displayName)),M}while(1<=s&&0<=r);break}}}finally{En=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?xt(i):""}function Os(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return fn(e.type,!1);case 11:return fn(e.type.render,!1);case 1:return fn(e.type,!0);case 31:return xt("Activity");default:return""}}function sa(e){try{var t="",i=null;do t+=Os(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var ll=Object.prototype.hasOwnProperty,ca=a.unstable_scheduleCallback,ra=a.unstable_cancelCallback,Rs=a.unstable_shouldYield,Ur=a.unstable_requestPaint,bt=a.unstable_now,Lr=a.unstable_getCurrentPriorityLevel,js=a.unstable_ImmediatePriority,zs=a.unstable_UserBlockingPriority,Oi=a.unstable_NormalPriority,Br=a.unstable_LowPriority,Us=a.unstable_IdlePriority,Hr=a.log,Ir=a.unstable_setDisableYieldValue,Zn=null,pt=null;function N(e){if(typeof Hr=="function"&&Ir(e),pt&&typeof pt.setStrictMode=="function")try{pt.setStrictMode(Zn,e)}catch{}}var G=Math.clz32?Math.clz32:_t,Oe=Math.log,He=Math.LN2;function _t(e){return e>>>=0,e===0?32:31-(Oe(e)/He|0)|0}var Bt=256,dn=262144,Ls=4194304;function Ri(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Bs(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~u,s!==0?r=Ri(s):(d&=p,d!==0?r=Ri(d):i||(i=p&~e,i!==0&&(r=Ri(i))))):(p=s&~u,p!==0?r=Ri(p):d!==0?r=Ri(d):i||(i=s&~e,i!==0&&(r=Ri(i)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:r}function oa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function nv(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nf(){var e=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),e}function kr(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ua(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function iv(e,t,i,s,r,u){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(i=d&~i;0<i;){var M=31-G(i),j=1<<M;p[M]=0,b[M]=-1;var w=A[M];if(w!==null)for(A[M]=null,M=0;M<w.length;M++){var D=w[M];D!==null&&(D.lane&=-536870913)}i&=~j}s!==0&&xf(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~t))}function xf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-G(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Af(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-G(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function wf(e,t){var i=t&-t;return i=(i&42)!==0?1:Vr(i),(i&(e.suspendedLanes|t))!==0?0:i}function Vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Df(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:mp(e.type))}function Mf(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var Jn=Math.random().toString(36).slice(2),ot="__reactFiber$"+Jn,At="__reactProps$"+Jn,al="__reactContainer$"+Jn,qr="__reactEvents$"+Jn,lv="__reactListeners$"+Jn,av="__reactHandles$"+Jn,Of="__reactResources$"+Jn,ha="__reactMarker$"+Jn;function Yr(e){delete e[ot],delete e[At],delete e[qr],delete e[lv],delete e[av]}function sl(e){var t=e[ot];if(t)return t;for(var i=e.parentNode;i;){if(t=i[al]||i[ot]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=$g(e);e!==null;){if(i=e[ot])return i;e=$g(e)}return t}e=i,i=e.parentNode}return null}function cl(e){if(e=e[ot]||e[al]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function fa(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function rl(e){var t=e[Of];return t||(t=e[Of]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[ha]=!0}var Rf=new Set,jf={};function ji(e,t){ol(e,t),ol(e+"Capture",t)}function ol(e,t){for(jf[e]=t,e=0;e<t.length;e++)Rf.add(t[e])}var sv=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zf={},Uf={};function cv(e){return ll.call(Uf,e)?!0:ll.call(zf,e)?!1:sv.test(e)?Uf[e]=!0:(zf[e]=!0,!1)}function Hs(e,t,i){if(cv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Is(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Tn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Qt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rv(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(d){i=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Qr(e){if(!e._valueTracker){var t=Lf(e)?"checked":"value";e._valueTracker=rv(e,t,""+e[t])}}function Bf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Lf(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ov=/[\n"\\]/g;function Xt(e){return e.replace(ov,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Xr(e,t,i,s,r,u,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Qt(t)):e.value!==""+Qt(t)&&(e.value=""+Qt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Fr(e,d,Qt(t)):i!=null?Fr(e,d,Qt(i)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Qt(p):e.removeAttribute("name")}function Hf(e,t,i,s,r,u,d,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Qr(e);return}i=i!=null?""+Qt(i):"",t=t!=null?""+Qt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Qr(e)}function Fr(e,t,i){t==="number"&&ks(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function ul(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Qt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function If(e,t,i){if(t!=null&&(t=""+Qt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Qt(i):""}function kf(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(c(92));if(Me(s)){if(1<s.length)throw Error(c(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Qt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Qr(e)}function hl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var uv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vf(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||uv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Gf(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Vf(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Vf(e,u,t[u])}function Kr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vs(e){return fv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Nn(){}var Zr=null;function Jr(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,dl=null;function qf(e){var t=cl(e);if(t&&(e=t.stateNode)){var i=e[At]||null;e:switch(e=t.stateNode,t.type){case"input":if(Xr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Xt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[At]||null;if(!r)throw Error(c(90));Xr(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Bf(s)}break e;case"textarea":If(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&ul(e,!!i.multiple,t,!1)}}}var Wr=!1;function Yf(e,t,i){if(Wr)return e(t,i);Wr=!0;try{var s=e(t);return s}finally{if(Wr=!1,(fl!==null||dl!==null)&&(wc(),fl&&(t=fl,e=dl,dl=fl=null,qf(t),e)))for(t=0;t<e.length;t++)qf(e[t])}}function da(e,t){var i=e.stateNode;if(i===null)return null;var s=i[At]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$r=!1;if(xn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){$r=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{$r=!1}var Wn=null,Pr=null,Gs=null;function Qf(){if(Gs)return Gs;var e,t=Pr,i=t.length,s,r="value"in Wn?Wn.value:Wn.textContent,u=r.length;for(e=0;e<i&&t[e]===r[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===r[u-s];s++);return Gs=r.slice(e,1<s?1-s:void 0)}function qs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ys(){return!0}function Xf(){return!1}function wt(e){function t(i,s,r,u,d){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ys:Xf,this.isPropagationStopped=Xf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ys)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ys)},persist:function(){},isPersistent:Ys}),t}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=wt(zi),ga=v({},zi,{view:0,detail:0}),dv=wt(ga),eo,to,pa,Xs=v({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:io,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pa&&(pa&&e.type==="mousemove"?(eo=e.screenX-pa.screenX,to=e.screenY-pa.screenY):to=eo=0,pa=e),eo)},movementY:function(e){return"movementY"in e?e.movementY:to}}),Ff=wt(Xs),mv=v({},Xs,{dataTransfer:0}),gv=wt(mv),pv=v({},ga,{relatedTarget:0}),no=wt(pv),_v=v({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),yv=wt(_v),vv=v({},zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bv=wt(vv),Sv=v({},zi,{data:0}),Kf=wt(Sv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ev={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tv[e])?!!t[e]:!1}function io(){return Nv}var xv=v({},ga,{key:function(e){if(e.key){var t=Cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=qs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ev[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:io,charCode:function(e){return e.type==="keypress"?qs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?qs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Av=wt(xv),wv=v({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zf=wt(wv),Dv=v({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:io}),Mv=wt(Dv),Ov=v({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rv=wt(Ov),jv=v({},Xs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),zv=wt(jv),Uv=v({},zi,{newState:0,oldState:0}),Lv=wt(Uv),Bv=[9,13,27,32],lo=xn&&"CompositionEvent"in window,_a=null;xn&&"documentMode"in document&&(_a=document.documentMode);var Hv=xn&&"TextEvent"in window&&!_a,Jf=xn&&(!lo||_a&&8<_a&&11>=_a),Wf=" ",$f=!1;function Pf(e,t){switch(e){case"keyup":return Bv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ml=!1;function Iv(e,t){switch(e){case"compositionend":return ed(t);case"keypress":return t.which!==32?null:($f=!0,Wf);case"textInput":return e=t.data,e===Wf&&$f?null:e;default:return null}}function kv(e,t){if(ml)return e==="compositionend"||!lo&&Pf(e,t)?(e=Qf(),Gs=Pr=Wn=null,ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jf&&t.locale!=="ko"?null:t.data;default:return null}}var Vv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function td(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vv[e.type]:t==="textarea"}function nd(e,t,i,s){fl?dl?dl.push(s):dl=[s]:fl=s,t=Uc(t,"onChange"),0<t.length&&(i=new Qs("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var ya=null,va=null;function Gv(e){Hg(e,0)}function Fs(e){var t=fa(e);if(Bf(t))return e}function id(e,t){if(e==="change")return t}var ld=!1;if(xn){var ao;if(xn){var so="oninput"in document;if(!so){var ad=document.createElement("div");ad.setAttribute("oninput","return;"),so=typeof ad.oninput=="function"}ao=so}else ao=!1;ld=ao&&(!document.documentMode||9<document.documentMode)}function sd(){ya&&(ya.detachEvent("onpropertychange",cd),va=ya=null)}function cd(e){if(e.propertyName==="value"&&Fs(va)){var t=[];nd(t,va,e,Jr(e)),Yf(Gv,t)}}function qv(e,t,i){e==="focusin"?(sd(),ya=t,va=i,ya.attachEvent("onpropertychange",cd)):e==="focusout"&&sd()}function Yv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fs(va)}function Qv(e,t){if(e==="click")return Fs(t)}function Xv(e,t){if(e==="input"||e==="change")return Fs(t)}function Fv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Fv;function ba(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!ll.call(t,r)||!Ht(e[r],t[r]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,t){var i=rd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=rd(i)}}function ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ks(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ks(e.document)}return t}function co(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Kv=xn&&"documentMode"in document&&11>=document.documentMode,gl=null,ro=null,Sa=null,oo=!1;function fd(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;oo||gl==null||gl!==ks(s)||(s=gl,"selectionStart"in s&&co(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Sa&&ba(Sa,s)||(Sa=s,s=Uc(ro,"onSelect"),0<s.length&&(t=new Qs("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=gl)))}function Ui(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var pl={animationend:Ui("Animation","AnimationEnd"),animationiteration:Ui("Animation","AnimationIteration"),animationstart:Ui("Animation","AnimationStart"),transitionrun:Ui("Transition","TransitionRun"),transitionstart:Ui("Transition","TransitionStart"),transitioncancel:Ui("Transition","TransitionCancel"),transitionend:Ui("Transition","TransitionEnd")},uo={},dd={};xn&&(dd=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Li(e){if(uo[e])return uo[e];if(!pl[e])return e;var t=pl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in dd)return uo[e]=t[i];return e}var md=Li("animationend"),gd=Li("animationiteration"),pd=Li("animationstart"),Zv=Li("transitionrun"),Jv=Li("transitionstart"),Wv=Li("transitioncancel"),_d=Li("transitionend"),yd=new Map,ho="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ho.push("scrollEnd");function an(e,t){yd.set(e,t),ji(t,[e])}var Ks=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ft=[],_l=0,fo=0;function Zs(){for(var e=_l,t=fo=_l=0;t<e;){var i=Ft[t];Ft[t++]=null;var s=Ft[t];Ft[t++]=null;var r=Ft[t];Ft[t++]=null;var u=Ft[t];if(Ft[t++]=null,s!==null&&r!==null){var d=s.pending;d===null?r.next=r:(r.next=d.next,d.next=r),s.pending=r}u!==0&&vd(i,r,u)}}function Js(e,t,i,s){Ft[_l++]=e,Ft[_l++]=t,Ft[_l++]=i,Ft[_l++]=s,fo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function mo(e,t,i,s){return Js(e,t,i,s),Ws(e)}function Bi(e,t){return Js(e,null,null,t),Ws(e)}function vd(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-G(i),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),u):null}function Ws(e){if(50<qa)throw qa=0,Eu=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var yl={};function $v(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,i,s){return new $v(e,t,i,s)}function go(e){return e=e.prototype,!(!e||!e.isReactComponent)}function An(e,t){var i=e.alternate;return i===null?(i=It(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function bd(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $s(e,t,i,s,r,u){var d=0;if(s=e,typeof e=="function")go(e)&&(d=1);else if(typeof e=="string")d=i1(e,i,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ut:return e=It(31,i,t,r),e.elementType=Ut,e.lanes=u,e;case Q:return Hi(i.children,r,u,t);case I:d=8,r|=24;break;case P:return e=It(12,i,t,r|2),e.elementType=P,e.lanes=u,e;case Ue:return e=It(13,i,t,r),e.elementType=Ue,e.lanes=u,e;case Le:return e=It(19,i,t,r),e.elementType=Le,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case le:d=10;break e;case Ce:d=9;break e;case Z:d=11;break e;case De:d=14;break e;case Ge:d=16,s=null;break e}d=29,i=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=It(d,i,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function Hi(e,t,i,s){return e=It(7,e,s,t),e.lanes=i,e}function po(e,t,i){return e=It(6,e,null,t),e.lanes=i,e}function Sd(e){var t=It(18,null,null,0);return t.stateNode=e,t}function _o(e,t,i){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Cd=new WeakMap;function Kt(e,t){if(typeof e=="object"&&e!==null){var i=Cd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:sa(t)},Cd.set(e,t),t)}return{value:e,source:t,stack:sa(t)}}var vl=[],bl=0,Ps=null,Ca=0,Zt=[],Jt=0,$n=null,mn=1,gn="";function wn(e,t){vl[bl++]=Ca,vl[bl++]=Ps,Ps=e,Ca=t}function Ed(e,t,i){Zt[Jt++]=mn,Zt[Jt++]=gn,Zt[Jt++]=$n,$n=e;var s=mn;e=gn;var r=32-G(s)-1;s&=~(1<<r),i+=1;var u=32-G(t)+r;if(30<u){var d=r-r%5;u=(s&(1<<d)-1).toString(32),s>>=d,r-=d,mn=1<<32-G(t)+r|i<<r|s,gn=u+e}else mn=1<<u|i<<r|s,gn=e}function yo(e){e.return!==null&&(wn(e,1),Ed(e,1,0))}function vo(e){for(;e===Ps;)Ps=vl[--bl],vl[bl]=null,Ca=vl[--bl],vl[bl]=null;for(;e===$n;)$n=Zt[--Jt],Zt[Jt]=null,gn=Zt[--Jt],Zt[Jt]=null,mn=Zt[--Jt],Zt[Jt]=null}function Td(e,t){Zt[Jt++]=mn,Zt[Jt++]=gn,Zt[Jt++]=$n,mn=t.id,gn=t.overflow,$n=e}var ut=null,Ie=null,he=!1,Pn=null,Wt=!1,bo=Error(c(519));function ei(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ea(Kt(t,e)),bo}function Nd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[ot]=e,t[At]=s,i){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(i=0;i<Qa.length;i++)se(Qa[i],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),Hf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),kf(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Gg(t.textContent,i)?(s.popover!=null&&(se("beforetoggle",t),se("toggle",t)),s.onScroll!=null&&se("scroll",t),s.onScrollEnd!=null&&se("scrollend",t),s.onClick!=null&&(t.onclick=Nn),t=!0):t=!1,t||ei(e,!0)}function xd(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Wt=!1;return;case 27:case 3:Wt=!0;return;default:ut=ut.return}}function Sl(e){if(e!==ut)return!1;if(!he)return xd(e),he=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Hu(e.type,e.memoizedProps)),i=!i),i&&Ie&&ei(e),xd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ie=Wg(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Ie=Wg(e)}else t===27?(t=Ie,mi(e.type)?(e=qu,qu=null,Ie=e):Ie=t):Ie=ut?Pt(e.stateNode.nextSibling):null;return!0}function Ii(){Ie=ut=null,he=!1}function So(){var e=Pn;return e!==null&&(Rt===null?Rt=e:Rt.push.apply(Rt,e),Pn=null),e}function Ea(e){Pn===null?Pn=[e]:Pn.push(e)}var Co=U(null),ki=null,Dn=null;function ti(e,t,i){fe(Co,t._currentValue),t._currentValue=i}function Mn(e){e._currentValue=Co.current,te(Co)}function Eo(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function To(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var d=r.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=r;for(var b=0;b<t.length;b++)if(p.context===t[b]){u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),Eo(u.return,i,e),s||(d=null);break e}u=p.next}}else if(r.tag===18){if(d=r.return,d===null)throw Error(c(341));d.lanes|=i,u=d.alternate,u!==null&&(u.lanes|=i),Eo(d,i,e),d=null}else d=r.child;if(d!==null)d.return=r;else for(d=r;d!==null;){if(d===e){d=null;break}if(r=d.sibling,r!==null){r.return=d.return,d=r;break}d=d.return}r=d}}function Cl(e,t,i,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var d=r.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var p=r.type;Ht(r.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(r===vt.current){if(d=r.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(Ja):e=[Ja])}r=r.return}e!==null&&To(t,e,i,s),t.flags|=262144}function ec(e){for(e=e.firstContext;e!==null;){if(!Ht(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vi(e){ki=e,Dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ht(e){return Ad(ki,e)}function tc(e,t){return ki===null&&Vi(e),Ad(e,t)}function Ad(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Dn===null){if(e===null)throw Error(c(308));Dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Dn=Dn.next=t;return i}var Pv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},e0=a.unstable_scheduleCallback,t0=a.unstable_NormalPriority,We={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function No(){return{controller:new Pv,data:new Map,refCount:0}}function Ta(e){e.refCount--,e.refCount===0&&e0(t0,function(){e.controller.abort()})}var Na=null,xo=0,El=0,Tl=null;function n0(e,t){if(Na===null){var i=Na=[];xo=0,El=Du(),Tl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return xo++,t.then(wd,wd),t}function wd(){if(--xo===0&&Na!==null){Tl!==null&&(Tl.status="fulfilled");var e=Na;Na=null,El=0,Tl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function i0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var Dd=O.S;O.S=function(e,t){fg=bt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&n0(e,t),Dd!==null&&Dd(e,t)};var Gi=U(null);function Ao(){var e=Gi.current;return e!==null?e:we.pooledCache}function nc(e,t){t===null?fe(Gi,Gi.current):fe(Gi,t.pool)}function Md(){var e=Ao();return e===null?null:{parent:We._currentValue,pool:e}}var Nl=Error(c(460)),wo=Error(c(474)),ic=Error(c(542)),lc={then:function(){}};function Od(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Rd(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Nn,Nn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e;default:if(typeof t.status=="string")t.then(Nn,Nn);else{if(e=we,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zd(e),e}throw Yi=t,Nl}}function qi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Yi=i,Nl):i}}var Yi=null;function jd(){if(Yi===null)throw Error(c(459));var e=Yi;return Yi=null,e}function zd(e){if(e===Nl||e===ic)throw Error(c(483))}var xl=null,xa=0;function ac(e){var t=xa;return xa+=1,xl===null&&(xl=[]),Rd(xl,e,t)}function Aa(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function sc(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ud(e){function t(T,C){if(e){var x=T.deletions;x===null?(T.deletions=[C],T.flags|=16):x.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function s(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function r(T,C){return T=An(T,C),T.index=0,T.sibling=null,T}function u(T,C,x){return T.index=x,e?(x=T.alternate,x!==null?(x=x.index,x<C?(T.flags|=67108866,C):x):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,C,x,R){return C===null||C.tag!==6?(C=po(x,T.mode,R),C.return=T,C):(C=r(C,x),C.return=T,C)}function b(T,C,x,R){var Y=x.type;return Y===Q?M(T,C,x.props.children,R,x.key):C!==null&&(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ge&&qi(Y)===C.type)?(C=r(C,x.props),Aa(C,x),C.return=T,C):(C=$s(x.type,x.key,x.props,null,T.mode,R),Aa(C,x),C.return=T,C)}function A(T,C,x,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=_o(x,T.mode,R),C.return=T,C):(C=r(C,x.children||[]),C.return=T,C)}function M(T,C,x,R,Y){return C===null||C.tag!==7?(C=Hi(x,T.mode,R,Y),C.return=T,C):(C=r(C,x),C.return=T,C)}function j(T,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=po(""+C,T.mode,x),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return x=$s(C.type,C.key,C.props,null,T.mode,x),Aa(x,C),x.return=T,x;case L:return C=_o(C,T.mode,x),C.return=T,C;case Ge:return C=qi(C),j(T,C,x)}if(Me(C)||ue(C))return C=Hi(C,T.mode,x,null),C.return=T,C;if(typeof C.then=="function")return j(T,ac(C),x);if(C.$$typeof===le)return j(T,tc(T,C),x);sc(T,C)}return null}function w(T,C,x,R){var Y=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return Y!==null?null:p(T,C,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case z:return x.key===Y?b(T,C,x,R):null;case L:return x.key===Y?A(T,C,x,R):null;case Ge:return x=qi(x),w(T,C,x,R)}if(Me(x)||ue(x))return Y!==null?null:M(T,C,x,R,null);if(typeof x.then=="function")return w(T,C,ac(x),R);if(x.$$typeof===le)return w(T,C,tc(T,x),R);sc(T,x)}return null}function D(T,C,x,R,Y){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return T=T.get(x)||null,p(C,T,""+R,Y);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case z:return T=T.get(R.key===null?x:R.key)||null,b(C,T,R,Y);case L:return T=T.get(R.key===null?x:R.key)||null,A(C,T,R,Y);case Ge:return R=qi(R),D(T,C,x,R,Y)}if(Me(R)||ue(R))return T=T.get(x)||null,M(C,T,R,Y,null);if(typeof R.then=="function")return D(T,C,x,ac(R),Y);if(R.$$typeof===le)return D(T,C,x,tc(C,R),Y);sc(C,R)}return null}function k(T,C,x,R){for(var Y=null,me=null,V=C,$=C=0,oe=null;V!==null&&$<x.length;$++){V.index>$?(oe=V,V=null):oe=V.sibling;var ge=w(T,V,x[$],R);if(ge===null){V===null&&(V=oe);break}e&&V&&ge.alternate===null&&t(T,V),C=u(ge,C,$),me===null?Y=ge:me.sibling=ge,me=ge,V=oe}if($===x.length)return i(T,V),he&&wn(T,$),Y;if(V===null){for(;$<x.length;$++)V=j(T,x[$],R),V!==null&&(C=u(V,C,$),me===null?Y=V:me.sibling=V,me=V);return he&&wn(T,$),Y}for(V=s(V);$<x.length;$++)oe=D(V,T,$,x[$],R),oe!==null&&(e&&oe.alternate!==null&&V.delete(oe.key===null?$:oe.key),C=u(oe,C,$),me===null?Y=oe:me.sibling=oe,me=oe);return e&&V.forEach(function(vi){return t(T,vi)}),he&&wn(T,$),Y}function X(T,C,x,R){if(x==null)throw Error(c(151));for(var Y=null,me=null,V=C,$=C=0,oe=null,ge=x.next();V!==null&&!ge.done;$++,ge=x.next()){V.index>$?(oe=V,V=null):oe=V.sibling;var vi=w(T,V,ge.value,R);if(vi===null){V===null&&(V=oe);break}e&&V&&vi.alternate===null&&t(T,V),C=u(vi,C,$),me===null?Y=vi:me.sibling=vi,me=vi,V=oe}if(ge.done)return i(T,V),he&&wn(T,$),Y;if(V===null){for(;!ge.done;$++,ge=x.next())ge=j(T,ge.value,R),ge!==null&&(C=u(ge,C,$),me===null?Y=ge:me.sibling=ge,me=ge);return he&&wn(T,$),Y}for(V=s(V);!ge.done;$++,ge=x.next())ge=D(V,T,$,ge.value,R),ge!==null&&(e&&ge.alternate!==null&&V.delete(ge.key===null?$:ge.key),C=u(ge,C,$),me===null?Y=ge:me.sibling=ge,me=ge);return e&&V.forEach(function(m1){return t(T,m1)}),he&&wn(T,$),Y}function Ne(T,C,x,R){if(typeof x=="object"&&x!==null&&x.type===Q&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case z:e:{for(var Y=x.key;C!==null;){if(C.key===Y){if(Y=x.type,Y===Q){if(C.tag===7){i(T,C.sibling),R=r(C,x.props.children),R.return=T,T=R;break e}}else if(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Ge&&qi(Y)===C.type){i(T,C.sibling),R=r(C,x.props),Aa(R,x),R.return=T,T=R;break e}i(T,C);break}else t(T,C);C=C.sibling}x.type===Q?(R=Hi(x.props.children,T.mode,R,x.key),R.return=T,T=R):(R=$s(x.type,x.key,x.props,null,T.mode,R),Aa(R,x),R.return=T,T=R)}return d(T);case L:e:{for(Y=x.key;C!==null;){if(C.key===Y)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){i(T,C.sibling),R=r(C,x.children||[]),R.return=T,T=R;break e}else{i(T,C);break}else t(T,C);C=C.sibling}R=_o(x,T.mode,R),R.return=T,T=R}return d(T);case Ge:return x=qi(x),Ne(T,C,x,R)}if(Me(x))return k(T,C,x,R);if(ue(x)){if(Y=ue(x),typeof Y!="function")throw Error(c(150));return x=Y.call(x),X(T,C,x,R)}if(typeof x.then=="function")return Ne(T,C,ac(x),R);if(x.$$typeof===le)return Ne(T,C,tc(T,x),R);sc(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(i(T,C.sibling),R=r(C,x),R.return=T,T=R):(i(T,C),R=po(x,T.mode,R),R.return=T,T=R),d(T)):i(T,C)}return function(T,C,x,R){try{xa=0;var Y=Ne(T,C,x,R);return xl=null,Y}catch(V){if(V===Nl||V===ic)throw V;var me=It(29,V,null,T.mode);return me.lanes=R,me.return=T,me}}}var Qi=Ud(!0),Ld=Ud(!1),ni=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Mo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ii(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function li(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ye&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Ws(e),vd(e,null,i),t}return Js(e,s,t,i),Ws(e)}function wa(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Af(e,i)}}function Oo(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?r=u=d:u=u.next=d,i=i.next}while(i!==null);u===null?r=u=t:u=u.next=t}else r=u=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ro=!1;function Da(){if(Ro){var e=Tl;if(e!==null)throw e}}function Ma(e,t,i,s){Ro=!1;var r=e.updateQueue;ni=!1;var u=r.firstBaseUpdate,d=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var b=p,A=b.next;b.next=null,d===null?u=A:d.next=A,d=b;var M=e.alternate;M!==null&&(M=M.updateQueue,p=M.lastBaseUpdate,p!==d&&(p===null?M.firstBaseUpdate=A:p.next=A,M.lastBaseUpdate=b))}if(u!==null){var j=r.baseState;d=0,M=A=b=null,p=u;do{var w=p.lane&-536870913,D=w!==p.lane;if(D?(re&w)===w:(s&w)===w){w!==0&&w===El&&(Ro=!0),M!==null&&(M=M.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var k=e,X=p;w=t;var Ne=i;switch(X.tag){case 1:if(k=X.payload,typeof k=="function"){j=k.call(Ne,j,w);break e}j=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=X.payload,w=typeof k=="function"?k.call(Ne,j,w):k,w==null)break e;j=v({},j,w);break e;case 2:ni=!0}}w=p.callback,w!==null&&(e.flags|=64,D&&(e.flags|=8192),D=r.callbacks,D===null?r.callbacks=[w]:D.push(w))}else D={lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},M===null?(A=M=D,b=j):M=M.next=D,d|=w;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;D=p,p=D.next,D.next=null,r.lastBaseUpdate=D,r.shared.pending=null}}while(!0);M===null&&(b=j),r.baseState=b,r.firstBaseUpdate=A,r.lastBaseUpdate=M,u===null&&(r.shared.lanes=0),oi|=d,e.lanes=d,e.memoizedState=j}}function Bd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Hd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Bd(i[e],t)}var Al=U(null),cc=U(0);function Id(e,t){e=In,fe(cc,e),fe(Al,t),In=e|t.baseLanes}function jo(){fe(cc,In),fe(Al,Al.current)}function zo(){In=cc.current,te(Al),te(cc)}var kt=U(null),$t=null;function ai(e){var t=e.alternate;fe(Ze,Ze.current&1),fe(kt,e),$t===null&&(t===null||Al.current!==null||t.memoizedState!==null)&&($t=e)}function Uo(e){fe(Ze,Ze.current),fe(kt,e),$t===null&&($t=e)}function kd(e){e.tag===22?(fe(Ze,Ze.current),fe(kt,e),$t===null&&($t=e)):si()}function si(){fe(Ze,Ze.current),fe(kt,kt.current)}function Vt(e){te(kt),$t===e&&($t=null),te(Ze)}var Ze=U(0);function rc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Vu(i)||Gu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var On=0,W=null,Ee=null,$e=null,oc=!1,wl=!1,Xi=!1,uc=0,Oa=0,Dl=null,l0=0;function qe(){throw Error(c(321))}function Lo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ht(e[i],t[i]))return!1;return!0}function Bo(e,t,i,s,r,u){return On=u,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Em:$o,Xi=!1,u=i(s,r),Xi=!1,wl&&(u=Gd(t,i,s,r)),Vd(e),u}function Vd(e){O.H=za;var t=Ee!==null&&Ee.next!==null;if(On=0,$e=Ee=W=null,oc=!1,Oa=0,Dl=null,t)throw Error(c(300));e===null||Pe||(e=e.dependencies,e!==null&&ec(e)&&(Pe=!0))}function Gd(e,t,i,s){W=e;var r=0;do{if(wl&&(Dl=null),Oa=0,wl=!1,25<=r)throw Error(c(301));if(r+=1,$e=Ee=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}O.H=Tm,u=t(i,s)}while(wl);return u}function a0(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ra(t):t,e=e.useState()[0],(Ee!==null?Ee.memoizedState:null)!==e&&(W.flags|=1024),t}function Ho(){var e=uc!==0;return uc=0,e}function Io(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function ko(e){if(oc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}oc=!1}On=0,$e=Ee=W=null,wl=!1,Oa=uc=0,Dl=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?W.memoizedState=$e=e:$e=$e.next=e,$e}function Je(){if(Ee===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=Ee.next;var t=$e===null?W.memoizedState:$e.next;if(t!==null)$e=t,Ee=e;else{if(e===null)throw W.alternate===null?Error(c(467)):Error(c(310));Ee=e,e={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},$e===null?W.memoizedState=$e=e:$e=$e.next=e}return $e}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ra(e){var t=Oa;return Oa+=1,Dl===null&&(Dl=[]),e=Rd(Dl,e,t),t=W,($e===null?t.memoizedState:$e.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Em:$o),e}function fc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ra(e);if(e.$$typeof===le)return ht(e)}throw Error(c(438,String(e)))}function Vo(e){var t=null,i=W.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=W.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=hc(),W.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=Ae;return t.index++,i}function Rn(e,t){return typeof t=="function"?t(e):t}function dc(e){var t=Je();return Go(t,Ee,e)}function Go(e,t,i){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=i;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var d=r.next;r.next=u.next,u.next=d}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var p=d=null,b=null,A=t,M=!1;do{var j=A.lane&-536870913;if(j!==A.lane?(re&j)===j:(On&j)===j){var w=A.revertLane;if(w===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),j===El&&(M=!0);else if((On&w)===w){A=A.next,w===El&&(M=!0);continue}else j={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=j,d=u):b=b.next=j,W.lanes|=w,oi|=w;j=A.action,Xi&&i(u,j),u=A.hasEagerState?A.eagerState:i(u,j)}else w={lane:j,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=w,d=u):b=b.next=w,W.lanes|=j,oi|=j;A=A.next}while(A!==null&&A!==t);if(b===null?d=u:b.next=p,!Ht(u,e.memoizedState)&&(Pe=!0,M&&(i=Tl,i!==null)))throw i;e.memoizedState=u,e.baseState=d,e.baseQueue=b,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function qo(e){var t=Je(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,u=t.memoizedState;if(r!==null){i.pending=null;var d=r=r.next;do u=e(u,d.action),d=d.next;while(d!==r);Ht(u,t.memoizedState)||(Pe=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function qd(e,t,i){var s=W,r=Je(),u=he;if(u){if(i===void 0)throw Error(c(407));i=i()}else i=t();var d=!Ht((Ee||r).memoizedState,i);if(d&&(r.memoizedState=i,Pe=!0),r=r.queue,Xo(Xd.bind(null,s,r,e),[e]),r.getSnapshot!==t||d||$e!==null&&$e.memoizedState.tag&1){if(s.flags|=2048,Ml(9,{destroy:void 0},Qd.bind(null,s,r,i,t),null),we===null)throw Error(c(349));u||(On&127)!==0||Yd(s,t,i)}return i}function Yd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=W.updateQueue,t===null?(t=hc(),W.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Qd(e,t,i,s){t.value=i,t.getSnapshot=s,Fd(t)&&Kd(e)}function Xd(e,t,i){return i(function(){Fd(t)&&Kd(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ht(e,i)}catch{return!0}}function Kd(e){var t=Bi(e,2);t!==null&&jt(t,e,2)}function Yo(e){var t=St();if(typeof e=="function"){var i=e;if(e=i(),Xi){N(!0);try{i()}finally{N(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:e},t}function Zd(e,t,i,s){return e.baseState=i,Go(e,Ee,typeof s=="function"?s:Rn)}function s0(e,t,i,s,r){if(pc(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};O.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,Jd(t,u)):(u.next=i.next,t.pending=i.next=u)}}function Jd(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=O.T,d={};O.T=d;try{var p=i(r,s),b=O.S;b!==null&&b(d,p),Wd(e,t,p)}catch(A){Qo(e,t,A)}finally{u!==null&&d.types!==null&&(u.types=d.types),O.T=u}}else try{u=i(r,s),Wd(e,t,u)}catch(A){Qo(e,t,A)}}function Wd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){$d(e,t,s)},function(s){return Qo(e,t,s)}):$d(e,t,i)}function $d(e,t,i){t.status="fulfilled",t.value=i,Pd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,Jd(e,i)))}function Qo(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,Pd(t),t=t.next;while(t!==s)}e.action=null}function Pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function em(e,t){return t}function tm(e,t){if(he){var i=we.formState;if(i!==null){e:{var s=W;if(he){if(Ie){t:{for(var r=Ie,u=Wt;r.nodeType!==8;){if(!u){r=null;break t}if(r=Pt(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Ie=Pt(r.nextSibling),s=r.data==="F!";break e}}ei(s)}s=!1}s&&(t=i[0])}}return i=St(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:em,lastRenderedState:t},i.queue=s,i=bm.bind(null,W,s),s.dispatch=i,s=Yo(!1),u=Wo.bind(null,W,!1,s.queue),s=St(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=s0.bind(null,W,r,u,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function nm(e){var t=Je();return im(t,Ee,e)}function im(e,t,i){if(t=Go(e,t,em)[0],e=dc(Rn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ra(t)}catch(d){throw d===Nl?ic:d}else s=t;t=Je();var r=t.queue,u=r.dispatch;return i!==t.memoizedState&&(W.flags|=2048,Ml(9,{destroy:void 0},c0.bind(null,r,i),null)),[s,u,e]}function c0(e,t){e.action=t}function lm(e){var t=Je(),i=Ee;if(i!==null)return im(t,i,e);Je(),t=t.memoizedState,i=Je();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Ml(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=W.updateQueue,t===null&&(t=hc(),W.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function am(){return Je().memoizedState}function mc(e,t,i,s){var r=St();W.flags|=e,r.memoizedState=Ml(1|t,{destroy:void 0},i,s===void 0?null:s)}function gc(e,t,i,s){var r=Je();s=s===void 0?null:s;var u=r.memoizedState.inst;Ee!==null&&s!==null&&Lo(s,Ee.memoizedState.deps)?r.memoizedState=Ml(t,u,i,s):(W.flags|=e,r.memoizedState=Ml(1|t,u,i,s))}function sm(e,t){mc(8390656,8,e,t)}function Xo(e,t){gc(2048,8,e,t)}function r0(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=hc(),W.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function cm(e){var t=Je().memoizedState;return r0({ref:t,nextImpl:e}),function(){if((ye&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function rm(e,t){return gc(4,2,e,t)}function om(e,t){return gc(4,4,e,t)}function um(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hm(e,t,i){i=i!=null?i.concat([e]):null,gc(4,4,um.bind(null,t,e),i)}function Fo(){}function fm(e,t){var i=Je();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Lo(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function dm(e,t){var i=Je();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Lo(t,s[1]))return s[0];if(s=e(),Xi){N(!0);try{e()}finally{N(!1)}}return i.memoizedState=[s,t],s}function Ko(e,t,i){return i===void 0||(On&1073741824)!==0&&(re&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=mg(),W.lanes|=e,oi|=e,i)}function mm(e,t,i,s){return Ht(i,t)?i:Al.current!==null?(e=Ko(e,i,s),Ht(e,t)||(Pe=!0),e):(On&42)===0||(On&1073741824)!==0&&(re&261930)===0?(Pe=!0,e.memoizedState=i):(e=mg(),W.lanes|=e,oi|=e,t)}function gm(e,t,i,s,r){var u=H.p;H.p=u!==0&&8>u?u:8;var d=O.T,p={};O.T=p,Wo(e,!1,t,i);try{var b=r(),A=O.S;if(A!==null&&A(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var M=i0(b,s);ja(e,t,M,Yt(e))}else ja(e,t,s,Yt(e))}catch(j){ja(e,t,{then:function(){},status:"rejected",reason:j},Yt())}finally{H.p=u,d!==null&&p.types!==null&&(d.types=p.types),O.T=d}}function o0(){}function Zo(e,t,i,s){if(e.tag!==5)throw Error(c(476));var r=pm(e).queue;gm(e,r,t,F,i===null?o0:function(){return _m(e),i(s)})}function pm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:F},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function _m(e){var t=pm(e);t.next===null&&(t=e.alternate.memoizedState),ja(e,t.next.queue,{},Yt())}function Jo(){return ht(Ja)}function ym(){return Je().memoizedState}function vm(){return Je().memoizedState}function u0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Yt();e=ii(i);var s=li(t,e,i);s!==null&&(jt(s,t,i),wa(s,t,i)),t={cache:No()},e.payload=t;return}t=t.return}}function h0(e,t,i){var s=Yt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},pc(e)?Sm(t,i):(i=mo(e,t,i,s),i!==null&&(jt(i,e,s),Cm(i,t,s)))}function bm(e,t,i){var s=Yt();ja(e,t,i,s)}function ja(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(pc(e))Sm(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,p=u(d,i);if(r.hasEagerState=!0,r.eagerState=p,Ht(p,d))return Js(e,t,r,0),we===null&&Zs(),!1}catch{}if(i=mo(e,t,r,s),i!==null)return jt(i,e,s),Cm(i,t,s),!0}return!1}function Wo(e,t,i,s){if(s={lane:2,revertLane:Du(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},pc(e)){if(t)throw Error(c(479))}else t=mo(e,i,s,2),t!==null&&jt(t,e,2)}function pc(e){var t=e.alternate;return e===W||t!==null&&t===W}function Sm(e,t){wl=oc=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Cm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Af(e,i)}}var za={readContext:ht,use:fc,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};za.useEffectEvent=qe;var Em={readContext:ht,use:fc,useCallback:function(e,t){return St().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:sm,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,mc(4194308,4,um.bind(null,t,e),i)},useLayoutEffect:function(e,t){return mc(4194308,4,e,t)},useInsertionEffect:function(e,t){mc(4,2,e,t)},useMemo:function(e,t){var i=St();t=t===void 0?null:t;var s=e();if(Xi){N(!0);try{e()}finally{N(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=St();if(i!==void 0){var r=i(t);if(Xi){N(!0);try{i(t)}finally{N(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=h0.bind(null,W,e),[s.memoizedState,e]},useRef:function(e){var t=St();return e={current:e},t.memoizedState=e},useState:function(e){e=Yo(e);var t=e.queue,i=bm.bind(null,W,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Fo,useDeferredValue:function(e,t){var i=St();return Ko(i,e,t)},useTransition:function(){var e=Yo(!1);return e=gm.bind(null,W,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=W,r=St();if(he){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),we===null)throw Error(c(349));(re&127)!==0||Yd(s,t,i)}r.memoizedState=i;var u={value:i,getSnapshot:t};return r.queue=u,sm(Xd.bind(null,s,u,e),[e]),s.flags|=2048,Ml(9,{destroy:void 0},Qd.bind(null,s,u,i,t),null),i},useId:function(){var e=St(),t=we.identifierPrefix;if(he){var i=gn,s=mn;i=(s&~(1<<32-G(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=uc++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=l0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Jo,useFormState:tm,useActionState:tm,useOptimistic:function(e){var t=St();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Wo.bind(null,W,!0,i),i.dispatch=t,[e,t]},useMemoCache:Vo,useCacheRefresh:function(){return St().memoizedState=u0.bind(null,W)},useEffectEvent:function(e){var t=St(),i={impl:e};return t.memoizedState=i,function(){if((ye&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},$o={readContext:ht,use:fc,useCallback:fm,useContext:ht,useEffect:Xo,useImperativeHandle:hm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:dm,useReducer:dc,useRef:am,useState:function(){return dc(Rn)},useDebugValue:Fo,useDeferredValue:function(e,t){var i=Je();return mm(i,Ee.memoizedState,e,t)},useTransition:function(){var e=dc(Rn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ra(e),t]},useSyncExternalStore:qd,useId:ym,useHostTransitionStatus:Jo,useFormState:nm,useActionState:nm,useOptimistic:function(e,t){var i=Je();return Zd(i,Ee,e,t)},useMemoCache:Vo,useCacheRefresh:vm};$o.useEffectEvent=cm;var Tm={readContext:ht,use:fc,useCallback:fm,useContext:ht,useEffect:Xo,useImperativeHandle:hm,useInsertionEffect:rm,useLayoutEffect:om,useMemo:dm,useReducer:qo,useRef:am,useState:function(){return qo(Rn)},useDebugValue:Fo,useDeferredValue:function(e,t){var i=Je();return Ee===null?Ko(i,e,t):mm(i,Ee.memoizedState,e,t)},useTransition:function(){var e=qo(Rn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Ra(e),t]},useSyncExternalStore:qd,useId:ym,useHostTransitionStatus:Jo,useFormState:lm,useActionState:lm,useOptimistic:function(e,t){var i=Je();return Ee!==null?Zd(i,Ee,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Vo,useCacheRefresh:vm};Tm.useEffectEvent=cm;function Po(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:v({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var eu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Yt(),r=ii(s);r.payload=t,i!=null&&(r.callback=i),t=li(e,r,s),t!==null&&(jt(t,e,s),wa(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Yt(),r=ii(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=li(e,r,s),t!==null&&(jt(t,e,s),wa(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Yt(),s=ii(i);s.tag=2,t!=null&&(s.callback=t),t=li(e,s,i),t!==null&&(jt(t,e,i),wa(t,e,i))}};function Nm(e,t,i,s,r,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,d):t.prototype&&t.prototype.isPureReactComponent?!ba(i,s)||!ba(r,u):!0}function xm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&eu.enqueueReplaceState(t,t.state,null)}function Fi(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=v({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function Am(e){Ks(e)}function wm(e){console.error(e)}function Dm(e){Ks(e)}function _c(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Mm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function tu(e,t,i){return i=ii(i),i.tag=3,i.payload={element:null},i.callback=function(){_c(e,t)},i}function Om(e){return e=ii(e),e.tag=3,e}function Rm(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){Mm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Mm(t,i,s),typeof r!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function f0(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Cl(t,i,r,!0),i=kt.current,i!==null){switch(i.tag){case 31:case 13:return $t===null?Dc():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===lc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),xu(e,s,r)),!1;case 22:return i.flags|=65536,s===lc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),xu(e,s,r)),!1}throw Error(c(435,i.tag))}return xu(e,s,r),Dc(),!1}if(he)return t=kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==bo&&(e=Error(c(422),{cause:s}),Ea(Kt(e,i)))):(s!==bo&&(t=Error(c(423),{cause:s}),Ea(Kt(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Kt(s,i),r=tu(e.stateNode,s,r),Oo(e,r),Ye!==4&&(Ye=2)),!1;var u=Error(c(520),{cause:s});if(u=Kt(u,i),Ga===null?Ga=[u]:Ga.push(u),Ye!==4&&(Ye=2),t===null)return!0;s=Kt(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=tu(i.stateNode,s,e),Oo(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(ui===null||!ui.has(u))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Om(r),Rm(r,e,i,s),Oo(i,r),!1}i=i.return}while(i!==null);return!1}var nu=Error(c(461)),Pe=!1;function ft(e,t,i,s){t.child=e===null?Ld(t,null,i,s):Qi(t,e.child,i,s)}function jm(e,t,i,s,r){i=i.render;var u=t.ref;if("ref"in s){var d={};for(var p in s)p!=="ref"&&(d[p]=s[p])}else d=s;return Vi(t),s=Bo(e,t,i,d,u,r),p=Ho(),e!==null&&!Pe?(Io(e,t,r),jn(e,t,r)):(he&&p&&yo(t),t.flags|=1,ft(e,t,s,r),t.child)}function zm(e,t,i,s,r){if(e===null){var u=i.type;return typeof u=="function"&&!go(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Um(e,t,u,s,r)):(e=$s(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!uu(e,r)){var d=u.memoizedProps;if(i=i.compare,i=i!==null?i:ba,i(d,s)&&e.ref===t.ref)return jn(e,t,r)}return t.flags|=1,e=An(u,s),e.ref=t.ref,e.return=t,t.child=e}function Um(e,t,i,s,r){if(e!==null){var u=e.memoizedProps;if(ba(u,s)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=s=u,uu(e,r))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,jn(e,t,r)}return iu(e,t,i,s,r)}function Lm(e,t,i,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return Bm(e,t,u,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&nc(t,u!==null?u.cachePool:null),u!==null?Id(t,u):jo(),kd(t);else return s=t.lanes=536870912,Bm(e,t,u!==null?u.baseLanes|i:i,i,s)}else u!==null?(nc(t,u.cachePool),Id(t,u),si(),t.memoizedState=null):(e!==null&&nc(t,null),jo(),si());return ft(e,t,r,i),t.child}function Ua(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Bm(e,t,i,s,r){var u=Ao();return u=u===null?null:{parent:We._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&nc(t,null),jo(),kd(t),e!==null&&Cl(e,t,s,!0),t.childLanes=r,null}function yc(e,t){return t=bc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hm(e,t,i){return Qi(t,e.child,null,i),e=yc(t,t.pendingProps),e.flags|=2,Vt(t),t.memoizedState=null,e}function d0(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(s.mode==="hidden")return e=yc(t,s),t.lanes=536870912,Ua(null,e);if(Uo(t),(e=Ie)?(e=Jg(e,Wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},i=Sd(e),i.return=t,t.child=i,ut=t,Ie=null)):e=null,e===null)throw ei(t);return t.lanes=536870912,null}return yc(t,s)}var u=e.memoizedState;if(u!==null){var d=u.dehydrated;if(Uo(t),r)if(t.flags&256)t.flags&=-257,t=Hm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(Pe||Cl(e,t,i,!1),r=(i&e.childLanes)!==0,Pe||r){if(s=we,s!==null&&(d=wf(s,i),d!==0&&d!==u.retryLane))throw u.retryLane=d,Bi(e,d),jt(s,e,d),nu;Dc(),t=Hm(e,t,i)}else e=u.treeContext,Ie=Pt(d.nextSibling),ut=t,he=!0,Pn=null,Wt=!1,e!==null&&Td(t,e),t=yc(t,s),t.flags|=4096;return t}return e=An(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function vc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function iu(e,t,i,s,r){return Vi(t),i=Bo(e,t,i,s,void 0,r),s=Ho(),e!==null&&!Pe?(Io(e,t,r),jn(e,t,r)):(he&&s&&yo(t),t.flags|=1,ft(e,t,i,r),t.child)}function Im(e,t,i,s,r,u){return Vi(t),t.updateQueue=null,i=Gd(t,s,i,r),Vd(e),s=Ho(),e!==null&&!Pe?(Io(e,t,u),jn(e,t,u)):(he&&s&&yo(t),t.flags|=1,ft(e,t,i,u),t.child)}function km(e,t,i,s,r){if(Vi(t),t.stateNode===null){var u=yl,d=i.contextType;typeof d=="object"&&d!==null&&(u=ht(d)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=eu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Do(t),d=i.contextType,u.context=typeof d=="object"&&d!==null?ht(d):yl,u.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Po(t,i,d,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&eu.enqueueReplaceState(u,u.state,null),Ma(t,s,u,r),Da(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,b=Fi(i,p);u.props=b;var A=u.context,M=i.contextType;d=yl,typeof M=="object"&&M!==null&&(d=ht(M));var j=i.getDerivedStateFromProps;M=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,M||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||A!==d)&&xm(t,u,s,d),ni=!1;var w=t.memoizedState;u.state=w,Ma(t,s,u,r),Da(),A=t.memoizedState,p||w!==A||ni?(typeof j=="function"&&(Po(t,i,j,s),A=t.memoizedState),(b=ni||Nm(t,i,b,s,w,A,d))?(M||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=d,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Mo(e,t),d=t.memoizedProps,M=Fi(i,d),u.props=M,j=t.pendingProps,w=u.context,A=i.contextType,b=yl,typeof A=="object"&&A!==null&&(b=ht(A)),p=i.getDerivedStateFromProps,(A=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==j||w!==b)&&xm(t,u,s,b),ni=!1,w=t.memoizedState,u.state=w,Ma(t,s,u,r),Da();var D=t.memoizedState;d!==j||w!==D||ni||e!==null&&e.dependencies!==null&&ec(e.dependencies)?(typeof p=="function"&&(Po(t,i,p,s),D=t.memoizedState),(M=ni||Nm(t,i,M,s,w,D,b)||e!==null&&e.dependencies!==null&&ec(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,D,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,D,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),u.props=s,u.state=D,u.context=b,s=M):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,vc(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Qi(t,e.child,null,r),t.child=Qi(t,null,i,r)):ft(e,t,i,r),t.memoizedState=u.state,e=t.child):e=jn(e,t,r),e}function Vm(e,t,i,s){return Ii(),t.flags|=256,ft(e,t,i,s),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function au(e){return{baseLanes:e,cachePool:Md()}}function su(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=qt),e}function Gm(e,t,i){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),d&&(r=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(r?ai(t):si(),(e=Ie)?(e=Jg(e,Wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:$n!==null?{id:mn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},i=Sd(e),i.return=t,t.child=i,ut=t,Ie=null)):e=null,e===null)throw ei(t);return Gu(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,r?(si(),r=t.mode,p=bc({mode:"hidden",children:p},r),s=Hi(s,r,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=au(i),s.childLanes=su(e,d,i),t.memoizedState=lu,Ua(null,s)):(ai(t),cu(t,p))}var b=e.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(u)t.flags&256?(ai(t),t.flags&=-257,t=ru(e,t,i)):t.memoizedState!==null?(si(),t.child=e.child,t.flags|=128,t=null):(si(),p=s.fallback,r=t.mode,s=bc({mode:"visible",children:s.children},r),p=Hi(p,r,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,Qi(t,e.child,null,i),s=t.child,s.memoizedState=au(i),s.childLanes=su(e,d,i),t.memoizedState=lu,t=Ua(null,s));else if(ai(t),Gu(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;d=A,s=Error(c(419)),s.stack="",s.digest=d,Ea({value:s,source:null,stack:null}),t=ru(e,t,i)}else if(Pe||Cl(e,t,i,!1),d=(i&e.childLanes)!==0,Pe||d){if(d=we,d!==null&&(s=wf(d,i),s!==0&&s!==b.retryLane))throw b.retryLane=s,Bi(e,s),jt(d,e,s),nu;Vu(p)||Dc(),t=ru(e,t,i)}else Vu(p)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Ie=Pt(p.nextSibling),ut=t,he=!0,Pn=null,Wt=!1,e!==null&&Td(t,e),t=cu(t,s.children),t.flags|=4096);return t}return r?(si(),p=s.fallback,r=t.mode,b=e.child,A=b.sibling,s=An(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,A!==null?p=An(A,p):(p=Hi(p,r,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Ua(null,s),s=t.child,p=e.child.memoizedState,p===null?p=au(i):(r=p.cachePool,r!==null?(b=We._currentValue,r=r.parent!==b?{parent:b,pool:b}:r):r=Md(),p={baseLanes:p.baseLanes|i,cachePool:r}),s.memoizedState=p,s.childLanes=su(e,d,i),t.memoizedState=lu,Ua(e.child,s)):(ai(t),i=e.child,e=i.sibling,i=An(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function cu(e,t){return t=bc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bc(e,t){return e=It(22,e,null,t),e.lanes=0,e}function ru(e,t,i){return Qi(t,e.child,null,i),e=cu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function qm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Eo(e.return,t,i)}function ou(e,t,i,s,r,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=r,d.treeForkCount=u)}function Ym(e,t,i){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var d=Ze.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,fe(Ze,d),ft(e,t,s,i),s=he?Ca:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&qm(e,i,t);else if(e.tag===19)qm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&rc(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),ou(t,!1,r,i,u,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&rc(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}ou(t,!0,i,null,u,s);break;case"together":ou(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function jn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),oi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Cl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=An(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=An(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function uu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ec(e)))}function m0(e,t,i){switch(t.tag){case 3:Mi(t,t.stateNode.containerInfo),ti(t,We,e.memoizedState.cache),Ii();break;case 27:case 5:Kn(t);break;case 4:Mi(t,t.stateNode.containerInfo);break;case 10:ti(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Uo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ai(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Gm(e,t,i):(ai(t),e=jn(e,t,i),e!==null?e.sibling:null);ai(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Cl(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Ym(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),fe(Ze,Ze.current),s)break;return null;case 22:return t.lanes=0,Lm(e,t,i,t.pendingProps);case 24:ti(t,We,e.memoizedState.cache)}return jn(e,t,i)}function Qm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!uu(e,i)&&(t.flags&128)===0)return Pe=!1,m0(e,t,i);Pe=(e.flags&131072)!==0}else Pe=!1,he&&(t.flags&1048576)!==0&&Ed(t,Ca,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=qi(t.elementType),t.type=e,typeof e=="function")go(e)?(s=Fi(e,s),t.tag=1,t=km(null,t,e,s,i)):(t.tag=0,t=iu(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===Z){t.tag=11,t=jm(null,t,e,s,i);break e}else if(r===De){t.tag=14,t=zm(null,t,e,s,i);break e}}throw t=Tt(e)||e,Error(c(306,t,""))}}return t;case 0:return iu(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=Fi(s,t.pendingProps),km(e,t,s,r,i);case 3:e:{if(Mi(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,Mo(e,t),Ma(t,s,null,i);var d=t.memoizedState;if(s=d.cache,ti(t,We,s),s!==u.cache&&To(t,[We],i,!0),Da(),s=d.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Vm(e,t,s,i);break e}else if(s!==r){r=Kt(Error(c(424)),t),Ea(r),t=Vm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=Pt(e.firstChild),ut=t,he=!0,Pn=null,Wt=!0,i=Ld(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ii(),s===r){t=jn(e,t,i);break e}ft(e,t,s,i)}t=t.child}return t;case 26:return vc(e,t),e===null?(i=np(t.type,null,t.pendingProps,null))?t.memoizedState=i:he||(i=t.type,e=t.pendingProps,s=Lc(Nt.current).createElement(i),s[ot]=t,s[At]=e,dt(s,i,e),lt(s),t.stateNode=s):t.memoizedState=np(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Kn(t),e===null&&he&&(s=t.stateNode=Pg(t.type,t.pendingProps,Nt.current),ut=t,Wt=!0,r=Ie,mi(t.type)?(qu=r,Ie=Pt(s.firstChild)):Ie=r),ft(e,t,t.pendingProps.children,i),vc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((r=s=Ie)&&(s=Y0(s,t.type,t.pendingProps,Wt),s!==null?(t.stateNode=s,ut=t,Ie=Pt(s.firstChild),Wt=!1,r=!0):r=!1),r||ei(t)),Kn(t),r=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,s=u.children,Hu(r,u)?s=null:d!==null&&Hu(r,d)&&(t.flags|=32),t.memoizedState!==null&&(r=Bo(e,t,a0,null,null,i),Ja._currentValue=r),vc(e,t),ft(e,t,s,i),t.child;case 6:return e===null&&he&&((e=i=Ie)&&(i=Q0(i,t.pendingProps,Wt),i!==null?(t.stateNode=i,ut=t,Ie=null,e=!0):e=!1),e||ei(t)),null;case 13:return Gm(e,t,i);case 4:return Mi(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Qi(t,null,s,i):ft(e,t,s,i),t.child;case 11:return jm(e,t,t.type,t.pendingProps,i);case 7:return ft(e,t,t.pendingProps,i),t.child;case 8:return ft(e,t,t.pendingProps.children,i),t.child;case 12:return ft(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,ti(t,t.type,s.value),ft(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,Vi(t),r=ht(r),s=s(r),t.flags|=1,ft(e,t,s,i),t.child;case 14:return zm(e,t,t.type,t.pendingProps,i);case 15:return Um(e,t,t.type,t.pendingProps,i);case 19:return Ym(e,t,i);case 31:return d0(e,t,i);case 22:return Lm(e,t,i,t.pendingProps);case 24:return Vi(t),s=ht(We),e===null?(r=Ao(),r===null&&(r=we,u=No(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=i),r=u),t.memoizedState={parent:s,cache:r},Do(t),ti(t,We,r)):((e.lanes&i)!==0&&(Mo(e,t),Ma(t,null,null,i),Da()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ti(t,We,s)):(s=u.cache,ti(t,We,s),s!==r.cache&&To(t,[We],i,!0))),ft(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function zn(e){e.flags|=4}function hu(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(yg())e.flags|=8192;else throw Yi=lc,wo}else e.flags&=-16777217}function Xm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!cp(t))if(yg())e.flags|=8192;else throw Yi=lc,wo}function Sc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nf():536870912,e.lanes|=t,zl|=t)}function La(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function g0(e,t,i){var s=t.pendingProps;switch(vo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Mn(We),hn(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?zn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,So())),ke(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(zn(t),u!==null?(ke(t),Xm(t,u)):(ke(t),hu(t,r,null,s,i))):u?u!==e.memoizedState?(zn(t),ke(t),Xm(t,u)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&zn(t),ke(t),hu(t,r,e,s,i)),null;case 27:if(Cn(t),i=Nt.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return ke(t),null}e=J.current,Sl(t)?Nd(t):(e=Pg(r,s,i),t.stateNode=e,zn(t))}return ke(t),null;case 5:if(Cn(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&zn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return ke(t),null}if(u=J.current,Sl(t))Nd(t);else{var d=Lc(Nt.current);switch(u){case 1:u=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=d.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?d.createElement(r,{is:s.is}):d.createElement(r)}}u[ot]=t,u[At]=s;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)u.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=u;e:switch(dt(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&zn(t)}}return ke(t),hu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&zn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=Nt.current,Sl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=ut,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[ot]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Gg(e.nodeValue,i)),e||ei(t,!0)}else e=Lc(e).createTextNode(s),e[ot]=t,t.stateNode=e}return ke(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=Sl(t),i!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[ot]=t}else Ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else i=So(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Vt(t),t):(Vt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return ke(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Sl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[ot]=t}else Ii(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),r=!1}else r=So(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Vt(t),t):(Vt(t),null)}return Vt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Sc(t,t.updateQueue),ke(t),null);case 4:return hn(),e===null&&ju(t.stateNode.containerInfo),ke(t),null;case 10:return Mn(t.type),ke(t),null;case 19:if(te(Ze),s=t.memoizedState,s===null)return ke(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)La(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=rc(e),u!==null){for(t.flags|=128,La(s,!1),e=u.updateQueue,t.updateQueue=e,Sc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)bd(i,e),i=i.sibling;return fe(Ze,Ze.current&1|2),he&&wn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&bt()>xc&&(t.flags|=128,r=!0,La(s,!1),t.lanes=4194304)}else{if(!r)if(e=rc(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Sc(t,e),La(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!he)return ke(t),null}else 2*bt()-s.renderingStartTime>xc&&i!==536870912&&(t.flags|=128,r=!0,La(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=bt(),e.sibling=null,i=Ze.current,fe(Ze,r?i&1|2:i&1),he&&wn(t,s.treeForkCount),e):(ke(t),null);case 22:case 23:return Vt(t),zo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),i=t.updateQueue,i!==null&&Sc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&te(Gi),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Mn(We),ke(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function p0(e,t){switch(vo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Mn(We),hn(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Cn(t),null;case 31:if(t.memoizedState!==null){if(Vt(t),t.alternate===null)throw Error(c(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Vt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Ii()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return te(Ze),null;case 4:return hn(),null;case 10:return Mn(t.type),null;case 22:case 23:return Vt(t),zo(),e!==null&&te(Gi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Mn(We),null;case 25:return null;default:return null}}function Fm(e,t){switch(vo(t),t.tag){case 3:Mn(We),hn();break;case 26:case 27:case 5:Cn(t);break;case 4:hn();break;case 31:t.memoizedState!==null&&Vt(t);break;case 13:Vt(t);break;case 19:te(Ze);break;case 10:Mn(t.type);break;case 22:case 23:Vt(t),zo(),e!==null&&te(Gi);break;case 24:Mn(We)}}function Ba(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var u=i.create,d=i.inst;s=u(),d.destroy=s}i=i.next}while(i!==r)}}catch(p){Se(t,t.return,p)}}function ci(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var d=s.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,r=t;var b=i,A=p;try{A()}catch(M){Se(r,b,M)}}}s=s.next}while(s!==u)}}catch(M){Se(t,t.return,M)}}function Km(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Hd(t,i)}catch(s){Se(e,e.return,s)}}}function Zm(e,t,i){i.props=Fi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Se(e,t,s)}}function Ha(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Se(e,t,r)}}function pn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Se(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Se(e,t,r)}else i.current=null}function Jm(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Se(e,e.return,r)}}function fu(e,t,i){try{var s=e.stateNode;H0(s,e.type,i,t),s[At]=t}catch(r){Se(e,e.return,r)}}function Wm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mi(e.type)||e.tag===4}function du(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Nn));else if(s!==4&&(s===27&&mi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(mu(e,t,i),e=e.sibling;e!==null;)mu(e,t,i),e=e.sibling}function Cc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&mi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Cc(e,t,i),e=e.sibling;e!==null;)Cc(e,t,i),e=e.sibling}function $m(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dt(t,s,i),t[ot]=e,t[At]=i}catch(u){Se(e,e.return,u)}}var Un=!1,et=!1,gu=!1,Pm=typeof WeakSet=="function"?WeakSet:Set,at=null;function _0(e,t){if(e=e.containerInfo,Lu=qc,e=hd(e),co(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var d=0,p=-1,b=-1,A=0,M=0,j=e,w=null;t:for(;;){for(var D;j!==i||r!==0&&j.nodeType!==3||(p=d+r),j!==u||s!==0&&j.nodeType!==3||(b=d+s),j.nodeType===3&&(d+=j.nodeValue.length),(D=j.firstChild)!==null;)w=j,j=D;for(;;){if(j===e)break t;if(w===i&&++A===r&&(p=d),w===u&&++M===s&&(b=d),(D=j.nextSibling)!==null)break;j=w,w=j.parentNode}j=D}i=p===-1||b===-1?null:{start:p,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Bu={focusedElem:e,selectionRange:i},qc=!1,at=t;at!==null;)if(t=at,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,at=e;else for(;at!==null;){switch(t=at,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,r=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var k=Fi(i.type,r);e=s.getSnapshotBeforeUpdate(k,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(X){Se(i,i.return,X)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)ku(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":ku(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,at=e;break}at=t.return}}function eg(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Bn(e,i),s&4&&Ba(5,i);break;case 1:if(Bn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Se(i,i.return,d)}else{var r=Fi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Se(i,i.return,d)}}s&64&&Km(i),s&512&&Ha(i,i.return);break;case 3:if(Bn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Hd(e,t)}catch(d){Se(i,i.return,d)}}break;case 27:t===null&&s&4&&$m(i);case 26:case 5:Bn(e,i),t===null&&s&4&&Jm(i),s&512&&Ha(i,i.return);break;case 12:Bn(e,i);break;case 31:Bn(e,i),s&4&&ig(e,i);break;case 13:Bn(e,i),s&4&&lg(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=x0.bind(null,i),X0(e,i))));break;case 22:if(s=i.memoizedState!==null||Un,!s){t=t!==null&&t.memoizedState!==null||et,r=Un;var u=et;Un=s,(et=t)&&!u?Hn(e,i,(i.subtreeFlags&8772)!==0):Bn(e,i),Un=r,et=u}break;case 30:break;default:Bn(e,i)}}function tg(e){var t=e.alternate;t!==null&&(e.alternate=null,tg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,Dt=!1;function Ln(e,t,i){for(i=i.child;i!==null;)ng(e,t,i),i=i.sibling}function ng(e,t,i){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Zn,i)}catch{}switch(i.tag){case 26:et||pn(i,t),Ln(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:et||pn(i,t);var s=Ve,r=Dt;mi(i.type)&&(Ve=i.stateNode,Dt=!1),Ln(e,t,i),Fa(i.stateNode),Ve=s,Dt=r;break;case 5:et||pn(i,t);case 6:if(s=Ve,r=Dt,Ve=null,Ln(e,t,i),Ve=s,Dt=r,Ve!==null)if(Dt)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(i.stateNode)}catch(u){Se(i,t,u)}else try{Ve.removeChild(i.stateNode)}catch(u){Se(i,t,u)}break;case 18:Ve!==null&&(Dt?(e=Ve,Kg(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Gl(e)):Kg(Ve,i.stateNode));break;case 4:s=Ve,r=Dt,Ve=i.stateNode.containerInfo,Dt=!0,Ln(e,t,i),Ve=s,Dt=r;break;case 0:case 11:case 14:case 15:ci(2,i,t),et||ci(4,i,t),Ln(e,t,i);break;case 1:et||(pn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Zm(i,t,s)),Ln(e,t,i);break;case 21:Ln(e,t,i);break;case 22:et=(s=et)||i.memoizedState!==null,Ln(e,t,i),et=s;break;default:Ln(e,t,i)}}function ig(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Gl(e)}catch(i){Se(t,t.return,i)}}}function lg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Gl(e)}catch(i){Se(t,t.return,i)}}function y0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Pm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Pm),t;default:throw Error(c(435,e.tag))}}function Ec(e,t){var i=y0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=A0.bind(null,e,s);s.then(r,r)}})}function Mt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],u=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(mi(p.type)){Ve=p.stateNode,Dt=!1;break e}break;case 5:Ve=p.stateNode,Dt=!1;break e;case 3:case 4:Ve=p.stateNode.containerInfo,Dt=!0;break e}p=p.return}if(Ve===null)throw Error(c(160));ng(u,d,r),Ve=null,Dt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)ag(t,e),t=t.sibling}var sn=null;function ag(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Mt(t,e),Ot(e),s&4&&(ci(3,e,e.return),Ba(3,e),ci(5,e,e.return));break;case 1:Mt(t,e),Ot(e),s&512&&(et||i===null||pn(i,i.return)),s&64&&Un&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=sn;if(Mt(t,e),Ot(e),s&512&&(et||i===null||pn(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[ha]||u[ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),dt(u,s,i),u[ot]=e,lt(u),s=u;break e;case"link":var d=ap("link","href",r).get(s+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(u=d[p],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}u=r.createElement(s),dt(u,s,i),r.head.appendChild(u);break;case"meta":if(d=ap("meta","content",r).get(s+(i.content||""))){for(p=0;p<d.length;p++)if(u=d[p],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}u=r.createElement(s),dt(u,s,i),r.head.appendChild(u);break;default:throw Error(c(468,s))}u[ot]=e,lt(u),s=u}e.stateNode=s}else sp(r,e.type,e.stateNode);else e.stateNode=lp(r,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?sp(r,e.type,e.stateNode):lp(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&fu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Mt(t,e),Ot(e),s&512&&(et||i===null||pn(i,i.return)),i!==null&&s&4&&fu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Mt(t,e),Ot(e),s&512&&(et||i===null||pn(i,i.return)),e.flags&32){r=e.stateNode;try{hl(r,"")}catch(k){Se(e,e.return,k)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,fu(e,r,i!==null?i.memoizedProps:r)),s&1024&&(gu=!0);break;case 6:if(Mt(t,e),Ot(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(k){Se(e,e.return,k)}}break;case 3:if(Ic=null,r=sn,sn=Bc(t.containerInfo),Mt(t,e),sn=r,Ot(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Gl(t.containerInfo)}catch(k){Se(e,e.return,k)}gu&&(gu=!1,sg(e));break;case 4:s=sn,sn=Bc(e.stateNode.containerInfo),Mt(t,e),Ot(e),sn=s;break;case 12:Mt(t,e),Ot(e);break;case 31:Mt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ec(e,s)));break;case 13:Mt(t,e),Ot(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Nc=bt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ec(e,s)));break;case 22:r=e.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,A=Un,M=et;if(Un=A||r,et=M||b,Mt(t,e),et=M,Un=A,Ot(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||b||Un||et||Ki(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){b=i=t;try{if(u=b.stateNode,r)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=b.stateNode;var j=b.memoizedProps.style,w=j!=null&&j.hasOwnProperty("display")?j.display:null;p.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(k){Se(b,b.return,k)}}}else if(t.tag===6){if(i===null){b=t;try{b.stateNode.nodeValue=r?"":b.memoizedProps}catch(k){Se(b,b.return,k)}}}else if(t.tag===18){if(i===null){b=t;try{var D=b.stateNode;r?Zg(D,!0):Zg(b.stateNode,!1)}catch(k){Se(b,b.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Ec(e,i))));break;case 19:Mt(t,e),Ot(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ec(e,s)));break;case 30:break;case 21:break;default:Mt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(Wm(s)){i=s;break}s=s.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var r=i.stateNode,u=du(e);Cc(e,u,r);break;case 5:var d=i.stateNode;i.flags&32&&(hl(d,""),i.flags&=-33);var p=du(e);Cc(e,p,d);break;case 3:case 4:var b=i.stateNode.containerInfo,A=du(e);mu(e,A,b);break;default:throw Error(c(161))}}catch(M){Se(e,e.return,M)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function sg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;sg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)eg(e,t.alternate,t),t=t.sibling}function Ki(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ci(4,t,t.return),Ki(t);break;case 1:pn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Zm(t,t.return,i),Ki(t);break;case 27:Fa(t.stateNode);case 26:case 5:pn(t,t.return),Ki(t);break;case 22:t.memoizedState===null&&Ki(t);break;case 30:Ki(t);break;default:Ki(t)}e=e.sibling}}function Hn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,d=u.flags;switch(u.tag){case 0:case 11:case 15:Hn(r,u,i),Ba(4,u);break;case 1:if(Hn(r,u,i),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(A){Se(s,s.return,A)}if(s=u,r=s.updateQueue,r!==null){var p=s.stateNode;try{var b=r.shared.hiddenCallbacks;if(b!==null)for(r.shared.hiddenCallbacks=null,r=0;r<b.length;r++)Bd(b[r],p)}catch(A){Se(s,s.return,A)}}i&&d&64&&Km(u),Ha(u,u.return);break;case 27:$m(u);case 26:case 5:Hn(r,u,i),i&&s===null&&d&4&&Jm(u),Ha(u,u.return);break;case 12:Hn(r,u,i);break;case 31:Hn(r,u,i),i&&d&4&&ig(r,u);break;case 13:Hn(r,u,i),i&&d&4&&lg(r,u);break;case 22:u.memoizedState===null&&Hn(r,u,i),Ha(u,u.return);break;case 30:break;default:Hn(r,u,i)}t=t.sibling}}function pu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ta(i))}function _u(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ta(e))}function cn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cg(e,t,i,s),t=t.sibling}function cg(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:cn(e,t,i,s),r&2048&&Ba(9,t);break;case 1:cn(e,t,i,s);break;case 3:cn(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ta(e)));break;case 12:if(r&2048){cn(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,d=u.id,p=u.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Se(t,t.return,b)}}else cn(e,t,i,s);break;case 31:cn(e,t,i,s);break;case 13:cn(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,d=t.alternate,t.memoizedState!==null?u._visibility&2?cn(e,t,i,s):Ia(e,t):u._visibility&2?cn(e,t,i,s):(u._visibility|=2,Ol(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&pu(d,t);break;case 24:cn(e,t,i,s),r&2048&&_u(t.alternate,t);break;default:cn(e,t,i,s)}}function Ol(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,d=t,p=i,b=s,A=d.flags;switch(d.tag){case 0:case 11:case 15:Ol(u,d,p,b,r),Ba(8,d);break;case 23:break;case 22:var M=d.stateNode;d.memoizedState!==null?M._visibility&2?Ol(u,d,p,b,r):Ia(u,d):(M._visibility|=2,Ol(u,d,p,b,r)),r&&A&2048&&pu(d.alternate,d);break;case 24:Ol(u,d,p,b,r),r&&A&2048&&_u(d.alternate,d);break;default:Ol(u,d,p,b,r)}t=t.sibling}}function Ia(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:Ia(i,s),r&2048&&pu(s.alternate,s);break;case 24:Ia(i,s),r&2048&&_u(s.alternate,s);break;default:Ia(i,s)}t=t.sibling}}var ka=8192;function Rl(e,t,i){if(e.subtreeFlags&ka)for(e=e.child;e!==null;)rg(e,t,i),e=e.sibling}function rg(e,t,i){switch(e.tag){case 26:Rl(e,t,i),e.flags&ka&&e.memoizedState!==null&&l1(i,sn,e.memoizedState,e.memoizedProps);break;case 5:Rl(e,t,i);break;case 3:case 4:var s=sn;sn=Bc(e.stateNode.containerInfo),Rl(e,t,i),sn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ka,ka=16777216,Rl(e,t,i),ka=s):Rl(e,t,i));break;default:Rl(e,t,i)}}function og(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Va(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];at=s,hg(s,e)}og(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ug(e),e=e.sibling}function ug(e){switch(e.tag){case 0:case 11:case 15:Va(e),e.flags&2048&&ci(9,e,e.return);break;case 3:Va(e);break;case 12:Va(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Tc(e)):Va(e);break;default:Va(e)}}function Tc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];at=s,hg(s,e)}og(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ci(8,t,t.return),Tc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Tc(t));break;default:Tc(t)}e=e.sibling}}function hg(e,t){for(;at!==null;){var i=at;switch(i.tag){case 0:case 11:case 15:ci(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ta(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,at=s;else e:for(i=e;at!==null;){s=at;var r=s.sibling,u=s.return;if(tg(s),s===i){at=null;break e}if(r!==null){r.return=u,at=r;break e}at=u}}}var v0={getCacheForType:function(e){var t=ht(We),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ht(We).controller.signal}},b0=typeof WeakMap=="function"?WeakMap:Map,ye=0,we=null,ae=null,re=0,be=0,Gt=null,ri=!1,jl=!1,yu=!1,In=0,Ye=0,oi=0,Zi=0,vu=0,qt=0,zl=0,Ga=null,Rt=null,bu=!1,Nc=0,fg=0,xc=1/0,Ac=null,ui=null,tt=0,hi=null,Ul=null,kn=0,Su=0,Cu=null,dg=null,qa=0,Eu=null;function Yt(){return(ye&2)!==0&&re!==0?re&-re:O.T!==null?Du():Df()}function mg(){if(qt===0)if((re&536870912)===0||he){var e=dn;dn<<=1,(dn&3932160)===0&&(dn=262144),qt=e}else qt=536870912;return e=kt.current,e!==null&&(e.flags|=32),qt}function jt(e,t,i){(e===we&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(Ll(e,0),fi(e,re,qt,!1)),ua(e,i),((ye&2)===0||e!==we)&&(e===we&&((ye&2)===0&&(Zi|=i),Ye===4&&fi(e,re,qt,!1)),_n(e))}function gg(e,t,i){if((ye&6)!==0)throw Error(c(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||oa(e,t),r=s?E0(e,t):Nu(e,t,!0),u=s;do{if(r===0){jl&&!s&&fi(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!S0(i)){r=Nu(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;r=Ga;var b=p.current.memoizedState.isDehydrated;if(b&&(Ll(p,d).flags|=256),d=Nu(p,d,!1),d!==2){if(yu&&!b){p.errorRecoveryDisabledLanes|=u,Zi|=u,r=4;break e}u=Rt,Rt=r,u!==null&&(Rt===null?Rt=u:Rt.push.apply(Rt,u))}r=d}if(u=!1,r!==2)continue}}if(r===1){Ll(e,0),fi(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:fi(s,t,qt,!ri);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Nc+300-bt(),10<r)){if(fi(s,t,qt,!ri),Bs(s,0,!0)!==0)break e;kn=t,s.timeoutHandle=Xg(pg.bind(null,s,i,Rt,Ac,bu,t,qt,Zi,zl,ri,u,"Throttled",-0,0),r);break e}pg(s,i,Rt,Ac,bu,t,qt,Zi,zl,ri,u,null,-0,0)}}break}while(!0);_n(e)}function pg(e,t,i,s,r,u,d,p,b,A,M,j,w,D){if(e.timeoutHandle=-1,j=t.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nn},rg(t,u,j);var k=(u&62914560)===u?Nc-bt():(u&4194048)===u?fg-bt():0;if(k=a1(j,k),k!==null){kn=u,e.cancelPendingCommit=k(Tg.bind(null,e,t,u,i,s,r,d,p,b,M,j,null,w,D)),fi(e,u,d,!A);return}}Tg(e,t,u,i,s,r,d,p,b)}function S0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],u=r.getSnapshot;r=r.value;try{if(!Ht(u(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t,i,s){t&=~vu,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-G(r),d=1<<u;s[u]=-1,r&=~d}i!==0&&xf(e,i,t)}function wc(){return(ye&6)===0?(Ya(0),!1):!0}function Tu(){if(ae!==null){if(be===0)var e=ae.return;else e=ae,Dn=ki=null,ko(e),xl=null,xa=0,e=ae;for(;e!==null;)Fm(e.alternate,e),e=e.return;ae=null}}function Ll(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,V0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),kn=0,Tu(),we=e,ae=i=An(e.current,null),re=t,be=0,Gt=null,ri=!1,jl=oa(e,t),yu=!1,zl=qt=vu=Zi=oi=Ye=0,Rt=Ga=null,bu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-G(s),u=1<<r;t|=e[r],s&=~u}return In=t,Zs(),i}function _g(e,t){W=null,O.H=za,t===Nl||t===ic?(t=jd(),be=3):t===wo?(t=jd(),be=4):be=t===nu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Gt=t,ae===null&&(Ye=1,_c(e,Kt(t,e.current)))}function yg(){var e=kt.current;return e===null?!0:(re&4194048)===re?$t===null:(re&62914560)===re||(re&536870912)!==0?e===$t:!1}function vg(){var e=O.H;return O.H=za,e===null?za:e}function bg(){var e=O.A;return O.A=v0,e}function Dc(){Ye=4,ri||(re&4194048)!==re&&kt.current!==null||(jl=!0),(oi&134217727)===0&&(Zi&134217727)===0||we===null||fi(we,re,qt,!1)}function Nu(e,t,i){var s=ye;ye|=2;var r=vg(),u=bg();(we!==e||re!==t)&&(Ac=null,Ll(e,t)),t=!1;var d=Ye;e:do try{if(be!==0&&ae!==null){var p=ae,b=Gt;switch(be){case 8:Tu(),d=6;break e;case 3:case 2:case 9:case 6:kt.current===null&&(t=!0);var A=be;if(be=0,Gt=null,Bl(e,p,b,A),i&&jl){d=0;break e}break;default:A=be,be=0,Gt=null,Bl(e,p,b,A)}}C0(),d=Ye;break}catch(M){_g(e,M)}while(!0);return t&&e.shellSuspendCounter++,Dn=ki=null,ye=s,O.H=r,O.A=u,ae===null&&(we=null,re=0,Zs()),d}function C0(){for(;ae!==null;)Sg(ae)}function E0(e,t){var i=ye;ye|=2;var s=vg(),r=bg();we!==e||re!==t?(Ac=null,xc=bt()+500,Ll(e,t)):jl=oa(e,t);e:do try{if(be!==0&&ae!==null){t=ae;var u=Gt;t:switch(be){case 1:be=0,Gt=null,Bl(e,t,u,1);break;case 2:case 9:if(Od(u)){be=0,Gt=null,Cg(t);break}t=function(){be!==2&&be!==9||we!==e||(be=7),_n(e)},u.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:Od(u)?(be=0,Gt=null,Cg(t)):(be=0,Gt=null,Bl(e,t,u,7));break;case 5:var d=null;switch(ae.tag){case 26:d=ae.memoizedState;case 5:case 27:var p=ae;if(d?cp(d):p.stateNode.complete){be=0,Gt=null;var b=p.sibling;if(b!==null)ae=b;else{var A=p.return;A!==null?(ae=A,Mc(A)):ae=null}break t}}be=0,Gt=null,Bl(e,t,u,5);break;case 6:be=0,Gt=null,Bl(e,t,u,6);break;case 8:Tu(),Ye=6;break e;default:throw Error(c(462))}}T0();break}catch(M){_g(e,M)}while(!0);return Dn=ki=null,O.H=s,O.A=r,ye=i,ae!==null?0:(we=null,re=0,Zs(),Ye)}function T0(){for(;ae!==null&&!Rs();)Sg(ae)}function Sg(e){var t=Qm(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?Mc(e):ae=t}function Cg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=Im(i,t,t.pendingProps,t.type,void 0,re);break;case 11:t=Im(i,t,t.pendingProps,t.type.render,t.ref,re);break;case 5:ko(t);default:Fm(i,t),t=ae=bd(t,In),t=Qm(i,t,In)}e.memoizedProps=e.pendingProps,t===null?Mc(e):ae=t}function Bl(e,t,i,s){Dn=ki=null,ko(t),xl=null,xa=0;var r=t.return;try{if(f0(e,r,t,i,re)){Ye=1,_c(e,Kt(i,e.current)),ae=null;return}}catch(u){if(r!==null)throw ae=r,u;Ye=1,_c(e,Kt(i,e.current)),ae=null;return}t.flags&32768?(he||s===1?e=!0:jl||(re&536870912)!==0?e=!1:(ri=e=!0,(s===2||s===9||s===3||s===6)&&(s=kt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Eg(t,e)):Mc(t)}function Mc(e){var t=e;do{if((t.flags&32768)!==0){Eg(t,ri);return}e=t.return;var i=g0(t.alternate,t,In);if(i!==null){ae=i;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);Ye===0&&(Ye=5)}function Eg(e,t){do{var i=p0(e.alternate,e);if(i!==null){i.flags&=32767,ae=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ae=e;return}ae=e=i}while(e!==null);Ye=6,ae=null}function Tg(e,t,i,s,r,u,d,p,b){e.cancelPendingCommit=null;do Oc();while(tt!==0);if((ye&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=fo,iv(e,i,u,d,p,b),e===we&&(ae=we=null,re=0),Ul=t,hi=e,kn=i,Su=u,Cu=r,dg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w0(Oi,function(){return Dg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,r=H.p,H.p=2,d=ye,ye|=4;try{_0(e,t,i)}finally{ye=d,H.p=r,O.T=s}}tt=1,Ng(),xg(),Ag()}}function Ng(){if(tt===1){tt=0;var e=hi,t=Ul,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=O.T,O.T=null;var s=H.p;H.p=2;var r=ye;ye|=4;try{ag(t,e);var u=Bu,d=hd(e.containerInfo),p=u.focusedElem,b=u.selectionRange;if(d!==p&&p&&p.ownerDocument&&ud(p.ownerDocument.documentElement,p)){if(b!==null&&co(p)){var A=b.start,M=b.end;if(M===void 0&&(M=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(M,p.value.length);else{var j=p.ownerDocument||document,w=j&&j.defaultView||window;if(w.getSelection){var D=w.getSelection(),k=p.textContent.length,X=Math.min(b.start,k),Ne=b.end===void 0?X:Math.min(b.end,k);!D.extend&&X>Ne&&(d=Ne,Ne=X,X=d);var T=od(p,X),C=od(p,Ne);if(T&&C&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var x=j.createRange();x.setStart(T.node,T.offset),D.removeAllRanges(),X>Ne?(D.addRange(x),D.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),D.addRange(x))}}}}for(j=[],D=p;D=D.parentNode;)D.nodeType===1&&j.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<j.length;p++){var R=j[p];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}qc=!!Lu,Bu=Lu=null}finally{ye=r,H.p=s,O.T=i}}e.current=t,tt=2}}function xg(){if(tt===2){tt=0;var e=hi,t=Ul,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=O.T,O.T=null;var s=H.p;H.p=2;var r=ye;ye|=4;try{eg(e,t.alternate,t)}finally{ye=r,H.p=s,O.T=i}}tt=3}}function Ag(){if(tt===4||tt===3){tt=0,Ur();var e=hi,t=Ul,i=kn,s=dg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,Ul=hi=null,wg(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(ui=null),Gr(i),t=t.stateNode,pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Zn,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,r=H.p,H.p=2,O.T=null;try{for(var u=e.onRecoverableError,d=0;d<s.length;d++){var p=s[d];u(p.value,{componentStack:p.stack})}}finally{O.T=t,H.p=r}}(kn&3)!==0&&Oc(),_n(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===Eu?qa++:(qa=0,Eu=e):qa=0,Ya(0)}}function wg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ta(t)))}function Oc(){return Ng(),xg(),Ag(),Dg()}function Dg(){if(tt!==5)return!1;var e=hi,t=Su;Su=0;var i=Gr(kn),s=O.T,r=H.p;try{H.p=32>i?32:i,O.T=null,i=Cu,Cu=null;var u=hi,d=kn;if(tt=0,Ul=hi=null,kn=0,(ye&6)!==0)throw Error(c(331));var p=ye;if(ye|=4,ug(u.current),cg(u,u.current,d,i),ye=p,Ya(0,!1),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Zn,u)}catch{}return!0}finally{H.p=r,O.T=s,wg(e,t)}}function Mg(e,t,i){t=Kt(i,t),t=tu(e.stateNode,t,2),e=li(e,t,2),e!==null&&(ua(e,2),_n(e))}function Se(e,t,i){if(e.tag===3)Mg(e,e,i);else for(;t!==null;){if(t.tag===3){Mg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ui===null||!ui.has(s))){e=Kt(i,e),i=Om(2),s=li(t,i,2),s!==null&&(Rm(i,s,t,e),ua(s,2),_n(s));break}}t=t.return}}function xu(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new b0;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(yu=!0,r.add(i),e=N0.bind(null,e,t,i),t.then(e,e))}function N0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,we===e&&(re&i)===i&&(Ye===4||Ye===3&&(re&62914560)===re&&300>bt()-Nc?(ye&2)===0&&Ll(e,0):vu|=i,zl===re&&(zl=0)),_n(e)}function Og(e,t){t===0&&(t=Nf()),e=Bi(e,t),e!==null&&(ua(e,t),_n(e))}function x0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Og(e,i)}function A0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Og(e,i)}function w0(e,t){return ca(e,t)}var Rc=null,Hl=null,Au=!1,jc=!1,wu=!1,di=0;function _n(e){e!==Hl&&e.next===null&&(Hl===null?Rc=Hl=e:Hl=Hl.next=e),jc=!0,Au||(Au=!0,M0())}function Ya(e,t){if(!wu&&jc){wu=!0;do for(var i=!1,s=Rc;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var d=s.suspendedLanes,p=s.pingedLanes;u=(1<<31-G(42|e)+1)-1,u&=r&~(d&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Ug(s,u))}else u=re,u=Bs(s,s===we?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||oa(s,u)||(i=!0,Ug(s,u));s=s.next}while(i);wu=!1}}function D0(){Rg()}function Rg(){jc=Au=!1;var e=0;di!==0&&k0()&&(e=di);for(var t=bt(),i=null,s=Rc;s!==null;){var r=s.next,u=jg(s,t);u===0?(s.next=null,i===null?Rc=r:i.next=r,r===null&&(Hl=i)):(i=s,(e!==0||(u&3)!==0)&&(jc=!0)),s=r}tt!==0&&tt!==5||Ya(e),di!==0&&(di=0)}function jg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-G(u),p=1<<d,b=r[d];b===-1?((p&i)===0||(p&s)!==0)&&(r[d]=nv(p,t)):b<=t&&(e.expiredLanes|=p),u&=~p}if(t=we,i=re,i=Bs(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&ra(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||oa(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&ra(s),Gr(i)){case 2:case 8:i=zs;break;case 32:i=Oi;break;case 268435456:i=Us;break;default:i=Oi}return s=zg.bind(null,e),i=ca(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&ra(s),e.callbackPriority=2,e.callbackNode=null,2}function zg(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Oc()&&e.callbackNode!==i)return null;var s=re;return s=Bs(e,e===we?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(gg(e,s,t),jg(e,bt()),e.callbackNode!=null&&e.callbackNode===i?zg.bind(null,e):null)}function Ug(e,t){if(Oc())return null;gg(e,t,!0)}function M0(){G0(function(){(ye&6)!==0?ca(js,D0):Rg()})}function Du(){if(di===0){var e=El;e===0&&(e=Bt,Bt<<=1,(Bt&261888)===0&&(Bt=256)),di=e}return di}function Lg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vs(""+e)}function Bg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function O0(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var u=Lg((r[At]||null).action),d=s.submitter;d&&(t=(t=d[At]||null)?Lg(t.formAction):d.getAttribute("formAction"),t!==null&&(u=t,d=null));var p=new Qs("action","action",null,s,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(di!==0){var b=d?Bg(r,d):new FormData(r);Zo(i,{pending:!0,data:b,method:r.method,action:u},null,b)}}else typeof u=="function"&&(p.preventDefault(),b=d?Bg(r,d):new FormData(r),Zo(i,{pending:!0,data:b,method:r.method,action:u},u,b))},currentTarget:r}]})}}for(var Mu=0;Mu<ho.length;Mu++){var Ou=ho[Mu],R0=Ou.toLowerCase(),j0=Ou[0].toUpperCase()+Ou.slice(1);an(R0,"on"+j0)}an(md,"onAnimationEnd"),an(gd,"onAnimationIteration"),an(pd,"onAnimationStart"),an("dblclick","onDoubleClick"),an("focusin","onFocus"),an("focusout","onBlur"),an(Zv,"onTransitionRun"),an(Jv,"onTransitionStart"),an(Wv,"onTransitionCancel"),an(_d,"onTransitionEnd"),ol("onMouseEnter",["mouseout","mouseover"]),ol("onMouseLeave",["mouseout","mouseover"]),ol("onPointerEnter",["pointerout","pointerover"]),ol("onPointerLeave",["pointerout","pointerover"]),ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ji("onBeforeInput",["compositionend","keypress","textInput","paste"]),ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qa));function Hg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var d=s.length-1;0<=d;d--){var p=s[d],b=p.instance,A=p.currentTarget;if(p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(M){Ks(M)}r.currentTarget=null,u=b}else for(d=0;d<s.length;d++){if(p=s[d],b=p.instance,A=p.currentTarget,p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(M){Ks(M)}r.currentTarget=null,u=b}}}}function se(e,t){var i=t[qr];i===void 0&&(i=t[qr]=new Set);var s=e+"__bubble";i.has(s)||(Ig(t,e,2,!1),i.add(s))}function Ru(e,t,i){var s=0;t&&(s|=4),Ig(i,e,s,t)}var zc="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[zc]){e[zc]=!0,Rf.forEach(function(i){i!=="selectionchange"&&(z0.has(i)||Ru(i,!1,e),Ru(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zc]||(t[zc]=!0,Ru("selectionchange",!1,t))}}function Ig(e,t,i,s){switch(mp(t)){case 2:var r=r1;break;case 8:r=o1;break;default:r=Ku}i=r.bind(null,t,i,e),r=void 0,!$r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function zu(e,t,i,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===r)break;if(d===4)for(d=s.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===r)return;d=d.return}for(;p!==null;){if(d=sl(p),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){s=u=d;continue e}p=p.parentNode}}s=s.return}Yf(function(){var A=u,M=Jr(i),j=[];e:{var w=yd.get(e);if(w!==void 0){var D=Qs,k=e;switch(e){case"keypress":if(qs(i)===0)break e;case"keydown":case"keyup":D=Av;break;case"focusin":k="focus",D=no;break;case"focusout":k="blur",D=no;break;case"beforeblur":case"afterblur":D=no;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Ff;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=gv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=Mv;break;case md:case gd:case pd:D=yv;break;case _d:D=Rv;break;case"scroll":case"scrollend":D=dv;break;case"wheel":D=zv;break;case"copy":case"cut":case"paste":D=bv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Zf;break;case"toggle":case"beforetoggle":D=Lv}var X=(t&4)!==0,Ne=!X&&(e==="scroll"||e==="scrollend"),T=X?w!==null?w+"Capture":null:w;X=[];for(var C=A,x;C!==null;){var R=C;if(x=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||x===null||T===null||(R=da(C,T),R!=null&&X.push(Xa(C,R,x))),Ne)break;C=C.return}0<X.length&&(w=new D(w,k,null,i,M),j.push({event:w,listeners:X}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",w&&i!==Zr&&(k=i.relatedTarget||i.fromElement)&&(sl(k)||k[al]))break e;if((D||w)&&(w=M.window===M?M:(w=M.ownerDocument)?w.defaultView||w.parentWindow:window,D?(k=i.relatedTarget||i.toElement,D=A,k=k?sl(k):null,k!==null&&(Ne=h(k),X=k.tag,k!==Ne||X!==5&&X!==27&&X!==6)&&(k=null)):(D=null,k=A),D!==k)){if(X=Ff,R="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(X=Zf,R="onPointerLeave",T="onPointerEnter",C="pointer"),Ne=D==null?w:fa(D),x=k==null?w:fa(k),w=new X(R,C+"leave",D,i,M),w.target=Ne,w.relatedTarget=x,R=null,sl(M)===A&&(X=new X(T,C+"enter",k,i,M),X.target=x,X.relatedTarget=Ne,R=X),Ne=R,D&&k)t:{for(X=U0,T=D,C=k,x=0,R=T;R;R=X(R))x++;R=0;for(var Y=C;Y;Y=X(Y))R++;for(;0<x-R;)T=X(T),x--;for(;0<R-x;)C=X(C),R--;for(;x--;){if(T===C||C!==null&&T===C.alternate){X=T;break t}T=X(T),C=X(C)}X=null}else X=null;D!==null&&kg(j,w,D,X,!1),k!==null&&Ne!==null&&kg(j,Ne,k,X,!0)}}e:{if(w=A?fa(A):window,D=w.nodeName&&w.nodeName.toLowerCase(),D==="select"||D==="input"&&w.type==="file")var me=id;else if(td(w))if(ld)me=Xv;else{me=Yv;var V=qv}else D=w.nodeName,!D||D.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&Kr(A.elementType)&&(me=id):me=Qv;if(me&&(me=me(e,A))){nd(j,me,i,M);break e}V&&V(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&Fr(w,"number",w.value)}switch(V=A?fa(A):window,e){case"focusin":(td(V)||V.contentEditable==="true")&&(gl=V,ro=A,Sa=null);break;case"focusout":Sa=ro=gl=null;break;case"mousedown":oo=!0;break;case"contextmenu":case"mouseup":case"dragend":oo=!1,fd(j,i,M);break;case"selectionchange":if(Kv)break;case"keydown":case"keyup":fd(j,i,M)}var $;if(lo)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else ml?Pf(e,i)&&(oe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(oe="onCompositionStart");oe&&(Jf&&i.locale!=="ko"&&(ml||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&ml&&($=Qf()):(Wn=M,Pr="value"in Wn?Wn.value:Wn.textContent,ml=!0)),V=Uc(A,oe),0<V.length&&(oe=new Kf(oe,e,null,i,M),j.push({event:oe,listeners:V}),$?oe.data=$:($=ed(i),$!==null&&(oe.data=$)))),($=Hv?Iv(e,i):kv(e,i))&&(oe=Uc(A,"onBeforeInput"),0<oe.length&&(V=new Kf("onBeforeInput","beforeinput",null,i,M),j.push({event:V,listeners:oe}),V.data=$)),O0(j,e,A,i,M)}Hg(j,t)})}function Xa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Uc(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=da(e,i),r!=null&&s.unshift(Xa(e,r,u)),r=da(e,t),r!=null&&s.push(Xa(e,r,u))),e.tag===3)return s;e=e.return}return[]}function U0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kg(e,t,i,s,r){for(var u=t._reactName,d=[];i!==null&&i!==s;){var p=i,b=p.alternate,A=p.stateNode;if(p=p.tag,b!==null&&b===s)break;p!==5&&p!==26&&p!==27||A===null||(b=A,r?(A=da(i,u),A!=null&&d.unshift(Xa(i,A,b))):r||(A=da(i,u),A!=null&&d.push(Xa(i,A,b)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var L0=/\r\n?/g,B0=/\u0000|\uFFFD/g;function Vg(e){return(typeof e=="string"?e:""+e).replace(L0,`
`).replace(B0,"")}function Gg(e,t){return t=Vg(t),Vg(e)===t}function Te(e,t,i,s,r,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||hl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&hl(e,""+s);break;case"className":Is(e,"class",s);break;case"tabIndex":Is(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Is(e,i,s);break;case"style":Gf(e,s,u);break;case"data":if(t!=="object"){Is(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Vs(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Te(e,t,"name",r.name,r,null),Te(e,t,"formEncType",r.formEncType,r,null),Te(e,t,"formMethod",r.formMethod,r,null),Te(e,t,"formTarget",r.formTarget,r,null)):(Te(e,t,"encType",r.encType,r,null),Te(e,t,"method",r.method,r,null),Te(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Vs(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Nn);break;case"onScroll":s!=null&&se("scroll",e);break;case"onScrollEnd":s!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Vs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":se("beforetoggle",e),se("toggle",e),Hs(e,"popover",s);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Hs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=hv.get(i)||i,Hs(e,i,s))}}function Uu(e,t,i,s,r,u){switch(i){case"style":Gf(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof s=="string"?hl(e,s):(typeof s=="number"||typeof s=="bigint")&&hl(e,""+s);break;case"onScroll":s!=null&&se("scroll",e);break;case"onScrollEnd":s!=null&&se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),u=e[At]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Hs(e,i,s)}}}function dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var s=!1,r=!1,u;for(u in i)if(i.hasOwnProperty(u)){var d=i[u];if(d!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Te(e,t,u,d,i,null)}}r&&Te(e,t,"srcSet",i.srcSet,i,null),s&&Te(e,t,"src",i.src,i,null);return;case"input":se("invalid",e);var p=u=d=r=null,b=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var M=i[s];if(M!=null)switch(s){case"name":r=M;break;case"type":d=M;break;case"checked":b=M;break;case"defaultChecked":A=M;break;case"value":u=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(c(137,t));break;default:Te(e,t,s,M,i,null)}}Hf(e,u,p,b,A,d,r,!1);return;case"select":se("invalid",e),s=d=u=null;for(r in i)if(i.hasOwnProperty(r)&&(p=i[r],p!=null))switch(r){case"value":u=p;break;case"defaultValue":d=p;break;case"multiple":s=p;default:Te(e,t,r,p,i,null)}t=u,i=d,e.multiple=!!s,t!=null?ul(e,!!s,t,!1):i!=null&&ul(e,!!s,i,!0);return;case"textarea":se("invalid",e),u=r=s=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":s=p;break;case"defaultValue":r=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:Te(e,t,d,p,i,null)}kf(e,s,r,u);return;case"option":for(b in i)i.hasOwnProperty(b)&&(s=i[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Te(e,t,b,s,i,null));return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(s=0;s<Qa.length;s++)se(Qa[s],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Te(e,t,A,s,i,null)}return;default:if(Kr(t)){for(M in i)i.hasOwnProperty(M)&&(s=i[M],s!==void 0&&Uu(e,t,M,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Te(e,t,p,s,i,null))}function H0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,d=null,p=null,b=null,A=null,M=null;for(D in i){var j=i[D];if(i.hasOwnProperty(D)&&j!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":b=j;default:s.hasOwnProperty(D)||Te(e,t,D,null,s,j)}}for(var w in s){var D=s[w];if(j=i[w],s.hasOwnProperty(w)&&(D!=null||j!=null))switch(w){case"type":u=D;break;case"name":r=D;break;case"checked":A=D;break;case"defaultChecked":M=D;break;case"value":d=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(c(137,t));break;default:D!==j&&Te(e,t,w,D,s,j)}}Xr(e,d,p,b,A,M,u,r);return;case"select":D=d=p=w=null;for(u in i)if(b=i[u],i.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":D=b;default:s.hasOwnProperty(u)||Te(e,t,u,null,s,b)}for(r in s)if(u=s[r],b=i[r],s.hasOwnProperty(r)&&(u!=null||b!=null))switch(r){case"value":w=u;break;case"defaultValue":p=u;break;case"multiple":d=u;default:u!==b&&Te(e,t,r,u,s,b)}t=p,i=d,s=D,w!=null?ul(e,!!i,w,!1):!!s!=!!i&&(t!=null?ul(e,!!i,t,!0):ul(e,!!i,i?[]:"",!1));return;case"textarea":D=w=null;for(p in i)if(r=i[p],i.hasOwnProperty(p)&&r!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Te(e,t,p,null,s,r)}for(d in s)if(r=s[d],u=i[d],s.hasOwnProperty(d)&&(r!=null||u!=null))switch(d){case"value":w=r;break;case"defaultValue":D=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==u&&Te(e,t,d,r,s,u)}If(e,w,D);return;case"option":for(var k in i)w=i[k],i.hasOwnProperty(k)&&w!=null&&!s.hasOwnProperty(k)&&(k==="selected"?e.selected=!1:Te(e,t,k,null,s,w));for(b in s)w=s[b],D=i[b],s.hasOwnProperty(b)&&w!==D&&(w!=null||D!=null)&&(b==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":Te(e,t,b,w,s,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var X in i)w=i[X],i.hasOwnProperty(X)&&w!=null&&!s.hasOwnProperty(X)&&Te(e,t,X,null,s,w);for(A in s)if(w=s[A],D=i[A],s.hasOwnProperty(A)&&w!==D&&(w!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(c(137,t));break;default:Te(e,t,A,w,s,D)}return;default:if(Kr(t)){for(var Ne in i)w=i[Ne],i.hasOwnProperty(Ne)&&w!==void 0&&!s.hasOwnProperty(Ne)&&Uu(e,t,Ne,void 0,s,w);for(M in s)w=s[M],D=i[M],!s.hasOwnProperty(M)||w===D||w===void 0&&D===void 0||Uu(e,t,M,w,s,D);return}}for(var T in i)w=i[T],i.hasOwnProperty(T)&&w!=null&&!s.hasOwnProperty(T)&&Te(e,t,T,null,s,w);for(j in s)w=s[j],D=i[j],!s.hasOwnProperty(j)||w===D||w==null&&D==null||Te(e,t,j,w,s,D)}function qg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],u=r.transferSize,d=r.initiatorType,p=r.duration;if(u&&p&&qg(d)){for(d=0,p=r.responseEnd,s+=1;s<i.length;s++){var b=i[s],A=b.startTime;if(A>p)break;var M=b.transferSize,j=b.initiatorType;M&&qg(j)&&(b=b.responseEnd,d+=M*(b<p?1:(p-A)/(b-A)))}if(--s,t+=8*(u+d)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Lu=null,Bu=null;function Lc(e){return e.nodeType===9?e:e.ownerDocument}function Yg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Iu=null;function k0(){var e=window.event;return e&&e.type==="popstate"?e===Iu?!1:(Iu=e,!0):(Iu=null,!1)}var Xg=typeof setTimeout=="function"?setTimeout:void 0,V0=typeof clearTimeout=="function"?clearTimeout:void 0,Fg=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof Fg<"u"?function(e){return Fg.resolve(null).then(e).catch(q0)}:Xg;function q0(e){setTimeout(function(){throw e})}function mi(e){return e==="head"}function Kg(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),Gl(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Fa(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Fa(i);for(var u=i.firstChild;u;){var d=u.nextSibling,p=u.nodeName;u[ha]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=d}}else i==="body"&&Fa(e.ownerDocument.body);i=r}while(i);Gl(t)}function Zg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function ku(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":ku(i),Yr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Y0(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[ha])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=Pt(e.nextSibling),e===null)break}return null}function Q0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Pt(e.nextSibling),e===null))return null;return e}function Jg(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Pt(e.nextSibling),e===null))return null;return e}function Vu(e){return e.data==="$?"||e.data==="$~"}function Gu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Pt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var qu=null;function Wg(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Pt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function $g(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function Pg(e,t,i){switch(t=Lc(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function Fa(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yr(e)}var en=new Map,ep=new Set;function Bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=H.d;H.d={f:F0,r:K0,D:Z0,C:J0,L:W0,m:$0,X:e1,S:P0,M:t1};function F0(){var e=Vn.f(),t=wc();return e||t}function K0(e){var t=cl(e);t!==null&&t.tag===5&&t.type==="form"?_m(t):Vn.r(e)}var Il=typeof document>"u"?null:document;function tp(e,t,i){var s=Il;if(s&&typeof t=="string"&&t){var r=Xt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),ep.has(r)||(ep.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),dt(t,"link",e),lt(t),s.head.appendChild(t)))}}function Z0(e){Vn.D(e),tp("dns-prefetch",e,null)}function J0(e,t){Vn.C(e,t),tp("preconnect",e,t)}function W0(e,t,i){Vn.L(e,t,i);var s=Il;if(s&&e&&t){var r='link[rel="preload"][as="'+Xt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Xt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Xt(i.imageSizes)+'"]')):r+='[href="'+Xt(e)+'"]';var u=r;switch(t){case"style":u=kl(e);break;case"script":u=Vl(e)}en.has(u)||(e=v({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),en.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Ka(u))||t==="script"&&s.querySelector(Za(u))||(t=s.createElement("link"),dt(t,"link",e),lt(t),s.head.appendChild(t)))}}function $0(e,t){Vn.m(e,t);var i=Il;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Xt(s)+'"][href="'+Xt(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Vl(e)}if(!en.has(u)&&(e=v({rel:"modulepreload",href:e},t),en.set(u,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Za(u)))return}s=i.createElement("link"),dt(s,"link",e),lt(s),i.head.appendChild(s)}}}function P0(e,t,i){Vn.S(e,t,i);var s=Il;if(s&&e){var r=rl(s).hoistableStyles,u=kl(e);t=t||"default";var d=r.get(u);if(!d){var p={loading:0,preload:null};if(d=s.querySelector(Ka(u)))p.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},i),(i=en.get(u))&&Yu(e,i);var b=d=s.createElement("link");lt(b),dt(b,"link",e),b._p=new Promise(function(A,M){b.onload=A,b.onerror=M}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Hc(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:p},r.set(u,d)}}}function e1(e,t){Vn.X(e,t);var i=Il;if(i&&e){var s=rl(i).hoistableScripts,r=Vl(e),u=s.get(r);u||(u=i.querySelector(Za(r)),u||(e=v({src:e,async:!0},t),(t=en.get(r))&&Qu(e,t),u=i.createElement("script"),lt(u),dt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function t1(e,t){Vn.M(e,t);var i=Il;if(i&&e){var s=rl(i).hoistableScripts,r=Vl(e),u=s.get(r);u||(u=i.querySelector(Za(r)),u||(e=v({src:e,async:!0,type:"module"},t),(t=en.get(r))&&Qu(e,t),u=i.createElement("script"),lt(u),dt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function np(e,t,i,s){var r=(r=Nt.current)?Bc(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=kl(i.href),i=rl(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=kl(i.href);var u=rl(r).hoistableStyles,d=u.get(e);if(d||(r=r.ownerDocument||r,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=r.querySelector(Ka(e)))&&!u._p&&(d.instance=u,d.state.loading=5),en.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},en.set(e,i),u||n1(r,e,i,d.state))),t&&s===null)throw Error(c(528,""));return d}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vl(i),i=rl(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function kl(e){return'href="'+Xt(e)+'"'}function Ka(e){return'link[rel="stylesheet"]['+e+"]"}function ip(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function n1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),dt(t,"link",i),lt(t),e.head.appendChild(t))}function Vl(e){return'[src="'+Xt(e)+'"]'}function Za(e){return"script[async]"+e}function lp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Xt(i.href)+'"]');if(s)return t.instance=s,lt(s),s;var r=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),lt(s),dt(s,"style",r),Hc(s,i.precedence,e),t.instance=s;case"stylesheet":r=kl(i.href);var u=e.querySelector(Ka(r));if(u)return t.state.loading|=4,t.instance=u,lt(u),u;s=ip(i),(r=en.get(r))&&Yu(s,r),u=(e.ownerDocument||e).createElement("link"),lt(u);var d=u;return d._p=new Promise(function(p,b){d.onload=p,d.onerror=b}),dt(u,"link",s),t.state.loading|=4,Hc(u,i.precedence,e),t.instance=u;case"script":return u=Vl(i.src),(r=e.querySelector(Za(u)))?(t.instance=r,lt(r),r):(s=i,(r=en.get(u))&&(s=v({},i),Qu(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),lt(r),dt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Hc(s,i.precedence,e));return t.instance}function Hc(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,d=0;d<s.length;d++){var p=s[d];if(p.dataset.precedence===t)u=p;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Yu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ic=null;function ap(e,t,i){if(Ic===null){var s=new Map,r=Ic=new Map;r.set(i,s)}else r=Ic,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var u=i[r];if(!(u[ha]||u[ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(t)||"";d=e+d;var p=s.get(d);p?p.push(u):s.set(d,[u])}}return s}function sp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function i1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function cp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function l1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=kl(s.href),u=t.querySelector(Ka(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=kc.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,lt(u);return}u=t.ownerDocument||t,s=ip(s),(r=en.get(r))&&Yu(s,r),u=u.createElement("link"),lt(u);var d=u;d._p=new Promise(function(p,b){d.onload=p,d.onerror=b}),dt(u,"link",s),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=kc.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Xu=0;function a1(e,t){return e.stylesheets&&e.count===0&&Gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Xu===0&&(Xu=62500*I0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Gc(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Xu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Gc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,t.forEach(s1,e),Vc=null,kc.call(e))}function s1(e,t){if(!(t.state.loading&4)){var i=Vc.get(e);if(i)var s=i.get(null);else{i=new Map,Vc.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var d=r[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}r=t.instance,d=r.getAttribute("data-precedence"),u=i.get(d)||s,u===s&&i.set(null,r),i.set(d,r),this.count++,s=kc.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var Ja={$$typeof:le,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function c1(e,t,i,s,r,u,d,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function rp(e,t,i,s,r,u,d,p,b,A,M,j){return e=new c1(e,t,i,d,b,A,M,j,p),t=1,u===!0&&(t|=24),u=It(3,null,null,t),e.current=u,u.stateNode=e,t=No(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},Do(u),e}function op(e){return e?(e=yl,e):yl}function up(e,t,i,s,r,u){r=op(r),s.context===null?s.context=r:s.pendingContext=r,s=ii(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=li(e,s,t),i!==null&&(jt(i,e,t),wa(i,e,t))}function hp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Fu(e,t){hp(e,t),(e=e.alternate)&&hp(e,t)}function fp(e){if(e.tag===13||e.tag===31){var t=Bi(e,67108864);t!==null&&jt(t,e,67108864),Fu(e,67108864)}}function dp(e){if(e.tag===13||e.tag===31){var t=Yt();t=Vr(t);var i=Bi(e,t);i!==null&&jt(i,e,t),Fu(e,t)}}var qc=!0;function r1(e,t,i,s){var r=O.T;O.T=null;var u=H.p;try{H.p=2,Ku(e,t,i,s)}finally{H.p=u,O.T=r}}function o1(e,t,i,s){var r=O.T;O.T=null;var u=H.p;try{H.p=8,Ku(e,t,i,s)}finally{H.p=u,O.T=r}}function Ku(e,t,i,s){if(qc){var r=Zu(s);if(r===null)zu(e,t,s,Yc,i),gp(e,s);else if(h1(r,e,t,i,s))s.stopPropagation();else if(gp(e,s),t&4&&-1<u1.indexOf(e)){for(;r!==null;){var u=cl(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Ri(u.pendingLanes);if(d!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var b=1<<31-G(d);p.entanglements[1]|=b,d&=~b}_n(u),(ye&6)===0&&(xc=bt()+500,Ya(0))}}break;case 31:case 13:p=Bi(u,2),p!==null&&jt(p,u,2),wc(),Fu(u,2)}if(u=Zu(s),u===null&&zu(e,t,s,Yc,i),u===r)break;r=u}r!==null&&s.stopPropagation()}else zu(e,t,s,null,i)}}function Zu(e){return e=Jr(e),Ju(e)}var Yc=null;function Ju(e){if(Yc=null,e=sl(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Yc=e,null}function mp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Lr()){case js:return 2;case zs:return 8;case Oi:case Br:return 32;case Us:return 268435456;default:return 32}default:return 32}}var Wu=!1,gi=null,pi=null,_i=null,Wa=new Map,$a=new Map,yi=[],u1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(e,t){switch(e){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Wa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$a.delete(t.pointerId)}}function Pa(e,t,i,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=cl(t),t!==null&&fp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function h1(e,t,i,s,r){switch(t){case"focusin":return gi=Pa(gi,e,t,i,s,r),!0;case"dragenter":return pi=Pa(pi,e,t,i,s,r),!0;case"mouseover":return _i=Pa(_i,e,t,i,s,r),!0;case"pointerover":var u=r.pointerId;return Wa.set(u,Pa(Wa.get(u)||null,e,t,i,s,r)),!0;case"gotpointercapture":return u=r.pointerId,$a.set(u,Pa($a.get(u)||null,e,t,i,s,r)),!0}return!1}function pp(e){var t=sl(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,Mf(e.priority,function(){dp(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,Mf(e.priority,function(){dp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Zu(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Zr=s,i.target.dispatchEvent(s),Zr=null}else return t=cl(i),t!==null&&fp(t),e.blockedOn=i,!1;t.shift()}return!0}function _p(e,t,i){Qc(e)&&i.delete(t)}function f1(){Wu=!1,gi!==null&&Qc(gi)&&(gi=null),pi!==null&&Qc(pi)&&(pi=null),_i!==null&&Qc(_i)&&(_i=null),Wa.forEach(_p),$a.forEach(_p)}function Xc(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,f1)))}var Fc=null;function yp(e){Fc!==e&&(Fc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Fc===e&&(Fc=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(Ju(s||i)===null)continue;break}var u=cl(i);u!==null&&(e.splice(t,3),t-=3,Zo(u,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function Gl(e){function t(b){return Xc(b,e)}gi!==null&&Xc(gi,e),pi!==null&&Xc(pi,e),_i!==null&&Xc(_i,e),Wa.forEach(t),$a.forEach(t);for(var i=0;i<yi.length;i++){var s=yi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<yi.length&&(i=yi[0],i.blockedOn===null);)pp(i),i.blockedOn===null&&yi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],u=i[s+1],d=r[At]||null;if(typeof u=="function")d||yp(i);else if(d){var p=null;if(u&&u.hasAttribute("formAction")){if(r=u,d=u[At]||null)p=d.formAction;else if(Ju(r)!==null)continue}else p=d.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),yp(i)}}}function vp(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(d){return r=d})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function $u(e){this._internalRoot=e}Kc.prototype.render=$u.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,s=Yt();up(i,s,e,t,null,null)},Kc.prototype.unmount=$u.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;up(e.current,2,null,e,null,null),wc(),t[al]=null}};function Kc(e){this._internalRoot=e}Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Df();e={blockedOn:null,target:e,priority:t};for(var i=0;i<yi.length&&t!==0&&t<yi[i].priority;i++);yi.splice(i,0,e),i===0&&pp(e)}};var bp=n.version;if(bp!=="19.2.4")throw Error(c(527,bp,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var d1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zc.isDisabled&&Zc.supportsFiber)try{Zn=Zc.inject(d1),pt=Zc}catch{}}return es.createRoot=function(e,t){if(!o(e))throw Error(c(299));var i=!1,s="",r=Am,u=wm,d=Dm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=rp(e,1,!1,null,null,i,s,null,r,u,d,vp),e[al]=t.current,ju(e),new $u(t)},es.hydrateRoot=function(e,t,i){if(!o(e))throw Error(c(299));var s=!1,r="",u=Am,d=wm,p=Dm,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(b=i.formState)),t=rp(e,1,!0,t,i??null,s,r,b,u,d,p,vp),t.context=op(null),i=t.current,s=Yt(),s=Vr(s),r=ii(s),r.callback=null,li(i,r,s),i=s,t.current.lanes=i,ua(t,i),_n(t),e[al]=t.current,ju(e),new Kc(t)},es.version="19.2.4",es}var Tp;function v1(){if(Tp)return Pu.exports;Tp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),Pu.exports=y1(),Pu.exports}var b1=v1();function gh(a){return yt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(a)}function C_(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(a)}function S1(a){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(a)}function C1(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function E1(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(a)}function T1(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(a)}function ph(a){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(a)}function yn(a){return yt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(a)}function E_(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(a)}function N1(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function nh(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(a)}function er(a){return yt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}function x1(a){return yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(a)}function A1(a){return yt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function w1(a){return yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(a)}function D1(a){return yt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(a)}const Np=a=>{let n;const l=new Set,c=(y,E)=>{const v=typeof y=="function"?y(n):y;if(!Object.is(v,n)){const S=n;n=E??(typeof v!="object"||v===null)?v:Object.assign({},n,v),l.forEach(z=>z(n,S))}},o=()=>n,g={setState:c,getState:o,getInitialState:()=>_,subscribe:y=>(l.add(y),()=>l.delete(y))},_=n=a(c,o,g);return g},M1=(a=>a?Np(a):Np),O1=a=>a;function R1(a,n=O1){const l=Jc.useSyncExternalStore(a.subscribe,Jc.useCallback(()=>n(a.getState()),[a,n]),Jc.useCallback(()=>n(a.getInitialState()),[a,n]));return Jc.useDebugValue(l),l}const xp=a=>{const n=M1(a),l=c=>R1(n,c);return Object.assign(l,n),l},j1=(a=>a?xp(a):xp);function z1(a,n){let l;try{l=a()}catch{return}return{getItem:o=>{var h;const f=_=>_===null?null:JSON.parse(_,void 0),g=(h=l.getItem(o))!=null?h:null;return g instanceof Promise?g.then(f):f(g)},setItem:(o,h)=>l.setItem(o,JSON.stringify(h,void 0)),removeItem:o=>l.removeItem(o)}}const _h=a=>n=>{try{const l=a(n);return l instanceof Promise?l:{then(c){return _h(c)(l)},catch(c){return this}}}catch(l){return{then(c){return this},catch(c){return _h(c)(l)}}}},U1=(a,n)=>(l,c,o)=>{let h={storage:z1(()=>localStorage),partialize:I=>I,version:0,merge:(I,P)=>({...P,...I}),...n},f=!1,g=0;const _=new Set,y=new Set;let E=h.storage;if(!E)return a((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),l(...I)},c,o);const v=()=>{const I=h.partialize({...c()});return E.setItem(h.name,{state:I,version:h.version})},S=o.setState;o.setState=(I,P)=>(S(I,P),v());const z=a((...I)=>(l(...I),v()),c,o);o.getInitialState=()=>z;let L;const Q=()=>{var I,P;if(!E)return;const Ce=++g;f=!1,_.forEach(Z=>{var Ue;return Z((Ue=c())!=null?Ue:z)});const le=((P=h.onRehydrateStorage)==null?void 0:P.call(h,(I=c())!=null?I:z))||void 0;return _h(E.getItem.bind(E))(h.name).then(Z=>{if(Z)if(typeof Z.version=="number"&&Z.version!==h.version){if(h.migrate){const Ue=h.migrate(Z.state,Z.version);return Ue instanceof Promise?Ue.then(Le=>[!0,Le]):[!0,Ue]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,Z.state];return[!1,void 0]}).then(Z=>{var Ue;if(Ce!==g)return;const[Le,De]=Z;if(L=h.merge(De,(Ue=c())!=null?Ue:z),l(L,!0),Le)return v()}).then(()=>{Ce===g&&(le?.(L,void 0),L=c(),f=!0,y.forEach(Z=>Z(L)))}).catch(Z=>{Ce===g&&le?.(void 0,Z)})};return o.persist={setOptions:I=>{h={...h,...I},I.storage&&(E=I.storage)},clearStorage:()=>{E?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>Q(),hasHydrated:()=>f,onHydrate:I=>(_.add(I),()=>{_.delete(I)}),onFinishHydration:I=>(y.add(I),()=>{y.delete(I)})},h.skipHydration||Q(),L||z},L1=U1,B1=()=>{};var Ap={};const T_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(a,n){if(!a)throw ta(n)},ta=function(a){return new Error("Firebase Database ("+T_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const N_=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&c+1<a.length&&(a.charCodeAt(c+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++c)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},H1=function(a){const n=[];let l=0,c=0;for(;l<a.length;){const o=a[l++];if(o<128)n[c++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[l++];n[c++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[l++],f=a[l++],g=a[l++],_=((o&7)<<18|(h&63)<<12|(f&63)<<6|g&63)-65536;n[c++]=String.fromCharCode(55296+(_>>10)),n[c++]=String.fromCharCode(56320+(_&1023))}else{const h=a[l++],f=a[l++];n[c++]=String.fromCharCode((o&15)<<12|(h&63)<<6|f&63)}}return n.join("")},Hh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let o=0;o<a.length;o+=3){const h=a[o],f=o+1<a.length,g=f?a[o+1]:0,_=o+2<a.length,y=_?a[o+2]:0,E=h>>2,v=(h&3)<<4|g>>4;let S=(g&15)<<2|y>>6,z=y&63;_||(z=64,f||(S=64)),c.push(l[E],l[v],l[S],l[z])}return c.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(N_(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):H1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let o=0;o<a.length;){const h=l[a.charAt(o++)],g=o<a.length?l[a.charAt(o)]:0;++o;const y=o<a.length?l[a.charAt(o)]:64;++o;const v=o<a.length?l[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||v==null)throw new I1;const S=h<<2|g>>4;if(c.push(S),y!==64){const z=g<<4&240|y>>2;if(c.push(z),v!==64){const L=y<<6&192|v;c.push(L)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class I1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const x_=function(a){const n=N_(a);return Hh.encodeByteArray(n,!0)},nr=function(a){return x_(a).replace(/\./g,"")},yh=function(a){try{return Hh.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function k1(a){return A_(void 0,a)}function A_(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!V1(l)||(a[l]=A_(a[l],n[l]));return a}function V1(a){return a!=="__proto__"}function G1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q1=()=>G1().__FIREBASE_DEFAULTS__,Y1=()=>{if(typeof process>"u"||typeof Ap>"u")return;const a=Ap.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},Q1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&yh(a[1]);return n&&JSON.parse(n)},w_=()=>{try{return B1()||q1()||Y1()||Q1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},X1=a=>w_()?.emulatorHosts?.[a],F1=a=>{const n=X1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const c=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),c]:[n.substring(0,l),c]},D_=()=>w_()?.config;class Es{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,c)=>{l?this.reject(l):this.resolve(c),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,c))}}}function Ih(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function K1(a){return(await fetch(a,{credentials:"include"})).ok}function Z1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},c=n||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${c}`,aud:c,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[nr(JSON.stringify(l)),nr(JSON.stringify(f)),""].join(".")}const ss={};function J1(){const a={prod:[],emulator:[]};for(const n of Object.keys(ss))ss[n]?a.emulator.push(n):a.prod.push(n);return a}function W1(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let wp=!1;function $1(a,n){if(typeof window>"u"||typeof document>"u"||!Ih(window.location.host)||ss[a]===n||ss[a]||wp)return;ss[a]=n;function l(S){return`__firebase__banner__${S}`}const c="__firebase__banner",h=J1().prod.length>0;function f(){const S=document.getElementById(c);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function _(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{wp=!0,f()},S}function E(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function v(){const S=W1(c),z=l("text"),L=document.getElementById(z)||document.createElement("span"),Q=l("learnmore"),I=document.getElementById(Q)||document.createElement("a"),P=l("preprendIcon"),Ce=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const le=S.element;g(le),E(I,Q);const Z=y();_(Ce,P),le.append(Ce,L,I,Z),document.body.appendChild(le)}h?(L.innerText="Preview backend disconnected.",Ce.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ce.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}function P1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(P1())}function e2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function t2(){return T_.NODE_ADMIN===!0}function n2(){try{return typeof indexedDB=="object"}catch{return!1}}function i2(){return new Promise((a,n)=>{try{let l=!0;const c="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(c);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(c),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const l2="FirebaseError";class Ts extends Error{constructor(n,l,c){super(l),this.code=n,this.customData=c,this.name=l2,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,O_.prototype.create)}}class O_{constructor(n,l,c){this.service=n,this.serviceName=l,this.errors=c}create(n,...l){const c=l[0]||{},o=`${this.service}/${n}`,h=this.errors[n],f=h?a2(h,c):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Ts(o,g,c)}}function a2(a,n){return a.replace(s2,(l,c)=>{const o=n[c];return o!=null?String(o):`<${c}?>`})}const s2=/\{\$([^}]+)}/g;function fs(a){return JSON.parse(a)}function it(a){return JSON.stringify(a)}const R_=function(a){let n={},l={},c={},o="";try{const h=a.split(".");n=fs(yh(h[0])||""),l=fs(yh(h[1])||""),o=h[2],c=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:c,signature:o}},c2=function(a){const n=R_(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},r2=function(a){const n=R_(a).claims;return typeof n=="object"&&n.admin===!0};function bn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function Zl(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function Dp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function ir(a,n,l){const c={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=n.call(l,a[o],o,a));return c}function lr(a,n){if(a===n)return!0;const l=Object.keys(a),c=Object.keys(n);for(const o of l){if(!c.includes(o))return!1;const h=a[o],f=n[o];if(Mp(h)&&Mp(f)){if(!lr(h,f))return!1}else if(h!==f)return!1}for(const o of c)if(!l.includes(o))return!1;return!0}function Mp(a){return a!==null&&typeof a=="object"}function o2(a){const n=[];for(const[l,c]of Object.entries(a))Array.isArray(c)?c.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(c));return n.length?"&"+n.join("&"):""}class u2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const c=this.W_;if(typeof n=="string")for(let v=0;v<16;v++)c[v]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let v=0;v<16;v++)c[v]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let v=16;v<80;v++){const S=c[v-3]^c[v-8]^c[v-14]^c[v-16];c[v]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],h=this.chain_[1],f=this.chain_[2],g=this.chain_[3],_=this.chain_[4],y,E;for(let v=0;v<80;v++){v<40?v<20?(y=g^h&(f^g),E=1518500249):(y=h^f^g,E=1859775393):v<60?(y=h&f|g&(h|f),E=2400959708):(y=h^f^g,E=3395469782);const S=(o<<5|o>>>27)+y+_+E+c[v]&4294967295;_=g,g=f,f=(h<<30|h>>>2)&4294967295,h=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const c=l-this.blockSize;let o=0;const h=this.buf_;let f=this.inbuf_;for(;o<l;){if(f===0)for(;o<=c;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(h[f]=n.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}else for(;o<l;)if(h[f]=n[o],++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}this.inbuf_=f,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let c=0;for(let o=0;o<5;o++)for(let h=24;h>=0;h-=8)n[c]=this.chain_[o]>>h&255,++c;return n}}function Sr(a,n){return`${a} failed: ${n} argument `}const h2=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);if(o>=55296&&o<=56319){const h=o-55296;c++,B(c<a.length,"Surrogate pair missing trail surrogate.");const f=a.charCodeAt(c)-56320;o=65536+(h<<10)+f}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Cr=function(a){let n=0;for(let l=0;l<a.length;l++){const c=a.charCodeAt(l);c<128?n++:c<2048?n+=2:c>=55296&&c<=56319?(n+=4,l++):n+=3}return n};function na(a){return a&&a._delegate?a._delegate:a}class ds{constructor(n,l,c){this.name=n,this.instanceFactory=l,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Ji="[DEFAULT]";class f2{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const c=new Es;if(this.instancesDeferred.set(l,c),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&c.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),c=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(c)return null;throw o}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(m2(n))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[l,c]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const h=this.getOrInitializeService({instanceIdentifier:o});c.resolve(h)}catch{}}}}clearInstance(n=Ji){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Ji){return this.instances.has(n)}getOptions(n=Ji){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,c=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:c,options:l});for(const[h,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);c===g&&f.resolve(o)}return o}onInit(n,l){const c=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(c)??new Set;o.add(n),this.onInitCallbacks.set(c,o);const h=this.instances.get(c);return h&&n(h,c),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const c=this.onInitCallbacks.get(l);if(c)for(const o of c)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let c=this.instances.get(n);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:d2(n),options:l}),this.instances.set(n,c),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(c,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,c)}catch{}return c||null}normalizeInstanceIdentifier(n=Ji){return this.component?this.component.multipleInstances?n:Ji:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function d2(a){return a===Ji?void 0:a}function m2(a){return a.instantiationMode==="EAGER"}class g2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new f2(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var je;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(je||(je={}));const p2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},_2=je.INFO,y2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},v2=(a,n,...l)=>{if(n<a.logLevel)return;const c=new Date().toISOString(),o=y2[n];if(o)console[o](`[${c}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class j_{constructor(n){this.name=n,this._logLevel=_2,this._logHandler=v2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in je))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?p2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...n),this._logHandler(this,je.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...n),this._logHandler(this,je.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,je.INFO,...n),this._logHandler(this,je.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,je.WARN,...n),this._logHandler(this,je.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...n),this._logHandler(this,je.ERROR,...n)}}const b2=(a,n)=>n.some(l=>a instanceof l);let Op,Rp;function S2(){return Op||(Op=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function C2(){return Rp||(Rp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const z_=new WeakMap,vh=new WeakMap,U_=new WeakMap,ih=new WeakMap,kh=new WeakMap;function E2(a){const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",f)},h=()=>{l(Ei(a.result)),o()},f=()=>{c(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",f)});return n.then(l=>{l instanceof IDBCursor&&z_.set(l,a)}).catch(()=>{}),kh.set(n,a),n}function T2(a){if(vh.has(a))return;const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",f),a.removeEventListener("abort",f)},h=()=>{l(),o()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",f),a.addEventListener("abort",f)});vh.set(a,n)}let bh={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return vh.get(a);if(n==="objectStoreNames")return a.objectStoreNames||U_.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Ei(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function N2(a){bh=a(bh)}function x2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const c=a.call(lh(this),n,...l);return U_.set(c,n.sort?n.sort():[n]),Ei(c)}:C2().includes(a)?function(...n){return a.apply(lh(this),n),Ei(z_.get(this))}:function(...n){return Ei(a.apply(lh(this),n))}}function A2(a){return typeof a=="function"?x2(a):(a instanceof IDBTransaction&&T2(a),b2(a,S2())?new Proxy(a,bh):a)}function Ei(a){if(a instanceof IDBRequest)return E2(a);if(ih.has(a))return ih.get(a);const n=A2(a);return n!==a&&(ih.set(a,n),kh.set(n,a)),n}const lh=a=>kh.get(a);function w2(a,n,{blocked:l,upgrade:c,blocking:o,terminated:h}={}){const f=indexedDB.open(a,n),g=Ei(f);return c&&f.addEventListener("upgradeneeded",_=>{c(Ei(f.result),_.oldVersion,_.newVersion,Ei(f.transaction),_)}),l&&f.addEventListener("blocked",_=>l(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const D2=["get","getKey","getAll","getAllKeys","count"],M2=["put","add","delete","clear"],ah=new Map;function jp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(ah.get(n))return ah.get(n);const l=n.replace(/FromIndex$/,""),c=n!==l,o=M2.includes(l);if(!(l in(c?IDBIndex:IDBObjectStore).prototype)||!(o||D2.includes(l)))return;const h=async function(f,...g){const _=this.transaction(f,o?"readwrite":"readonly");let y=_.store;return c&&(y=y.index(g.shift())),(await Promise.all([y[l](...g),o&&_.done]))[0]};return ah.set(n,h),h}N2(a=>({...a,get:(n,l,c)=>jp(n,l)||a.get(n,l,c),has:(n,l)=>!!jp(n,l)||a.has(n,l)}));class O2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(R2(l)){const c=l.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(l=>l).join(" ")}}function R2(a){return a.getComponent()?.type==="VERSION"}const Sh="@firebase/app",zp="0.14.7";const Qn=new j_("@firebase/app"),j2="@firebase/app-compat",z2="@firebase/analytics-compat",U2="@firebase/analytics",L2="@firebase/app-check-compat",B2="@firebase/app-check",H2="@firebase/auth",I2="@firebase/auth-compat",k2="@firebase/database",V2="@firebase/data-connect",G2="@firebase/database-compat",q2="@firebase/functions",Y2="@firebase/functions-compat",Q2="@firebase/installations",X2="@firebase/installations-compat",F2="@firebase/messaging",K2="@firebase/messaging-compat",Z2="@firebase/performance",J2="@firebase/performance-compat",W2="@firebase/remote-config",$2="@firebase/remote-config-compat",P2="@firebase/storage",eb="@firebase/storage-compat",tb="@firebase/firestore",nb="@firebase/ai",ib="@firebase/firestore-compat",lb="firebase",ab="12.8.0";const Ch="[DEFAULT]",sb={[Sh]:"fire-core",[j2]:"fire-core-compat",[U2]:"fire-analytics",[z2]:"fire-analytics-compat",[B2]:"fire-app-check",[L2]:"fire-app-check-compat",[H2]:"fire-auth",[I2]:"fire-auth-compat",[k2]:"fire-rtdb",[V2]:"fire-data-connect",[G2]:"fire-rtdb-compat",[q2]:"fire-fn",[Y2]:"fire-fn-compat",[Q2]:"fire-iid",[X2]:"fire-iid-compat",[F2]:"fire-fcm",[K2]:"fire-fcm-compat",[Z2]:"fire-perf",[J2]:"fire-perf-compat",[W2]:"fire-rc",[$2]:"fire-rc-compat",[P2]:"fire-gcs",[eb]:"fire-gcs-compat",[tb]:"fire-fst",[ib]:"fire-fst-compat",[nb]:"fire-vertex","fire-js":"fire-js",[lb]:"fire-js-all"};const ar=new Map,cb=new Map,Eh=new Map;function Up(a,n){try{a.container.addComponent(n)}catch(l){Qn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function sr(a){const n=a.name;if(Eh.has(n))return Qn.debug(`There were multiple attempts to register component ${n}.`),!1;Eh.set(n,a);for(const l of ar.values())Up(l,a);for(const l of cb.values())Up(l,a);return!0}function rb(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function ob(a){return a==null?!1:a.settings!==void 0}const ub={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new O_("app","Firebase",ub);class hb{constructor(n,l,c){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new ds("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}const fb=ab;function L_(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const c={name:Ch,automaticDataCollectionEnabled:!0,...n},o=c.name;if(typeof o!="string"||!o)throw Ti.create("bad-app-name",{appName:String(o)});if(l||(l=D_()),!l)throw Ti.create("no-options");const h=ar.get(o);if(h){if(lr(l,h.options)&&lr(c,h.config))return h;throw Ti.create("duplicate-app",{appName:o})}const f=new g2(o);for(const _ of Eh.values())f.addComponent(_);const g=new hb(l,c,f);return ar.set(o,g),g}function db(a=Ch){const n=ar.get(a);if(!n&&a===Ch&&D_())return L_();if(!n)throw Ti.create("no-app",{appName:a});return n}function Ql(a,n,l){let c=sb[a]??a;l&&(c+=`-${l}`);const o=c.match(/\s|\//),h=n.match(/\s|\//);if(o||h){const f=[`Unable to register library "${c}" with version "${n}":`];o&&f.push(`library name "${c}" contains illegal characters (whitespace or "/")`),o&&h&&f.push("and"),h&&f.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Qn.warn(f.join(" "));return}sr(new ds(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}const mb="firebase-heartbeat-database",gb=1,ms="firebase-heartbeat-store";let sh=null;function B_(){return sh||(sh=w2(mb,gb,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(ms)}catch(l){console.warn(l)}}}}).catch(a=>{throw Ti.create("idb-open",{originalErrorMessage:a.message})})),sh}async function pb(a){try{const l=(await B_()).transaction(ms),c=await l.objectStore(ms).get(H_(a));return await l.done,c}catch(n){if(n instanceof Ts)Qn.warn(n.message);else{const l=Ti.create("idb-get",{originalErrorMessage:n?.message});Qn.warn(l.message)}}}async function Lp(a,n){try{const c=(await B_()).transaction(ms,"readwrite");await c.objectStore(ms).put(n,H_(a)),await c.done}catch(l){if(l instanceof Ts)Qn.warn(l.message);else{const c=Ti.create("idb-set",{originalErrorMessage:l?.message});Qn.warn(c.message)}}}function H_(a){return`${a.name}!${a.options.appId}`}const _b=1024,yb=30;class vb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Sb(l),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Bp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(o=>o.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>yb){const o=Cb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Qn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bp(),{heartbeatsToSend:l,unsentEntries:c}=bb(this._heartbeatsCache.heartbeats),o=nr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Qn.warn(n),""}}}function Bp(){return new Date().toISOString().substring(0,10)}function bb(a,n=_b){const l=[];let c=a.slice();for(const o of a){const h=l.find(f=>f.agent===o.agent);if(h){if(h.dates.push(o.date),Hp(l)>n){h.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),Hp(l)>n){l.pop();break}c=c.slice(1)}return{heartbeatsToSend:l,unsentEntries:c}}class Sb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n2()?i2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await pb(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return Lp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return Lp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Hp(a){return nr(JSON.stringify({version:2,heartbeats:a})).length}function Cb(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let c=1;c<a.length;c++)a[c].date<l&&(l=a[c].date,n=c);return n}function Eb(a){sr(new ds("platform-logger",n=>new O2(n),"PRIVATE")),sr(new ds("heartbeat",n=>new vb(n),"PRIVATE")),Ql(Sh,zp,a),Ql(Sh,zp,"esm2020"),Ql("fire-js","")}Eb("");var Tb="firebase",Nb="12.8.0";Ql(Tb,Nb,"app");var Ip={};const kp="@firebase/database",Vp="1.1.0";let I_="";function xb(a){I_=a}class Ab{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),it(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:fs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class wb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return bn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const k_=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Ab(n)}}catch{}return new wb},$i=k_("localStorage"),Db=k_("sessionStorage");const Xl=new j_("@firebase/database"),Mb=(function(){let a=1;return function(){return a++}})(),V_=function(a){const n=h2(a),l=new u2;l.update(n);const c=l.digest();return Hh.encodeByteArray(c)},Ns=function(...a){let n="";for(let l=0;l<a.length;l++){const c=a[l];Array.isArray(c)||c&&typeof c=="object"&&typeof c.length=="number"?n+=Ns.apply(null,c):typeof c=="object"?n+=it(c):n+=c,n+=" "}return n};let cs=null,Gp=!0;const Ob=function(a,n){B(!0,"Can't turn on custom loggers persistently."),Xl.logLevel=je.VERBOSE,cs=Xl.log.bind(Xl)},mt=function(...a){if(Gp===!0&&(Gp=!1,cs===null&&Db.get("logging_enabled")===!0&&Ob()),cs){const n=Ns.apply(null,a);cs(n)}},xs=function(a){return function(...n){mt(a,...n)}},Th=function(...a){const n="FIREBASE INTERNAL ERROR: "+Ns(...a);Xl.error(n)},Xn=function(...a){const n=`FIREBASE FATAL ERROR: ${Ns(...a)}`;throw Xl.error(n),new Error(n)},Et=function(...a){const n="FIREBASE WARNING: "+Ns(...a);Xl.warn(n)},Rb=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Et("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Vh=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},jb=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Jl="[MIN_NAME]",Pi="[MAX_NAME]",nl=function(a,n){if(a===n)return 0;if(a===Jl||n===Pi)return-1;if(n===Jl||a===Pi)return 1;{const l=qp(a),c=qp(n);return l!==null?c!==null?l-c===0?a.length-n.length:l-c:-1:c!==null?1:a<n?-1:1}},zb=function(a,n){return a===n?0:a<n?-1:1},ts=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+it(n))},Gh=function(a){if(typeof a!="object"||a===null)return it(a);const n=[];for(const c in a)n.push(c);n.sort();let l="{";for(let c=0;c<n.length;c++)c!==0&&(l+=","),l+=it(n[c]),l+=":",l+=Gh(a[n[c]]);return l+="}",l},G_=function(a,n){const l=a.length;if(l<=n)return[a];const c=[];for(let o=0;o<l;o+=n)o+n>l?c.push(a.substring(o,l)):c.push(a.substring(o,o+n));return c};function gt(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const q_=function(a){B(!Vh(a),"Invalid JSON number");const n=11,l=52,c=(1<<n-1)-1;let o,h,f,g,_;a===0?(h=0,f=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-c)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),c),h=g+c,f=Math.round(a*Math.pow(2,l-g)-Math.pow(2,l))):(h=0,f=Math.round(a/Math.pow(2,1-c-l))));const y=[];for(_=l;_;_-=1)y.push(f%2?1:0),f=Math.floor(f/2);for(_=n;_;_-=1)y.push(h%2?1:0),h=Math.floor(h/2);y.push(o?1:0),y.reverse();const E=y.join("");let v="";for(_=0;_<64;_+=8){let S=parseInt(E.substr(_,8),2).toString(16);S.length===1&&(S="0"+S),v=v+S}return v.toLowerCase()},Ub=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Lb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Bb(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const c=new Error(a+" at "+n._path.toString()+": "+l);return c.code=a.toUpperCase(),c}const Hb=new RegExp("^-?(0*)\\d{1,10}$"),Ib=-2147483648,kb=2147483647,qp=function(a){if(Hb.test(a)){const n=Number(a);if(n>=Ib&&n<=kb)return n}return null},ia=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw Et("Exception was thrown by user callback.",l),n},Math.floor(0))}},Vb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rs=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class Gb{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,ob(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(c=>this.appCheck=c)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,c)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){Et(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class qb{constructor(n,l,c){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,c)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Et(n)}}class tr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}tr.OWNER="owner";const qh="5",Y_="v",Q_="s",X_="r",F_="f",K_=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Z_="ls",J_="p",Nh="ac",W_="websocket",$_="long_polling";class P_{constructor(n,l,c,o,h=!1,f="",g=!1,_=!1,y=null){this.secure=l,this.namespace=c,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=_,this.emulatorOptions=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function Yb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function ey(a,n,l){B(typeof n=="string","typeof type must == string"),B(typeof l=="object","typeof params must == object");let c;if(n===W_)c=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===$_)c=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Yb(a)&&(l.ns=a.namespace);const o=[];return gt(l,(h,f)=>{o.push(h+"="+f)}),c+o.join("&")}class Qb{constructor(){this.counters_={}}incrementCounter(n,l=1){bn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return k1(this.counters_)}}const ch={},rh={};function Yh(a){const n=a.toString();return ch[n]||(ch[n]=new Qb),ch[n]}function Xb(a,n){const l=a.toString();return rh[l]||(rh[l]=n()),rh[l]}class Fb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<c.length;++o)c[o]&&ia(()=>{this.onMessage_(c[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Yp="start",Kb="close",Zb="pLPCommand",Jb="pRTLPCB",ty="id",ny="pw",iy="ser",Wb="cb",$b="seg",Pb="ts",eS="d",tS="dframe",ly=1870,ay=30,nS=ly-ay,iS=25e3,lS=3e4;class Yl{constructor(n,l,c,o,h,f,g){this.connId=n,this.repoInfo=l,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xs(n),this.stats_=Yh(l),this.urlFn=_=>(this.appCheckToken&&(_[Nh]=this.appCheckToken),ey(l,$_,_))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Fb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lS)),jb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Qh((...h)=>{const[f,g,_,y,E]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Yp)this.id=g,this.password=_;else if(f===Kb)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...h)=>{const[f,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const c={};c[Yp]="t",c[iy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(c[Wb]=this.scriptTagHolder.uniqueCallbackIdentifier),c[Y_]=qh,this.transportSessionId&&(c[Q_]=this.transportSessionId),this.lastSessionId&&(c[Z_]=this.lastSessionId),this.applicationId&&(c[J_]=this.applicationId),this.appCheckToken&&(c[Nh]=this.appCheckToken),typeof location<"u"&&location.hostname&&K_.test(location.hostname)&&(c[X_]=F_);const o=this.urlFn(c);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Yl.forceAllow_=!0}static forceDisallow(){Yl.forceDisallow_=!0}static isAvailable(){return Yl.forceAllow_?!0:!Yl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Ub()&&!Lb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=it(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=x_(l),o=G_(c,nS);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const c={};c[tS]="t",c[ty]=n,c[ny]=l,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=it(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Qh{constructor(n,l,c,o){this.onDisconnect=c,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Mb(),window[Zb+this.uniqueCallbackIdentifier]=n,window[Jb+this.uniqueCallbackIdentifier]=l,this.myIFrame=Qh.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){mt("frame writing exception"),g.stack&&mt(g.stack),mt(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||mt("No IE domain setting required")}catch{const c=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[ty]=this.myID,n[ny]=this.myPW,n[iy]=this.currentSerial;let l=this.urlFn(n),c="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ay+c.length<=ly;){const f=this.pendingSegs.shift();c=c+"&"+$b+o+"="+f.seg+"&"+Pb+o+"="+f.ts+"&"+eS+o+"="+f.d,o++}return l=l+c,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,c){this.pendingSegs.push({seg:n,ts:l,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const c=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(c,Math.floor(iS)),h=()=>{clearTimeout(o),c()};this.addTag(n,h)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=n,c.onload=c.onreadystatechange=function(){const o=c.readyState;(!o||o==="loaded"||o==="complete")&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),l())},c.onerror=()=>{mt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}const aS=16384,sS=45e3;let cr=null;typeof MozWebSocket<"u"?cr=MozWebSocket:typeof WebSocket<"u"&&(cr=WebSocket);class rn{constructor(n,l,c,o,h,f,g){this.connId=n,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xs(this.connId),this.stats_=Yh(l),this.connURL=rn.connectionURL_(l,f,g,o,c),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,c,o,h){const f={};return f[Y_]=qh,typeof location<"u"&&location.hostname&&K_.test(location.hostname)&&(f[X_]=F_),l&&(f[Q_]=l),c&&(f[Z_]=c),o&&(f[Nh]=o),h&&(f[J_]=h),ey(n,W_,f)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let c;t2(),this.mySock=new cr(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){rn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,c=navigator.userAgent.match(l);c&&c.length>1&&parseFloat(c[1])<4.4&&(n=!0)}return!n&&cr!==null&&!rn.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const c=fs(l);this.onMessage(c)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const c=this.extractFrameCount_(l);c!==null&&this.appendFrame_(c)}}send(n){this.resetKeepAlive();const l=it(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=G_(l,aS);c.length>1&&this.sendString_(String(c.length));for(let o=0;o<c.length;o++)this.sendString_(c[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(sS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rn.responsesRequiredToBeHealthy=2;rn.healthyTimeout=3e4;class gs{static get ALL_TRANSPORTS(){return[Yl,rn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=rn&&rn.isAvailable();let c=l&&!rn.previouslyFailed();if(n.webSocketOnly&&(l||Et("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[rn];else{const o=this.transports_=[];for(const h of gs.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);gs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}gs.globalTransportInitialized_=!1;const cS=6e4,rS=5e3,oS=10*1024,uS=100*1024,oh="t",Qp="d",hS="s",Xp="r",fS="e",Fp="o",Kp="a",Zp="n",Jp="p",dS="h";class mS{constructor(n,l,c,o,h,f,g,_,y,E){this.id=n,this.repoInfo_=l,this.applicationId_=c,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=_,this.onKill_=y,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xs("c:"+this.id+":"),this.transportManager_=new gs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,c)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=rs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>uS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>oS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(oh in n){const l=n[oh];l===Kp?this.upgradeIfSecondaryHealthy_():l===Xp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Fp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=ts("t",n),c=ts("d",n);if(l==="c")this.onSecondaryControl_(c);else if(l==="d")this.pendingDataMessages.push(c);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Jp,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Kp,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Zp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=ts("t",n),c=ts("d",n);l==="c"?this.onControl_(c):l==="d"&&this.onDataMessage_(c)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=ts(oh,n);if(Qp in n){const c=n[Qp];if(l===dS){const o={...c};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Zp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===hS?this.onConnectionShutdown_(c):l===Xp?this.onReset_(c):l===fS?Th("Server Error: "+c):l===Fp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Th("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,c=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),qh!==c&&Et("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,c),rs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(cS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(rS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Jp,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sy{put(n,l,c,o){}merge(n,l,c,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,c){}onDisconnectMerge(n,l,c){}onDisconnectCancel(n,l){}reportStats(n){}}class cy{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const c=[...this.listeners_[n]];for(let o=0;o<c.length;o++)c[o].callback.apply(c[o].context,l)}}on(n,l,c){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:c});const o=this.getInitialEvent(n);o&&l.apply(c,o)}off(n,l,c){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===l&&(!c||c===o[h].context)){o.splice(h,1);return}}validateEventType_(n){B(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class rr extends cy{static getInstance(){return new rr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!M_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Wp=32,$p=768;class xe{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let c=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[c]=this.pieces_[o],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function pe(){return new xe("")}function ne(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Ai(a){return a.pieces_.length-a.pieceNum_}function ze(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new xe(a.pieces_,n)}function Xh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function gS(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function ps(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function ry(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new xe(n,0)}function Qe(a,n){const l=[];for(let c=a.pieceNum_;c<a.pieces_.length;c++)l.push(a.pieces_[c]);if(n instanceof xe)for(let c=n.pieceNum_;c<n.pieces_.length;c++)l.push(n.pieces_[c]);else{const c=n.split("/");for(let o=0;o<c.length;o++)c[o].length>0&&l.push(c[o])}return new xe(l,0)}function ce(a){return a.pieceNum_>=a.pieces_.length}function Ct(a,n){const l=ne(a),c=ne(n);if(l===null)return n;if(l===c)return Ct(ze(a),ze(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function pS(a,n){const l=ps(a,0),c=ps(n,0);for(let o=0;o<l.length&&o<c.length;o++){const h=nl(l[o],c[o]);if(h!==0)return h}return l.length===c.length?0:l.length<c.length?-1:1}function Fh(a,n){if(Ai(a)!==Ai(n))return!1;for(let l=a.pieceNum_,c=n.pieceNum_;l<=a.pieces_.length;l++,c++)if(a.pieces_[l]!==n.pieces_[c])return!1;return!0}function tn(a,n){let l=a.pieceNum_,c=n.pieceNum_;if(Ai(a)>Ai(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[c])return!1;++l,++c}return!0}class _S{constructor(n,l){this.errorPrefix_=l,this.parts_=ps(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=Cr(this.parts_[c]);oy(this)}}function yS(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Cr(n),oy(a)}function vS(a){const n=a.parts_.pop();a.byteLength_-=Cr(n),a.parts_.length>0&&(a.byteLength_-=1)}function oy(a){if(a.byteLength_>$p)throw new Error(a.errorPrefix_+"has a key path longer than "+$p+" bytes ("+a.byteLength_+").");if(a.parts_.length>Wp)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wp+") or object contains a cycle "+Wi(a))}function Wi(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class Kh extends cy{static getInstance(){return new Kh}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const c=!document[n];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}const ns=1e3,bS=300*1e3,Pp=30*1e3,SS=1.3,CS=3e4,ES="server_kill",e_=3;class Yn extends sy{constructor(n,l,c,o,h,f,g,_){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=c,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=_,this.id=Yn.nextPersistentConnectionId_++,this.log_=xs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ns,this.maxReconnectDelay_=bS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Kh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&rr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,c){const o=++this.requestNumber_,h={r:o,a:n,b:l};this.log_(it(h)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),c&&(this.requestCBHash_[o]=c)}get(n){this.initConnection_();const l=new Es,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const g=f.d;f.s==="ok"?l.resolve(g):l.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),l.promise}listen(n,l,c,o){this.initConnection_();const h=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+h),this.listens.has(f)||this.listens.set(f,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(f).has(h),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:l,query:n,tag:c};this.listens.get(f).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,c=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(c)})}sendListen_(n){const l=n.query,c=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+c+" for "+o);const h={p:c},f="q";n.tag&&(h.q=l._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(f,h,g=>{const _=g.d,y=g.s;Yn.warnOnListenWarnings_(_,l),(this.listens.get(c)&&this.listens.get(c).get(o))===n&&(this.log_("listen response",g),y!=="ok"&&this.removeListen_(c,o),n.onComplete&&n.onComplete(y,_))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&bn(n,"w")){const c=Zl(n,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',h=l._path.toString();Et(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||r2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Pp)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=c2(n)?"auth":"gauth",c={cred:n};this.authOverride_===null?c.noauth=!0:typeof this.authOverride_=="object"&&(c.authvar=this.authOverride_),this.sendRequest(l,c,o=>{const h=o.s,f=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,c=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,c)})}unlisten(n,l){const c=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+c+" "+o),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,o)&&this.connected_&&this.sendUnlisten_(c,o,n._queryObject,l)}sendUnlisten_(n,l,c,o){this.log_("Unlisten on "+n+" for "+l);const h={p:n},f="n";o&&(h.q=c,h.t=o),this.sendRequest(f,h)}onDisconnectPut(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:c})}onDisconnectMerge(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:c})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,c,o){const h={p:l,d:c};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(n,l,c,o){this.putInternal("p",n,l,c,o)}merge(n,l,c,o){this.putInternal("m",n,l,c,o)}putInternal(n,l,c,o,h){this.initConnection_();const f={p:l,d:c};h!==void 0&&(f.h=h),this.outstandingPuts_.push({action:n,request:f,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,c=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,c,h=>{this.log_(l+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,c=>{if(c.s!=="ok"){const h=c.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+it(n));const l=n.r,c=this.requestCBHash_[l];c&&(delete this.requestCBHash_[l],c(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Th("Unrecognized action received from server: "+it(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ns,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ns,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CS&&(this.reconnectDelay_=ns),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*SS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Yn.nextConnectionId_++,h=this.lastSessionId;let f=!1,g=null;const _=function(){g?g.close():(f=!0,c())},y=function(v){B(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(v)};this.realtime_={close:_,sendRequest:y};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[v,S]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);f?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=v&&v.accessToken,this.appCheckToken_=S&&S.token,g=new mS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,c,z=>{Et(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(ES)},h))}catch(v){this.log_("Failed to get token: "+v),f||(this.repoInfo_.nodeAdmin&&Et(v),_())}}}interrupt(n){mt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){mt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Dp(this.interruptReasons_)&&(this.reconnectDelay_=ns,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let c;l?c=l.map(h=>Gh(h)).join("$"):c="default";const o=this.removeListen_(n,c);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const c=new xe(n).toString();let o;if(this.listens.has(c)){const h=this.listens.get(c);o=h.get(l),h.delete(l),h.size===0&&this.listens.delete(c)}else o=void 0;return o}onAuthRevoked_(n,l){mt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=e_&&(this.reconnectDelay_=Pp,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){mt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=e_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+I_.replace(/\./g,"-")]=1,M_()?n["framework.cordova"]=1:e2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=rr.getInstance().currentlyOnline();return Dp(this.interruptReasons_)&&n}}Yn.nextPersistentConnectionId_=0;Yn.nextConnectionId_=0;class ie{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ie(n,l)}}class Er{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const c=new ie(Jl,n),o=new ie(Jl,l);return this.compare(c,o)!==0}minPost(){return ie.MIN}}let Wc;class uy extends Er{static get __EMPTY_NODE(){return Wc}static set __EMPTY_NODE(n){Wc=n}compare(n,l){return nl(n.name,l.name)}isDefinedOn(n){throw ta("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Pi,Wc)}makePost(n,l){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new ie(n,Wc)}toString(){return".key"}}const Fl=new uy;class $c{constructor(n,l,c,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=l?c(n.key,l):1,o&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ct{constructor(n,l,c,o,h){this.key=n,this.value=l,this.color=c??ct.RED,this.left=o??zt.EMPTY_NODE,this.right=h??zt.EMPTY_NODE}copy(n,l,c,o,h){return new ct(n??this.key,l??this.value,c??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,c){let o=this;const h=c(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,l,c),null):h===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,c)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let c,o;if(c=this,l(n,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(n,l),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),l(n,c.key)===0){if(c.right.isEmpty())return zt.EMPTY_NODE;o=c.right.min_(),c=c.copy(o.key,o.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(n,l))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ct.RED=!0;ct.BLACK=!1;class TS{copy(n,l,c,o,h){return this}insert(n,l,c){return new ct(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class zt{constructor(n,l=zt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new zt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,ct.BLACK,null,null))}remove(n){return new zt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ct.BLACK,null,null))}get(n){let l,c=this.root_;for(;!c.isEmpty();){if(l=this.comparator_(n,c.key),l===0)return c.value;l<0?c=c.left:l>0&&(c=c.right)}return null}getPredecessorKey(n){let l,c=this.root_,o=null;for(;!c.isEmpty();)if(l=this.comparator_(n,c.key),l===0){if(c.left.isEmpty())return o?o.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}else l<0?c=c.left:l>0&&(o=c,c=c.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new $c(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new $c(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new $c(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new $c(this.root_,null,this.comparator_,!0,n)}}zt.EMPTY_NODE=new TS;function NS(a,n){return nl(a.name,n.name)}function Zh(a,n){return nl(a,n)}let xh;function xS(a){xh=a}const hy=function(a){return typeof a=="number"?"number:"+q_(a):"string:"+a},fy=function(a){if(a.isLeafNode()){const n=a.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&bn(n,".sv"),"Priority must be a string or number.")}else B(a===xh||a.isEmpty(),"priority of unexpected type.");B(a===xh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let t_;class st{static set __childrenNodeConstructor(n){t_=n}static get __childrenNodeConstructor(){return t_}constructor(n,l=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),fy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new st(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ne(n)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const c=ne(n);return c===null?l:l.isEmpty()&&c!==".priority"?this:(B(c!==".priority"||Ai(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(c,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+hy(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=q_(this.value_):n+=this.value_,this.lazyHash_=V_(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===st.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof st.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,c=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(l),h=st.VALUE_TYPE_ORDER.indexOf(c);return B(o>=0,"Unknown leaf type: "+l),B(h>=0,"Unknown leaf type: "+c),o===h?c==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];let dy,my;function AS(a){dy=a}function wS(a){my=a}class DS extends Er{compare(n,l){const c=n.node.getPriority(),o=l.node.getPriority(),h=c.compareTo(o);return h===0?nl(n.name,l.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Pi,new st("[PRIORITY-POST]",my))}makePost(n,l){const c=dy(n);return new ie(l,new st("[PRIORITY-POST]",c))}toString(){return".priority"}}const Xe=new DS;const MS=Math.log(2);class OS{constructor(n){const l=h=>parseInt(Math.log(h)/MS,10),c=h=>parseInt(Array(h+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=c(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const or=function(a,n,l,c){a.sort(n);const o=function(_,y){const E=y-_;let v,S;if(E===0)return null;if(E===1)return v=a[_],S=l?l(v):v,new ct(S,v.node,ct.BLACK,null,null);{const z=parseInt(E/2,10)+_,L=o(_,z),Q=o(z+1,y);return v=a[z],S=l?l(v):v,new ct(S,v.node,ct.BLACK,L,Q)}},h=function(_){let y=null,E=null,v=a.length;const S=function(L,Q){const I=v-L,P=v;v-=L;const Ce=o(I+1,P),le=a[I],Z=l?l(le):le;z(new ct(Z,le.node,Q,null,Ce))},z=function(L){y?(y.left=L,y=L):(E=L,y=L)};for(let L=0;L<_.count;++L){const Q=_.nextBitIsOne(),I=Math.pow(2,_.count-(L+1));Q?S(I,ct.BLACK):(S(I,ct.BLACK),S(I,ct.RED))}return E},f=new OS(a.length),g=h(f);return new zt(c||n,g)};let uh;const ql={};class Gn{static get Default(){return B(ql&&Xe,"ChildrenNode.ts has not been loaded"),uh=uh||new Gn({".priority":ql},{".priority":Xe}),uh}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=Zl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof zt?l:null}hasIndex(n){return bn(this.indexSet_,n.toString())}addIndex(n,l){B(n!==Fl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let o=!1;const h=l.getIterator(ie.Wrap);let f=h.getNext();for(;f;)o=o||n.isDefinedOn(f.node),c.push(f),f=h.getNext();let g;o?g=or(c,n.getCompare()):g=ql;const _=n.toString(),y={...this.indexSet_};y[_]=n;const E={...this.indexes_};return E[_]=g,new Gn(E,y)}addToIndexes(n,l){const c=ir(this.indexes_,(o,h)=>{const f=Zl(this.indexSet_,h);if(B(f,"Missing index implementation for "+h),o===ql)if(f.isDefinedOn(n.node)){const g=[],_=l.getIterator(ie.Wrap);let y=_.getNext();for(;y;)y.name!==n.name&&g.push(y),y=_.getNext();return g.push(n),or(g,f.getCompare())}else return ql;else{const g=l.get(n.name);let _=o;return g&&(_=_.remove(new ie(n.name,g))),_.insert(n,n.node)}});return new Gn(c,this.indexSet_)}removeFromIndexes(n,l){const c=ir(this.indexes_,o=>{if(o===ql)return o;{const h=l.get(n.name);return h?o.remove(new ie(n.name,h)):o}});return new Gn(c,this.indexSet_)}}let is;class K{static get EMPTY_NODE(){return is||(is=new K(new zt(Zh),null,Gn.Default))}constructor(n,l,c){this.children_=n,this.priorityNode_=l,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&fy(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||is}updatePriority(n){return this.children_.isEmpty()?this:new K(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?is:l}}getChild(n){const l=ne(n);return l===null?this:this.getImmediateChild(l).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(B(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const c=new ie(n,l);let o,h;l.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(c,this.children_)):(o=this.children_.insert(n,l),h=this.indexMap_.addToIndexes(c,this.children_));const f=o.isEmpty()?is:this.priorityNode_;return new K(o,f,h)}}updateChild(n,l){const c=ne(n);if(c===null)return l;{B(ne(n)!==".priority"||Ai(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(c).updateChild(ze(n),l);return this.updateImmediateChild(c,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let c=0,o=0,h=!0;if(this.forEachChild(Xe,(f,g)=>{l[f]=g.val(n),c++,h&&K.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):h=!1}),!n&&h&&o<2*c){const f=[];for(const g in l)f[g]=l[g];return f}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+hy(this.getPriority().val())+":"),this.forEachChild(Xe,(l,c)=>{const o=c.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":V_(n)}return this.lazyHash_}getPredecessorChildName(n,l,c){const o=this.resolveIndex_(c);if(o){const h=o.getPredecessorKey(new ie(n,l));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.minKey();return c&&c.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ie(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.maxKey();return c&&c.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ie(l,this.children_.get(l)):null}forEachChild(n,l){const c=this.resolveIndex_(n);return c?c.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ie.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ie.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===As?-1:0}withIndex(n){if(n===Fl||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new K(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Fl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const c=this.getIterator(Xe),o=l.getIterator(Xe);let h=c.getNext(),f=o.getNext();for(;h&&f;){if(h.name!==f.name||!h.node.equals(f.node))return!1;h=c.getNext(),f=o.getNext()}return h===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===Fl?null:this.indexMap_.get(n.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class RS extends K{constructor(){super(new zt(Zh),K.EMPTY_NODE,Gn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return K.EMPTY_NODE}isEmpty(){return!1}}const As=new RS;Object.defineProperties(ie,{MIN:{value:new ie(Jl,K.EMPTY_NODE)},MAX:{value:new ie(Pi,As)}});uy.__EMPTY_NODE=K.EMPTY_NODE;st.__childrenNodeConstructor=K;xS(As);wS(As);const jS=!0;function nt(a,n=null){if(a===null)return K.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new st(l,nt(n))}if(!(a instanceof Array)&&jS){const l=[];let c=!1;if(gt(a,(f,g)=>{if(f.substring(0,1)!=="."){const _=nt(g);_.isEmpty()||(c=c||!_.getPriority().isEmpty(),l.push(new ie(f,_)))}}),l.length===0)return K.EMPTY_NODE;const h=or(l,NS,f=>f.name,Zh);if(c){const f=or(l,Xe.getCompare());return new K(h,nt(n),new Gn({".priority":f},{".priority":Xe}))}else return new K(h,nt(n),Gn.Default)}else{let l=K.EMPTY_NODE;return gt(a,(c,o)=>{if(bn(a,c)&&c.substring(0,1)!=="."){const h=nt(o);(h.isLeafNode()||!h.isEmpty())&&(l=l.updateImmediateChild(c,h))}}),l.updatePriority(nt(n))}}AS(nt);class zS extends Er{constructor(n){super(),this.indexPath_=n,B(!ce(n)&&ne(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const c=this.extractChild(n.node),o=this.extractChild(l.node),h=c.compareTo(o);return h===0?nl(n.name,l.name):h}makePost(n,l){const c=nt(n),o=K.EMPTY_NODE.updateChild(this.indexPath_,c);return new ie(l,o)}maxPost(){const n=K.EMPTY_NODE.updateChild(this.indexPath_,As);return new ie(Pi,n)}toString(){return ps(this.indexPath_,0).join("/")}}class US extends Er{compare(n,l){const c=n.node.compareTo(l.node);return c===0?nl(n.name,l.name):c}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(n,l){const c=nt(n);return new ie(l,c)}toString(){return".value"}}const LS=new US;function gy(a){return{type:"value",snapshotNode:a}}function Wl(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function _s(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function ys(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function BS(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class Jh{constructor(n){this.index_=n}updateChild(n,l,c,o,h,f){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(l);return g.getChild(o).equals(c.getChild(o))&&g.isEmpty()===c.isEmpty()||(f!=null&&(c.isEmpty()?n.hasChild(l)?f.trackChildChange(_s(l,g)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(Wl(l,c)):f.trackChildChange(ys(l,c,g))),n.isLeafNode()&&c.isEmpty())?n:n.updateImmediateChild(l,c).withIndex(this.index_)}updateFullNode(n,l,c){return c!=null&&(n.isLeafNode()||n.forEachChild(Xe,(o,h)=>{l.hasChild(o)||c.trackChildChange(_s(o,h))}),l.isLeafNode()||l.forEachChild(Xe,(o,h)=>{if(n.hasChild(o)){const f=n.getImmediateChild(o);f.equals(h)||c.trackChildChange(ys(o,h,f))}else c.trackChildChange(Wl(o,h))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?K.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class vs{constructor(n){this.indexedFilter_=new Jh(n.getIndex()),this.index_=n.getIndex(),this.startPost_=vs.getStartPost_(n),this.endPost_=vs.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,c=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&c}updateChild(n,l,c,o,h,f){return this.matches(new ie(l,c))||(c=K.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,c,o,h,f)}updateFullNode(n,l,c){l.isLeafNode()&&(l=K.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(K.EMPTY_NODE);const h=this;return l.forEachChild(Xe,(f,g)=>{h.matches(new ie(f,g))||(o=o.updateImmediateChild(f,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class HS{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=l=>{const c=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new vs(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,c,o,h,f){return this.rangedFilter_.matches(new ie(l,c))||(c=K.EMPTY_NODE),n.getImmediateChild(l).equals(c)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,c,o,h,f):this.fullLimitUpdateChild_(n,l,c,h,f)}updateFullNode(n,l,c){let o;if(l.isLeafNode()||l.isEmpty())o=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=K.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;h.hasNext()&&f<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),f++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(K.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let f=0;for(;h.hasNext();){const g=h.getNext();f<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?f++:o=o.updateImmediateChild(g.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,c,o,h){let f;if(this.reverse_){const v=this.index_.getCompare();f=(S,z)=>v(z,S)}else f=this.index_.getCompare();const g=n;B(g.numChildren()===this.limit_,"");const _=new ie(l,c),y=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),E=this.rangedFilter_.matches(_);if(g.hasChild(l)){const v=g.getImmediateChild(l);let S=o.getChildAfterChild(this.index_,y,this.reverse_);for(;S!=null&&(S.name===l||g.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const z=S==null?1:f(S,_);if(E&&!c.isEmpty()&&z>=0)return h?.trackChildChange(ys(l,c,v)),g.updateImmediateChild(l,c);{h?.trackChildChange(_s(l,v));const Q=g.updateImmediateChild(l,K.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(h?.trackChildChange(Wl(S.name,S.node)),Q.updateImmediateChild(S.name,S.node)):Q}}else return c.isEmpty()?n:E&&f(y,_)>=0?(h!=null&&(h.trackChildChange(_s(y.name,y.node)),h.trackChildChange(Wl(l,c))),g.updateImmediateChild(l,c).updateImmediateChild(y.name,K.EMPTY_NODE)):n}}class Wh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jl}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Pi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const n=new Wh;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function IS(a){return a.loadsAllData()?new Jh(a.getIndex()):a.hasLimit()?new HS(a):new vs(a)}function n_(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Xe?l="$priority":a.index_===LS?l="$value":a.index_===Fl?l="$key":(B(a.index_ instanceof zS,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=it(l),a.startSet_){const c=a.startAfterSet_?"startAfter":"startAt";n[c]=it(a.indexStartValue_),a.startNameSet_&&(n[c]+=","+it(a.indexStartName_))}if(a.endSet_){const c=a.endBeforeSet_?"endBefore":"endAt";n[c]=it(a.indexEndValue_),a.endNameSet_&&(n[c]+=","+it(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function i_(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Xe&&(n.i=a.index_.toString()),n}class ur extends sy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,c,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=o,this.log_=xs("p:rest:"),this.listens_={}}listen(n,l,c,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const f=ur.getListenId_(n,c),g={};this.listens_[f]=g;const _=n_(n._queryParams);this.restRequest_(h+".json",_,(y,E)=>{let v=E;if(y===404&&(v=null,y=null),y===null&&this.onDataUpdate_(h,v,!1,c),Zl(this.listens_,f)===g){let S;y?y===401?S="permission_denied":S="rest_error:"+y:S="ok",o(S,null)}})}unlisten(n,l){const c=ur.getListenId_(n,l);delete this.listens_[c]}get(n){const l=n_(n._queryParams),c=n._path.toString(),o=new Es;return this.restRequest_(c+".json",l,(h,f)=>{let g=f;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(c,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},c){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(l.auth=o.accessToken),h&&h.token&&(l.ac=h.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+o2(l);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(c&&g.readyState===4){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let _=null;if(g.status>=200&&g.status<300){try{_=fs(g.responseText)}catch{Et("Failed to parse JSON response for "+f+": "+g.responseText)}c(null,_)}else g.status!==401&&g.status!==404&&Et("Got unsuccessful REST response for "+f+" Status: "+g.status),c(g.status);c=null}},g.open("GET",f,!0),g.send()})}}class kS{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function hr(){return{value:null,children:new Map}}function py(a,n,l){if(ce(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const c=ne(n);a.children.has(c)||a.children.set(c,hr());const o=a.children.get(c);n=ze(n),py(o,n,l)}}function Ah(a,n,l){a.value!==null?l(n,a.value):VS(a,(c,o)=>{const h=new xe(n.toString()+"/"+c);Ah(o,h,l)})}function VS(a,n){a.children.forEach((l,c)=>{n(c,l)})}class GS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&gt(this.last_,(c,o)=>{l[c]=l[c]-o}),this.last_=n,l}}const l_=10*1e3,qS=30*1e3,YS=300*1e3;class QS{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new GS(n);const c=l_+(qS-l_)*Math.random();rs(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const n=this.statsListener_.get(),l={};let c=!1;gt(n,(o,h)=>{h>0&&bn(this.statsToReport_,o)&&(l[o]=h,c=!0)}),c&&this.server_.reportStats(l),rs(this.reportStats_.bind(this),Math.floor(Math.random()*2*YS))}}var on;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(on||(on={}));function $h(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ph(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ef(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class fr{constructor(n,l,c){this.path=n,this.affectedTree=l,this.revert=c,this.type=on.ACK_USER_WRITE,this.source=$h()}operationForChild(n){if(ce(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new xe(n));return new fr(pe(),l,this.revert)}}else return B(ne(this.path)===n,"operationForChild called for unrelated child."),new fr(ze(this.path),this.affectedTree,this.revert)}}class bs{constructor(n,l){this.source=n,this.path=l,this.type=on.LISTEN_COMPLETE}operationForChild(n){return ce(this.path)?new bs(this.source,pe()):new bs(this.source,ze(this.path))}}class el{constructor(n,l,c){this.source=n,this.path=l,this.snap=c,this.type=on.OVERWRITE}operationForChild(n){return ce(this.path)?new el(this.source,pe(),this.snap.getImmediateChild(n)):new el(this.source,ze(this.path),this.snap)}}class $l{constructor(n,l,c){this.source=n,this.path=l,this.children=c,this.type=on.MERGE}operationForChild(n){if(ce(this.path)){const l=this.children.subtree(new xe(n));return l.isEmpty()?null:l.value?new el(this.source,pe(),l.value):new $l(this.source,pe(),l)}else return B(ne(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new $l(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class wi{constructor(n,l,c){this.node_=n,this.fullyInitialized_=l,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ce(n))return this.isFullyInitialized()&&!this.filtered_;const l=ne(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class XS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function FS(a,n,l,c){const o=[],h=[];return n.forEach(f=>{f.type==="child_changed"&&a.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&h.push(BS(f.childName,f.snapshotNode))}),ls(a,o,"child_removed",n,c,l),ls(a,o,"child_added",n,c,l),ls(a,o,"child_moved",h,c,l),ls(a,o,"child_changed",n,c,l),ls(a,o,"value",n,c,l),o}function ls(a,n,l,c,o,h){const f=c.filter(g=>g.type===l);f.sort((g,_)=>ZS(a,g,_)),f.forEach(g=>{const _=KS(a,g,h);o.forEach(y=>{y.respondsTo(g.type)&&n.push(y.createEvent(_,a.query_))})})}function KS(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function ZS(a,n,l){if(n.childName==null||l.childName==null)throw ta("Should only compare child_ events.");const c=new ie(n.childName,n.snapshotNode),o=new ie(l.childName,l.snapshotNode);return a.index_.compare(c,o)}function Tr(a,n){return{eventCache:a,serverCache:n}}function os(a,n,l,c){return Tr(new wi(n,l,c),a.serverCache)}function _y(a,n,l,c){return Tr(a.eventCache,new wi(n,l,c))}function dr(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function tl(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let hh;const JS=()=>(hh||(hh=new zt(zb)),hh);class Re{static fromObject(n){let l=new Re(null);return gt(n,(c,o)=>{l=l.set(new xe(c),o)}),l}constructor(n,l=JS()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:pe(),value:this.value};if(ce(n))return null;{const c=ne(n),o=this.children.get(c);if(o!==null){const h=o.findRootMostMatchingPathAndValue(ze(n),l);return h!=null?{path:Qe(new xe(c),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ce(n))return this;{const l=ne(n),c=this.children.get(l);return c!==null?c.subtree(ze(n)):new Re(null)}}set(n,l){if(ce(n))return new Re(l,this.children);{const c=ne(n),h=(this.children.get(c)||new Re(null)).set(ze(n),l),f=this.children.insert(c,h);return new Re(this.value,f)}}remove(n){if(ce(n))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const l=ne(n),c=this.children.get(l);if(c){const o=c.remove(ze(n));let h;return o.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,o),this.value===null&&h.isEmpty()?new Re(null):new Re(this.value,h)}else return this}}get(n){if(ce(n))return this.value;{const l=ne(n),c=this.children.get(l);return c?c.get(ze(n)):null}}setTree(n,l){if(ce(n))return l;{const c=ne(n),h=(this.children.get(c)||new Re(null)).setTree(ze(n),l);let f;return h.isEmpty()?f=this.children.remove(c):f=this.children.insert(c,h),new Re(this.value,f)}}fold(n){return this.fold_(pe(),n)}fold_(n,l){const c={};return this.children.inorderTraversal((o,h)=>{c[o]=h.fold_(Qe(n,o),l)}),l(n,this.value,c)}findOnPath(n,l){return this.findOnPath_(n,pe(),l)}findOnPath_(n,l,c){const o=this.value?c(l,this.value):!1;if(o)return o;if(ce(n))return null;{const h=ne(n),f=this.children.get(h);return f?f.findOnPath_(ze(n),Qe(l,h),c):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,pe(),l)}foreachOnPath_(n,l,c){if(ce(n))return this;{this.value&&c(l,this.value);const o=ne(n),h=this.children.get(o);return h?h.foreachOnPath_(ze(n),Qe(l,o),c):new Re(null)}}foreach(n){this.foreach_(pe(),n)}foreach_(n,l){this.children.inorderTraversal((c,o)=>{o.foreach_(Qe(n,c),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,c)=>{c.value&&n(l,c.value)})}}class un{constructor(n){this.writeTree_=n}static empty(){return new un(new Re(null))}}function us(a,n,l){if(ce(n))return new un(new Re(l));{const c=a.writeTree_.findRootMostValueAndPath(n);if(c!=null){const o=c.path;let h=c.value;const f=Ct(o,n);return h=h.updateChild(f,l),new un(a.writeTree_.set(o,h))}else{const o=new Re(l),h=a.writeTree_.setTree(n,o);return new un(h)}}}function wh(a,n,l){let c=a;return gt(l,(o,h)=>{c=us(c,Qe(n,o),h)}),c}function a_(a,n){if(ce(n))return un.empty();{const l=a.writeTree_.setTree(n,new Re(null));return new un(l)}}function Dh(a,n){return il(a,n)!=null}function il(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(Ct(l.path,n)):null}function s_(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Xe,(c,o)=>{n.push(new ie(c,o))}):a.writeTree_.children.inorderTraversal((c,o)=>{o.value!=null&&n.push(new ie(c,o.value))}),n}function Ni(a,n){if(ce(n))return a;{const l=il(a,n);return l!=null?new un(new Re(l)):new un(a.writeTree_.subtree(n))}}function Mh(a){return a.writeTree_.isEmpty()}function Pl(a,n){return yy(pe(),a.writeTree_,n)}function yy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let c=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(B(h.value!==null,"Priority writes must always be leaf nodes"),c=h.value):l=yy(Qe(a,o),h,l)}),!l.getChild(a).isEmpty()&&c!==null&&(l=l.updateChild(Qe(a,".priority"),c)),l}}function Nr(a,n){return Cy(n,a)}function WS(a,n,l,c,o){B(c>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:c,visible:o}),o&&(a.visibleWrites=us(a.visibleWrites,n,l)),a.lastWriteId=c}function $S(a,n,l,c){B(c>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:c,visible:!0}),a.visibleWrites=wh(a.visibleWrites,n,l),a.lastWriteId=c}function PS(a,n){for(let l=0;l<a.allWrites.length;l++){const c=a.allWrites[l];if(c.writeId===n)return c}return null}function e4(a,n){const l=a.allWrites.findIndex(g=>g.writeId===n);B(l>=0,"removeWrite called with nonexistent writeId.");const c=a.allWrites[l];a.allWrites.splice(l,1);let o=c.visible,h=!1,f=a.allWrites.length-1;for(;o&&f>=0;){const g=a.allWrites[f];g.visible&&(f>=l&&t4(g,c.path)?o=!1:tn(c.path,g.path)&&(h=!0)),f--}if(o){if(h)return n4(a),!0;if(c.snap)a.visibleWrites=a_(a.visibleWrites,c.path);else{const g=c.children;gt(g,_=>{a.visibleWrites=a_(a.visibleWrites,Qe(c.path,_))})}return!0}else return!1}function t4(a,n){if(a.snap)return tn(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&tn(Qe(a.path,l),n))return!0;return!1}function n4(a){a.visibleWrites=vy(a.allWrites,i4,pe()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function i4(a){return a.visible}function vy(a,n,l){let c=un.empty();for(let o=0;o<a.length;++o){const h=a[o];if(n(h)){const f=h.path;let g;if(h.snap)tn(l,f)?(g=Ct(l,f),c=us(c,g,h.snap)):tn(f,l)&&(g=Ct(f,l),c=us(c,pe(),h.snap.getChild(g)));else if(h.children){if(tn(l,f))g=Ct(l,f),c=wh(c,g,h.children);else if(tn(f,l))if(g=Ct(f,l),ce(g))c=wh(c,pe(),h.children);else{const _=Zl(h.children,ne(g));if(_){const y=_.getChild(ze(g));c=us(c,pe(),y)}}}else throw ta("WriteRecord should have .snap or .children")}}return c}function by(a,n,l,c,o){if(!c&&!o){const h=il(a.visibleWrites,n);if(h!=null)return h;{const f=Ni(a.visibleWrites,n);if(Mh(f))return l;if(l==null&&!Dh(f,pe()))return null;{const g=l||K.EMPTY_NODE;return Pl(f,g)}}}else{const h=Ni(a.visibleWrites,n);if(!o&&Mh(h))return l;if(!o&&l==null&&!Dh(h,pe()))return null;{const f=function(y){return(y.visible||o)&&(!c||!~c.indexOf(y.writeId))&&(tn(y.path,n)||tn(n,y.path))},g=vy(a.allWrites,f,n),_=l||K.EMPTY_NODE;return Pl(g,_)}}}function l4(a,n,l){let c=K.EMPTY_NODE;const o=il(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Xe,(h,f)=>{c=c.updateImmediateChild(h,f)}),c;if(l){const h=Ni(a.visibleWrites,n);return l.forEachChild(Xe,(f,g)=>{const _=Pl(Ni(h,new xe(f)),g);c=c.updateImmediateChild(f,_)}),s_(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}else{const h=Ni(a.visibleWrites,n);return s_(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}}function a4(a,n,l,c,o){B(c||o,"Either existingEventSnap or existingServerSnap must exist");const h=Qe(n,l);if(Dh(a.visibleWrites,h))return null;{const f=Ni(a.visibleWrites,h);return Mh(f)?o.getChild(l):Pl(f,o.getChild(l))}}function s4(a,n,l,c){const o=Qe(n,l),h=il(a.visibleWrites,o);if(h!=null)return h;if(c.isCompleteForChild(l)){const f=Ni(a.visibleWrites,o);return Pl(f,c.getNode().getImmediateChild(l))}else return null}function c4(a,n){return il(a.visibleWrites,n)}function r4(a,n,l,c,o,h,f){let g;const _=Ni(a.visibleWrites,n),y=il(_,pe());if(y!=null)g=y;else if(l!=null)g=Pl(_,l);else return[];if(g=g.withIndex(f),!g.isEmpty()&&!g.isLeafNode()){const E=[],v=f.getCompare(),S=h?g.getReverseIteratorFrom(c,f):g.getIteratorFrom(c,f);let z=S.getNext();for(;z&&E.length<o;)v(z,c)!==0&&E.push(z),z=S.getNext();return E}else return[]}function o4(){return{visibleWrites:un.empty(),allWrites:[],lastWriteId:-1}}function mr(a,n,l,c){return by(a.writeTree,a.treePath,n,l,c)}function tf(a,n){return l4(a.writeTree,a.treePath,n)}function c_(a,n,l,c){return a4(a.writeTree,a.treePath,n,l,c)}function gr(a,n){return c4(a.writeTree,Qe(a.treePath,n))}function u4(a,n,l,c,o,h){return r4(a.writeTree,a.treePath,n,l,c,o,h)}function nf(a,n,l){return s4(a.writeTree,a.treePath,n,l)}function Sy(a,n){return Cy(Qe(a.treePath,n),a.writeTree)}function Cy(a,n){return{treePath:a,writeTree:n}}class h4{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,c=n.childName;B(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),B(c!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(c);if(o){const h=o.type;if(l==="child_added"&&h==="child_removed")this.changeMap.set(c,ys(c,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&h==="child_added")this.changeMap.delete(c);else if(l==="child_removed"&&h==="child_changed")this.changeMap.set(c,_s(c,o.oldSnap));else if(l==="child_changed"&&h==="child_added")this.changeMap.set(c,Wl(c,n.snapshotNode));else if(l==="child_changed"&&h==="child_changed")this.changeMap.set(c,ys(c,n.snapshotNode,o.oldSnap));else throw ta("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(c,n)}getChanges(){return Array.from(this.changeMap.values())}}class f4{getCompleteChild(n){return null}getChildAfterChild(n,l,c){return null}}const Ey=new f4;class lf{constructor(n,l,c=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=c}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const c=this.optCompleteServerCache_!=null?new wi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nf(this.writes_,n,c)}}getChildAfterChild(n,l,c){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:tl(this.viewCache_),h=u4(this.writes_,o,l,1,c,n);return h.length===0?null:h[0]}}function d4(a){return{filter:a}}function m4(a,n){B(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function g4(a,n,l,c,o){const h=new h4;let f,g;if(l.type===on.OVERWRITE){const y=l;y.source.fromUser?f=Oh(a,n,y.path,y.snap,c,o,h):(B(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered()&&!ce(y.path),f=pr(a,n,y.path,y.snap,c,o,g,h))}else if(l.type===on.MERGE){const y=l;y.source.fromUser?f=_4(a,n,y.path,y.children,c,o,h):(B(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered(),f=Rh(a,n,y.path,y.children,c,o,g,h))}else if(l.type===on.ACK_USER_WRITE){const y=l;y.revert?f=b4(a,n,y.path,c,o,h):f=y4(a,n,y.path,y.affectedTree,c,o,h)}else if(l.type===on.LISTEN_COMPLETE)f=v4(a,n,l.path,c,h);else throw ta("Unknown operation type: "+l.type);const _=h.getChanges();return p4(n,f,_),{viewCache:f,changes:_}}function p4(a,n,l){const c=n.eventCache;if(c.isFullyInitialized()){const o=c.getNode().isLeafNode()||c.getNode().isEmpty(),h=dr(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!c.getNode().equals(h)||!c.getNode().getPriority().equals(h.getPriority()))&&l.push(gy(dr(n)))}}function Ty(a,n,l,c,o,h){const f=n.eventCache;if(gr(c,l)!=null)return n;{let g,_;if(ce(l))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=tl(n),E=y instanceof K?y:K.EMPTY_NODE,v=tf(c,E);g=a.filter.updateFullNode(n.eventCache.getNode(),v,h)}else{const y=mr(c,tl(n));g=a.filter.updateFullNode(n.eventCache.getNode(),y,h)}else{const y=ne(l);if(y===".priority"){B(Ai(l)===1,"Can't have a priority with additional path components");const E=f.getNode();_=n.serverCache.getNode();const v=c_(c,l,E,_);v!=null?g=a.filter.updatePriority(E,v):g=f.getNode()}else{const E=ze(l);let v;if(f.isCompleteForChild(y)){_=n.serverCache.getNode();const S=c_(c,l,f.getNode(),_);S!=null?v=f.getNode().getImmediateChild(y).updateChild(E,S):v=f.getNode().getImmediateChild(y)}else v=nf(c,y,n.serverCache);v!=null?g=a.filter.updateChild(f.getNode(),y,v,E,o,h):g=f.getNode()}}return os(n,g,f.isFullyInitialized()||ce(l),a.filter.filtersNodes())}}function pr(a,n,l,c,o,h,f,g){const _=n.serverCache;let y;const E=f?a.filter:a.filter.getIndexedFilter();if(ce(l))y=E.updateFullNode(_.getNode(),c,null);else if(E.filtersNodes()&&!_.isFiltered()){const z=_.getNode().updateChild(l,c);y=E.updateFullNode(_.getNode(),z,null)}else{const z=ne(l);if(!_.isCompleteForPath(l)&&Ai(l)>1)return n;const L=ze(l),I=_.getNode().getImmediateChild(z).updateChild(L,c);z===".priority"?y=E.updatePriority(_.getNode(),I):y=E.updateChild(_.getNode(),z,I,L,Ey,null)}const v=_y(n,y,_.isFullyInitialized()||ce(l),E.filtersNodes()),S=new lf(o,v,h);return Ty(a,v,l,o,S,g)}function Oh(a,n,l,c,o,h,f){const g=n.eventCache;let _,y;const E=new lf(o,n,h);if(ce(l))y=a.filter.updateFullNode(n.eventCache.getNode(),c,f),_=os(n,y,!0,a.filter.filtersNodes());else{const v=ne(l);if(v===".priority")y=a.filter.updatePriority(n.eventCache.getNode(),c),_=os(n,y,g.isFullyInitialized(),g.isFiltered());else{const S=ze(l),z=g.getNode().getImmediateChild(v);let L;if(ce(S))L=c;else{const Q=E.getCompleteChild(v);Q!=null?Xh(S)===".priority"&&Q.getChild(ry(S)).isEmpty()?L=Q:L=Q.updateChild(S,c):L=K.EMPTY_NODE}if(z.equals(L))_=n;else{const Q=a.filter.updateChild(g.getNode(),v,L,S,E,f);_=os(n,Q,g.isFullyInitialized(),a.filter.filtersNodes())}}}return _}function r_(a,n){return a.eventCache.isCompleteForChild(n)}function _4(a,n,l,c,o,h,f){let g=n;return c.foreach((_,y)=>{const E=Qe(l,_);r_(n,ne(E))&&(g=Oh(a,g,E,y,o,h,f))}),c.foreach((_,y)=>{const E=Qe(l,_);r_(n,ne(E))||(g=Oh(a,g,E,y,o,h,f))}),g}function o_(a,n,l){return l.foreach((c,o)=>{n=n.updateChild(c,o)}),n}function Rh(a,n,l,c,o,h,f,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,y;ce(l)?y=c:y=new Re(null).setTree(l,c);const E=n.serverCache.getNode();return y.children.inorderTraversal((v,S)=>{if(E.hasChild(v)){const z=n.serverCache.getNode().getImmediateChild(v),L=o_(a,z,S);_=pr(a,_,new xe(v),L,o,h,f,g)}}),y.children.inorderTraversal((v,S)=>{const z=!n.serverCache.isCompleteForChild(v)&&S.value===null;if(!E.hasChild(v)&&!z){const L=n.serverCache.getNode().getImmediateChild(v),Q=o_(a,L,S);_=pr(a,_,new xe(v),Q,o,h,f,g)}}),_}function y4(a,n,l,c,o,h,f){if(gr(o,l)!=null)return n;const g=n.serverCache.isFiltered(),_=n.serverCache;if(c.value!=null){if(ce(l)&&_.isFullyInitialized()||_.isCompleteForPath(l))return pr(a,n,l,_.getNode().getChild(l),o,h,g,f);if(ce(l)){let y=new Re(null);return _.getNode().forEachChild(Fl,(E,v)=>{y=y.set(new xe(E),v)}),Rh(a,n,l,y,o,h,g,f)}else return n}else{let y=new Re(null);return c.foreach((E,v)=>{const S=Qe(l,E);_.isCompleteForPath(S)&&(y=y.set(E,_.getNode().getChild(S)))}),Rh(a,n,l,y,o,h,g,f)}}function v4(a,n,l,c,o){const h=n.serverCache,f=_y(n,h.getNode(),h.isFullyInitialized()||ce(l),h.isFiltered());return Ty(a,f,l,c,Ey,o)}function b4(a,n,l,c,o,h){let f;if(gr(c,l)!=null)return n;{const g=new lf(c,n,o),_=n.eventCache.getNode();let y;if(ce(l)||ne(l)===".priority"){let E;if(n.serverCache.isFullyInitialized())E=mr(c,tl(n));else{const v=n.serverCache.getNode();B(v instanceof K,"serverChildren would be complete if leaf node"),E=tf(c,v)}E=E,y=a.filter.updateFullNode(_,E,h)}else{const E=ne(l);let v=nf(c,E,n.serverCache);v==null&&n.serverCache.isCompleteForChild(E)&&(v=_.getImmediateChild(E)),v!=null?y=a.filter.updateChild(_,E,v,ze(l),g,h):n.eventCache.getNode().hasChild(E)?y=a.filter.updateChild(_,E,K.EMPTY_NODE,ze(l),g,h):y=_,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=mr(c,tl(n)),f.isLeafNode()&&(y=a.filter.updateFullNode(y,f,h)))}return f=n.serverCache.isFullyInitialized()||gr(c,pe())!=null,os(n,y,f,a.filter.filtersNodes())}}class S4{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const c=this.query_._queryParams,o=new Jh(c.getIndex()),h=IS(c);this.processor_=d4(h);const f=l.serverCache,g=l.eventCache,_=o.updateFullNode(K.EMPTY_NODE,f.getNode(),null),y=h.updateFullNode(K.EMPTY_NODE,g.getNode(),null),E=new wi(_,f.isFullyInitialized(),o.filtersNodes()),v=new wi(y,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=Tr(v,E),this.eventGenerator_=new XS(this.query_)}get query(){return this.query_}}function C4(a){return a.viewCache_.serverCache.getNode()}function E4(a){return dr(a.viewCache_)}function T4(a,n){const l=tl(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!ce(n)&&!l.getImmediateChild(ne(n)).isEmpty())?l.getChild(n):null}function u_(a){return a.eventRegistrations_.length===0}function N4(a,n){a.eventRegistrations_.push(n)}function h_(a,n,l){const c=[];if(l){B(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(h=>{const f=h.createCancelEvent(l,o);f&&c.push(f)})}if(n){let o=[];for(let h=0;h<a.eventRegistrations_.length;++h){const f=a.eventRegistrations_[h];if(!f.matches(n))o.push(f);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(h+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return c}function f_(a,n,l,c){n.type===on.MERGE&&n.source.queryId!==null&&(B(tl(a.viewCache_),"We should always have a full cache before handling merges"),B(dr(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,h=g4(a.processor_,o,n,l,c);return m4(a.processor_,h.viewCache),B(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=h.viewCache,Ny(a,h.changes,h.viewCache.eventCache.getNode(),null)}function x4(a,n){const l=a.viewCache_.eventCache,c=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Xe,(h,f)=>{c.push(Wl(h,f))}),l.isFullyInitialized()&&c.push(gy(l.getNode())),Ny(a,c,l.getNode(),n)}function Ny(a,n,l,c){const o=c?[c]:a.eventRegistrations_;return FS(a.eventGenerator_,n,l,o)}let _r;class xy{constructor(){this.views=new Map}}function A4(a){B(!_r,"__referenceConstructor has already been defined"),_r=a}function w4(){return B(_r,"Reference.ts has not been loaded"),_r}function D4(a){return a.views.size===0}function af(a,n,l,c){const o=n.source.queryId;if(o!==null){const h=a.views.get(o);return B(h!=null,"SyncTree gave us an op for an invalid query."),f_(h,n,l,c)}else{let h=[];for(const f of a.views.values())h=h.concat(f_(f,n,l,c));return h}}function Ay(a,n,l,c,o){const h=n._queryIdentifier,f=a.views.get(h);if(!f){let g=mr(l,o?c:null),_=!1;g?_=!0:c instanceof K?(g=tf(l,c),_=!1):(g=K.EMPTY_NODE,_=!1);const y=Tr(new wi(g,_,!1),new wi(c,o,!1));return new S4(n,y)}return f}function M4(a,n,l,c,o,h){const f=Ay(a,n,c,o,h);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,f),N4(f,l),x4(f,l)}function O4(a,n,l,c){const o=n._queryIdentifier,h=[];let f=[];const g=Di(a);if(o==="default")for(const[_,y]of a.views.entries())f=f.concat(h_(y,l,c)),u_(y)&&(a.views.delete(_),y.query._queryParams.loadsAllData()||h.push(y.query));else{const _=a.views.get(o);_&&(f=f.concat(h_(_,l,c)),u_(_)&&(a.views.delete(o),_.query._queryParams.loadsAllData()||h.push(_.query)))}return g&&!Di(a)&&h.push(new(w4())(n._repo,n._path)),{removed:h,events:f}}function wy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function xi(a,n){let l=null;for(const c of a.views.values())l=l||T4(c,n);return l}function Dy(a,n){if(n._queryParams.loadsAllData())return xr(a);{const c=n._queryIdentifier;return a.views.get(c)}}function My(a,n){return Dy(a,n)!=null}function Di(a){return xr(a)!=null}function xr(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let yr;function R4(a){B(!yr,"__referenceConstructor has already been defined"),yr=a}function j4(){return B(yr,"Reference.ts has not been loaded"),yr}let z4=1;class d_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Re(null),this.pendingWriteTree_=o4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Oy(a,n,l,c,o){return WS(a.pendingWriteTree_,n,l,c,o),o?la(a,new el($h(),n,l)):[]}function U4(a,n,l,c){$S(a.pendingWriteTree_,n,l,c);const o=Re.fromObject(l);return la(a,new $l($h(),n,o))}function Si(a,n,l=!1){const c=PS(a.pendingWriteTree_,n);if(e4(a.pendingWriteTree_,n)){let h=new Re(null);return c.snap!=null?h=h.set(pe(),!0):gt(c.children,f=>{h=h.set(new xe(f),!0)}),la(a,new fr(c.path,h,l))}else return[]}function ws(a,n,l){return la(a,new el(Ph(),n,l))}function L4(a,n,l){const c=Re.fromObject(l);return la(a,new $l(Ph(),n,c))}function B4(a,n){return la(a,new bs(Ph(),n))}function H4(a,n,l){const c=cf(a,l);if(c){const o=rf(c),h=o.path,f=o.queryId,g=Ct(h,n),_=new bs(ef(f),g);return of(a,h,_)}else return[]}function vr(a,n,l,c,o=!1){const h=n._path,f=a.syncPointTree_.get(h);let g=[];if(f&&(n._queryIdentifier==="default"||My(f,n))){const _=O4(f,n,l,c);D4(f)&&(a.syncPointTree_=a.syncPointTree_.remove(h));const y=_.removed;if(g=_.events,!o){const E=y.findIndex(S=>S._queryParams.loadsAllData())!==-1,v=a.syncPointTree_.findOnPath(h,(S,z)=>Di(z));if(E&&!v){const S=a.syncPointTree_.subtree(h);if(!S.isEmpty()){const z=V4(S);for(let L=0;L<z.length;++L){const Q=z[L],I=Q.query,P=Uy(a,Q);a.listenProvider_.startListening(hs(I),Ss(a,I),P.hashFn,P.onComplete)}}}!v&&y.length>0&&!c&&(E?a.listenProvider_.stopListening(hs(n),null):y.forEach(S=>{const z=a.queryToTagMap.get(Ar(S));a.listenProvider_.stopListening(hs(S),z)}))}G4(a,y)}return g}function Ry(a,n,l,c){const o=cf(a,c);if(o!=null){const h=rf(o),f=h.path,g=h.queryId,_=Ct(f,n),y=new el(ef(g),_,l);return of(a,f,y)}else return[]}function I4(a,n,l,c){const o=cf(a,c);if(o){const h=rf(o),f=h.path,g=h.queryId,_=Ct(f,n),y=Re.fromObject(l),E=new $l(ef(g),_,y);return of(a,f,E)}else return[]}function jh(a,n,l,c=!1){const o=n._path;let h=null,f=!1;a.syncPointTree_.foreachOnPath(o,(S,z)=>{const L=Ct(S,o);h=h||xi(z,L),f=f||Di(z)});let g=a.syncPointTree_.get(o);g?(f=f||Di(g),h=h||xi(g,pe())):(g=new xy,a.syncPointTree_=a.syncPointTree_.set(o,g));let _;h!=null?_=!0:(_=!1,h=K.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,L)=>{const Q=xi(L,pe());Q&&(h=h.updateImmediateChild(z,Q))}));const y=My(g,n);if(!y&&!n._queryParams.loadsAllData()){const S=Ar(n);B(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const z=q4();a.queryToTagMap.set(S,z),a.tagToQueryMap.set(z,S)}const E=Nr(a.pendingWriteTree_,o);let v=M4(g,n,l,E,h,_);if(!y&&!f&&!c){const S=Dy(g,n);v=v.concat(Y4(a,n,S))}return v}function sf(a,n,l){const o=a.pendingWriteTree_,h=a.syncPointTree_.findOnPath(n,(f,g)=>{const _=Ct(f,n),y=xi(g,_);if(y)return y});return by(o,n,h,l,!0)}function k4(a,n){const l=n._path;let c=null;a.syncPointTree_.foreachOnPath(l,(y,E)=>{const v=Ct(y,l);c=c||xi(E,v)});let o=a.syncPointTree_.get(l);o?c=c||xi(o,pe()):(o=new xy,a.syncPointTree_=a.syncPointTree_.set(l,o));const h=c!=null,f=h?new wi(c,!0,!1):null,g=Nr(a.pendingWriteTree_,n._path),_=Ay(o,n,g,h?f.getNode():K.EMPTY_NODE,h);return E4(_)}function la(a,n){return jy(n,a.syncPointTree_,null,Nr(a.pendingWriteTree_,pe()))}function jy(a,n,l,c){if(ce(a.path))return zy(a,n,l,c);{const o=n.get(pe());l==null&&o!=null&&(l=xi(o,pe()));let h=[];const f=ne(a.path),g=a.operationForChild(f),_=n.children.get(f);if(_&&g){const y=l?l.getImmediateChild(f):null,E=Sy(c,f);h=h.concat(jy(g,_,y,E))}return o&&(h=h.concat(af(o,a,c,l))),h}}function zy(a,n,l,c){const o=n.get(pe());l==null&&o!=null&&(l=xi(o,pe()));let h=[];return n.children.inorderTraversal((f,g)=>{const _=l?l.getImmediateChild(f):null,y=Sy(c,f),E=a.operationForChild(f);E&&(h=h.concat(zy(E,g,_,y)))}),o&&(h=h.concat(af(o,a,c,l))),h}function Uy(a,n){const l=n.query,c=Ss(a,l);return{hashFn:()=>(C4(n)||K.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return c?H4(a,l._path,c):B4(a,l._path);{const h=Bb(o,l);return vr(a,l,null,h)}}}}function Ss(a,n){const l=Ar(n);return a.queryToTagMap.get(l)}function Ar(a){return a._path.toString()+"$"+a._queryIdentifier}function cf(a,n){return a.tagToQueryMap.get(n)}function rf(a){const n=a.indexOf("$");return B(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new xe(a.substr(0,n))}}function of(a,n,l){const c=a.syncPointTree_.get(n);B(c,"Missing sync point for query tag that we're tracking");const o=Nr(a.pendingWriteTree_,n);return af(c,l,o,null)}function V4(a){return a.fold((n,l,c)=>{if(l&&Di(l))return[xr(l)];{let o=[];return l&&(o=wy(l)),gt(c,(h,f)=>{o=o.concat(f)}),o}})}function hs(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(j4())(a._repo,a._path):a}function G4(a,n){for(let l=0;l<n.length;++l){const c=n[l];if(!c._queryParams.loadsAllData()){const o=Ar(c),h=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(h)}}}function q4(){return z4++}function Y4(a,n,l){const c=n._path,o=Ss(a,n),h=Uy(a,l),f=a.listenProvider_.startListening(hs(n),o,h.hashFn,h.onComplete),g=a.syncPointTree_.subtree(c);if(o)B(!Di(g.value),"If we're adding a query, it shouldn't be shadowed");else{const _=g.fold((y,E,v)=>{if(!ce(y)&&E&&Di(E))return[xr(E).query];{let S=[];return E&&(S=S.concat(wy(E).map(z=>z.query))),gt(v,(z,L)=>{S=S.concat(L)}),S}});for(let y=0;y<_.length;++y){const E=_[y];a.listenProvider_.stopListening(hs(E),Ss(a,E))}}return f}class uf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new uf(l)}node(){return this.node_}}class hf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Qe(this.path_,n);return new hf(this.syncTree_,l)}node(){return sf(this.syncTree_,this.path_)}}const Q4=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},m_=function(a,n,l){if(!a||typeof a!="object")return a;if(B(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return X4(a[".sv"],n,l);if(typeof a[".sv"]=="object")return F4(a[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},X4=function(a,n,l){if(a==="timestamp")return l.timestamp;B(!1,"Unexpected server value: "+a)},F4=function(a,n,l){a.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const c=a.increment;typeof c!="number"&&B(!1,"Unexpected increment value: "+c);const o=n.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return c;const f=o.getValue();return typeof f!="number"?c:f+c},Ly=function(a,n,l,c){return ff(n,new hf(l,a),c)},By=function(a,n,l){return ff(a,new uf(n),l)};function ff(a,n,l){const c=a.getPriority().val(),o=m_(c,n.getImmediateChild(".priority"),l);let h;if(a.isLeafNode()){const f=a,g=m_(f.getValue(),n,l);return g!==f.getValue()||o!==f.getPriority().val()?new st(g,nt(o)):a}else{const f=a;return h=f,o!==f.getPriority().val()&&(h=h.updatePriority(new st(o))),f.forEachChild(Xe,(g,_)=>{const y=ff(_,n.getImmediateChild(g),l);y!==_&&(h=h.updateImmediateChild(g,y))}),h}}class df{constructor(n="",l=null,c={children:{},childCount:0}){this.name=n,this.parent=l,this.node=c}}function mf(a,n){let l=n instanceof xe?n:new xe(n),c=a,o=ne(l);for(;o!==null;){const h=Zl(c.node.children,o)||{children:{},childCount:0};c=new df(o,c,h),l=ze(l),o=ne(l)}return c}function aa(a){return a.node.value}function Hy(a,n){a.node.value=n,zh(a)}function Iy(a){return a.node.childCount>0}function K4(a){return aa(a)===void 0&&!Iy(a)}function wr(a,n){gt(a.node.children,(l,c)=>{n(new df(l,a,c))})}function ky(a,n,l,c){l&&n(a),wr(a,o=>{ky(o,n,!0)})}function Z4(a,n,l){let c=a.parent;for(;c!==null;){if(n(c))return!0;c=c.parent}return!1}function Ds(a){return new xe(a.parent===null?a.name:Ds(a.parent)+"/"+a.name)}function zh(a){a.parent!==null&&J4(a.parent,a.name,a)}function J4(a,n,l){const c=K4(l),o=bn(a.node.children,n);c&&o?(delete a.node.children[n],a.node.childCount--,zh(a)):!c&&!o&&(a.node.children[n]=l.node,a.node.childCount++,zh(a))}const W4=/[\[\].#$\/\u0000-\u001F\u007F]/,$4=/[\[\].#$\u0000-\u001F\u007F]/,fh=10*1024*1024,gf=function(a){return typeof a=="string"&&a.length!==0&&!W4.test(a)},Vy=function(a){return typeof a=="string"&&a.length!==0&&!$4.test(a)},P4=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Vy(a)},eC=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Vh(a)||a&&typeof a=="object"&&bn(a,".sv")},tC=function(a,n,l,c){Dr(Sr(a,"value"),n,l)},Dr=function(a,n,l){const c=l instanceof xe?new _S(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+Wi(c));if(typeof n=="function")throw new Error(a+"contains a function "+Wi(c)+" with contents = "+n.toString());if(Vh(n))throw new Error(a+"contains "+n.toString()+" "+Wi(c));if(typeof n=="string"&&n.length>fh/3&&Cr(n)>fh)throw new Error(a+"contains a string greater than "+fh+" utf8 bytes "+Wi(c)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(gt(n,(f,g)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(h=!0,!gf(f)))throw new Error(a+" contains an invalid key ("+f+") "+Wi(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yS(c,f),Dr(a,g,c),vS(c)}),o&&h)throw new Error(a+' contains ".value" child '+Wi(c)+" in addition to actual children.")}},nC=function(a,n){let l,c;for(l=0;l<n.length;l++){c=n[l];const h=ps(c);for(let f=0;f<h.length;f++)if(!(h[f]===".priority"&&f===h.length-1)){if(!gf(h[f]))throw new Error(a+"contains an invalid key ("+h[f]+") in path "+c.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(pS);let o=null;for(l=0;l<n.length;l++){if(c=n[l],o!==null&&tn(o,c))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+c.toString());o=c}},iC=function(a,n,l,c){const o=Sr(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];gt(n,(f,g)=>{const _=new xe(f);if(Dr(o,g,Qe(l,_)),Xh(_)===".priority"&&!eC(g))throw new Error(o+"contains an invalid value for '"+_.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(_)}),nC(o,h)},Gy=function(a,n,l,c){if(!Vy(l))throw new Error(Sr(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lC=function(a,n,l,c){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Gy(a,n,l)},qy=function(a,n){if(ne(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},aC=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!gf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!P4(l))throw new Error(Sr(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class sC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mr(a,n){let l=null;for(let c=0;c<n.length;c++){const o=n[c],h=o.getPath();l!==null&&!Fh(h,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:h}),l.events.push(o)}l&&a.eventLists_.push(l)}function Yy(a,n,l){Mr(a,l),Qy(a,c=>Fh(c,n))}function nn(a,n,l){Mr(a,l),Qy(a,c=>tn(c,n)||tn(n,c))}function Qy(a,n){a.recursionDepth_++;let l=!0;for(let c=0;c<a.eventLists_.length;c++){const o=a.eventLists_[c];if(o){const h=o.path;n(h)?(cC(a.eventLists_[c]),a.eventLists_[c]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function cC(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const c=l.getEventRunner();cs&&mt("event: "+l.toString()),ia(c)}}}const rC="repo_interrupt",oC=25;class uC{constructor(n,l,c,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=c,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hr(),this.transactionQueueTree_=new df,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function hC(a,n,l){if(a.stats_=Yh(a.repoInfo_),a.forceRestClient_||Vb())a.server_=new ur(a.repoInfo_,(c,o,h,f)=>{g_(a,c,o,h,f)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>p_(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{it(l)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}a.persistentConnection_=new Yn(a.repoInfo_,n,(c,o,h,f)=>{g_(a,c,o,h,f)},c=>{p_(a,c)},c=>{dC(a,c)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(c=>{a.server_.refreshAuthToken(c)}),a.appCheckProvider_.addTokenChangeListener(c=>{a.server_.refreshAppCheckToken(c.token)}),a.statsReporter_=Xb(a.repoInfo_,()=>new QS(a.stats_,a.server_)),a.infoData_=new kS,a.infoSyncTree_=new d_({startListening:(c,o,h,f)=>{let g=[];const _=a.infoData_.getNode(c._path);return _.isEmpty()||(g=ws(a.infoSyncTree_,c._path,_),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),pf(a,"connected",!1),a.serverSyncTree_=new d_({startListening:(c,o,h,f)=>(a.server_.listen(c,h,o,(g,_)=>{const y=f(g,_);nn(a.eventQueue_,c._path,y)}),[]),stopListening:(c,o)=>{a.server_.unlisten(c,o)}})}function fC(a){const l=a.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Or(a){return Q4({timestamp:fC(a)})}function g_(a,n,l,c,o){a.dataUpdateCount++;const h=new xe(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let f=[];if(o)if(c){const _=ir(l,y=>nt(y));f=I4(a.serverSyncTree_,h,_,o)}else{const _=nt(l);f=Ry(a.serverSyncTree_,h,_,o)}else if(c){const _=ir(l,y=>nt(y));f=L4(a.serverSyncTree_,h,_)}else{const _=nt(l);f=ws(a.serverSyncTree_,h,_)}let g=h;f.length>0&&(g=ea(a,h)),nn(a.eventQueue_,g,f)}function p_(a,n){pf(a,"connected",n),n===!1&&_C(a)}function dC(a,n){gt(n,(l,c)=>{pf(a,l,c)})}function pf(a,n,l){const c=new xe("/.info/"+n),o=nt(l);a.infoData_.updateSnapshot(c,o);const h=ws(a.infoSyncTree_,c,o);nn(a.eventQueue_,c,h)}function _f(a){return a.nextWriteId_++}function mC(a,n,l){const c=k4(a.serverSyncTree_,n);return c!=null?Promise.resolve(c):a.server_.get(n).then(o=>{const h=nt(o).withIndex(n._queryParams.getIndex());jh(a.serverSyncTree_,n,l,!0);let f;if(n._queryParams.loadsAllData())f=ws(a.serverSyncTree_,n._path,h);else{const g=Ss(a.serverSyncTree_,n);f=Ry(a.serverSyncTree_,n._path,h,g)}return nn(a.eventQueue_,n._path,f),vr(a.serverSyncTree_,n,l,null,!0),h},o=>(Ms(a,"get for query "+it(n)+" failed: "+o),Promise.reject(new Error(o))))}function gC(a,n,l,c,o){Ms(a,"set",{path:n.toString(),value:l,priority:c});const h=Or(a),f=nt(l,c),g=sf(a.serverSyncTree_,n),_=By(f,g,h),y=_f(a),E=Oy(a.serverSyncTree_,n,_,y,!0);Mr(a.eventQueue_,E),a.server_.put(n.toString(),f.val(!0),(S,z)=>{const L=S==="ok";L||Et("set at "+n+" failed: "+S);const Q=Si(a.serverSyncTree_,y,!L);nn(a.eventQueue_,n,Q),Uh(a,o,S,z)});const v=vf(a,n);ea(a,v),nn(a.eventQueue_,v,[])}function pC(a,n,l,c){Ms(a,"update",{path:n.toString(),value:l});let o=!0;const h=Or(a),f={};if(gt(l,(g,_)=>{o=!1,f[g]=Ly(Qe(n,g),nt(_),a.serverSyncTree_,h)}),o)mt("update() called with empty data.  Don't do anything."),Uh(a,c,"ok",void 0);else{const g=_f(a),_=U4(a.serverSyncTree_,n,f,g);Mr(a.eventQueue_,_),a.server_.merge(n.toString(),l,(y,E)=>{const v=y==="ok";v||Et("update at "+n+" failed: "+y);const S=Si(a.serverSyncTree_,g,!v),z=S.length>0?ea(a,n):n;nn(a.eventQueue_,z,S),Uh(a,c,y,E)}),gt(l,y=>{const E=vf(a,Qe(n,y));ea(a,E)}),nn(a.eventQueue_,n,[])}}function _C(a){Ms(a,"onDisconnectEvents");const n=Or(a),l=hr();Ah(a.onDisconnect_,pe(),(o,h)=>{const f=Ly(o,h,a.serverSyncTree_,n);py(l,o,f)});let c=[];Ah(l,pe(),(o,h)=>{c=c.concat(ws(a.serverSyncTree_,o,h));const f=vf(a,o);ea(a,f)}),a.onDisconnect_=hr(),nn(a.eventQueue_,pe(),c)}function yC(a,n,l){let c;ne(n._path)===".info"?c=jh(a.infoSyncTree_,n,l):c=jh(a.serverSyncTree_,n,l),Yy(a.eventQueue_,n._path,c)}function vC(a,n,l){let c;ne(n._path)===".info"?c=vr(a.infoSyncTree_,n,l):c=vr(a.serverSyncTree_,n,l),Yy(a.eventQueue_,n._path,c)}function bC(a){a.persistentConnection_&&a.persistentConnection_.interrupt(rC)}function Ms(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),mt(l,...n)}function Uh(a,n,l,c){n&&ia(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let h=o;c&&(h+=": "+c);const f=new Error(h);f.code=o,n(f)}})}function Xy(a,n,l){return sf(a.serverSyncTree_,n,l)||K.EMPTY_NODE}function yf(a,n=a.transactionQueueTree_){if(n||Rr(a,n),aa(n)){const l=Ky(a,n);B(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&SC(a,Ds(n),l)}else Iy(n)&&wr(n,l=>{yf(a,l)})}function SC(a,n,l){const c=l.map(y=>y.currentWriteId),o=Xy(a,n,c);let h=o;const f=o.hash();for(let y=0;y<l.length;y++){const E=l[y];B(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const v=Ct(n,E.path);h=h.updateChild(v,E.currentOutputSnapshotRaw)}const g=h.val(!0),_=n;a.server_.put(_.toString(),g,y=>{Ms(a,"transaction put response",{path:_.toString(),status:y});let E=[];if(y==="ok"){const v=[];for(let S=0;S<l.length;S++)l[S].status=2,E=E.concat(Si(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&v.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();Rr(a,mf(a.transactionQueueTree_,n)),yf(a,a.transactionQueueTree_),nn(a.eventQueue_,n,E);for(let S=0;S<v.length;S++)ia(v[S])}else{if(y==="datastale")for(let v=0;v<l.length;v++)l[v].status===3?l[v].status=4:l[v].status=0;else{Et("transaction at "+_.toString()+" failed: "+y);for(let v=0;v<l.length;v++)l[v].status=4,l[v].abortReason=y}ea(a,n)}},f)}function ea(a,n){const l=Fy(a,n),c=Ds(l),o=Ky(a,l);return CC(a,o,c),c}function CC(a,n,l){if(n.length===0)return;const c=[];let o=[];const f=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const _=n[g],y=Ct(l,_.path);let E=!1,v;if(B(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)E=!0,v=_.abortReason,o=o.concat(Si(a.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=oC)E=!0,v="maxretry",o=o.concat(Si(a.serverSyncTree_,_.currentWriteId,!0));else{const S=Xy(a,_.path,f);_.currentInputSnapshot=S;const z=n[g].update(S.val());if(z!==void 0){Dr("transaction failed: Data returned ",z,_.path);let L=nt(z);typeof z=="object"&&z!=null&&bn(z,".priority")||(L=L.updatePriority(S.getPriority()));const I=_.currentWriteId,P=Or(a),Ce=By(L,S,P);_.currentOutputSnapshotRaw=L,_.currentOutputSnapshotResolved=Ce,_.currentWriteId=_f(a),f.splice(f.indexOf(I),1),o=o.concat(Oy(a.serverSyncTree_,_.path,Ce,_.currentWriteId,_.applyLocally)),o=o.concat(Si(a.serverSyncTree_,I,!0))}else E=!0,v="nodata",o=o.concat(Si(a.serverSyncTree_,_.currentWriteId,!0))}nn(a.eventQueue_,l,o),o=[],E&&(n[g].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(v==="nodata"?c.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):c.push(()=>n[g].onComplete(new Error(v),!1,null))))}Rr(a,a.transactionQueueTree_);for(let g=0;g<c.length;g++)ia(c[g]);yf(a,a.transactionQueueTree_)}function Fy(a,n){let l,c=a.transactionQueueTree_;for(l=ne(n);l!==null&&aa(c)===void 0;)c=mf(c,l),n=ze(n),l=ne(n);return c}function Ky(a,n){const l=[];return Zy(a,n,l),l.sort((c,o)=>c.order-o.order),l}function Zy(a,n,l){const c=aa(n);if(c)for(let o=0;o<c.length;o++)l.push(c[o]);wr(n,o=>{Zy(a,o,l)})}function Rr(a,n){const l=aa(n);if(l){let c=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[c]=l[o],c++);l.length=c,Hy(n,l.length>0?l:void 0)}wr(n,c=>{Rr(a,c)})}function vf(a,n){const l=Ds(Fy(a,n)),c=mf(a.transactionQueueTree_,n);return Z4(c,o=>{dh(a,o)}),dh(a,c),ky(c,o=>{dh(a,o)}),l}function dh(a,n){const l=aa(n);if(l){const c=[];let o=[],h=-1;for(let f=0;f<l.length;f++)l[f].status===3||(l[f].status===1?(B(h===f-1,"All SENT items should be at beginning of queue."),h=f,l[f].status=3,l[f].abortReason="set"):(B(l[f].status===0,"Unexpected transaction status in abort"),l[f].unwatcher(),o=o.concat(Si(a.serverSyncTree_,l[f].currentWriteId,!0)),l[f].onComplete&&c.push(l[f].onComplete.bind(null,new Error("set"),!1,null))));h===-1?Hy(n,void 0):l.length=h+1,nn(a.eventQueue_,Ds(n),o);for(let f=0;f<c.length;f++)ia(c[f])}}function EC(a){let n="";const l=a.split("/");for(let c=0;c<l.length;c++)if(l[c].length>0){let o=l[c];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function TC(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const c=l.split("=");c.length===2?n[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Et(`Invalid query segment '${l}' in query '${a}'`)}return n}const __=function(a,n){const l=NC(a),c=l.namespace;l.domain==="firebase.com"&&Xn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||c==="undefined")&&l.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Rb();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new P_(l.host,l.secure,c,o,n,"",c!==l.subdomain),path:new xe(l.pathString)}},NC=function(a){let n="",l="",c="",o="",h="",f=!0,g="https",_=443;if(typeof a=="string"){let y=a.indexOf("//");y>=0&&(g=a.substring(0,y-1),a=a.substring(y+2));let E=a.indexOf("/");E===-1&&(E=a.length);let v=a.indexOf("?");v===-1&&(v=a.length),n=a.substring(0,Math.min(E,v)),E<v&&(o=EC(a.substring(E,v)));const S=TC(a.substring(Math.min(a.length,v)));y=n.indexOf(":"),y>=0?(f=g==="https"||g==="wss",_=parseInt(n.substring(y+1),10)):y=n.length;const z=n.slice(0,y);if(z.toLowerCase()==="localhost")l="localhost";else if(z.split(".").length<=2)l=z;else{const L=n.indexOf(".");c=n.substring(0,L).toLowerCase(),l=n.substring(L+1),h=c}"ns"in S&&(h=S.ns)}return{host:n,port:_,domain:l,subdomain:c,secure:f,scheme:g,pathString:o,namespace:h}};class xC{constructor(n,l,c,o){this.eventType=n,this.eventRegistration=l,this.snapshot=c,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+it(this.snapshot.exportVal())}}class AC{constructor(n,l,c){this.eventRegistration=n,this.error=l,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Jy{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class bf{constructor(n,l,c,o){this._repo=n,this._path=l,this._queryParams=c,this._orderByCalled=o}get key(){return ce(this._path)?null:Xh(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){const n=i_(this._queryParams),l=Gh(n);return l==="{}"?"default":l}get _queryObject(){return i_(this._queryParams)}isEqual(n){if(n=na(n),!(n instanceof bf))return!1;const l=this._repo===n._repo,c=Fh(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&c&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+gS(this._path)}}class Fn extends bf{constructor(n,l){super(n,l,new Wh,!1)}get parent(){const n=ry(this._path);return n===null?null:new Fn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Cs{constructor(n,l,c){this._node=n,this.ref=l,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new xe(n),c=Lh(this.ref,n);return new Cs(this._node.getChild(l),c,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(c,o)=>n(new Cs(o,Lh(this.ref,c),Xe)))}hasChild(n){const l=new xe(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Fe(a,n){return a=na(a),a._checkNotDeleted("ref"),n!==void 0?Lh(a._root,n):a._root}function Lh(a,n){return a=na(a),ne(a._path)===null?lC("child","path",n):Gy("child","path",n),new Fn(a._repo,Qe(a._path,n))}function Sf(a){return qy("remove",a._path),qn(a,null)}function qn(a,n){a=na(a),qy("set",a._path),tC("set",n,a._path);const l=new Es;return gC(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function Cf(a,n){iC("update",n,a._path);const l=new Es;return pC(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function as(a){a=na(a);const n=new Jy(()=>{}),l=new jr(n);return mC(a._repo,a,l).then(c=>new Cs(c,new Fn(a._repo,a._path),a._queryParams.getIndex()))}class jr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const c=l._queryParams.getIndex();return new xC("value",this,new Cs(n.snapshotNode,new Fn(l._repo,l._path),c))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new AC(this,n,l):null}matches(n){return n instanceof jr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function wC(a,n,l,c,o){const h=new Jy(l,void 0),f=new jr(h);return yC(a._repo,a,f),()=>vC(a._repo,a,f)}function Ef(a,n,l,c){return wC(a,"value",n)}A4(Fn);R4(Fn);const DC="FIREBASE_DATABASE_EMULATOR_HOST",Bh={};let MC=!1;function OC(a,n,l,c){const o=n.lastIndexOf(":"),h=n.substring(0,o),f=Ih(h);a.repoInfo_=new P_(n,f,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),c&&(a.authTokenProvider_=c)}function RC(a,n,l,c,o){let h=c||a.options.databaseURL;h===void 0&&(a.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",a.options.projectId),h=`${a.options.projectId}-default-rtdb.firebaseio.com`);let f=__(h,o),g=f.repoInfo,_;typeof process<"u"&&Ip&&(_=Ip[DC]),_?(h=`http://${_}?ns=${g.namespace}`,f=__(h,o),g=f.repoInfo):f.repoInfo.secure;const y=new qb(a.name,a.options,n);aC("Invalid Firebase Database URL",f),ce(f.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=zC(g,a,y,new Gb(a,l));return new UC(E,a)}function jC(a,n){const l=Bh[n];(!l||l[a.key]!==a)&&Xn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),bC(a),delete l[a.key]}function zC(a,n,l,c){let o=Bh[n.name];o||(o={},Bh[n.name]=o);let h=o[a.toURLString()];return h&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new uC(a,MC,l,c),o[a.toURLString()]=h,h}class UC{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(hC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jC(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Xn("Cannot call "+n+" on a deleted database.")}}function LC(a=db(),n){const l=rb(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const c=F1("database");c&&BC(l,...c)}return l}function BC(a,n,l,c={}){a=na(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,h=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&lr(c,h.repoInfo_.emulatorOptions))return;Xn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(h.repoInfo_.nodeAdmin)c.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new tr(tr.OWNER);else if(c.mockUserToken){const g=typeof c.mockUserToken=="string"?c.mockUserToken:Z1(c.mockUserToken,a.app.options.projectId);f=new tr(g)}Ih(n)&&(K1(n),$1("Database",!0)),OC(h,o,c,f)}function HC(a){xb(fb),sr(new ds("database",(n,{instanceIdentifier:l})=>{const c=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return RC(c,o,h,l)},"PUBLIC").setMultipleInstances(!0)),Ql(kp,Vp,a),Ql(kp,Vp,"esm2020")}Yn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Yn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};HC();const IC={apiKey:"AIzaSyD_a5ykUzFClrzJalmql4vs_6TPE5WYLqQ",authDomain:"ai-demo-64219.firebaseapp.com",projectId:"ai-demo-64219",storageBucket:"ai-demo-64219.firebasestorage.app",messagingSenderId:"14008379823",appId:"1:14008379823:web:1350b9cb75cef1d783275a",databaseURL:"https://ai-demo-64219-default-rtdb.asia-southeast1.firebasedatabase.app"},kC=L_(IC),Ke=LC(kC),Wy=[{id:"v001",url:"https://www.youtube.com/watch?v=XqZsoesa55w",title:"Baby Shark Dance - Pinkfong",thumbnail:"https://img.youtube.com/vi/XqZsoesa55w/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Pinkfong"},{id:"v002",url:"https://www.youtube.com/watch?v=e_04ZrNroTo",title:"Wheels on the Bus - Cocomelon",thumbnail:"https://img.youtube.com/vi/e_04ZrNroTo/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Cocomelon"},{id:"v003",url:"https://www.youtube.com/watch?v=75NQK-Sm1YY",title:"Baby Bus - Five Little Ducks",thumbnail:"https://img.youtube.com/vi/75NQK-Sm1YY/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"BabyBus"},{id:"v004",url:"https://www.youtube.com/watch?v=_UR-l3QI2nE",title:"ABC Song - Hc bng ch ci",thumbnail:"https://img.youtube.com/vi/_UR-l3QI2nE/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v005",url:"https://www.youtube.com/watch?v=ZanHgPprl-0",title:"Phonics Song - Hc pht m",thumbnail:"https://img.youtube.com/vi/ZanHgPprl-0/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v006",url:"https://www.youtube.com/watch?v=L0MK7qz13bU",title:"Numbers Song - Hc m s",thumbnail:"https://img.youtube.com/vi/L0MK7qz13bU/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v007",url:"https://www.youtube.com/watch?v=QkHQ0CYwjaI",title:"Counting 1-100 - m s",thumbnail:"https://img.youtube.com/vi/QkHQ0CYwjaI/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Jack Hartmann"},{id:"v008",url:"https://www.youtube.com/watch?v=teMdjJ3w9iM",title:"Five Little Monkeys - Hc m",thumbnail:"https://img.youtube.com/vi/teMdjJ3w9iM/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Super Simple Songs"}],$y=[{id:"c001",name:"Pinkfong",channelId:"UCcdwLMPsaU2ezNSJU1nFoBQ",ageGroup:"0-3",category:"music"},{id:"c002",name:"Cocomelon",channelId:"UCbCmjCuTUZos6Inko4u57UQ",ageGroup:"0-3",category:"music"},{id:"c003",name:"Super Simple Songs",channelId:"UCLsooMJoIpl_7ux2jvdPB-Q",ageGroup:"3-6",category:"english"}],Py=[{id:"parent",name:"Ph huynh",type:"parent",avatar:""},{id:"user001",name:"B Bi",type:"child",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:["music","entertainment"]},{id:"user002",name:"B Bo",type:"child",avatar:"",ageGroup:"3-6",dailyLimit:90,allowedCategories:["music","english","math"]}],Tf={dailyLimit:60,parentPin:"1234"},Kl=a=>a?Object.keys(a).map(n=>({...a[n],id:n})):[],VC=async()=>{try{return(await as(Fe(Ke,"videos"))).exists()||(console.log("Initializing database with default data..."),await ev()),await zr()}catch(a){return console.error("Firebase init error:",a),{videos:Wy,channels:$y,users:Py,settings:Tf}}},ev=async()=>{const a={};Wy.forEach(c=>{a[c.id]=c});const n={};$y.forEach(c=>{n[c.id]=c});const l={};Py.forEach(c=>{l[c.id]=c}),await qn(Fe(Ke,"videos"),a),await qn(Fe(Ke,"channels"),n),await qn(Fe(Ke,"users"),l),await qn(Fe(Ke,"settings"),Tf)},zr=async()=>{const[a,n,l,c]=await Promise.all([as(Fe(Ke,"videos")),as(Fe(Ke,"channels")),as(Fe(Ke,"users")),as(Fe(Ke,"settings"))]);return{videos:Kl(a.val()),channels:Kl(n.val()),users:Kl(l.val()),settings:c.val()||Tf}},y_=async a=>{const n=a.id||`v${Date.now()}`,l={...a,id:n,addedAt:Date.now()};return await qn(Fe(Ke,`videos/${n}`),l),l},GC=async(a,n)=>{await Cf(Fe(Ke,`videos/${a}`),n)},qC=async a=>{await Sf(Fe(Ke,`videos/${a}`))},YC=async a=>{const n=a.id||`c${Date.now()}`,l={...a,id:n};return await qn(Fe(Ke,`channels/${n}`),l),l},QC=async a=>{await Sf(Fe(Ke,`channels/${a}`))},XC=async a=>{const n=a.id||`u${Date.now()}`,l={...a,id:n,createdAt:Date.now()};return await qn(Fe(Ke,`users/${n}`),l),l},FC=async(a,n)=>{await Cf(Fe(Ke,`users/${a}`),n)},KC=async a=>{await Sf(Fe(Ke,`users/${a}`))},ZC=async a=>{await Cf(Fe(Ke,"settings"),a)},JC=a=>Ef(Fe(Ke,"videos"),n=>{a(Kl(n.val()))}),WC=a=>Ef(Fe(Ke,"users"),n=>{a(Kl(n.val()))}),$C=a=>Ef(Fe(Ke,"channels"),n=>{a(Kl(n.val()))}),PC=async()=>(await ev(),await zr()),e3=async()=>{const a=await zr(),n=new Blob([JSON.stringify({...a,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),l=URL.createObjectURL(n),c=document.createElement("a");c.href=l,c.download=`kid_video_${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(l)},t3=async a=>{if(a.videos){const n={};a.videos.forEach(l=>{n[l.id]=l}),await qn(Fe(Ke,"videos"),n)}return await zr()},br=a=>{if(!a)return null;if(a.length===11&&/^[a-zA-Z0-9_-]+$/.test(a))return a;const n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,l=a.match(n);return l&&l[7].length===11?l[7]:null},vn=[{id:"math",name:"Ton hc",icon:"",color:"#ff6b6b"},{id:"english",name:"Anh vn",icon:"",color:"#4ecdc4"},{id:"communication",name:"Giao tip",icon:"",color:"#45b7d1"},{id:"thinking",name:"T duy",icon:"",color:"#96ceb4"},{id:"entertainment",name:"Gii tr",icon:"",color:"#ffeaa7"},{id:"learning",name:"Hc tp",icon:"",color:"#dfe6e9"},{id:"music",name:"m nhc",icon:"",color:"#fd79a8"},{id:"science",name:"Khoa hc",icon:"",color:"#a29bfe"}],Sn=j1(L1((a,n)=>({videos:[],channels:[],users:[],settings:{categories:vn,dailyLimit:60},currentVideo:null,currentUser:null,selectedAgeGroup:"all",selectedCategory:"all",searchQuery:"",parentMode:!1,watchHistory:[],favorites:[],dailyLimit:60,todayWatchTime:0,unavailableVideos:[],isLoading:!1,error:null,setVideos:l=>a({videos:l}),setUsers:l=>a({users:l}),setChannels:l=>a({channels:l}),initializeData:async()=>{a({isLoading:!0,error:null});try{const l=await VC();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[],settings:{...n().settings,...l.settings},dailyLimit:l.settings?.dailyLimit||60,isLoading:!1})}catch(l){console.error("Failed to initialize:",l),a({error:l.message,isLoading:!1})}},markVideoUnavailable:l=>{const{unavailableVideos:c}=n();c.includes(l)||a({unavailableVideos:[...c,l]})},clearUnavailableVideos:()=>a({unavailableVideos:[]}),isVideoAvailable:l=>!n().unavailableVideos.includes(l),login:l=>{const o=n().users.find(h=>h.id===l);return o?(a({currentUser:o,dailyLimit:o.dailyLimit||60}),!0):!1},logout:()=>a({currentUser:null,parentMode:!1}),addVideo:async l=>{const c=await y_(l);return a(o=>({videos:[...o.videos,c]})),c},updateVideo:async(l,c)=>{await GC(l,c),a(o=>({videos:o.videos.map(h=>h.id===l?{...h,...c}:h)}))},deleteVideo:async l=>{await qC(l),a(c=>({videos:c.videos.filter(o=>o.id!==l)}))},addVideoFromURL:async(l,c="entertainment",o="all")=>{const h=br(l);if(!h)throw new Error("URL YouTube khng hp l");if(n().videos.find(E=>br(E.url)===h))throw new Error("Video ny  c trong danh sch");const g=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${h}&format=json`);if(!g.ok)throw new Error("Video khng tn ti hoc khng kh dng");const _=await g.json(),y=await y_({url:`https://www.youtube.com/watch?v=${h}`,title:_.title,thumbnail:`https://img.youtube.com/vi/${h}/mqdefault.jpg`,channel:_.author_name,category:c,ageGroup:o});return a(E=>({videos:[...E.videos,y]})),y},addChannel:async l=>{const c=await YC(l);return a(o=>({channels:[...o.channels,c]})),c},deleteChannel:async l=>{await QC(l),a(c=>({channels:c.channels.filter(o=>o.id!==l)}))},addUser:async l=>{const c=await XC(l);return a(o=>({users:[...o.users,c]})),c},updateUser:async(l,c)=>{await FC(l,c),a(o=>({users:o.users.map(h=>h.id===l?{...h,...c}:h),currentUser:o.currentUser?.id===l?{...o.currentUser,...c}:o.currentUser}))},deleteUser:async l=>{await KC(l),a(c=>({users:c.users.filter(o=>o.id!==l)}))},setCurrentVideo:l=>a({currentVideo:l}),setAgeGroup:l=>a({selectedAgeGroup:l}),setCategory:l=>a({selectedCategory:l}),setSearchQuery:l=>a({searchQuery:l}),toggleParentMode:l=>n().parentMode?(a({parentMode:!1}),!0):l==="bypass"?(a({parentMode:!0}),!0):!1,addToHistory:l=>a(c=>({watchHistory:[{...l,watchedAt:Date.now()},...c.watchHistory.filter(o=>o.id!==l.id).slice(0,49)]})),toggleFavorite:l=>a(c=>({favorites:c.favorites.includes(l)?c.favorites.filter(o=>o!==l):[...c.favorites,l]})),addWatchTime:l=>a(c=>({todayWatchTime:c.todayWatchTime+l})),resetDailyWatchTime:()=>a({todayWatchTime:0}),setDailyLimit:async l=>{await ZC({dailyLimit:l}),a({dailyLimit:l})},getFilteredVideos:()=>{const l=n();let c=l.videos.filter(o=>!l.unavailableVideos.includes(o.id));if(l.selectedAgeGroup!=="all"&&(c=c.filter(o=>o.ageGroup===l.selectedAgeGroup||o.ageGroup==="all")),l.selectedCategory!=="all"&&(c=c.filter(o=>o.category===l.selectedCategory)),l.searchQuery){const o=l.searchQuery.toLowerCase();c=c.filter(h=>h.title?.toLowerCase().includes(o)||h.channel?.toLowerCase().includes(o))}return c},exportData:async()=>await e3(),importData:async l=>{const c=await t3(l);a({videos:c.videos,channels:c.channels,users:c.users})},resetToDefaults:async()=>{const l=await PC();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[]})}}),{name:"kid-video-storage",partialize:a=>({currentUser:a.currentUser,watchHistory:a.watchHistory,favorites:a.favorites,todayWatchTime:a.todayWatchTime,unavailableVideos:a.unavailableVideos})})),Ci=br,n3=a=>{const n=br(a);return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:null};function i3(a,n){const[l,c]=q.useState(a);return q.useEffect(()=>{const o=setTimeout(()=>{c(a)},n);return()=>clearTimeout(o)},[a,n]),l}function l3(){const{searchQuery:a,setSearchQuery:n,searchYouTube:l,youtubeSearchLoading:c,clearYouTubeSearch:o,parentMode:h}=Sn(),[f,g]=q.useState(!1),[_,y]=q.useState(a),E=i3(_,300);q.useEffect(()=>{n(E)},[E,n]);const v=q.useCallback(()=>{_.trim()&&l(_.trim())},[_,l]),S=L=>{L.key==="Enter"&&v()},z=()=>{y(""),n(""),o()};return m.jsxs(de.div,{className:"search-bar",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[m.jsxs("div",{className:`search-container ${f?"focused":""}`,children:[m.jsx("input",{type:"text",placeholder:" Tm video yu thch...",value:_,onChange:L=>y(L.target.value),onFocus:()=>g(!0),onBlur:()=>g(!1),onKeyDown:S,className:"search-input"}),_&&m.jsx(de.button,{className:"clear-btn",onClick:z,initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},title:"Xa tm kim",children:""}),m.jsx(de.button,{className:`search-btn youtube-search ${c?"loading":""}`,onClick:v,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!_.trim()||c,title:h?"Tm trn YouTube":"Tm video",children:c?m.jsx("span",{className:"search-spinner",children:""}):h?m.jsx(gh,{}):m.jsx(E_,{})})]}),h&&_&&m.jsxs("div",{className:"search-hint",children:[" Nhn Enter hoc nt ",m.jsx(gh,{style:{color:"#ff0000"}}),"  tm video mi t YouTube"]})]})}function a3(){const{youtubeSearchResults:a,youtubeSearchQuery:n,youtubeSearchLoading:l,youtubeNextPageToken:c,youtubeTotalResults:o,showYoutubeResults:h,loadMoreYouTubeResults:f,clearYouTubeSearch:g,addVideoFromYouTube:_,addVideoFromURL:y,setCurrentVideo:E,parentMode:v}=Sn(),[S,z]=q.useState(null),[L,Q]=q.useState([]),[I,P]=q.useState(!1),[Ce,le]=q.useState(!1),[Z,Ue]=q.useState(null),[Le,De]=q.useState("entertainment"),[Ge,Ut]=q.useState("all"),[Ae,ee]=q.useState(""),[ue,Be]=q.useState(""),[Tt,Me]=q.useState(!1),O=U=>{E({id:U.videoId||Ci(U.url),url:U.url,title:U.title,thumbnail:U.thumbnail,channel:U.channel})},H=U=>{Ue(U),P(!0)},F=async()=>{if(Z){z(Z.videoId);try{await _(Z,Le,Ge),Q(U=>[...U,Z.videoId]),P(!1),Ue(null)}catch(U){console.error("Failed to add video:",U)}finally{z(null)}}},ve=async()=>{if(!Ae.trim()){Be("Vui lng nhp URL video");return}if(!Ci(Ae)){Be("URL YouTube khng hp l");return}Me(!0),Be("");try{await y(Ae,Le,Ge),le(!1),ee(""),Be("")}catch(te){Be(te.message||"Khng th thm video")}finally{Me(!1)}},_e=[{id:"all",name:"Tt c",icon:""},{id:"0-3",name:"0-3 tui",icon:""},{id:"3-6",name:"3-6 tui",icon:""},{id:"6-9",name:"6-9 tui",icon:""}];return!h&&!v?null:m.jsxs(m.Fragment,{children:[v&&m.jsx(de.div,{className:"add-video-section",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:m.jsxs("button",{className:"add-by-url-btn",onClick:()=>le(!0),children:[m.jsx(T1,{})," Thm video t YouTube URL"]})}),h&&a.length>0&&m.jsxs(de.div,{className:"search-results-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[m.jsxs("div",{className:"search-results-header",children:[m.jsxs("div",{className:"search-results-info",children:[m.jsxs("h3",{children:[' Kt qu tm kim: "',n,'"']}),m.jsxs("span",{className:"results-count",children:[a.length," video"]})]}),m.jsx("button",{className:"close-results-btn",onClick:g,children:m.jsx(er,{})})]}),m.jsx("div",{className:"search-results-grid",children:m.jsx(bi,{children:a.map((U,te)=>m.jsxs(de.div,{className:"search-result-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:te*.05},children:[m.jsxs("div",{className:"result-thumbnail",onClick:()=>O(U),children:[m.jsx("img",{src:U.thumbnail,alt:U.title,loading:"lazy"}),m.jsx("div",{className:"play-overlay",children:m.jsx(ph,{})})]}),m.jsxs("div",{className:"result-info",children:[m.jsx("h4",{className:"result-title",title:U.title,children:U.title}),m.jsx("p",{className:"result-channel",children:U.channel})]}),m.jsxs("div",{className:"result-actions",children:[m.jsxs("button",{className:"play-btn",onClick:()=>O(U),title:"Xem video",children:[m.jsx(ph,{})," Xem"]}),v&&m.jsx("button",{className:`add-btn ${L.includes(U.videoId)?"added":""}`,onClick:()=>H(U),disabled:S===U.videoId||L.includes(U.videoId),title:L.includes(U.videoId)?" thm":"Thm vo danh sch",children:S===U.videoId?m.jsx(nh,{className:"spinning"}):L.includes(U.videoId)?m.jsxs(m.Fragment,{children:[m.jsx(C_,{}),"  thm"]}):m.jsxs(m.Fragment,{children:[m.jsx(yn,{})," Thm"]})})]})]},U.videoId||te))})}),c&&m.jsx("div",{className:"load-more-container",children:m.jsx("button",{className:"load-more-btn",onClick:f,disabled:l,children:l?m.jsxs(m.Fragment,{children:[m.jsx(nh,{className:"spinning"})," ang ti..."]}):m.jsxs(m.Fragment,{children:[m.jsx(S1,{})," Xem thm video"]})})}),m.jsx(bi,{children:I&&Z&&m.jsx(de.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>P(!1),children:m.jsxs(de.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),children:[m.jsxs("div",{className:"add-modal-header",children:[m.jsx("h3",{children:" Thm video vo danh sch"}),m.jsx("button",{className:"close-modal-btn",onClick:()=>P(!1),children:m.jsx(er,{})})]}),m.jsxs("div",{className:"add-modal-content",children:[m.jsxs("div",{className:"video-preview",children:[m.jsx("img",{src:Z.thumbnail,alt:Z.title}),m.jsxs("div",{className:"video-preview-info",children:[m.jsx("h4",{children:Z.title}),m.jsx("p",{children:Z.channel})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Danh mc:"}),m.jsx("div",{className:"category-select",children:vn.map(U=>m.jsxs("button",{className:`category-option ${Le===U.id?"selected":""}`,onClick:()=>De(U.id),style:{"--cat-color":U.color},children:[U.icon," ",U.name]},U.id))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"  tui:"}),m.jsx("div",{className:"age-select",children:_e.map(U=>m.jsxs("button",{className:`age-option ${Ge===U.id?"selected":""}`,onClick:()=>Ut(U.id),children:[U.icon," ",U.name]},U.id))})]})]}),m.jsxs("div",{className:"add-modal-footer",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>P(!1),children:"Hy"}),m.jsxs("button",{className:"confirm-btn",onClick:F,children:[m.jsx(yn,{})," Thm video"]})]})]})})})]}),m.jsx(bi,{children:Ce&&m.jsx(de.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>le(!1),children:m.jsxs(de.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),children:[m.jsxs("div",{className:"add-modal-header",children:[m.jsx("h3",{children:" Thm video t YouTube URL"}),m.jsx("button",{className:"close-modal-btn",onClick:()=>le(!1),children:m.jsx(er,{})})]}),m.jsxs("div",{className:"add-modal-content",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" URL YouTube:"}),m.jsx("input",{type:"text",className:"url-input",placeholder:"https://www.youtube.com/watch?v=... hoc Video ID",value:Ae,onChange:U=>{ee(U.target.value),Be("")}}),ue&&m.jsx("p",{className:"url-error",children:ue}),m.jsx("p",{className:"url-hint",children:"Paste link YouTube hoc ch Video ID (v d: dQw4w9WgXcQ)"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Danh mc:"}),m.jsx("div",{className:"category-select",children:vn.map(U=>m.jsxs("button",{className:`category-option ${Le===U.id?"selected":""}`,onClick:()=>De(U.id),style:{"--cat-color":U.color},children:[U.icon," ",U.name]},U.id))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"  tui:"}),m.jsx("div",{className:"age-select",children:_e.map(U=>m.jsxs("button",{className:`age-option ${Ge===U.id?"selected":""}`,onClick:()=>Ut(U.id),children:[U.icon," ",U.name]},U.id))})]})]}),m.jsxs("div",{className:"add-modal-footer",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>le(!1),children:"Hy"}),m.jsx("button",{className:"confirm-btn",onClick:ve,disabled:Tt,children:Tt?m.jsxs(m.Fragment,{children:[m.jsx(nh,{className:"spinning"})," ang xc thc..."]}):m.jsxs(m.Fragment,{children:[m.jsx(yn,{})," Thm video"]})})]})]})})})]})}const s3=[{id:"all",label:" Tt c",color:"#84fab0"},{id:"0-3",label:" 0-3 tui",color:"#ff9a9e"},{id:"3-6",label:" 3-6 tui",color:"#a18cd1"},{id:"6-9",label:" 6-9 tui",color:"#fbc2eb"}];function c3(){const{selectedAgeGroup:a,setAgeGroup:n}=Sn();return m.jsx("div",{className:"age-filter",children:s3.map(l=>m.jsx(de.button,{className:`age-btn ${a===l.id?"active":""}`,style:{background:a===l.id?l.color:"white",borderColor:l.color},onClick:()=>n(l.id),whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},children:l.label},l.id))})}function r3(){const{selectedCategory:a,setCategory:n}=Sn(),l=[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...vn];return m.jsx("div",{className:"category-filter",children:m.jsx("div",{className:"category-scroll",children:l.map((c,o)=>m.jsxs(de.button,{className:`category-btn ${a===c.id?"active":""}`,style:{"--cat-color":c.color},onClick:()=>n(c.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:o*.05},whileHover:{scale:1.08,y:-3},whileTap:{scale:.95},children:[m.jsx("span",{className:"category-icon",children:c.icon}),m.jsx("span",{className:"category-name",children:c.name})]},c.id))})})}function o3({video:a,index:n}){const{setCurrentVideo:l,favorites:c,markVideoUnavailable:o}=Sn(),[h,f]=q.useState(!1),g=c.includes(a.id),_={"0-3":"linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%)","3-6":"linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)","6-9":"linear-gradient(135deg, #84FAB0 0%, #8FD3F4 100%)",all:"linear-gradient(135deg, #FFE66D 0%, #FF9A3D 100%)"},y=vn.find(S=>S.id===a.category),E=()=>{f(!0)},v="data:image/svg+xml,"+encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 180">
      <rect fill="#1A3A32" width="320" height="180"/>
      <text x="160" y="90" fill="#00D4AA" font-size="48" text-anchor="middle" dominant-baseline="middle"></text>
    </svg>
  `);return m.jsxs(de.div,{className:"video-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.05,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(a),children:[m.jsxs("div",{className:"thumbnail-container",children:[m.jsx("img",{src:h?v:a.thumbnail,alt:a.title,className:"thumbnail",loading:"lazy",onError:E}),m.jsx("div",{className:"play-overlay",children:m.jsx(de.div,{className:"play-button",whileHover:{scale:1.15},whileTap:{scale:.9},children:m.jsx(ph,{})})}),g&&m.jsx("div",{className:"favorite-indicator",children:m.jsx(E1,{color:"#FF6B9D"})}),y&&m.jsx("div",{className:"category-tag",style:{background:y.color},children:y.icon}),m.jsx("div",{className:"age-tag",style:{background:_[a.ageGroup]||_.all},children:a.ageGroup==="all"?" Tt c":` ${a.ageGroup}`})]}),m.jsxs("div",{className:"video-info",children:[m.jsx("h3",{className:"video-title",children:a.title}),m.jsxs("p",{className:"channel-name",children:[" ",a.channel]})]})]})}function u3(){const{getFilteredVideos:a,searchQuery:n,selectedAgeGroup:l}=Sn(),c=a();return c.length===0?m.jsxs(de.div,{className:"empty-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("div",{className:"empty-icon",children:""}),m.jsx("h3",{children:"Khng tm thy video"}),m.jsx("p",{children:n?`Khng c video no ph hp vi "${n}"`:"Cha c video no trong danh sch"})]}):m.jsxs("div",{className:"video-grid-container",children:[m.jsxs("div",{className:"results-info",children:[m.jsxs("span",{className:"results-count",children:[" ",c.length," video"]}),l!=="all"&&m.jsxs("span",{className:"filter-info",children:[" Lc theo: ",l," tui"]})]}),m.jsx(de.div,{className:"video-grid",initial:{opacity:0},animate:{opacity:1},children:c.map((o,h)=>m.jsx(o3,{video:o,index:h},o.id))})]})}const h3=15e3;function f3(){const{currentVideo:a,setCurrentVideo:n,favorites:l,toggleFavorite:c,addToHistory:o,addWatchTime:h,markVideoUnavailable:f,getFilteredVideos:g}=Sn(),[_,y]=q.useState(!1),[E,v]=q.useState(!0),[S,z]=q.useState(!1),[L,Q]=q.useState(0),I=q.useRef(null),P=q.useRef(!1),Ce=q.useRef(null),le=a&&l.includes(a.id);q.useEffect(()=>{const Ae=ee=>{if(ee.origin==="https://www.youtube.com")try{const ue=typeof ee.data=="string"?JSON.parse(ee.data):ee.data;ue.event==="onError"&&(console.log("YouTube error detected via postMessage:",ue),v(!1),z(!0),a&&f?.(a.id)),ue.event==="onStateChange"&&(console.log("YouTube state change:",ue.info),ue.info!==-1&&(P.current=!0,v(!1),I.current&&clearTimeout(I.current))),ue.event==="onReady"&&(console.log("YouTube player ready"),P.current=!0,v(!1),I.current&&clearTimeout(I.current))}catch{}};return window.addEventListener("message",Ae),()=>window.removeEventListener("message",Ae)},[a,f]),q.useEffect(()=>(a&&E&&!S&&(P.current=!1,I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{!P.current&&E&&!S&&(console.log("Video load timeout - no response from YouTube"),v(!1),z(!0),a&&f?.(a.id))},h3)),()=>{I.current&&clearTimeout(I.current)}),[a,E,S,f]),q.useEffect(()=>{a&&(v(!0),z(!1),Q(0),P.current=!1,o(a))},[a]);const Z=q.useCallback(()=>{I.current&&clearTimeout(I.current),n(null),y(!1),v(!0),z(!1),Q(0),P.current=!1},[n]),Ue=q.useCallback(()=>{console.log("Iframe loaded for video:",a?.id),P.current=!0,setTimeout(()=>{S||v(!1)},1e3),I.current&&clearTimeout(I.current)},[a,S]),Le=q.useCallback(()=>{console.log("Iframe error for video:",a?.id),v(!1),z(!0),a&&f?.(a.id)},[a,f]),De=q.useCallback(()=>{a&&f?.(a.id);const Ae=g?.()||[],ee=Ae.findIndex(Be=>Be.id===a?.id),ue=Ae[ee+1]||Ae[0];ue&&ue.id!==a?.id?n(ue):Z()},[a,f,g,n,Z]);if(q.useCallback(()=>{Q(Ae=>Ae+1),z(!1),v(!0),videoLoadedRef.current=!1},[]),!a)return null;const Ge=Ci(a.url),Ut=Ge?`https://www.youtube.com/embed/${Ge}?autoplay=1&rel=0&modestbranding=1&controls=1&disablekb=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}`:a.url;return m.jsx(bi,{children:m.jsx(de.div,{className:`video-player-overlay ${_?"fullscreen":""}`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs(de.div,{className:"video-player-container",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},children:[m.jsxs("div",{className:"video-player-header",children:[m.jsx("h2",{className:"video-title",children:a.title}),m.jsxs("div",{className:"video-controls",children:[m.jsx("button",{className:"control-btn favorite-btn",onClick:()=>c(a.id),title:le?"B yu thch":"Thm yu thch",children:le?"":""}),m.jsx("button",{className:"control-btn expand-btn",onClick:()=>y(!_),title:_?"Thu nh":"Phng to",children:""}),m.jsx("button",{className:"control-btn close-btn",onClick:Z,title:"ng video",children:""})]})]}),m.jsxs("div",{className:"video-wrapper",children:[E&&!S&&m.jsxs("div",{className:"video-loading",children:[m.jsx("div",{className:"loading-icon",children:""}),m.jsxs("p",{className:"loading-text",children:["ang ti video",m.jsx("span",{className:"loading-dots"})]})]}),S?m.jsxs("div",{className:"video-error",children:[m.jsx("div",{className:"error-icon",children:""}),m.jsx("h3",{children:"Video khng kh dng"}),m.jsx("p",{children:"Video ny  b xa hoc khng cho php nhng."}),m.jsx("p",{className:"error-suggestion",children:"Hy chn video khc  xem nh!"}),m.jsxs("div",{className:"error-actions",children:[m.jsx("button",{className:"skip-btn primary",onClick:De,children:" Xem video tip theo"}),m.jsx("button",{className:"close-error-btn",onClick:Z,children:" ng"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"youtube-block-overlay top-overlay"}),m.jsx("div",{className:"youtube-block-overlay bottom-right-overlay"}),m.jsx("div",{className:"youtube-block-overlay channel-overlay"}),m.jsx("div",{className:"youtube-block-overlay info-cards-overlay"}),m.jsx("iframe",{ref:Ce,src:Ut,title:a.title,width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-presentation",onLoad:Ue,onError:Le,style:{opacity:E?0:1,transition:"opacity 0.3s ease"}},`${a.id}-${L}`)]})]}),m.jsxs("div",{className:"video-info",children:[m.jsxs("span",{className:"channel-name",children:[" ",a.channel]}),m.jsx("span",{className:"age-badge",children:a.ageGroup==="all"?" Mi la tui":` ${a.ageGroup} tui`})]})]})})})}var Pc=S_();const mh=()=>{const a=["+","-",""],n=a[Math.floor(Math.random()*a.length)];let l,c,o;switch(n){case"+":l=Math.floor(Math.random()*20)+1,c=Math.floor(Math.random()*20)+1,o=l+c;break;case"-":l=Math.floor(Math.random()*20)+10,c=Math.floor(Math.random()*l),o=l-c;break;case"":l=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1,o=l*c;break;default:l=1,c=1,o=2}return{question:`${l} ${n} ${c} = ?`,answer:o.toString()}},v_=["","","","","","","","","","","",""],tv=async a=>{const n=Ci(a);if(!n)return{valid:!1,error:"URL khng hp l"};try{const l=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${n}&format=json`);if(l.ok){const c=await l.json();return{valid:!0,title:c.title,channel:c.author_name,thumbnail:`https://img.youtube.com/vi/${n}/mqdefault.jpg`}}else{if(l.status===404)return{valid:!1,error:"Video khng tn ti hoc  b xa"};if(l.status===401)return{valid:!1,error:"Video b hn ch, khng th nhng"}}return{valid:!1,error:"Khng th kim tra video"}}catch(l){return console.log("Validation failed:",l),{valid:!1,error:"Li kt ni, khng th kim tra video"}}},d3=async a=>{const n=await tv(a);return n.valid?{title:n.title,channel:n.channel,thumbnail:n.thumbnail}:null},b_=async(a,n)=>{try{const l=`https://www.youtube.com/feeds/videos.xml?channel_id=${a}`,c=`https://api.allorigins.win/raw?url=${encodeURIComponent(l)}`,o=await fetch(c);if(!o.ok)throw new Error("Failed to fetch");const h=await o.text(),_=new DOMParser().parseFromString(h,"text/xml").querySelectorAll("entry"),y=[];return _.forEach((E,v)=>{if(v>=20)return;const S=E.querySelector("yt\\:videoId, videoId")?.textContent,z=E.querySelector("title")?.textContent,L=E.querySelector("published")?.textContent;S&&z&&y.push({id:S,videoId:S,title:z,thumbnail:`https://img.youtube.com/vi/${S}/mqdefault.jpg`,url:`https://www.youtube.com/watch?v=${S}`,channel:n,publishedAt:L})}),y}catch(l){return console.error("Error fetching channel videos:",l),[]}},m3=async(a,n="")=>{try{const l=n?`${a} ${n}`:a,c=`https://inv.nadeko.net/api/v1/search?q=${encodeURIComponent(l)}&type=video`,o=await fetch(c);if(!o.ok)throw new Error("Search failed");return(await o.json()).slice(0,20).map(f=>({id:f.videoId,videoId:f.videoId,title:f.title,thumbnail:`https://img.youtube.com/vi/${f.videoId}/mqdefault.jpg`,url:`https://www.youtube.com/watch?v=${f.videoId}`,channel:f.author||n,duration:f.lengthSeconds}))}catch(l){return console.error("Search failed:",l),[]}};function g3({inHeader:a=!1}){const{parentMode:n,toggleParentMode:l,videos:c,channels:o,users:h,addVideo:f,deleteVideo:g,addChannel:_,deleteChannel:y,addUser:E,updateUser:v,deleteUser:S,dailyLimit:z,setDailyLimit:L,resetToDefaults:Q,initializeData:I}=Sn(),[P,Ce]=q.useState(!1),[le,Z]=q.useState(""),[Ue,Le]=q.useState(""),[De,Ge]=q.useState("videos"),[Ut,Ae]=q.useState(!1),[ee,ue]=q.useState({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),[Be,Tt]=q.useState({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),[Me,O]=q.useState({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),[H,F]=q.useState(!1),[ve,_e]=q.useState(()=>mh()),[U,te]=q.useState(null),[fe,J]=q.useState(""),[rt,Nt]=q.useState("url"),[vt,Mi]=q.useState(""),[hn,Kn]=q.useState(""),[Cn,Lt]=q.useState([]),[ln,xt]=q.useState([]),[En,fn]=q.useState(!1),[Os,sa]=q.useState(!1),ll=h.filter(N=>N.type==="child"),ca=()=>{const N={videos:c,channels:o,users:h,settings:{dailyLimit:z},exportedAt:new Date().toISOString()},G=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),Oe=URL.createObjectURL(G),He=document.createElement("a");He.href=Oe,He.download=`kid_video_backup_${new Date().toISOString().split("T")[0]}.json`,He.click(),URL.revokeObjectURL(Oe),J("  xut d liu thnh cng!"),setTimeout(()=>J(""),3e3)},ra=N=>{const G=N.target.files[0];if(!G)return;const Oe=new FileReader;Oe.onload=async He=>{try{const _t=JSON.parse(He.target.result);if(_t.videos&&Array.isArray(_t.videos))for(const Bt of _t.videos)c.find(dn=>dn.id===Bt.id)||f(Bt);if(_t.channels&&Array.isArray(_t.channels))for(const Bt of _t.channels)o.find(dn=>dn.id===Bt.id)||_(Bt);if(_t.users&&Array.isArray(_t.users))for(const Bt of _t.users)h.find(dn=>dn.id===Bt.id)||E(Bt);J("  nhp d liu thnh cng!"),setTimeout(()=>J(""),3e3)}catch{J(" File khng hp l"),setTimeout(()=>J(""),3e3)}},Oe.readAsText(G),N.target.value=""};q.useEffect(()=>{const G=setTimeout(async()=>{if(ee.url&&Ci(ee.url)){sa(!0);const Oe=await d3(ee.url);Oe&&ue(He=>({...He,title:He.title||Oe.title,channel:He.channel||Oe.channel})),sa(!1)}},500);return()=>clearTimeout(G)},[ee.url]),q.useEffect(()=>{(async()=>{if(vt&&rt==="search"){fn(!0),Lt([]);const G=o.find(Oe=>Oe.id===vt);if(G){const Oe=await b_(G.channelId,G.name);Lt(Oe)}fn(!1)}})()},[vt,rt,o]);const Rs=async()=>{if(!hn.trim()){if(vt){fn(!0);const He=o.find(_t=>_t.id===vt);if(He){const _t=await b_(He.channelId,He.name);Lt(_t)}fn(!1)}return}fn(!0);const G=o.find(He=>He.id===vt)?.name||"",Oe=await m3(hn,G);Lt(Oe),fn(!1)},Ur=N=>{xt(G=>G.find(He=>He.videoId===N.videoId)?G.filter(He=>He.videoId!==N.videoId):[...G,N])},bt=N=>ln.some(G=>G.videoId===N),Lr=N=>c.some(G=>Ci(G.url)===N),js=async()=>{if(ln.length===0)return;const N=o.find(G=>G.id===vt);try{for(const G of ln)await f({url:G.url,title:G.title,channel:G.channel||N?.name||"",thumbnail:G.thumbnail,ageGroup:N?.ageGroup||"all",category:N?.category||"entertainment"});J(`  thm ${ln.length} video!`),setTimeout(()=>J(""),2e3),xt([]),Lt([]),Kn(""),Ae(!1),Nt("url")}catch{J(" Li khi lu!")}},zs=()=>{if(n){l();return}_e(mh()),Ce(!0),Z(""),Le("")},Oi=()=>{le===ve.answer?(l("bypass"),Ce(!1),Z(""),Le("")):(Le("Sai ri! Th li nh "),_e(mh()),Z(""))},Br=async()=>{if(!ee.url||!ee.title)return;J(" ang kim tra video...");const N=await tv(ee.url);if(!N.valid){J(` ${N.error}`),setTimeout(()=>J(""),3e3);return}const G=n3(ee.url);try{await f({...ee,thumbnail:G||"https://via.placeholder.com/320x180?text=Video"}),J("  lu video!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}ue({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),Ae(!1),Nt("url"),Lt([]),xt([])},Us=async()=>{if(!(!Be.name||!Be.channelId)){try{await _(Be),J("  lu knh!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}Tt({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),Ae(!1)}},Hr=async()=>{if(Me.name){try{await E(Me),J("  thm b!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}O({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),Ae(!1)}},Ir=async()=>{if(U){try{await v(U.id,U),J("  cp nht!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}te(null)}},Zn=N=>{if(U){const G=U.allowedCategories||[],Oe=G.includes(N)?G.filter(He=>He!==N):[...G,N];te({...U,allowedCategories:Oe})}else{const G=Me.allowedCategories||[],Oe=G.includes(N)?G.filter(He=>He!==N):[...G,N];O({...Me,allowedCategories:Oe})}},pt=()=>{Ae(!1),Nt("url"),Lt([]),xt([]),Kn(""),Mi("")};return m.jsxs(m.Fragment,{children:[m.jsxs(de.button,{className:`parent-mode-btn ${a?"in-header":""}`,onClick:zs,whileHover:{scale:1.05},whileTap:{scale:.95},title:n?"Thot ch  ph huynh":"Ch  ph huynh",children:[m.jsx(w1,{}),a&&m.jsx("span",{className:"btn-label",children:"Ph huynh"})]}),Pc.createPortal(m.jsx(bi,{children:P&&m.jsx(de.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Ce(!1),children:m.jsxs(de.div,{className:"pin-modal math-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:N=>N.stopPropagation(),children:[m.jsx("h3",{children:" Gii bi ton  vo"}),m.jsx("p",{className:"pin-hint",children:"Ch ngi ln mi gii c nhanh!"}),m.jsx("div",{className:"math-question",children:ve.question}),m.jsx("input",{type:"number",value:le,onChange:N=>Z(N.target.value),placeholder:"Nhp p n...",className:"pin-input math-input",onKeyDown:N=>N.key==="Enter"&&Oi(),autoFocus:!0}),Ue&&m.jsx("p",{className:"pin-error",children:Ue}),m.jsxs("div",{className:"pin-actions",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>Ce(!1),children:"Hy"}),m.jsx("button",{className:"submit-btn",onClick:Oi,children:"Tr li"})]})]})})}),document.body),Pc.createPortal(m.jsx(bi,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx(de.div,{className:"panel-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l()}),m.jsxs(de.div,{className:"parent-panel",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[m.jsxs("div",{className:"panel-header",children:[m.jsx("h3",{children:" Ch  ph huynh"}),m.jsxs("div",{className:"panel-header-actions",children:[m.jsx("button",{className:"settings-btn",onClick:()=>F(!H),title:"Ci t",children:""}),m.jsx("button",{className:"close-panel-btn",onClick:()=>l(),title:"ng",children:""})]})]}),H&&m.jsxs("div",{className:"settings-section",children:[m.jsx("h4",{children:" Ci t"}),m.jsxs("div",{className:"setting-group",children:[m.jsx("label",{children:" Sao lu d liu:"}),m.jsx("p",{className:"storage-note",style:{marginTop:0},children:"D liu lu trong trnh duyt. Dng Xut/Nhp  chia s gia cc thit b."}),m.jsxs("div",{className:"storage-actions",children:[m.jsxs("button",{className:"export-btn",onClick:ca,children:[m.jsx(C1,{})," Xut d liu"]}),m.jsxs("label",{className:"import-btn",children:[m.jsx(A1,{})," Nhp d liu",m.jsx("input",{type:"file",accept:".json",onChange:ra,hidden:!0})]})]})]}),m.jsxs("div",{className:"setting-item",children:[m.jsx("label",{children:"Gii hn xem/ngy (pht):"}),m.jsx("input",{type:"number",value:z,onChange:N=>L(Number(N.target.value)),min:"10",max:"180"})]}),m.jsx("button",{className:"reset-btn",onClick:Q,children:" Khi phc mc nh"})]}),m.jsxs("div",{className:"panel-tabs",children:[m.jsxs("button",{className:`tab-btn ${De==="videos"?"active":""}`,onClick:()=>Ge("videos"),children:[m.jsx(gh,{})," ",m.jsx("span",{className:"tab-text",children:"Video"})," ",m.jsxs("span",{className:"tab-count",children:["(",c.length,")"]})]}),m.jsxs("button",{className:`tab-btn ${De==="channels"?"active":""}`,onClick:()=>Ge("channels"),children:[m.jsx(x1,{})," ",m.jsx("span",{className:"tab-text",children:"Knh"})," ",m.jsxs("span",{className:"tab-count",children:["(",o.length,")"]})]}),m.jsxs("button",{className:`tab-btn ${De==="users"?"active":""}`,onClick:()=>Ge("users"),children:[m.jsx(D1,{})," ",m.jsx("span",{className:"tab-text",children:"B"})," ",m.jsxs("span",{className:"tab-count",children:["(",ll.length,")"]})]})]}),fe&&m.jsx("div",{className:"save-message",children:fe}),m.jsxs("div",{className:"panel-content",children:[De==="videos"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"add-btn",onClick:()=>Ae(!0),children:[m.jsx(yn,{})," Thm video"]}),m.jsx("div",{className:"item-list",children:c.map(N=>m.jsxs("div",{className:"list-item",children:[m.jsx("img",{src:N.thumbnail,alt:N.title,className:"item-thumb"}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-title",children:N.title}),m.jsxs("span",{className:"item-meta",children:[N.channel,"  ",N.ageGroup,"  ",vn.find(G=>G.id===N.category)?.icon||""]})]}),m.jsx("button",{className:"delete-btn",onClick:()=>g(N.id),children:""})]},N.id))})]}),De==="channels"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"add-btn",onClick:()=>Ae(!0),children:[m.jsx(yn,{})," Thm knh"]}),m.jsx("div",{className:"item-list",children:o.map(N=>m.jsxs("div",{className:"list-item",children:[m.jsx("div",{className:"channel-icon",children:""}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-title",children:N.name}),m.jsxs("span",{className:"item-meta",children:[N.ageGroup," tui"]})]}),m.jsx("button",{className:"delete-btn",onClick:()=>y(N.id),children:""})]},N.id))})]}),De==="users"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"add-btn",onClick:()=>{te(null),Ae(!0)},children:[m.jsx(yn,{})," Thm b"]}),m.jsx("div",{className:"item-list",children:ll.map(N=>m.jsxs("div",{className:"list-item",children:[m.jsx("div",{className:"channel-icon",children:N.avatar}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-title",children:N.name}),m.jsxs("span",{className:"item-meta",children:[N.ageGroup," tui  ",N.dailyLimit,"p/ngy"]})]}),m.jsx("button",{className:"edit-btn",onClick:()=>te(N),children:""}),m.jsx("button",{className:"delete-btn",onClick:()=>S(N.id),children:""})]},N.id))})]})]})]})]})}),document.body),Pc.createPortal(m.jsx(bi,{children:U&&m.jsx(de.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>te(null),children:m.jsxs(de.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),children:[m.jsx("button",{className:"close-modal",onClick:()=>te(null),children:m.jsx(er,{})}),m.jsxs("div",{className:"modal-scroll-content",children:[m.jsxs("h3",{children:[" Chnh sa: ",U.name]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tn:"}),m.jsx("input",{type:"text",value:U.name,onChange:N=>te({...U,name:N.target.value})})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Avatar:"}),m.jsx("div",{className:"avatar-picker",children:v_.map(N=>m.jsx("button",{className:`avatar-btn ${U.avatar===N?"active":""}`,onClick:()=>te({...U,avatar:N}),children:N},N))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:U.ageGroup||"0-3",onChange:N=>te({...U,ageGroup:N.target.value}),children:[m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gii hn xem/ngy (pht):"}),m.jsx("input",{type:"number",value:U.dailyLimit,onChange:N=>te({...U,dailyLimit:Number(N.target.value)}),min:"10",max:"180"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch  c php xem:"}),m.jsx("div",{className:"category-picker",children:vn.map(N=>m.jsxs("button",{className:`category-chip ${(U.allowedCategories||[]).includes(N.id)?"active":""}`,style:{"--cat-color":N.color},onClick:()=>Zn(N.id),children:[N.icon," ",N.name]},N.id))})]}),m.jsx("button",{className:"submit-btn save-btn",onClick:Ir,children:" Lu thay i"})]})]})})}),document.body),Pc.createPortal(m.jsx(bi,{children:Ut&&m.jsx(de.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:pt,children:m.jsxs(de.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),children:[m.jsx("button",{className:"close-modal",onClick:pt,children:""}),m.jsxs("div",{className:"modal-scroll-content",children:[De==="videos"&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:" Thm video mi"}),o.length>0&&m.jsxs("div",{className:"mode-toggle",children:[m.jsx("button",{className:`mode-btn ${rt==="url"?"active":""}`,onClick:()=>{Nt("url"),Lt([]),xt([])},children:" Nhp URL"}),m.jsx("button",{className:`mode-btn ${rt==="search"?"active":""}`,onClick:()=>Nt("search"),children:" Tm t knh"})]}),rt==="search"&&o.length>0&&m.jsxs("div",{className:"channel-search-section",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Chn knh:"}),m.jsxs("select",{value:vt,onChange:N=>{Mi(N.target.value),Lt([]),xt([]),Kn("")},children:[m.jsx("option",{value:"",children:"-- Chn knh --"}),o.map(N=>m.jsx("option",{value:N.id,children:N.name},N.id))]})]}),vt&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"search-box",children:[m.jsxs("div",{className:"search-input-wrapper",children:[m.jsx(E_,{className:"search-icon"}),m.jsx("input",{type:"text",value:hn,onChange:N=>Kn(N.target.value),placeholder:"Tm video trong knh...",onKeyDown:N=>N.key==="Enter"&&Rs()})]}),m.jsx("button",{className:"search-btn",onClick:Rs,disabled:En,children:En?"":""})]}),En&&m.jsxs("div",{className:"search-loading",children:[m.jsx("span",{className:"loading-spinner-small",children:""}),m.jsx("span",{children:"ang ti video t knh..."})]}),!En&&Cn.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"search-results-header",children:[m.jsxs("span",{children:[" ",Cn.length," video"]}),ln.length>0&&m.jsxs("span",{className:"selected-count",children:["  chn: ",ln.length]})]}),m.jsx("div",{className:"search-results",children:Cn.map(N=>{const G=Lr(N.videoId),Oe=bt(N.videoId);return m.jsxs("div",{className:`search-result-item ${Oe?"selected":""} ${G?"in-library":""}`,onClick:()=>!G&&Ur(N),children:[m.jsxs("div",{className:"result-thumb-wrapper",children:[m.jsx("img",{src:N.thumbnail,alt:N.title,className:"result-thumb"}),Oe&&m.jsx("div",{className:"check-overlay",children:m.jsx(C_,{})}),G&&m.jsx("div",{className:"in-library-badge",children:"  c"})]}),m.jsxs("div",{className:"result-info",children:[m.jsx("span",{className:"result-title",children:N.title}),m.jsx("span",{className:"result-channel",children:N.channel})]})]},N.videoId)})}),ln.length>0&&m.jsxs("button",{className:"submit-btn add-selected-btn",onClick:js,children:[m.jsx(yn,{})," Thm ",ln.length," video  chn"]})]}),!En&&Cn.length===0&&vt&&m.jsxs("div",{className:"no-results",children:[m.jsx("p",{children:" Khng tm thy video"}),m.jsx("small",{children:"Th tm kim vi t kha khc hoc kim tra Channel ID"})]})]})]}),rt==="url"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"URL YouTube:"}),m.jsxs("div",{className:"input-with-icon",children:[m.jsx("input",{type:"url",value:ee.url,onChange:N=>ue({...ee,url:N.target.value}),placeholder:"https://www.youtube.com/watch?v=..."}),Os&&m.jsx("span",{className:"loading-spinner",children:""})]})]}),ee.url&&Ci(ee.url)&&m.jsx("div",{className:"video-preview",children:m.jsx("img",{src:`https://img.youtube.com/vi/${Ci(ee.url)}/mqdefault.jpg`,alt:"Preview",className:"preview-thumb"})}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:["Tiu : ",Os&&m.jsx("span",{className:"auto-fill-hint",children:"(ang ti...)"})]}),m.jsx("input",{type:"text",value:ee.title,onChange:N=>ue({...ee,title:N.target.value}),placeholder:"Tn video..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Knh:"}),m.jsx("input",{type:"text",value:ee.channel,onChange:N=>ue({...ee,channel:N.target.value}),placeholder:"Tn knh..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:ee.ageGroup,onChange:N=>ue({...ee,ageGroup:N.target.value}),children:[m.jsx("option",{value:"all",children:"Mi la tui"}),m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch :"}),m.jsx("select",{value:ee.category||"entertainment",onChange:N=>ue({...ee,category:N.target.value}),children:vn.map(N=>m.jsxs("option",{value:N.id,children:[N.icon," ",N.name]},N.id))})]}),m.jsxs("button",{className:"submit-btn",onClick:Br,children:[m.jsx(yn,{})," Thm video"]})]})]}),De==="channels"&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:" Thm knh mi"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tn knh:"}),m.jsx("input",{type:"text",value:Be.name,onChange:N=>Tt({...Be,name:N.target.value}),placeholder:"Tn knh..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Channel ID:"}),m.jsx("input",{type:"text",value:Be.channelId,onChange:N=>Tt({...Be,channelId:N.target.value}),placeholder:"UCxxxxxx..."}),m.jsx("small",{className:"form-hint",children:"Ly t URL knh YouTube: youtube.com/channel/[Channel ID]"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:Be.ageGroup,onChange:N=>Tt({...Be,ageGroup:N.target.value}),children:[m.jsx("option",{value:"all",children:"Mi la tui"}),m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch :"}),m.jsx("select",{value:Be.category||"entertainment",onChange:N=>Tt({...Be,category:N.target.value}),children:vn.map(N=>m.jsxs("option",{value:N.id,children:[N.icon," ",N.name]},N.id))})]}),m.jsxs("button",{className:"submit-btn",onClick:Us,children:[m.jsx(yn,{})," Thm knh"]})]}),De==="users"&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:" Thm b mi"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tn:"}),m.jsx("input",{type:"text",value:Me.name,onChange:N=>O({...Me,name:N.target.value}),placeholder:"Tn b..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Avatar:"}),m.jsx("div",{className:"avatar-picker",children:v_.map(N=>m.jsx("button",{className:`avatar-btn ${Me.avatar===N?"active":""}`,onClick:()=>O({...Me,avatar:N}),children:N},N))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:Me.ageGroup,onChange:N=>O({...Me,ageGroup:N.target.value}),children:[m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gii hn xem/ngy (pht):"}),m.jsx("input",{type:"number",value:Me.dailyLimit,onChange:N=>O({...Me,dailyLimit:Number(N.target.value)}),min:"10",max:"180"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch  c php xem:"}),m.jsx("div",{className:"category-picker",children:vn.map(N=>m.jsxs("button",{className:`category-chip ${(Me.allowedCategories||[]).includes(N.id)?"active":""}`,style:{"--cat-color":N.color},onClick:()=>Zn(N.id),children:[N.icon," ",N.name]},N.id))})]}),m.jsxs("button",{className:"submit-btn",onClick:Hr,children:[m.jsx(yn,{})," Thm b"]})]})]})]})})}),document.body)]})}function p3(){const{users:a,login:n,initializeData:l,isLoading:c}=Sn();q.useEffect(()=>{l()},[]);const o=a.filter(h=>h.type==="child");return c?m.jsx("div",{className:"login-screen",children:m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"loading-spinner large"}),m.jsx("p",{children:"ang ti..."})]})}):m.jsx("div",{className:"login-screen",children:m.jsxs(de.div,{className:"login-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[m.jsxs("div",{className:"login-header",children:[m.jsx("h1",{children:" Kid Video"}),m.jsx("p",{children:"Chn ti khon ca b"})]}),m.jsx("div",{className:"user-grid",children:o.map((h,f)=>m.jsxs(de.button,{className:"user-card",onClick:()=>n(h.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:f*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:[m.jsx("div",{className:"user-avatar",children:h.avatar}),m.jsx("span",{className:"user-name",children:h.name}),m.jsxs("span",{className:"user-age",children:[h.ageGroup," tui"]})]},h.id))}),m.jsx("div",{className:"login-footer",children:m.jsx("p",{children:" Video an ton cho b yu"})})]})})}function _3(){const{currentUser:a,todayWatchTime:n,dailyLimit:l,logout:c,initializeData:o,setVideos:h,setUsers:f,setChannels:g}=Sn(),_=Math.min(n/l*100,100);return q.useEffect(()=>{o();const y=JC(S=>{console.log("Videos synced:",S.length),h(S)}),E=WC(S=>{console.log("Users synced:",S.length),f(S)}),v=$C(S=>{console.log("Channels synced:",S.length),g(S)});return()=>{y(),E(),v()}},[]),a?m.jsxs("div",{className:"app",children:[m.jsxs(de.header,{className:"header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[m.jsxs("div",{className:"header-content",children:[m.jsx(de.h1,{className:"app-title",whileHover:{scale:1.05},children:" Kid Video"}),m.jsx("p",{className:"app-subtitle",children:"Video an ton cho b yu"})]}),m.jsxs("div",{className:"user-info",children:[m.jsxs("span",{className:"current-user",children:[m.jsx("span",{className:"user-avatar-small",children:a.avatar}),m.jsx("span",{className:"user-name-small",children:a.name})]}),m.jsxs("button",{className:"logout-btn",onClick:c,children:[m.jsx(N1,{})," i b"]}),m.jsx(g3,{inHeader:!0})]}),m.jsxs("div",{className:"watch-time-indicator",children:[m.jsx("span",{className:"watch-time-label",children:" Thi gian xem hm nay"}),m.jsx("div",{className:"watch-time-bar",children:m.jsx(de.div,{className:"watch-time-progress",initial:{width:0},animate:{width:`${_}%`},style:{background:_>80?"#ff6b6b":_>50?"#ffa502":"#84fab0"}})}),m.jsxs("span",{className:"watch-time-text",children:[n,"/",l," pht"]})]})]}),m.jsxs("main",{className:"main-content",children:[m.jsxs(de.div,{className:"controls",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[m.jsx(l3,{}),m.jsx(r3,{}),m.jsx(c3,{})]}),m.jsx(a3,{}),m.jsx(u3,{})]}),m.jsx(f3,{}),m.jsx("footer",{className:"footer",children:m.jsx("p",{children:" An ton & Thn thin vi tr em"})})]}):m.jsx(p3,{})}b1.createRoot(document.getElementById("root")).render(m.jsx(q.StrictMode,{children:m.jsx(_3,{})}));
