import{r as p1,R as ar,a as V,j as f,m as ge,A as Kn}from"./motion-DRm28CPu.js";import{r as xv}from"./vendor-DX_WDAl5.js";import{G as ft}from"./icons-k-IPNWRF.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&c(d)}).observe(document,{childList:!0,subtree:!0});function l(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=l(o);fetch(o.href,h)}})();var lh={exports:{}},hs={},ah={exports:{}},sh={};var xp;function v1(){return xp||(xp=1,(function(a){function n(D,L){var G=D.length;D.push(L);e:for(;0<G;){var be=G-1>>>1,Se=D[be];if(0<o(Se,L))D[be]=L,D[G]=Se,G=be;else break e}}function l(D){return D.length===0?null:D[0]}function c(D){if(D.length===0)return null;var L=D[0],G=D.pop();if(G!==L){D[0]=G;e:for(var be=0,Se=D.length,H=Se>>>1;be<H;){var J=2*(be+1)-1,$=D[J],re=J+1,lt=D[re];if(0>o($,G))re<Se&&0>o(lt,$)?(D[be]=lt,D[re]=G,be=re):(D[be]=$,D[J]=G,be=J);else if(re<Se&&0>o(lt,G))D[be]=lt,D[re]=G,be=re;else break e}}return L}function o(D,L){var G=D.sortIndex-L.sortIndex;return G!==0?G:D.id-L.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var v=[],y=[],T=1,_=null,S=3,z=!1,U=!1,Y=!1,I=!1,ne=typeof setTimeout=="function"?setTimeout:null,Ue=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function K(D){for(var L=l(y);L!==null;){if(L.callback===null)c(y);else if(L.startTime<=D)c(y),L.sortIndex=L.expirationTime,n(v,L);else break;L=l(y)}}function me(D){if(Y=!1,K(D),!U)if(l(v)!==null)U=!0,Me||(Me=!0,ee());else{var L=l(y);L!==null&&$e(me,L.startTime-D)}}var Me=!1,Ie=-1,xe=5,Nt=-1;function St(){return I?!0:!(a.unstable_now()-Nt<xe)}function We(){if(I=!1,Me){var D=a.unstable_now();Nt=D;var L=!0;try{e:{U=!1,Y&&(Y=!1,Ue(Ie),Ie=-1),z=!0;var G=S;try{t:{for(K(D),_=l(v);_!==null&&!(_.expirationTime>D&&St());){var be=_.callback;if(typeof be=="function"){_.callback=null,S=_.priorityLevel;var Se=be(_.expirationTime<=D);if(D=a.unstable_now(),typeof Se=="function"){_.callback=Se,K(D),L=!0;break t}_===l(v)&&c(v),K(D)}else c(v);_=l(v)}if(_!==null)L=!0;else{var H=l(y);H!==null&&$e(me,H.startTime-D),L=!1}}break e}finally{_=null,S=G,z=!1}L=void 0}}finally{L?ee():Me=!1}}}var ee;if(typeof te=="function")ee=function(){te(We)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,ke=Fe.port2;Fe.port1.onmessage=We,ee=function(){ke.postMessage(null)}}else ee=function(){ne(We,0)};function $e(D,L){Ie=ne(function(){D(a.unstable_now())},L)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(D){switch(S){case 1:case 2:case 3:var L=3;break;default:L=S}var G=S;S=L;try{return D()}finally{S=G}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=S;S=D;try{return L()}finally{S=G}},a.unstable_scheduleCallback=function(D,L,G){var be=a.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?be+G:be):G=be,D){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=G+Se,D={id:T++,callback:L,priorityLevel:D,startTime:G,expirationTime:Se,sortIndex:-1},G>be?(D.sortIndex=G,n(y,D),l(v)===null&&D===l(y)&&(Y?(Ue(Ie),Ie=-1):Y=!0,$e(me,G-be))):(D.sortIndex=Se,n(v,D),U||z||(U=!0,Me||(Me=!0,ee()))),D},a.unstable_shouldYield=St,a.unstable_wrapCallback=function(D){var L=S;return function(){var G=S;S=L;try{return D.apply(this,arguments)}finally{S=G}}}})(sh)),sh}var Np;function y1(){return Np||(Np=1,ah.exports=v1()),ah.exports}var Ap;function _1(){if(Ap)return hs;Ap=1;var a=y1(),n=p1(),l=xv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function d(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===i)return v(r),e;if(u===s)return v(r),t;u=u.sibling}throw Error(c(188))}if(i.return!==s.return)i=r,s=u;else{for(var m=!1,p=r.child;p;){if(p===i){m=!0,i=r,s=u;break}if(p===s){m=!0,s=r,i=u;break}p=p.sibling}if(!m){for(p=u.child;p;){if(p===i){m=!0,i=u,s=r;break}if(p===s){m=!0,s=u,i=r;break}p=p.sibling}if(!m)throw Error(c(189))}}if(i.alternate!==s)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),Ue=Symbol.for("react.consumer"),te=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),Nt=Symbol.for("react.activity"),St=Symbol.for("react.memo_cache_sentinel"),We=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=We&&e[We]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Symbol.for("react.client.reference");function ke(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Fe?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case ne:return"Profiler";case I:return"StrictMode";case me:return"Suspense";case Me:return"SuspenseList";case Nt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case te:return e.displayName||"Context";case Ue:return(e._context.displayName||"Context")+".Consumer";case K:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ie:return t=e.displayName||null,t!==null?t:ke(e.type)||"Memo";case xe:t=e._payload,e=e._init;try{return ke(e(t))}catch{}}return null}var $e=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},be=[],Se=-1;function H(e){return{current:e}}function J(e){0>Se||(e.current=be[Se],be[Se]=null,Se--)}function $(e,t){Se++,be[Se]=e.current,e.current=t}var re=H(null),lt=H(null),dn=H(null),pe=H(null);function At(e,t){switch($(dn,t),$(lt,e),$(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kg(t),e=Zg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(re),$(re,e)}function Gt(){J(re),J(lt),J(dn)}function Ct(e){e.memoizedState!==null&&$(pe,e);var t=re.current,i=Zg(t,e.type);t!==i&&($(lt,e),$(re,i))}function ni(e){lt.current===e&&(J(re),J(lt)),pe.current===e&&(J(pe),cs._currentValue=G)}var Ot,ii;function Pe(e){if(Ot===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ot=t&&t[1]||"",ii=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ot+e+ii}var dt=!1;function Et(e,t){if(!e||dt)return"";dt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var R=function(){throw Error()};if(Object.defineProperty(R.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(R,[])}catch(M){var w=M}Reflect.construct(e,[],R)}else{try{R.call()}catch(M){w=M}e.call(R.prototype)}}else{try{throw Error()}catch(M){w=M}(R=e())&&typeof R.catch=="function"&&R.catch(function(){})}}catch(M){if(M&&w&&typeof M.stack=="string")return[M.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],p=u[1];if(m&&p){var b=m.split(`
`),A=p.split(`
`);for(r=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;if(s===b.length||r===A.length)for(s=b.length-1,r=A.length-1;1<=s&&0<=r&&b[s]!==A[r];)r--;for(;1<=s&&0<=r;s--,r--)if(b[s]!==A[r]){if(s!==1||r!==1)do if(s--,r--,0>r||b[s]!==A[r]){var j=`
`+b[s].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=s&&0<=r);break}}}finally{dt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Pe(i):""}function wn(e,t){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==t&&t!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Et(e.type,!1);case 11:return Et(e.type.render,!1);case 1:return Et(e.type,!0);case 31:return Pe("Activity");default:return""}}function qt(e){try{var t="",i=null;do t+=wn(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var $t=Object.prototype.hasOwnProperty,ml=a.unstable_scheduleCallback,gl=a.unstable_cancelCallback,Gr=a.unstable_shouldYield,li=a.unstable_requestPaint,wt=a.unstable_now,Cn=a.unstable_getCurrentPriorityLevel,ai=a.unstable_ImmediatePriority,Sa=a.unstable_UserBlockingPriority,Vi=a.unstable_NormalPriority,qr=a.unstable_LowPriority,Ys=a.unstable_IdlePriority,pl=a.log,Qs=a.unstable_setDisableYieldValue,si=null,Tt=null;function mn(e){if(typeof pl=="function"&&Qs(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(si,e)}catch{}}var xt=Math.clz32?Math.clz32:Qr,Yr=Math.log,Xs=Math.LN2;function Qr(e){return e>>>=0,e===0?32:31-(Yr(e)/Xs|0)|0}var vl=256,yl=262144,_l=4194304;function Dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gi(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~u,s!==0?r=Dn(s):(m&=p,m!==0?r=Dn(m):i||(i=p&~e,i!==0&&(r=Dn(i))))):(p=s&~u,p!==0?r=Dn(p):m!==0?r=Dn(m):i||(i=s&~e,i!==0&&(r=Dn(i)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:r}function ci(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function E(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var e=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),e}function fe(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function oe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ke(e,t,i,s,r,u){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(i=m&~i;0<i;){var j=31-xt(i),R=1<<j;p[j]=0,b[j]=-1;var w=A[j];if(w!==null)for(A[j]=null,j=0;j<w.length;j++){var M=w[j];M!==null&&(M.lane&=-536870913)}i&=~R}s!==0&&Yt(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Yt(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-xt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Rt(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-xt(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function Of(e,t){var i=t&-t;return i=(i&42)!==0?1:Xr(i),(i&(e.suspendedLanes|t))!==0?0:i}function Xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Rf(){var e=L.p;return e!==0?e:(e=window.event,e===void 0?32:yp(e.type))}function zf(e,t){var i=L.p;try{return L.p=e,t()}finally{L.p=i}}var ri=Math.random().toString(36).slice(2),mt="__reactFiber$"+ri,zt="__reactProps$"+ri,bl="__reactContainer$"+ri,Kr="__reactEvents$"+ri,a_="__reactListeners$"+ri,s_="__reactHandles$"+ri,Uf="__reactResources$"+ri,Ca="__reactMarker$"+ri;function Zr(e){delete e[mt],delete e[zt],delete e[Kr],delete e[a_],delete e[s_]}function Sl(e){var t=e[mt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[bl]||i[mt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=np(e);e!==null;){if(i=e[mt])return i;e=np(e)}return t}e=i,i=e.parentNode}return null}function Cl(e){if(e=e[mt]||e[bl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ea(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function El(e){var t=e[Uf];return t||(t=e[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[Ca]=!0}var Lf=new Set,Bf={};function qi(e,t){Tl(e,t),Tl(e+"Capture",t)}function Tl(e,t){for(Bf[e]=t,e=0;e<t.length;e++)Lf.add(t[e])}var c_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hf={},If={};function r_(e){return $t.call(If,e)?!0:$t.call(Hf,e)?!1:c_.test(e)?If[e]=!0:(Hf[e]=!0,!1)}function Fs(e,t,i){if(r_(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ks(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Mn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Pt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o_(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){i=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){if(!e._valueTracker){var t=kf(e)?"checked":"value";e._valueTracker=o_(e,t,""+e[t])}}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=kf(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u_=/[\n"\\]/g;function en(e){return e.replace(u_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wr(e,t,i,s,r,u,m,p){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Pt(t)):e.value!==""+Pt(t)&&(e.value=""+Pt(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?$r(e,m,Pt(t)):i!=null?$r(e,m,Pt(i)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Pt(p):e.removeAttribute("name")}function Gf(e,t,i,s,r,u,m,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Jr(e);return}i=i!=null?""+Pt(i):"",t=t!=null?""+Pt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Jr(e)}function $r(e,t,i){t==="number"&&Zs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function xl(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Pt(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function qf(e,t,i){if(t!=null&&(t=""+Pt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Pt(i):""}function Yf(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(c(92));if($e(s)){if(1<s.length)throw Error(c(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Pt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Jr(e)}function Nl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var h_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||h_.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Xf(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Qf(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Qf(e,u,t[u])}function Pr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(e){return d_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var eo=null;function to(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,wl=null;function Ff(e){var t=Cl(e);if(t&&(e=t.stateNode)){var i=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+en(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[zt]||null;if(!r)throw Error(c(90));Wr(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Vf(s)}break e;case"textarea":qf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&xl(e,!!i.multiple,t,!1)}}}var no=!1;function Kf(e,t,i){if(no)return e(t,i);no=!0;try{var s=e(t);return s}finally{if(no=!1,(Al!==null||wl!==null)&&(Bc(),Al&&(t=Al,e=wl,wl=Al=null,Ff(t),e)))for(t=0;t<e.length;t++)Ff(e[t])}}function Ta(e,t){var i=e.stateNode;if(i===null)return null;var s=i[zt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),io=!1;if(On)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){io=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{io=!1}var oi=null,lo=null,Ws=null;function Zf(){if(Ws)return Ws;var e,t=lo,i=t.length,s,r="value"in oi?oi.value:oi.textContent,u=r.length;for(e=0;e<i&&t[e]===r[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===r[u-s];s++);return Ws=r.slice(e,1<s?1-s:void 0)}function $s(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ps(){return!0}function Jf(){return!1}function Ut(e){function t(i,s,r,u,m){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Ps:Jf,this.isPropagationStopped=Jf,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ps)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ps)},persist:function(){},isPersistent:Ps}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ec=Ut(Yi),Na=_({},Yi,{view:0,detail:0}),m_=Ut(Na),ao,so,Aa,tc=_({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ro,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(ao=e.screenX-Aa.screenX,so=e.screenY-Aa.screenY):so=ao=0,Aa=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:so}}),Wf=Ut(tc),g_=_({},tc,{dataTransfer:0}),p_=Ut(g_),v_=_({},Na,{relatedTarget:0}),co=Ut(v_),y_=_({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),__=Ut(y_),b_=_({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S_=Ut(b_),C_=_({},Yi,{data:0}),$f=Ut(C_),E_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x_[e])?!!t[e]:!1}function ro(){return N_}var A_=_({},Na,{key:function(e){if(e.key){var t=E_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=$s(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ro,charCode:function(e){return e.type==="keypress"?$s(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$s(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w_=Ut(A_),D_=_({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Ut(D_),M_=_({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ro}),j_=Ut(M_),O_=_({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R_=Ut(O_),z_=_({},tc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=Ut(z_),L_=_({},Yi,{newState:0,oldState:0}),B_=Ut(L_),H_=[9,13,27,32],oo=On&&"CompositionEvent"in window,wa=null;On&&"documentMode"in document&&(wa=document.documentMode);var I_=On&&"TextEvent"in window&&!wa,ed=On&&(!oo||wa&&8<wa&&11>=wa),td=" ",nd=!1;function id(e,t){switch(e){case"keyup":return H_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dl=!1;function k_(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(nd=!0,td);case"textInput":return e=t.data,e===td&&nd?null:e;default:return null}}function V_(e,t){if(Dl)return e==="compositionend"||!oo&&id(e,t)?(e=Zf(),Ws=lo=oi=null,Dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ed&&t.locale!=="ko"?null:t.data;default:return null}}var G_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G_[e.type]:t==="textarea"}function sd(e,t,i,s){Al?wl?wl.push(s):wl=[s]:Al=s,t=Yc(t,"onChange"),0<t.length&&(i=new ec("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Da=null,Ma=null;function q_(e){Gg(e,0)}function nc(e){var t=Ea(e);if(Vf(t))return e}function cd(e,t){if(e==="change")return t}var rd=!1;if(On){var uo;if(On){var ho="oninput"in document;if(!ho){var od=document.createElement("div");od.setAttribute("oninput","return;"),ho=typeof od.oninput=="function"}uo=ho}else uo=!1;rd=uo&&(!document.documentMode||9<document.documentMode)}function ud(){Da&&(Da.detachEvent("onpropertychange",hd),Ma=Da=null)}function hd(e){if(e.propertyName==="value"&&nc(Ma)){var t=[];sd(t,Ma,e,to(e)),Kf(q_,t)}}function Y_(e,t,i){e==="focusin"?(ud(),Da=t,Ma=i,Da.attachEvent("onpropertychange",hd)):e==="focusout"&&ud()}function Q_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return nc(Ma)}function X_(e,t){if(e==="click")return nc(t)}function F_(e,t){if(e==="input"||e==="change")return nc(t)}function K_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:K_;function ja(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!$t.call(t,r)||!Qt(e[r],t[r]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,t){var i=fd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fd(i)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Zs(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z_=On&&"documentMode"in document&&11>=document.documentMode,Ml=null,mo=null,Oa=null,go=!1;function pd(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;go||Ml==null||Ml!==Zs(s)||(s=Ml,"selectionStart"in s&&fo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Oa&&ja(Oa,s)||(Oa=s,s=Yc(mo,"onSelect"),0<s.length&&(t=new ec("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ml)))}function Qi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var jl={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},po={},vd={};On&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Xi(e){if(po[e])return po[e];if(!jl[e])return e;var t=jl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in vd)return po[e]=t[i];return e}var yd=Xi("animationend"),_d=Xi("animationiteration"),bd=Xi("animationstart"),J_=Xi("transitionrun"),W_=Xi("transitionstart"),$_=Xi("transitioncancel"),Sd=Xi("transitionend"),Cd=new Map,vo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");vo.push("scrollEnd");function gn(e,t){Cd.set(e,t),qi(t,[e])}var ic=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},tn=[],Ol=0,yo=0;function lc(){for(var e=Ol,t=yo=Ol=0;t<e;){var i=tn[t];tn[t++]=null;var s=tn[t];tn[t++]=null;var r=tn[t];tn[t++]=null;var u=tn[t];if(tn[t++]=null,s!==null&&r!==null){var m=s.pending;m===null?r.next=r:(r.next=m.next,m.next=r),s.pending=r}u!==0&&Ed(i,r,u)}}function ac(e,t,i,s){tn[Ol++]=e,tn[Ol++]=t,tn[Ol++]=i,tn[Ol++]=s,yo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function _o(e,t,i,s){return ac(e,t,i,s),sc(e)}function Fi(e,t){return ac(e,null,null,t),sc(e)}function Ed(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-xt(i),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),u):null}function sc(e){if(50<es)throw es=0,wu=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Rl={};function P_(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,i,s){return new P_(e,t,i,s)}function bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var i=e.alternate;return i===null?(i=Xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Td(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cc(e,t,i,s,r,u){var m=0;if(s=e,typeof e=="function")bo(e)&&(m=1);else if(typeof e=="string")m=l1(e,i,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Nt:return e=Xt(31,i,t,r),e.elementType=Nt,e.lanes=u,e;case Y:return Ki(i.children,r,u,t);case I:m=8,r|=24;break;case ne:return e=Xt(12,i,t,r|2),e.elementType=ne,e.lanes=u,e;case me:return e=Xt(13,i,t,r),e.elementType=me,e.lanes=u,e;case Me:return e=Xt(19,i,t,r),e.elementType=Me,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:m=10;break e;case Ue:m=9;break e;case K:m=11;break e;case Ie:m=14;break e;case xe:m=16,s=null;break e}m=29,i=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Xt(m,i,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function Ki(e,t,i,s){return e=Xt(7,e,s,t),e.lanes=i,e}function So(e,t,i){return e=Xt(6,e,null,t),e.lanes=i,e}function xd(e){var t=Xt(18,null,null,0);return t.stateNode=e,t}function Co(e,t,i){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nd=new WeakMap;function nn(e,t){if(typeof e=="object"&&e!==null){var i=Nd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:qt(t)},Nd.set(e,t),t)}return{value:e,source:t,stack:qt(t)}}var zl=[],Ul=0,rc=null,Ra=0,ln=[],an=0,ui=null,En=1,Tn="";function zn(e,t){zl[Ul++]=Ra,zl[Ul++]=rc,rc=e,Ra=t}function Ad(e,t,i){ln[an++]=En,ln[an++]=Tn,ln[an++]=ui,ui=e;var s=En;e=Tn;var r=32-xt(s)-1;s&=~(1<<r),i+=1;var u=32-xt(t)+r;if(30<u){var m=r-r%5;u=(s&(1<<m)-1).toString(32),s>>=m,r-=m,En=1<<32-xt(t)+r|i<<r|s,Tn=u+e}else En=1<<u|i<<r|s,Tn=e}function Eo(e){e.return!==null&&(zn(e,1),Ad(e,1,0))}function To(e){for(;e===rc;)rc=zl[--Ul],zl[Ul]=null,Ra=zl[--Ul],zl[Ul]=null;for(;e===ui;)ui=ln[--an],ln[an]=null,Tn=ln[--an],ln[an]=null,En=ln[--an],ln[an]=null}function wd(e,t){ln[an++]=En,ln[an++]=Tn,ln[an++]=ui,En=t.id,Tn=t.overflow,ui=e}var gt=null,Le=null,de=!1,hi=null,sn=!1,xo=Error(c(519));function fi(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(nn(t,e)),xo}function Dd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[mt]=e,t[zt]=s,i){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(i=0;i<ns.length;i++)se(ns[i],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),Gf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),Yf(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Xg(t.textContent,i)?(s.popover!=null&&(se("beforetoggle",t),se("toggle",t)),s.onScroll!=null&&se("scroll",t),s.onScrollEnd!=null&&se("scrollend",t),s.onClick!=null&&(t.onclick=jn),t=!0):t=!1,t||fi(e,!0)}function Md(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:gt=gt.return}}function Ll(e){if(e!==gt)return!1;if(!de)return Md(e),de=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||qu(e.type,e.memoizedProps)),i=!i),i&&Le&&fi(e),Md(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Le=tp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Le=tp(e)}else t===27?(t=Le,Ni(e.type)?(e=Ku,Ku=null,Le=e):Le=t):Le=gt?rn(e.stateNode.nextSibling):null;return!0}function Zi(){Le=gt=null,de=!1}function No(){var e=hi;return e!==null&&(It===null?It=e:It.push.apply(It,e),hi=null),e}function za(e){hi===null?hi=[e]:hi.push(e)}var Ao=H(null),Ji=null,Un=null;function di(e,t,i){$(Ao,t._currentValue),t._currentValue=i}function Ln(e){e._currentValue=Ao.current,J(Ao)}function wo(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Do(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var m=r.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=r;for(var b=0;b<t.length;b++)if(p.context===t[b]){u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),wo(u.return,i,e),s||(m=null);break e}u=p.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(c(341));m.lanes|=i,u=m.alternate,u!==null&&(u.lanes|=i),wo(m,i,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Bl(e,t,i,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var p=r.type;Qt(r.pendingProps.value,m.value)||(e!==null?e.push(p):e=[p])}}else if(r===pe.current){if(m=r.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(cs):e=[cs])}r=r.return}e!==null&&Do(t,e,i,s),t.flags|=262144}function oc(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wi(e){Ji=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return jd(Ji,e)}function uc(e,t){return Ji===null&&Wi(e),jd(e,t)}function jd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Un===null){if(e===null)throw Error(c(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return i}var e0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},t0=a.unstable_scheduleCallback,n0=a.unstable_NormalPriority,et={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mo(){return{controller:new e0,data:new Map,refCount:0}}function Ua(e){e.refCount--,e.refCount===0&&t0(n0,function(){e.controller.abort()})}var La=null,jo=0,Hl=0,Il=null;function i0(e,t){if(La===null){var i=La=[];jo=0,Hl=zu(),Il={status:"pending",value:void 0,then:function(s){i.push(s)}}}return jo++,t.then(Od,Od),t}function Od(){if(--jo===0&&La!==null){Il!==null&&(Il.status="fulfilled");var e=La;La=null,Hl=0,Il=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var Rd=D.S;D.S=function(e,t){pg=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&i0(e,t),Rd!==null&&Rd(e,t)};var $i=H(null);function Oo(){var e=$i.current;return e!==null?e:je.pooledCache}function hc(e,t){t===null?$($i,$i.current):$($i,t.pool)}function zd(){var e=Oo();return e===null?null:{parent:et._currentValue,pool:e}}var kl=Error(c(460)),Ro=Error(c(474)),fc=Error(c(542)),dc={then:function(){}};function Ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ld(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(jn,jn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e;default:if(typeof t.status=="string")t.then(jn,jn);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e}throw el=t,kl}}function Pi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(el=i,kl):i}}var el=null;function Bd(){if(el===null)throw Error(c(459));var e=el;return el=null,e}function Hd(e){if(e===kl||e===fc)throw Error(c(483))}var Vl=null,Ba=0;function mc(e){var t=Ba;return Ba+=1,Vl===null&&(Vl=[]),Ld(Vl,e,t)}function Ha(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function gc(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Id(e){function t(x,C){if(e){var N=x.deletions;N===null?(x.deletions=[C],x.flags|=16):N.push(C)}}function i(x,C){if(!e)return null;for(;C!==null;)t(x,C),C=C.sibling;return null}function s(x){for(var C=new Map;x!==null;)x.key!==null?C.set(x.key,x):C.set(x.index,x),x=x.sibling;return C}function r(x,C){return x=Rn(x,C),x.index=0,x.sibling=null,x}function u(x,C,N){return x.index=N,e?(N=x.alternate,N!==null?(N=N.index,N<C?(x.flags|=67108866,C):N):(x.flags|=67108866,C)):(x.flags|=1048576,C)}function m(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function p(x,C,N,O){return C===null||C.tag!==6?(C=So(N,x.mode,O),C.return=x,C):(C=r(C,N),C.return=x,C)}function b(x,C,N,O){var Q=N.type;return Q===Y?j(x,C,N.props.children,O,N.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===xe&&Pi(Q)===C.type)?(C=r(C,N.props),Ha(C,N),C.return=x,C):(C=cc(N.type,N.key,N.props,null,x.mode,O),Ha(C,N),C.return=x,C)}function A(x,C,N,O){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=Co(N,x.mode,O),C.return=x,C):(C=r(C,N.children||[]),C.return=x,C)}function j(x,C,N,O,Q){return C===null||C.tag!==7?(C=Ki(N,x.mode,O,Q),C.return=x,C):(C=r(C,N),C.return=x,C)}function R(x,C,N){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=So(""+C,x.mode,N),C.return=x,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return N=cc(C.type,C.key,C.props,null,x.mode,N),Ha(N,C),N.return=x,N;case U:return C=Co(C,x.mode,N),C.return=x,C;case xe:return C=Pi(C),R(x,C,N)}if($e(C)||ee(C))return C=Ki(C,x.mode,N,null),C.return=x,C;if(typeof C.then=="function")return R(x,mc(C),N);if(C.$$typeof===te)return R(x,uc(x,C),N);gc(x,C)}return null}function w(x,C,N,O){var Q=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Q!==null?null:p(x,C,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z:return N.key===Q?b(x,C,N,O):null;case U:return N.key===Q?A(x,C,N,O):null;case xe:return N=Pi(N),w(x,C,N,O)}if($e(N)||ee(N))return Q!==null?null:j(x,C,N,O,null);if(typeof N.then=="function")return w(x,C,mc(N),O);if(N.$$typeof===te)return w(x,C,uc(x,N),O);gc(x,N)}return null}function M(x,C,N,O,Q){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return x=x.get(N)||null,p(C,x,""+O,Q);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return x=x.get(O.key===null?N:O.key)||null,b(C,x,O,Q);case U:return x=x.get(O.key===null?N:O.key)||null,A(C,x,O,Q);case xe:return O=Pi(O),M(x,C,N,O,Q)}if($e(O)||ee(O))return x=x.get(N)||null,j(C,x,O,Q,null);if(typeof O.then=="function")return M(x,C,N,mc(O),Q);if(O.$$typeof===te)return M(x,C,N,uc(C,O),Q);gc(C,O)}return null}function k(x,C,N,O){for(var Q=null,ve=null,q=C,P=C=0,he=null;q!==null&&P<N.length;P++){q.index>P?(he=q,q=null):he=q.sibling;var ye=w(x,q,N[P],O);if(ye===null){q===null&&(q=he);break}e&&q&&ye.alternate===null&&t(x,q),C=u(ye,C,P),ve===null?Q=ye:ve.sibling=ye,ve=ye,q=he}if(P===N.length)return i(x,q),de&&zn(x,P),Q;if(q===null){for(;P<N.length;P++)q=R(x,N[P],O),q!==null&&(C=u(q,C,P),ve===null?Q=q:ve.sibling=q,ve=q);return de&&zn(x,P),Q}for(q=s(q);P<N.length;P++)he=M(q,x,P,N[P],O),he!==null&&(e&&he.alternate!==null&&q.delete(he.key===null?P:he.key),C=u(he,C,P),ve===null?Q=he:ve.sibling=he,ve=he);return e&&q.forEach(function(ji){return t(x,ji)}),de&&zn(x,P),Q}function F(x,C,N,O){if(N==null)throw Error(c(151));for(var Q=null,ve=null,q=C,P=C=0,he=null,ye=N.next();q!==null&&!ye.done;P++,ye=N.next()){q.index>P?(he=q,q=null):he=q.sibling;var ji=w(x,q,ye.value,O);if(ji===null){q===null&&(q=he);break}e&&q&&ji.alternate===null&&t(x,q),C=u(ji,C,P),ve===null?Q=ji:ve.sibling=ji,ve=ji,q=he}if(ye.done)return i(x,q),de&&zn(x,P),Q;if(q===null){for(;!ye.done;P++,ye=N.next())ye=R(x,ye.value,O),ye!==null&&(C=u(ye,C,P),ve===null?Q=ye:ve.sibling=ye,ve=ye);return de&&zn(x,P),Q}for(q=s(q);!ye.done;P++,ye=N.next())ye=M(q,x,P,ye.value,O),ye!==null&&(e&&ye.alternate!==null&&q.delete(ye.key===null?P:ye.key),C=u(ye,C,P),ve===null?Q=ye:ve.sibling=ye,ve=ye);return e&&q.forEach(function(g1){return t(x,g1)}),de&&zn(x,P),Q}function we(x,C,N,O){if(typeof N=="object"&&N!==null&&N.type===Y&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case z:e:{for(var Q=N.key;C!==null;){if(C.key===Q){if(Q=N.type,Q===Y){if(C.tag===7){i(x,C.sibling),O=r(C,N.props.children),O.return=x,x=O;break e}}else if(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===xe&&Pi(Q)===C.type){i(x,C.sibling),O=r(C,N.props),Ha(O,N),O.return=x,x=O;break e}i(x,C);break}else t(x,C);C=C.sibling}N.type===Y?(O=Ki(N.props.children,x.mode,O,N.key),O.return=x,x=O):(O=cc(N.type,N.key,N.props,null,x.mode,O),Ha(O,N),O.return=x,x=O)}return m(x);case U:e:{for(Q=N.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){i(x,C.sibling),O=r(C,N.children||[]),O.return=x,x=O;break e}else{i(x,C);break}else t(x,C);C=C.sibling}O=Co(N,x.mode,O),O.return=x,x=O}return m(x);case xe:return N=Pi(N),we(x,C,N,O)}if($e(N))return k(x,C,N,O);if(ee(N)){if(Q=ee(N),typeof Q!="function")throw Error(c(150));return N=Q.call(N),F(x,C,N,O)}if(typeof N.then=="function")return we(x,C,mc(N),O);if(N.$$typeof===te)return we(x,C,uc(x,N),O);gc(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,C!==null&&C.tag===6?(i(x,C.sibling),O=r(C,N),O.return=x,x=O):(i(x,C),O=So(N,x.mode,O),O.return=x,x=O),m(x)):i(x,C)}return function(x,C,N,O){try{Ba=0;var Q=we(x,C,N,O);return Vl=null,Q}catch(q){if(q===kl||q===fc)throw q;var ve=Xt(29,q,null,x.mode);return ve.lanes=O,ve.return=x,ve}}}var tl=Id(!0),kd=Id(!1),mi=!1;function zo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ce&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=sc(e),Ed(e,null,i),t}return ac(e,s,t,i),sc(e)}function Ia(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Rt(e,i)}}function Lo(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?r=u=m:u=u.next=m,i=i.next}while(i!==null);u===null?r=u=t:u=u.next=t}else r=u=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Bo=!1;function ka(){if(Bo){var e=Il;if(e!==null)throw e}}function Va(e,t,i,s){Bo=!1;var r=e.updateQueue;mi=!1;var u=r.firstBaseUpdate,m=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var b=p,A=b.next;b.next=null,m===null?u=A:m.next=A,m=b;var j=e.alternate;j!==null&&(j=j.updateQueue,p=j.lastBaseUpdate,p!==m&&(p===null?j.firstBaseUpdate=A:p.next=A,j.lastBaseUpdate=b))}if(u!==null){var R=r.baseState;m=0,j=A=b=null,p=u;do{var w=p.lane&-536870913,M=w!==p.lane;if(M?(ue&w)===w:(s&w)===w){w!==0&&w===Hl&&(Bo=!0),j!==null&&(j=j.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var k=e,F=p;w=t;var we=i;switch(F.tag){case 1:if(k=F.payload,typeof k=="function"){R=k.call(we,R,w);break e}R=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=F.payload,w=typeof k=="function"?k.call(we,R,w):k,w==null)break e;R=_({},R,w);break e;case 2:mi=!0}}w=p.callback,w!==null&&(e.flags|=64,M&&(e.flags|=8192),M=r.callbacks,M===null?r.callbacks=[w]:M.push(w))}else M={lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},j===null?(A=j=M,b=R):j=j.next=M,m|=w;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;M=p,p=M.next,M.next=null,r.lastBaseUpdate=M,r.shared.pending=null}}while(!0);j===null&&(b=R),r.baseState=b,r.firstBaseUpdate=A,r.lastBaseUpdate=j,u===null&&(r.shared.lanes=0),Si|=m,e.lanes=m,e.memoizedState=R}}function Vd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Gd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Vd(i[e],t)}var Gl=H(null),pc=H(0);function qd(e,t){e=Qn,$(pc,e),$(Gl,t),Qn=e|t.baseLanes}function Ho(){$(pc,Qn),$(Gl,Gl.current)}function Io(){Qn=pc.current,J(Gl),J(pc)}var Ft=H(null),cn=null;function vi(e){var t=e.alternate;$(Ze,Ze.current&1),$(Ft,e),cn===null&&(t===null||Gl.current!==null||t.memoizedState!==null)&&(cn=e)}function ko(e){$(Ze,Ze.current),$(Ft,e),cn===null&&(cn=e)}function Yd(e){e.tag===22?($(Ze,Ze.current),$(Ft,e),cn===null&&(cn=e)):yi()}function yi(){$(Ze,Ze.current),$(Ft,Ft.current)}function Kt(e){J(Ft),cn===e&&(cn=null),J(Ze)}var Ze=H(0);function vc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Xu(i)||Fu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,W=null,Ne=null,tt=null,yc=!1,ql=!1,nl=!1,_c=0,Ga=0,Yl=null,a0=0;function Ve(){throw Error(c(321))}function Vo(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Qt(e[i],t[i]))return!1;return!0}function Go(e,t,i,s,r,u){return Bn=u,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Am:iu,nl=!1,u=i(s,r),nl=!1,ql&&(u=Xd(t,i,s,r)),Qd(e),u}function Qd(e){D.H=Qa;var t=Ne!==null&&Ne.next!==null;if(Bn=0,tt=Ne=W=null,yc=!1,Ga=0,Yl=null,t)throw Error(c(300));e===null||nt||(e=e.dependencies,e!==null&&oc(e)&&(nt=!0))}function Xd(e,t,i,s){W=e;var r=0;do{if(ql&&(Yl=null),Ga=0,ql=!1,25<=r)throw Error(c(301));if(r+=1,tt=Ne=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=wm,u=t(i,s)}while(ql);return u}function s0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?qa(t):t,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(W.flags|=1024),t}function qo(){var e=_c!==0;return _c=0,e}function Yo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Qo(e){if(yc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yc=!1}Bn=0,tt=Ne=W=null,ql=!1,Ga=_c=0,Yl=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?W.memoizedState=tt=e:tt=tt.next=e,tt}function Je(){if(Ne===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=tt===null?W.memoizedState:tt.next;if(t!==null)tt=t,Ne=e;else{if(e===null)throw W.alternate===null?Error(c(467)):Error(c(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},tt===null?W.memoizedState=tt=e:tt=tt.next=e}return tt}function bc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(e){var t=Ga;return Ga+=1,Yl===null&&(Yl=[]),e=Ld(Yl,e,t),t=W,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Am:iu),e}function Sc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qa(e);if(e.$$typeof===te)return pt(e)}throw Error(c(438,String(e)))}function Xo(e){var t=null,i=W.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=W.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=bc(),W.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=St;return t.index++,i}function Hn(e,t){return typeof t=="function"?t(e):t}function Cc(e){var t=Je();return Fo(t,Ne,e)}function Fo(e,t,i){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=i;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var m=r.next;r.next=u.next,u.next=m}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var p=m=null,b=null,A=t,j=!1;do{var R=A.lane&-536870913;if(R!==A.lane?(ue&R)===R:(Bn&R)===R){var w=A.revertLane;if(w===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),R===Hl&&(j=!0);else if((Bn&w)===w){A=A.next,w===Hl&&(j=!0);continue}else R={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=R,m=u):b=b.next=R,W.lanes|=w,Si|=w;R=A.action,nl&&i(u,R),u=A.hasEagerState?A.eagerState:i(u,R)}else w={lane:R,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=w,m=u):b=b.next=w,W.lanes|=R,Si|=R;A=A.next}while(A!==null&&A!==t);if(b===null?m=u:b.next=p,!Qt(u,e.memoizedState)&&(nt=!0,j&&(i=Il,i!==null)))throw i;e.memoizedState=u,e.baseState=m,e.baseQueue=b,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ko(e){var t=Je(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,u=t.memoizedState;if(r!==null){i.pending=null;var m=r=r.next;do u=e(u,m.action),m=m.next;while(m!==r);Qt(u,t.memoizedState)||(nt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function Fd(e,t,i){var s=W,r=Je(),u=de;if(u){if(i===void 0)throw Error(c(407));i=i()}else i=t();var m=!Qt((Ne||r).memoizedState,i);if(m&&(r.memoizedState=i,nt=!0),r=r.queue,Wo(Jd.bind(null,s,r,e),[e]),r.getSnapshot!==t||m||tt!==null&&tt.memoizedState.tag&1){if(s.flags|=2048,Ql(9,{destroy:void 0},Zd.bind(null,s,r,i,t),null),je===null)throw Error(c(349));u||(Bn&127)!==0||Kd(s,t,i)}return i}function Kd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=W.updateQueue,t===null?(t=bc(),W.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Zd(e,t,i,s){t.value=i,t.getSnapshot=s,Wd(t)&&$d(e)}function Jd(e,t,i){return i(function(){Wd(t)&&$d(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Qt(e,i)}catch{return!0}}function $d(e){var t=Fi(e,2);t!==null&&kt(t,e,2)}function Zo(e){var t=Dt();if(typeof e=="function"){var i=e;if(e=i(),nl){mn(!0);try{i()}finally{mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:e},t}function Pd(e,t,i,s){return e.baseState=i,Fo(e,Ne,typeof s=="function"?s:Hn)}function c0(e,t,i,s,r){if(xc(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};D.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,em(t,u)):(u.next=i.next,t.pending=i.next=u)}}function em(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=D.T,m={};D.T=m;try{var p=i(r,s),b=D.S;b!==null&&b(m,p),tm(e,t,p)}catch(A){Jo(e,t,A)}finally{u!==null&&m.types!==null&&(u.types=m.types),D.T=u}}else try{u=i(r,s),tm(e,t,u)}catch(A){Jo(e,t,A)}}function tm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){nm(e,t,s)},function(s){return Jo(e,t,s)}):nm(e,t,i)}function nm(e,t,i){t.status="fulfilled",t.value=i,im(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,em(e,i)))}function Jo(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,im(t),t=t.next;while(t!==s)}e.action=null}function im(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lm(e,t){return t}function am(e,t){if(de){var i=je.formState;if(i!==null){e:{var s=W;if(de){if(Le){t:{for(var r=Le,u=sn;r.nodeType!==8;){if(!u){r=null;break t}if(r=rn(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){Le=rn(r.nextSibling),s=r.data==="F!";break e}}fi(s)}s=!1}s&&(t=i[0])}}return i=Dt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:t},i.queue=s,i=Tm.bind(null,W,s),s.dispatch=i,s=Zo(!1),u=nu.bind(null,W,!1,s.queue),s=Dt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=c0.bind(null,W,r,u,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function sm(e){var t=Je();return cm(t,Ne,e)}function cm(e,t,i){if(t=Fo(e,t,lm)[0],e=Cc(Hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=qa(t)}catch(m){throw m===kl?fc:m}else s=t;t=Je();var r=t.queue,u=r.dispatch;return i!==t.memoizedState&&(W.flags|=2048,Ql(9,{destroy:void 0},r0.bind(null,r,i),null)),[s,u,e]}function r0(e,t){e.action=t}function rm(e){var t=Je(),i=Ne;if(i!==null)return cm(t,i,e);Je(),t=t.memoizedState,i=Je();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Ql(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=W.updateQueue,t===null&&(t=bc(),W.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function om(){return Je().memoizedState}function Ec(e,t,i,s){var r=Dt();W.flags|=e,r.memoizedState=Ql(1|t,{destroy:void 0},i,s===void 0?null:s)}function Tc(e,t,i,s){var r=Je();s=s===void 0?null:s;var u=r.memoizedState.inst;Ne!==null&&s!==null&&Vo(s,Ne.memoizedState.deps)?r.memoizedState=Ql(t,u,i,s):(W.flags|=e,r.memoizedState=Ql(1|t,u,i,s))}function um(e,t){Ec(8390656,8,e,t)}function Wo(e,t){Tc(2048,8,e,t)}function o0(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=bc(),W.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function hm(e){var t=Je().memoizedState;return o0({ref:t,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function fm(e,t){return Tc(4,2,e,t)}function dm(e,t){return Tc(4,4,e,t)}function mm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,i){i=i!=null?i.concat([e]):null,Tc(4,4,mm.bind(null,t,e),i)}function $o(){}function pm(e,t){var i=Je();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Vo(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function vm(e,t){var i=Je();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Vo(t,s[1]))return s[0];if(s=e(),nl){mn(!0);try{e()}finally{mn(!1)}}return i.memoizedState=[s,t],s}function Po(e,t,i){return i===void 0||(Bn&1073741824)!==0&&(ue&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=yg(),W.lanes|=e,Si|=e,i)}function ym(e,t,i,s){return Qt(i,t)?i:Gl.current!==null?(e=Po(e,i,s),Qt(e,t)||(nt=!0),e):(Bn&42)===0||(Bn&1073741824)!==0&&(ue&261930)===0?(nt=!0,e.memoizedState=i):(e=yg(),W.lanes|=e,Si|=e,t)}function _m(e,t,i,s,r){var u=L.p;L.p=u!==0&&8>u?u:8;var m=D.T,p={};D.T=p,nu(e,!1,t,i);try{var b=r(),A=D.S;if(A!==null&&A(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=l0(b,s);Ya(e,t,j,Wt(e))}else Ya(e,t,s,Wt(e))}catch(R){Ya(e,t,{then:function(){},status:"rejected",reason:R},Wt())}finally{L.p=u,m!==null&&p.types!==null&&(m.types=p.types),D.T=m}}function u0(){}function eu(e,t,i,s){if(e.tag!==5)throw Error(c(476));var r=bm(e).queue;_m(e,r,t,G,i===null?u0:function(){return Sm(e),i(s)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:G},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sm(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Ya(e,t.next.queue,{},Wt())}function tu(){return pt(cs)}function Cm(){return Je().memoizedState}function Em(){return Je().memoizedState}function h0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Wt();e=gi(i);var s=pi(t,e,i);s!==null&&(kt(s,t,i),Ia(s,t,i)),t={cache:Mo()},e.payload=t;return}t=t.return}}function f0(e,t,i){var s=Wt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},xc(e)?xm(t,i):(i=_o(e,t,i,s),i!==null&&(kt(i,e,s),Nm(i,t,s)))}function Tm(e,t,i){var s=Wt();Ya(e,t,i,s)}function Ya(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(xc(e))xm(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,p=u(m,i);if(r.hasEagerState=!0,r.eagerState=p,Qt(p,m))return ac(e,t,r,0),je===null&&lc(),!1}catch{}if(i=_o(e,t,r,s),i!==null)return kt(i,e,s),Nm(i,t,s),!0}return!1}function nu(e,t,i,s){if(s={lane:2,revertLane:zu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},xc(e)){if(t)throw Error(c(479))}else t=_o(e,i,s,2),t!==null&&kt(t,e,2)}function xc(e){var t=e.alternate;return e===W||t!==null&&t===W}function xm(e,t){ql=yc=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Rt(e,i)}}var Qa={readContext:pt,use:Sc,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Qa.useEffectEvent=Ve;var Am={readContext:pt,use:Sc,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:um,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ec(4194308,4,mm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ec(4194308,4,e,t)},useInsertionEffect:function(e,t){Ec(4,2,e,t)},useMemo:function(e,t){var i=Dt();t=t===void 0?null:t;var s=e();if(nl){mn(!0);try{e()}finally{mn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Dt();if(i!==void 0){var r=i(t);if(nl){mn(!0);try{i(t)}finally{mn(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=f0.bind(null,W,e),[s.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Zo(e);var t=e.queue,i=Tm.bind(null,W,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:$o,useDeferredValue:function(e,t){var i=Dt();return Po(i,e,t)},useTransition:function(){var e=Zo(!1);return e=_m.bind(null,W,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=W,r=Dt();if(de){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),je===null)throw Error(c(349));(ue&127)!==0||Kd(s,t,i)}r.memoizedState=i;var u={value:i,getSnapshot:t};return r.queue=u,um(Jd.bind(null,s,u,e),[e]),s.flags|=2048,Ql(9,{destroy:void 0},Zd.bind(null,s,u,i,t),null),i},useId:function(){var e=Dt(),t=je.identifierPrefix;if(de){var i=Tn,s=En;i=(s&~(1<<32-xt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=_c++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=a0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:tu,useFormState:am,useActionState:am,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=nu.bind(null,W,!0,i),i.dispatch=t,[e,t]},useMemoCache:Xo,useCacheRefresh:function(){return Dt().memoizedState=h0.bind(null,W)},useEffectEvent:function(e){var t=Dt(),i={impl:e};return t.memoizedState=i,function(){if((Ce&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},iu={readContext:pt,use:Sc,useCallback:pm,useContext:pt,useEffect:Wo,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:vm,useReducer:Cc,useRef:om,useState:function(){return Cc(Hn)},useDebugValue:$o,useDeferredValue:function(e,t){var i=Je();return ym(i,Ne.memoizedState,e,t)},useTransition:function(){var e=Cc(Hn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:qa(e),t]},useSyncExternalStore:Fd,useId:Cm,useHostTransitionStatus:tu,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var i=Je();return Pd(i,Ne,e,t)},useMemoCache:Xo,useCacheRefresh:Em};iu.useEffectEvent=hm;var wm={readContext:pt,use:Sc,useCallback:pm,useContext:pt,useEffect:Wo,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:vm,useReducer:Ko,useRef:om,useState:function(){return Ko(Hn)},useDebugValue:$o,useDeferredValue:function(e,t){var i=Je();return Ne===null?Po(i,e,t):ym(i,Ne.memoizedState,e,t)},useTransition:function(){var e=Ko(Hn)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:qa(e),t]},useSyncExternalStore:Fd,useId:Cm,useHostTransitionStatus:tu,useFormState:rm,useActionState:rm,useOptimistic:function(e,t){var i=Je();return Ne!==null?Pd(i,Ne,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:Em};wm.useEffectEvent=hm;function lu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:_({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var au={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Wt(),r=gi(s);r.payload=t,i!=null&&(r.callback=i),t=pi(e,r,s),t!==null&&(kt(t,e,s),Ia(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Wt(),r=gi(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=pi(e,r,s),t!==null&&(kt(t,e,s),Ia(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Wt(),s=gi(i);s.tag=2,t!=null&&(s.callback=t),t=pi(e,s,i),t!==null&&(kt(t,e,i),Ia(t,e,i))}};function Dm(e,t,i,s,r,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!ja(i,s)||!ja(r,u):!0}function Mm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function il(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=_({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function jm(e){ic(e)}function Om(e){console.error(e)}function Rm(e){ic(e)}function Nc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function zm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function su(e,t,i){return i=gi(i),i.tag=3,i.payload={element:null},i.callback=function(){Nc(e,t)},i}function Um(e){return e=gi(e),e.tag=3,e}function Lm(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){zm(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){zm(t,i,s),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function d0(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Bl(t,i,r,!0),i=Ft.current,i!==null){switch(i.tag){case 31:case 13:return cn===null?Hc():i.alternate===null&&Ge===0&&(Ge=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===dc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),ju(e,s,r)),!1;case 22:return i.flags|=65536,s===dc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),ju(e,s,r)),!1}throw Error(c(435,i.tag))}return ju(e,s,r),Hc(),!1}if(de)return t=Ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==xo&&(e=Error(c(422),{cause:s}),za(nn(e,i)))):(s!==xo&&(t=Error(c(423),{cause:s}),za(nn(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=nn(s,i),r=su(e.stateNode,s,r),Lo(e,r),Ge!==4&&(Ge=2)),!1;var u=Error(c(520),{cause:s});if(u=nn(u,i),Pa===null?Pa=[u]:Pa.push(u),Ge!==4&&(Ge=2),t===null)return!0;s=nn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=su(i.stateNode,s,e),Lo(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ci===null||!Ci.has(u))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Um(r),Lm(r,e,i,s),Lo(i,r),!1}i=i.return}while(i!==null);return!1}var cu=Error(c(461)),nt=!1;function vt(e,t,i,s){t.child=e===null?kd(t,null,i,s):tl(t,e.child,i,s)}function Bm(e,t,i,s,r){i=i.render;var u=t.ref;if("ref"in s){var m={};for(var p in s)p!=="ref"&&(m[p]=s[p])}else m=s;return Wi(t),s=Go(e,t,i,m,u,r),p=qo(),e!==null&&!nt?(Yo(e,t,r),In(e,t,r)):(de&&p&&Eo(t),t.flags|=1,vt(e,t,s,r),t.child)}function Hm(e,t,i,s,r){if(e===null){var u=i.type;return typeof u=="function"&&!bo(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Im(e,t,u,s,r)):(e=cc(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!gu(e,r)){var m=u.memoizedProps;if(i=i.compare,i=i!==null?i:ja,i(m,s)&&e.ref===t.ref)return In(e,t,r)}return t.flags|=1,e=Rn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Im(e,t,i,s,r){if(e!==null){var u=e.memoizedProps;if(ja(u,s)&&e.ref===t.ref)if(nt=!1,t.pendingProps=s=u,gu(e,r))(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,In(e,t,r)}return ru(e,t,i,s,r)}function km(e,t,i,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return Vm(e,t,u,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hc(t,u!==null?u.cachePool:null),u!==null?qd(t,u):Ho(),Yd(t);else return s=t.lanes=536870912,Vm(e,t,u!==null?u.baseLanes|i:i,i,s)}else u!==null?(hc(t,u.cachePool),qd(t,u),yi(),t.memoizedState=null):(e!==null&&hc(t,null),Ho(),yi());return vt(e,t,r,i),t.child}function Xa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vm(e,t,i,s,r){var u=Oo();return u=u===null?null:{parent:et._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&hc(t,null),Ho(),Yd(t),e!==null&&Bl(e,t,s,!0),t.childLanes=r,null}function Ac(e,t){return t=Dc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gm(e,t,i){return tl(t,e.child,null,i),e=Ac(t,t.pendingProps),e.flags|=2,Kt(t),t.memoizedState=null,e}function m0(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(de){if(s.mode==="hidden")return e=Ac(t,s),t.lanes=536870912,Xa(null,e);if(ko(t),(e=Le)?(e=ep(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},i=xd(e),i.return=t,t.child=i,gt=t,Le=null)):e=null,e===null)throw fi(t);return t.lanes=536870912,null}return Ac(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(ko(t),r)if(t.flags&256)t.flags&=-257,t=Gm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(nt||Bl(e,t,i,!1),r=(i&e.childLanes)!==0,nt||r){if(s=je,s!==null&&(m=Of(s,i),m!==0&&m!==u.retryLane))throw u.retryLane=m,Fi(e,m),kt(s,e,m),cu;Hc(),t=Gm(e,t,i)}else e=u.treeContext,Le=rn(m.nextSibling),gt=t,de=!0,hi=null,sn=!1,e!==null&&wd(t,e),t=Ac(t,s),t.flags|=4096;return t}return e=Rn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function wc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function ru(e,t,i,s,r){return Wi(t),i=Go(e,t,i,s,void 0,r),s=qo(),e!==null&&!nt?(Yo(e,t,r),In(e,t,r)):(de&&s&&Eo(t),t.flags|=1,vt(e,t,i,r),t.child)}function qm(e,t,i,s,r,u){return Wi(t),t.updateQueue=null,i=Xd(t,s,i,r),Qd(e),s=qo(),e!==null&&!nt?(Yo(e,t,u),In(e,t,u)):(de&&s&&Eo(t),t.flags|=1,vt(e,t,i,u),t.child)}function Ym(e,t,i,s,r){if(Wi(t),t.stateNode===null){var u=Rl,m=i.contextType;typeof m=="object"&&m!==null&&(u=pt(m)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=au,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},zo(t),m=i.contextType,u.context=typeof m=="object"&&m!==null?pt(m):Rl,u.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(lu(t,i,m,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&au.enqueueReplaceState(u,u.state,null),Va(t,s,u,r),ka(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,b=il(i,p);u.props=b;var A=u.context,j=i.contextType;m=Rl,typeof j=="object"&&j!==null&&(m=pt(j));var R=i.getDerivedStateFromProps;j=typeof R=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,j||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||A!==m)&&Mm(t,u,s,m),mi=!1;var w=t.memoizedState;u.state=w,Va(t,s,u,r),ka(),A=t.memoizedState,p||w!==A||mi?(typeof R=="function"&&(lu(t,i,R,s),A=t.memoizedState),(b=mi||Dm(t,i,b,s,w,A,m))?(j||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=m,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Uo(e,t),m=t.memoizedProps,j=il(i,m),u.props=j,R=t.pendingProps,w=u.context,A=i.contextType,b=Rl,typeof A=="object"&&A!==null&&(b=pt(A)),p=i.getDerivedStateFromProps,(A=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==R||w!==b)&&Mm(t,u,s,b),mi=!1,w=t.memoizedState,u.state=w,Va(t,s,u,r),ka();var M=t.memoizedState;m!==R||w!==M||mi||e!==null&&e.dependencies!==null&&oc(e.dependencies)?(typeof p=="function"&&(lu(t,i,p,s),M=t.memoizedState),(j=mi||Dm(t,i,j,s,w,M,b)||e!==null&&e.dependencies!==null&&oc(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,M,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,M,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),u.props=s,u.state=M,u.context=b,s=j):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,wc(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=tl(t,e.child,null,r),t.child=tl(t,null,i,r)):vt(e,t,i,r),t.memoizedState=u.state,e=t.child):e=In(e,t,r),e}function Qm(e,t,i,s){return Zi(),t.flags|=256,vt(e,t,i,s),t.child}var ou={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uu(e){return{baseLanes:e,cachePool:zd()}}function hu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Jt),e}function Xm(e,t,i){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(r?vi(t):yi(),(e=Le)?(e=ep(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},i=xd(e),i.return=t,t.child=i,gt=t,Le=null)):e=null,e===null)throw fi(t);return Fu(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,r?(yi(),r=t.mode,p=Dc({mode:"hidden",children:p},r),s=Ki(s,r,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=uu(i),s.childLanes=hu(e,m,i),t.memoizedState=ou,Xa(null,s)):(vi(t),fu(t,p))}var b=e.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(u)t.flags&256?(vi(t),t.flags&=-257,t=du(e,t,i)):t.memoizedState!==null?(yi(),t.child=e.child,t.flags|=128,t=null):(yi(),p=s.fallback,r=t.mode,s=Dc({mode:"visible",children:s.children},r),p=Ki(p,r,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,tl(t,e.child,null,i),s=t.child,s.memoizedState=uu(i),s.childLanes=hu(e,m,i),t.memoizedState=ou,t=Xa(null,s));else if(vi(t),Fu(p)){if(m=p.nextSibling&&p.nextSibling.dataset,m)var A=m.dgst;m=A,s=Error(c(419)),s.stack="",s.digest=m,za({value:s,source:null,stack:null}),t=du(e,t,i)}else if(nt||Bl(e,t,i,!1),m=(i&e.childLanes)!==0,nt||m){if(m=je,m!==null&&(s=Of(m,i),s!==0&&s!==b.retryLane))throw b.retryLane=s,Fi(e,s),kt(m,e,s),cu;Xu(p)||Hc(),t=du(e,t,i)}else Xu(p)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,Le=rn(p.nextSibling),gt=t,de=!0,hi=null,sn=!1,e!==null&&wd(t,e),t=fu(t,s.children),t.flags|=4096);return t}return r?(yi(),p=s.fallback,r=t.mode,b=e.child,A=b.sibling,s=Rn(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,A!==null?p=Rn(A,p):(p=Ki(p,r,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Xa(null,s),s=t.child,p=e.child.memoizedState,p===null?p=uu(i):(r=p.cachePool,r!==null?(b=et._currentValue,r=r.parent!==b?{parent:b,pool:b}:r):r=zd(),p={baseLanes:p.baseLanes|i,cachePool:r}),s.memoizedState=p,s.childLanes=hu(e,m,i),t.memoizedState=ou,Xa(e.child,s)):(vi(t),i=e.child,e=i.sibling,i=Rn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function fu(e,t){return t=Dc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Dc(e,t){return e=Xt(22,e,null,t),e.lanes=0,e}function du(e,t,i){return tl(t,e.child,null,i),e=fu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Fm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wo(e.return,t,i)}function mu(e,t,i,s,r,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=i,m.tailMode=r,m.treeForkCount=u)}function Km(e,t,i){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var m=Ze.current,p=(m&2)!==0;if(p?(m=m&1|2,t.flags|=128):m&=1,$(Ze,m),vt(e,t,s,i),s=de?Ra:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fm(e,i,t);else if(e.tag===19)Fm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&vc(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),mu(t,!1,r,i,u,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&vc(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}mu(t,!0,i,null,u,s);break;case"together":mu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function In(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Bl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=Rn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Rn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function gu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&oc(e)))}function g0(e,t,i){switch(t.tag){case 3:At(t,t.stateNode.containerInfo),di(t,et,e.memoizedState.cache),Zi();break;case 27:case 5:Ct(t);break;case 4:At(t,t.stateNode.containerInfo);break;case 10:di(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,ko(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(vi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Xm(e,t,i):(vi(t),e=In(e,t,i),e!==null?e.sibling:null);vi(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Bl(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Km(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$(Ze,Ze.current),s)break;return null;case 22:return t.lanes=0,km(e,t,i,t.pendingProps);case 24:di(t,et,e.memoizedState.cache)}return In(e,t,i)}function Zm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)nt=!0;else{if(!gu(e,i)&&(t.flags&128)===0)return nt=!1,g0(e,t,i);nt=(e.flags&131072)!==0}else nt=!1,de&&(t.flags&1048576)!==0&&Ad(t,Ra,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Pi(t.elementType),t.type=e,typeof e=="function")bo(e)?(s=il(e,s),t.tag=1,t=Ym(null,t,e,s,i)):(t.tag=0,t=ru(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===K){t.tag=11,t=Bm(null,t,e,s,i);break e}else if(r===Ie){t.tag=14,t=Hm(null,t,e,s,i);break e}}throw t=ke(e)||e,Error(c(306,t,""))}}return t;case 0:return ru(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=il(s,t.pendingProps),Ym(e,t,s,r,i);case 3:e:{if(At(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,Uo(e,t),Va(t,s,null,i);var m=t.memoizedState;if(s=m.cache,di(t,et,s),s!==u.cache&&Do(t,[et],i,!0),ka(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Qm(e,t,s,i);break e}else if(s!==r){r=nn(Error(c(424)),t),za(r),t=Qm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Le=rn(e.firstChild),gt=t,de=!0,hi=null,sn=!0,i=kd(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Zi(),s===r){t=In(e,t,i);break e}vt(e,t,s,i)}t=t.child}return t;case 26:return wc(e,t),e===null?(i=sp(t.type,null,t.pendingProps,null))?t.memoizedState=i:de||(i=t.type,e=t.pendingProps,s=Qc(dn.current).createElement(i),s[mt]=t,s[zt]=e,yt(s,i,e),rt(s),t.stateNode=s):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ct(t),e===null&&de&&(s=t.stateNode=ip(t.type,t.pendingProps,dn.current),gt=t,sn=!0,r=Le,Ni(t.type)?(Ku=r,Le=rn(s.firstChild)):Le=r),vt(e,t,t.pendingProps.children,i),wc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&de&&((r=s=Le)&&(s=Q0(s,t.type,t.pendingProps,sn),s!==null?(t.stateNode=s,gt=t,Le=rn(s.firstChild),sn=!1,r=!0):r=!1),r||fi(t)),Ct(t),r=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,qu(r,u)?s=null:m!==null&&qu(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=Go(e,t,s0,null,null,i),cs._currentValue=r),wc(e,t),vt(e,t,s,i),t.child;case 6:return e===null&&de&&((e=i=Le)&&(i=X0(i,t.pendingProps,sn),i!==null?(t.stateNode=i,gt=t,Le=null,e=!0):e=!1),e||fi(t)),null;case 13:return Xm(e,t,i);case 4:return At(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=tl(t,null,s,i):vt(e,t,s,i),t.child;case 11:return Bm(e,t,t.type,t.pendingProps,i);case 7:return vt(e,t,t.pendingProps,i),t.child;case 8:return vt(e,t,t.pendingProps.children,i),t.child;case 12:return vt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,di(t,t.type,s.value),vt(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,Wi(t),r=pt(r),s=s(r),t.flags|=1,vt(e,t,s,i),t.child;case 14:return Hm(e,t,t.type,t.pendingProps,i);case 15:return Im(e,t,t.type,t.pendingProps,i);case 19:return Km(e,t,i);case 31:return m0(e,t,i);case 22:return km(e,t,i,t.pendingProps);case 24:return Wi(t),s=pt(et),e===null?(r=Oo(),r===null&&(r=je,u=Mo(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=i),r=u),t.memoizedState={parent:s,cache:r},zo(t),di(t,et,r)):((e.lanes&i)!==0&&(Uo(e,t),Va(t,null,null,i),ka()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),di(t,et,s)):(s=u.cache,di(t,et,s),s!==r.cache&&Do(t,[et],i,!0))),vt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function kn(e){e.flags|=4}function pu(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Cg())e.flags|=8192;else throw el=dc,Ro}else e.flags&=-16777217}function Jm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hp(t))if(Cg())e.flags|=8192;else throw el=dc,Ro}function Mc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?X():536870912,e.lanes|=t,Zl|=t)}function Fa(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Be(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function p0(e,t,i){var s=t.pendingProps;switch(To(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Be(t),null;case 1:return Be(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ln(et),Gt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?kn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,No())),Be(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(kn(t),u!==null?(Be(t),Jm(t,u)):(Be(t),pu(t,r,null,s,i))):u?u!==e.memoizedState?(kn(t),Be(t),Jm(t,u)):(Be(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&kn(t),Be(t),pu(t,r,e,s,i)),null;case 27:if(ni(t),i=dn.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&kn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Be(t),null}e=re.current,Ll(t)?Dd(t):(e=ip(r,s,i),t.stateNode=e,kn(t))}return Be(t),null;case 5:if(ni(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&kn(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Be(t),null}if(u=re.current,Ll(t))Dd(t);else{var m=Qc(dn.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(r,{is:s.is}):m.createElement(r)}}u[mt]=t,u[zt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(yt(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&kn(t)}}return Be(t),pu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&kn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=dn.current,Ll(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=gt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[mt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Xg(e.nodeValue,i)),e||fi(t,!0)}else e=Qc(e).createTextNode(s),e[mt]=t,t.stateNode=e}return Be(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ll(t),i!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[mt]=t}else Zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),e=!1}else i=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Kt(t),t):(Kt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Be(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ll(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[mt]=t}else Zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Be(t),r=!1}else r=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Kt(t),t):(Kt(t),null)}return Kt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Mc(t,t.updateQueue),Be(t),null);case 4:return Gt(),e===null&&Hu(t.stateNode.containerInfo),Be(t),null;case 10:return Ln(t.type),Be(t),null;case 19:if(J(Ze),s=t.memoizedState,s===null)return Be(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Fa(s,!1);else{if(Ge!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=vc(e),u!==null){for(t.flags|=128,Fa(s,!1),e=u.updateQueue,t.updateQueue=e,Mc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Td(i,e),i=i.sibling;return $(Ze,Ze.current&1|2),de&&zn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>Uc&&(t.flags|=128,r=!0,Fa(s,!1),t.lanes=4194304)}else{if(!r)if(e=vc(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Mc(t,e),Fa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!de)return Be(t),null}else 2*wt()-s.renderingStartTime>Uc&&i!==536870912&&(t.flags|=128,r=!0,Fa(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,i=Ze.current,$(Ze,r?i&1|2:i&1),de&&zn(t,s.treeForkCount),e):(Be(t),null);case 22:case 23:return Kt(t),Io(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Be(t),t.subtreeFlags&6&&(t.flags|=8192)):Be(t),i=t.updateQueue,i!==null&&Mc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&J($i),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(et),Be(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function v0(e,t){switch(To(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(et),Gt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ni(t),null;case 31:if(t.memoizedState!==null){if(Kt(t),t.alternate===null)throw Error(c(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(Ze),null;case 4:return Gt(),null;case 10:return Ln(t.type),null;case 22:case 23:return Kt(t),Io(),e!==null&&J($i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(et),null;case 25:return null;default:return null}}function Wm(e,t){switch(To(t),t.tag){case 3:Ln(et),Gt();break;case 26:case 27:case 5:ni(t);break;case 4:Gt();break;case 31:t.memoizedState!==null&&Kt(t);break;case 13:Kt(t);break;case 19:J(Ze);break;case 10:Ln(t.type);break;case 22:case 23:Kt(t),Io(),e!==null&&J($i);break;case 24:Ln(et)}}function Ka(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var u=i.create,m=i.inst;s=u(),m.destroy=s}i=i.next}while(i!==r)}}catch(p){Te(t,t.return,p)}}function _i(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var m=s.inst,p=m.destroy;if(p!==void 0){m.destroy=void 0,r=t;var b=i,A=p;try{A()}catch(j){Te(r,b,j)}}}s=s.next}while(s!==u)}}catch(j){Te(t,t.return,j)}}function $m(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Gd(t,i)}catch(s){Te(e,e.return,s)}}}function Pm(e,t,i){i.props=il(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Te(e,t,s)}}function Za(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Te(e,t,r)}}function xn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Te(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Te(e,t,r)}else i.current=null}function eg(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Te(e,e.return,r)}}function vu(e,t,i){try{var s=e.stateNode;I0(s,e.type,i,t),s[zt]=t}catch(r){Te(e,e.return,r)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ni(e.type)||e.tag===4}function yu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _u(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=jn));else if(s!==4&&(s===27&&Ni(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(_u(e,t,i),e=e.sibling;e!==null;)_u(e,t,i),e=e.sibling}function jc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Ni(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(jc(e,t,i),e=e.sibling;e!==null;)jc(e,t,i),e=e.sibling}function ng(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);yt(t,s,i),t[mt]=e,t[zt]=i}catch(u){Te(e,e.return,u)}}var Vn=!1,it=!1,bu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,ot=null;function y0(e,t){if(e=e.containerInfo,Vu=$c,e=gd(e),fo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var m=0,p=-1,b=-1,A=0,j=0,R=e,w=null;t:for(;;){for(var M;R!==i||r!==0&&R.nodeType!==3||(p=m+r),R!==u||s!==0&&R.nodeType!==3||(b=m+s),R.nodeType===3&&(m+=R.nodeValue.length),(M=R.firstChild)!==null;)w=R,R=M;for(;;){if(R===e)break t;if(w===i&&++A===r&&(p=m),w===u&&++j===s&&(b=m),(M=R.nextSibling)!==null)break;R=w,w=R.parentNode}R=M}i=p===-1||b===-1?null:{start:p,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Gu={focusedElem:e,selectionRange:i},$c=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){switch(t=ot,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,r=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var k=il(i.type,r);e=s.getSnapshotBeforeUpdate(k,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(F){Te(i,i.return,F)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Qu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Qu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}}function lg(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:qn(e,i),s&4&&Ka(5,i);break;case 1:if(qn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Te(i,i.return,m)}else{var r=il(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Te(i,i.return,m)}}s&64&&$m(i),s&512&&Za(i,i.return);break;case 3:if(qn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Gd(e,t)}catch(m){Te(i,i.return,m)}}break;case 27:t===null&&s&4&&ng(i);case 26:case 5:qn(e,i),t===null&&s&4&&eg(i),s&512&&Za(i,i.return);break;case 12:qn(e,i);break;case 31:qn(e,i),s&4&&cg(e,i);break;case 13:qn(e,i),s&4&&rg(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=A0.bind(null,i),F0(e,i))));break;case 22:if(s=i.memoizedState!==null||Vn,!s){t=t!==null&&t.memoizedState!==null||it,r=Vn;var u=it;Vn=s,(it=t)&&!u?Yn(e,i,(i.subtreeFlags&8772)!==0):qn(e,i),Vn=r,it=u}break;case 30:break;default:qn(e,i)}}function ag(e){var t=e.alternate;t!==null&&(e.alternate=null,ag(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Zr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Lt=!1;function Gn(e,t,i){for(i=i.child;i!==null;)sg(e,t,i),i=i.sibling}function sg(e,t,i){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(si,i)}catch{}switch(i.tag){case 26:it||xn(i,t),Gn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:it||xn(i,t);var s=He,r=Lt;Ni(i.type)&&(He=i.stateNode,Lt=!1),Gn(e,t,i),ls(i.stateNode),He=s,Lt=r;break;case 5:it||xn(i,t);case 6:if(s=He,r=Lt,He=null,Gn(e,t,i),He=s,Lt=r,He!==null)if(Lt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(i.stateNode)}catch(u){Te(i,t,u)}else try{He.removeChild(i.stateNode)}catch(u){Te(i,t,u)}break;case 18:He!==null&&(Lt?(e=He,$g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ia(e)):$g(He,i.stateNode));break;case 4:s=He,r=Lt,He=i.stateNode.containerInfo,Lt=!0,Gn(e,t,i),He=s,Lt=r;break;case 0:case 11:case 14:case 15:_i(2,i,t),it||_i(4,i,t),Gn(e,t,i);break;case 1:it||(xn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Pm(i,t,s)),Gn(e,t,i);break;case 21:Gn(e,t,i);break;case 22:it=(s=it)||i.memoizedState!==null,Gn(e,t,i),it=s;break;default:Gn(e,t,i)}}function cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ia(e)}catch(i){Te(t,t.return,i)}}}function rg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ia(e)}catch(i){Te(t,t.return,i)}}function _0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error(c(435,e.tag))}}function Oc(e,t){var i=_0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=w0.bind(null,e,s);s.then(r,r)}})}function Bt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],u=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 27:if(Ni(p.type)){He=p.stateNode,Lt=!1;break e}break;case 5:He=p.stateNode,Lt=!1;break e;case 3:case 4:He=p.stateNode.containerInfo,Lt=!0;break e}p=p.return}if(He===null)throw Error(c(160));sg(u,m,r),He=null,Lt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)og(t,e),t=t.sibling}var pn=null;function og(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(t,e),Ht(e),s&4&&(_i(3,e,e.return),Ka(3,e),_i(5,e,e.return));break;case 1:Bt(t,e),Ht(e),s&512&&(it||i===null||xn(i,i.return)),s&64&&Vn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=pn;if(Bt(t,e),Ht(e),s&512&&(it||i===null||xn(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[Ca]||u[mt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),yt(u,s,i),u[mt]=e,rt(u),s=u;break e;case"link":var m=op("link","href",r).get(s+(i.href||""));if(m){for(var p=0;p<m.length;p++)if(u=m[p],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(p,1);break t}}u=r.createElement(s),yt(u,s,i),r.head.appendChild(u);break;case"meta":if(m=op("meta","content",r).get(s+(i.content||""))){for(p=0;p<m.length;p++)if(u=m[p],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(p,1);break t}}u=r.createElement(s),yt(u,s,i),r.head.appendChild(u);break;default:throw Error(c(468,s))}u[mt]=e,rt(u),s=u}e.stateNode=s}else up(r,e.type,e.stateNode);else e.stateNode=rp(r,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?up(r,e.type,e.stateNode):rp(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&vu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Bt(t,e),Ht(e),s&512&&(it||i===null||xn(i,i.return)),i!==null&&s&4&&vu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Bt(t,e),Ht(e),s&512&&(it||i===null||xn(i,i.return)),e.flags&32){r=e.stateNode;try{Nl(r,"")}catch(k){Te(e,e.return,k)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,vu(e,r,i!==null?i.memoizedProps:r)),s&1024&&(bu=!0);break;case 6:if(Bt(t,e),Ht(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(k){Te(e,e.return,k)}}break;case 3:if(Kc=null,r=pn,pn=Xc(t.containerInfo),Bt(t,e),pn=r,Ht(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(k){Te(e,e.return,k)}bu&&(bu=!1,ug(e));break;case 4:s=pn,pn=Xc(e.stateNode.containerInfo),Bt(t,e),Ht(e),pn=s;break;case 12:Bt(t,e),Ht(e);break;case 31:Bt(t,e),Ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oc(e,s)));break;case 13:Bt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(zc=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oc(e,s)));break;case 22:r=e.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,A=Vn,j=it;if(Vn=A||r,it=j||b,Bt(t,e),it=j,Vn=A,Ht(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||b||Vn||it||ll(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){b=i=t;try{if(u=b.stateNode,r)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{p=b.stateNode;var R=b.memoizedProps.style,w=R!=null&&R.hasOwnProperty("display")?R.display:null;p.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(k){Te(b,b.return,k)}}}else if(t.tag===6){if(i===null){b=t;try{b.stateNode.nodeValue=r?"":b.memoizedProps}catch(k){Te(b,b.return,k)}}}else if(t.tag===18){if(i===null){b=t;try{var M=b.stateNode;r?Pg(M,!0):Pg(b.stateNode,!1)}catch(k){Te(b,b.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Oc(e,i))));break;case 19:Bt(t,e),Ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oc(e,s)));break;case 30:break;case 21:break;default:Bt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(tg(s)){i=s;break}s=s.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var r=i.stateNode,u=yu(e);jc(e,u,r);break;case 5:var m=i.stateNode;i.flags&32&&(Nl(m,""),i.flags&=-33);var p=yu(e);jc(e,p,m);break;case 3:case 4:var b=i.stateNode.containerInfo,A=yu(e);_u(e,A,b);break;default:throw Error(c(161))}}catch(j){Te(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ug(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lg(e,t.alternate,t),t=t.sibling}function ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_i(4,t,t.return),ll(t);break;case 1:xn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Pm(t,t.return,i),ll(t);break;case 27:ls(t.stateNode);case 26:case 5:xn(t,t.return),ll(t);break;case 22:t.memoizedState===null&&ll(t);break;case 30:ll(t);break;default:ll(t)}e=e.sibling}}function Yn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Yn(r,u,i),Ka(4,u);break;case 1:if(Yn(r,u,i),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(A){Te(s,s.return,A)}if(s=u,r=s.updateQueue,r!==null){var p=s.stateNode;try{var b=r.shared.hiddenCallbacks;if(b!==null)for(r.shared.hiddenCallbacks=null,r=0;r<b.length;r++)Vd(b[r],p)}catch(A){Te(s,s.return,A)}}i&&m&64&&$m(u),Za(u,u.return);break;case 27:ng(u);case 26:case 5:Yn(r,u,i),i&&s===null&&m&4&&eg(u),Za(u,u.return);break;case 12:Yn(r,u,i);break;case 31:Yn(r,u,i),i&&m&4&&cg(r,u);break;case 13:Yn(r,u,i),i&&m&4&&rg(r,u);break;case 22:u.memoizedState===null&&Yn(r,u,i),Za(u,u.return);break;case 30:break;default:Yn(r,u,i)}t=t.sibling}}function Su(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ua(i))}function Cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ua(e))}function vn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(e,t,i,s),t=t.sibling}function hg(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:vn(e,t,i,s),r&2048&&Ka(9,t);break;case 1:vn(e,t,i,s);break;case 3:vn(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ua(e)));break;case 12:if(r&2048){vn(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,p=u.onPostCommit;typeof p=="function"&&p(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Te(t,t.return,b)}}else vn(e,t,i,s);break;case 31:vn(e,t,i,s);break;case 13:vn(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?vn(e,t,i,s):Ja(e,t):u._visibility&2?vn(e,t,i,s):(u._visibility|=2,Xl(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&Su(m,t);break;case 24:vn(e,t,i,s),r&2048&&Cu(t.alternate,t);break;default:vn(e,t,i,s)}}function Xl(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,p=i,b=s,A=m.flags;switch(m.tag){case 0:case 11:case 15:Xl(u,m,p,b,r),Ka(8,m);break;case 23:break;case 22:var j=m.stateNode;m.memoizedState!==null?j._visibility&2?Xl(u,m,p,b,r):Ja(u,m):(j._visibility|=2,Xl(u,m,p,b,r)),r&&A&2048&&Su(m.alternate,m);break;case 24:Xl(u,m,p,b,r),r&&A&2048&&Cu(m.alternate,m);break;default:Xl(u,m,p,b,r)}t=t.sibling}}function Ja(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:Ja(i,s),r&2048&&Su(s.alternate,s);break;case 24:Ja(i,s),r&2048&&Cu(s.alternate,s);break;default:Ja(i,s)}t=t.sibling}}var Wa=8192;function Fl(e,t,i){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)fg(e,t,i),e=e.sibling}function fg(e,t,i){switch(e.tag){case 26:Fl(e,t,i),e.flags&Wa&&e.memoizedState!==null&&a1(i,pn,e.memoizedState,e.memoizedProps);break;case 5:Fl(e,t,i);break;case 3:case 4:var s=pn;pn=Xc(e.stateNode.containerInfo),Fl(e,t,i),pn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Wa,Wa=16777216,Fl(e,t,i),Wa=s):Fl(e,t,i));break;default:Fl(e,t,i)}}function dg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $a(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ot=s,gg(s,e)}dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mg(e),e=e.sibling}function mg(e){switch(e.tag){case 0:case 11:case 15:$a(e),e.flags&2048&&_i(9,e,e.return);break;case 3:$a(e);break;case 12:$a(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rc(e)):$a(e);break;default:$a(e)}}function Rc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ot=s,gg(s,e)}dg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_i(8,t,t.return),Rc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Rc(t));break;default:Rc(t)}e=e.sibling}}function gg(e,t){for(;ot!==null;){var i=ot;switch(i.tag){case 0:case 11:case 15:_i(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ua(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,ot=s;else e:for(i=e;ot!==null;){s=ot;var r=s.sibling,u=s.return;if(ag(s),s===i){ot=null;break e}if(r!==null){r.return=u,ot=r;break e}ot=u}}}var b0={getCacheForType:function(e){var t=pt(et),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return pt(et).controller.signal}},S0=typeof WeakMap=="function"?WeakMap:Map,Ce=0,je=null,ae=null,ue=0,Ee=0,Zt=null,bi=!1,Kl=!1,Eu=!1,Qn=0,Ge=0,Si=0,al=0,Tu=0,Jt=0,Zl=0,Pa=null,It=null,xu=!1,zc=0,pg=0,Uc=1/0,Lc=null,Ci=null,at=0,Ei=null,Jl=null,Xn=0,Nu=0,Au=null,vg=null,es=0,wu=null;function Wt(){return(Ce&2)!==0&&ue!==0?ue&-ue:D.T!==null?zu():Rf()}function yg(){if(Jt===0)if((ue&536870912)===0||de){var e=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),Jt=e}else Jt=536870912;return e=Ft.current,e!==null&&(e.flags|=32),Jt}function kt(e,t,i){(e===je&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Ti(e,ue,Jt,!1)),oe(e,i),((Ce&2)===0||e!==je)&&(e===je&&((Ce&2)===0&&(al|=i),Ge===4&&Ti(e,ue,Jt,!1)),Nn(e))}function _g(e,t,i){if((Ce&6)!==0)throw Error(c(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ci(e,t),r=s?T0(e,t):Mu(e,t,!0),u=s;do{if(r===0){Kl&&!s&&Ti(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!C0(i)){r=Mu(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var p=e;r=Pa;var b=p.current.memoizedState.isDehydrated;if(b&&(Wl(p,m).flags|=256),m=Mu(p,m,!1),m!==2){if(Eu&&!b){p.errorRecoveryDisabledLanes|=u,al|=u,r=4;break e}u=It,It=r,u!==null&&(It===null?It=u:It.push.apply(It,u))}r=m}if(u=!1,r!==2)continue}}if(r===1){Wl(e,0),Ti(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ti(s,t,Jt,!bi);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=zc+300-wt(),10<r)){if(Ti(s,t,Jt,!bi),Gi(s,0,!0)!==0)break e;Xn=t,s.timeoutHandle=Jg(bg.bind(null,s,i,It,Lc,xu,t,Jt,al,Zl,bi,u,"Throttled",-0,0),r);break e}bg(s,i,It,Lc,xu,t,Jt,al,Zl,bi,u,null,-0,0)}}break}while(!0);Nn(e)}function bg(e,t,i,s,r,u,m,p,b,A,j,R,w,M){if(e.timeoutHandle=-1,R=t.subtreeFlags,R&8192||(R&16785408)===16785408){R={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},fg(t,u,R);var k=(u&62914560)===u?zc-wt():(u&4194048)===u?pg-wt():0;if(k=s1(R,k),k!==null){Xn=u,e.cancelPendingCommit=k(wg.bind(null,e,t,u,i,s,r,m,p,b,j,R,null,w,M)),Ti(e,u,m,!A);return}}wg(e,t,u,i,s,r,m,p,b)}function C0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],u=r.getSnapshot;r=r.value;try{if(!Qt(u(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ti(e,t,i,s){t&=~Tu,t&=~al,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-xt(r),m=1<<u;s[u]=-1,r&=~m}i!==0&&Yt(e,i,t)}function Bc(){return(Ce&6)===0?(ts(0),!1):!0}function Du(){if(ae!==null){if(Ee===0)var e=ae.return;else e=ae,Un=Ji=null,Qo(e),Vl=null,Ba=0,e=ae;for(;e!==null;)Wm(e.alternate,e),e=e.return;ae=null}}function Wl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,G0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Xn=0,Du(),je=e,ae=i=Rn(e.current,null),ue=t,Ee=0,Zt=null,bi=!1,Kl=ci(e,t),Eu=!1,Zl=Jt=Tu=al=Si=Ge=0,It=Pa=null,xu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-xt(s),u=1<<r;t|=e[r],s&=~u}return Qn=t,lc(),i}function Sg(e,t){W=null,D.H=Qa,t===kl||t===fc?(t=Bd(),Ee=3):t===Ro?(t=Bd(),Ee=4):Ee=t===cu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Zt=t,ae===null&&(Ge=1,Nc(e,nn(t,e.current)))}function Cg(){var e=Ft.current;return e===null?!0:(ue&4194048)===ue?cn===null:(ue&62914560)===ue||(ue&536870912)!==0?e===cn:!1}function Eg(){var e=D.H;return D.H=Qa,e===null?Qa:e}function Tg(){var e=D.A;return D.A=b0,e}function Hc(){Ge=4,bi||(ue&4194048)!==ue&&Ft.current!==null||(Kl=!0),(Si&134217727)===0&&(al&134217727)===0||je===null||Ti(je,ue,Jt,!1)}function Mu(e,t,i){var s=Ce;Ce|=2;var r=Eg(),u=Tg();(je!==e||ue!==t)&&(Lc=null,Wl(e,t)),t=!1;var m=Ge;e:do try{if(Ee!==0&&ae!==null){var p=ae,b=Zt;switch(Ee){case 8:Du(),m=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var A=Ee;if(Ee=0,Zt=null,$l(e,p,b,A),i&&Kl){m=0;break e}break;default:A=Ee,Ee=0,Zt=null,$l(e,p,b,A)}}E0(),m=Ge;break}catch(j){Sg(e,j)}while(!0);return t&&e.shellSuspendCounter++,Un=Ji=null,Ce=s,D.H=r,D.A=u,ae===null&&(je=null,ue=0,lc()),m}function E0(){for(;ae!==null;)xg(ae)}function T0(e,t){var i=Ce;Ce|=2;var s=Eg(),r=Tg();je!==e||ue!==t?(Lc=null,Uc=wt()+500,Wl(e,t)):Kl=ci(e,t);e:do try{if(Ee!==0&&ae!==null){t=ae;var u=Zt;t:switch(Ee){case 1:Ee=0,Zt=null,$l(e,t,u,1);break;case 2:case 9:if(Ud(u)){Ee=0,Zt=null,Ng(t);break}t=function(){Ee!==2&&Ee!==9||je!==e||(Ee=7),Nn(e)},u.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Ud(u)?(Ee=0,Zt=null,Ng(t)):(Ee=0,Zt=null,$l(e,t,u,7));break;case 5:var m=null;switch(ae.tag){case 26:m=ae.memoizedState;case 5:case 27:var p=ae;if(m?hp(m):p.stateNode.complete){Ee=0,Zt=null;var b=p.sibling;if(b!==null)ae=b;else{var A=p.return;A!==null?(ae=A,Ic(A)):ae=null}break t}}Ee=0,Zt=null,$l(e,t,u,5);break;case 6:Ee=0,Zt=null,$l(e,t,u,6);break;case 8:Du(),Ge=6;break e;default:throw Error(c(462))}}x0();break}catch(j){Sg(e,j)}while(!0);return Un=Ji=null,D.H=s,D.A=r,Ce=i,ae!==null?0:(je=null,ue=0,lc(),Ge)}function x0(){for(;ae!==null&&!Gr();)xg(ae)}function xg(e){var t=Zm(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,t===null?Ic(e):ae=t}function Ng(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=qm(i,t,t.pendingProps,t.type,void 0,ue);break;case 11:t=qm(i,t,t.pendingProps,t.type.render,t.ref,ue);break;case 5:Qo(t);default:Wm(i,t),t=ae=Td(t,Qn),t=Zm(i,t,Qn)}e.memoizedProps=e.pendingProps,t===null?Ic(e):ae=t}function $l(e,t,i,s){Un=Ji=null,Qo(t),Vl=null,Ba=0;var r=t.return;try{if(d0(e,r,t,i,ue)){Ge=1,Nc(e,nn(i,e.current)),ae=null;return}}catch(u){if(r!==null)throw ae=r,u;Ge=1,Nc(e,nn(i,e.current)),ae=null;return}t.flags&32768?(de||s===1?e=!0:Kl||(ue&536870912)!==0?e=!1:(bi=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ft.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ag(t,e)):Ic(t)}function Ic(e){var t=e;do{if((t.flags&32768)!==0){Ag(t,bi);return}e=t.return;var i=p0(t.alternate,t,Qn);if(i!==null){ae=i;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);Ge===0&&(Ge=5)}function Ag(e,t){do{var i=v0(e.alternate,e);if(i!==null){i.flags&=32767,ae=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){ae=e;return}ae=e=i}while(e!==null);Ge=6,ae=null}function wg(e,t,i,s,r,u,m,p,b){e.cancelPendingCommit=null;do kc();while(at!==0);if((Ce&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=yo,Ke(e,i,u,m,p,b),e===je&&(ae=je=null,ue=0),Jl=t,Ei=e,Xn=i,Nu=u,Au=r,vg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D0(Vi,function(){return Rg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,r=L.p,L.p=2,m=Ce,Ce|=4;try{y0(e,t,i)}finally{Ce=m,L.p=r,D.T=s}}at=1,Dg(),Mg(),jg()}}function Dg(){if(at===1){at=0;var e=Ei,t=Jl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var s=L.p;L.p=2;var r=Ce;Ce|=4;try{og(t,e);var u=Gu,m=gd(e.containerInfo),p=u.focusedElem,b=u.selectionRange;if(m!==p&&p&&p.ownerDocument&&md(p.ownerDocument.documentElement,p)){if(b!==null&&fo(p)){var A=b.start,j=b.end;if(j===void 0&&(j=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(j,p.value.length);else{var R=p.ownerDocument||document,w=R&&R.defaultView||window;if(w.getSelection){var M=w.getSelection(),k=p.textContent.length,F=Math.min(b.start,k),we=b.end===void 0?F:Math.min(b.end,k);!M.extend&&F>we&&(m=we,we=F,F=m);var x=dd(p,F),C=dd(p,we);if(x&&C&&(M.rangeCount!==1||M.anchorNode!==x.node||M.anchorOffset!==x.offset||M.focusNode!==C.node||M.focusOffset!==C.offset)){var N=R.createRange();N.setStart(x.node,x.offset),M.removeAllRanges(),F>we?(M.addRange(N),M.extend(C.node,C.offset)):(N.setEnd(C.node,C.offset),M.addRange(N))}}}}for(R=[],M=p;M=M.parentNode;)M.nodeType===1&&R.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<R.length;p++){var O=R[p];O.element.scrollLeft=O.left,O.element.scrollTop=O.top}}$c=!!Vu,Gu=Vu=null}finally{Ce=r,L.p=s,D.T=i}}e.current=t,at=2}}function Mg(){if(at===2){at=0;var e=Ei,t=Jl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var s=L.p;L.p=2;var r=Ce;Ce|=4;try{lg(e,t.alternate,t)}finally{Ce=r,L.p=s,D.T=i}}at=3}}function jg(){if(at===4||at===3){at=0,li();var e=Ei,t=Jl,i=Xn,s=vg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,Jl=Ei=null,Og(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),Fr(i),t=t.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,r=L.p,L.p=2,D.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var p=s[m];u(p.value,{componentStack:p.stack})}}finally{D.T=t,L.p=r}}(Xn&3)!==0&&kc(),Nn(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===wu?es++:(es=0,wu=e):es=0,ts(0)}}function Og(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ua(t)))}function kc(){return Dg(),Mg(),jg(),Rg()}function Rg(){if(at!==5)return!1;var e=Ei,t=Nu;Nu=0;var i=Fr(Xn),s=D.T,r=L.p;try{L.p=32>i?32:i,D.T=null,i=Au,Au=null;var u=Ei,m=Xn;if(at=0,Jl=Ei=null,Xn=0,(Ce&6)!==0)throw Error(c(331));var p=Ce;if(Ce|=4,mg(u.current),hg(u,u.current,m,i),Ce=p,ts(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(si,u)}catch{}return!0}finally{L.p=r,D.T=s,Og(e,t)}}function zg(e,t,i){t=nn(i,t),t=su(e.stateNode,t,2),e=pi(e,t,2),e!==null&&(oe(e,2),Nn(e))}function Te(e,t,i){if(e.tag===3)zg(e,e,i);else for(;t!==null;){if(t.tag===3){zg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))){e=nn(i,e),i=Um(2),s=pi(t,i,2),s!==null&&(Lm(i,s,t,e),oe(s,2),Nn(s));break}}t=t.return}}function ju(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new S0;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(Eu=!0,r.add(i),e=N0.bind(null,e,t,i),t.then(e,e))}function N0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,je===e&&(ue&i)===i&&(Ge===4||Ge===3&&(ue&62914560)===ue&&300>wt()-zc?(Ce&2)===0&&Wl(e,0):Tu|=i,Zl===ue&&(Zl=0)),Nn(e)}function Ug(e,t){t===0&&(t=X()),e=Fi(e,t),e!==null&&(oe(e,t),Nn(e))}function A0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ug(e,i)}function w0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Ug(e,i)}function D0(e,t){return ml(e,t)}var Vc=null,Pl=null,Ou=!1,Gc=!1,Ru=!1,xi=0;function Nn(e){e!==Pl&&e.next===null&&(Pl===null?Vc=Pl=e:Pl=Pl.next=e),Gc=!0,Ou||(Ou=!0,j0())}function ts(e,t){if(!Ru&&Gc){Ru=!0;do for(var i=!1,s=Vc;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var m=s.suspendedLanes,p=s.pingedLanes;u=(1<<31-xt(42|e)+1)-1,u&=r&~(m&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Ig(s,u))}else u=ue,u=Gi(s,s===je?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||ci(s,u)||(i=!0,Ig(s,u));s=s.next}while(i);Ru=!1}}function M0(){Lg()}function Lg(){Gc=Ou=!1;var e=0;xi!==0&&V0()&&(e=xi);for(var t=wt(),i=null,s=Vc;s!==null;){var r=s.next,u=Bg(s,t);u===0?(s.next=null,i===null?Vc=r:i.next=r,r===null&&(Pl=i)):(i=s,(e!==0||(u&3)!==0)&&(Gc=!0)),s=r}at!==0&&at!==5||ts(e),xi!==0&&(xi=0)}function Bg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-xt(u),p=1<<m,b=r[m];b===-1?((p&i)===0||(p&s)!==0)&&(r[m]=E(p,t)):b<=t&&(e.expiredLanes|=p),u&=~p}if(t=je,i=ue,i=Gi(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&gl(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ci(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&gl(s),Fr(i)){case 2:case 8:i=Sa;break;case 32:i=Vi;break;case 268435456:i=Ys;break;default:i=Vi}return s=Hg.bind(null,e),i=ml(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&gl(s),e.callbackPriority=2,e.callbackNode=null,2}function Hg(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(kc()&&e.callbackNode!==i)return null;var s=ue;return s=Gi(e,e===je?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(_g(e,s,t),Bg(e,wt()),e.callbackNode!=null&&e.callbackNode===i?Hg.bind(null,e):null)}function Ig(e,t){if(kc())return null;_g(e,t,!0)}function j0(){q0(function(){(Ce&6)!==0?ml(ai,M0):Lg()})}function zu(){if(xi===0){var e=Hl;e===0&&(e=vl,vl<<=1,(vl&261888)===0&&(vl=256)),xi=e}return xi}function kg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Js(""+e)}function Vg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function O0(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var u=kg((r[zt]||null).action),m=s.submitter;m&&(t=(t=m[zt]||null)?kg(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var p=new ec("action","action",null,s,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(xi!==0){var b=m?Vg(r,m):new FormData(r);eu(i,{pending:!0,data:b,method:r.method,action:u},null,b)}}else typeof u=="function"&&(p.preventDefault(),b=m?Vg(r,m):new FormData(r),eu(i,{pending:!0,data:b,method:r.method,action:u},u,b))},currentTarget:r}]})}}for(var Uu=0;Uu<vo.length;Uu++){var Lu=vo[Uu],R0=Lu.toLowerCase(),z0=Lu[0].toUpperCase()+Lu.slice(1);gn(R0,"on"+z0)}gn(yd,"onAnimationEnd"),gn(_d,"onAnimationIteration"),gn(bd,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(J_,"onTransitionRun"),gn(W_,"onTransitionStart"),gn($_,"onTransitionCancel"),gn(Sd,"onTransitionEnd"),Tl("onMouseEnter",["mouseout","mouseover"]),Tl("onMouseLeave",["mouseout","mouseover"]),Tl("onPointerEnter",["pointerout","pointerover"]),Tl("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ns));function Gg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var p=s[m],b=p.instance,A=p.currentTarget;if(p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(j){ic(j)}r.currentTarget=null,u=b}else for(m=0;m<s.length;m++){if(p=s[m],b=p.instance,A=p.currentTarget,p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(j){ic(j)}r.currentTarget=null,u=b}}}}function se(e,t){var i=t[Kr];i===void 0&&(i=t[Kr]=new Set);var s=e+"__bubble";i.has(s)||(qg(t,e,2,!1),i.add(s))}function Bu(e,t,i){var s=0;t&&(s|=4),qg(i,e,s,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Hu(e){if(!e[qc]){e[qc]=!0,Lf.forEach(function(i){i!=="selectionchange"&&(U0.has(i)||Bu(i,!1,e),Bu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,Bu("selectionchange",!1,t))}}function qg(e,t,i,s){switch(yp(t)){case 2:var r=o1;break;case 8:r=u1;break;default:r=Pu}i=r.bind(null,t,i,e),r=void 0,!io||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Iu(e,t,i,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var p=s.stateNode.containerInfo;if(p===r)break;if(m===4)for(m=s.return;m!==null;){var b=m.tag;if((b===3||b===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;p!==null;){if(m=Sl(p),m===null)return;if(b=m.tag,b===5||b===6||b===26||b===27){s=u=m;continue e}p=p.parentNode}}s=s.return}Kf(function(){var A=u,j=to(i),R=[];e:{var w=Cd.get(e);if(w!==void 0){var M=ec,k=e;switch(e){case"keypress":if($s(i)===0)break e;case"keydown":case"keyup":M=w_;break;case"focusin":k="focus",M=co;break;case"focusout":k="blur",M=co;break;case"beforeblur":case"afterblur":M=co;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=j_;break;case yd:case _d:case bd:M=__;break;case Sd:M=R_;break;case"scroll":case"scrollend":M=m_;break;case"wheel":M=U_;break;case"copy":case"cut":case"paste":M=S_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Pf;break;case"toggle":case"beforetoggle":M=B_}var F=(t&4)!==0,we=!F&&(e==="scroll"||e==="scrollend"),x=F?w!==null?w+"Capture":null:w;F=[];for(var C=A,N;C!==null;){var O=C;if(N=O.stateNode,O=O.tag,O!==5&&O!==26&&O!==27||N===null||x===null||(O=Ta(C,x),O!=null&&F.push(is(C,O,N))),we)break;C=C.return}0<F.length&&(w=new M(w,k,null,i,j),R.push({event:w,listeners:F}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",w&&i!==eo&&(k=i.relatedTarget||i.fromElement)&&(Sl(k)||k[bl]))break e;if((M||w)&&(w=j.window===j?j:(w=j.ownerDocument)?w.defaultView||w.parentWindow:window,M?(k=i.relatedTarget||i.toElement,M=A,k=k?Sl(k):null,k!==null&&(we=h(k),F=k.tag,k!==we||F!==5&&F!==27&&F!==6)&&(k=null)):(M=null,k=A),M!==k)){if(F=Wf,O="onMouseLeave",x="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(F=Pf,O="onPointerLeave",x="onPointerEnter",C="pointer"),we=M==null?w:Ea(M),N=k==null?w:Ea(k),w=new F(O,C+"leave",M,i,j),w.target=we,w.relatedTarget=N,O=null,Sl(j)===A&&(F=new F(x,C+"enter",k,i,j),F.target=N,F.relatedTarget=we,O=F),we=O,M&&k)t:{for(F=L0,x=M,C=k,N=0,O=x;O;O=F(O))N++;O=0;for(var Q=C;Q;Q=F(Q))O++;for(;0<N-O;)x=F(x),N--;for(;0<O-N;)C=F(C),O--;for(;N--;){if(x===C||C!==null&&x===C.alternate){F=x;break t}x=F(x),C=F(C)}F=null}else F=null;M!==null&&Yg(R,w,M,F,!1),k!==null&&we!==null&&Yg(R,we,k,F,!0)}}e:{if(w=A?Ea(A):window,M=w.nodeName&&w.nodeName.toLowerCase(),M==="select"||M==="input"&&w.type==="file")var ve=cd;else if(ad(w))if(rd)ve=F_;else{ve=Q_;var q=Y_}else M=w.nodeName,!M||M.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&Pr(A.elementType)&&(ve=cd):ve=X_;if(ve&&(ve=ve(e,A))){sd(R,ve,i,j);break e}q&&q(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&$r(w,"number",w.value)}switch(q=A?Ea(A):window,e){case"focusin":(ad(q)||q.contentEditable==="true")&&(Ml=q,mo=A,Oa=null);break;case"focusout":Oa=mo=Ml=null;break;case"mousedown":go=!0;break;case"contextmenu":case"mouseup":case"dragend":go=!1,pd(R,i,j);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":pd(R,i,j)}var P;if(oo)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Dl?id(e,i)&&(he="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(he="onCompositionStart");he&&(ed&&i.locale!=="ko"&&(Dl||he!=="onCompositionStart"?he==="onCompositionEnd"&&Dl&&(P=Zf()):(oi=j,lo="value"in oi?oi.value:oi.textContent,Dl=!0)),q=Yc(A,he),0<q.length&&(he=new $f(he,e,null,i,j),R.push({event:he,listeners:q}),P?he.data=P:(P=ld(i),P!==null&&(he.data=P)))),(P=I_?k_(e,i):V_(e,i))&&(he=Yc(A,"onBeforeInput"),0<he.length&&(q=new $f("onBeforeInput","beforeinput",null,i,j),R.push({event:q,listeners:he}),q.data=P)),O0(R,e,A,i,j)}Gg(R,t)})}function is(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Yc(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Ta(e,i),r!=null&&s.unshift(is(e,r,u)),r=Ta(e,t),r!=null&&s.push(is(e,r,u))),e.tag===3)return s;e=e.return}return[]}function L0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yg(e,t,i,s,r){for(var u=t._reactName,m=[];i!==null&&i!==s;){var p=i,b=p.alternate,A=p.stateNode;if(p=p.tag,b!==null&&b===s)break;p!==5&&p!==26&&p!==27||A===null||(b=A,r?(A=Ta(i,u),A!=null&&m.unshift(is(i,A,b))):r||(A=Ta(i,u),A!=null&&m.push(is(i,A,b)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var B0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace(H0,"")}function Xg(e,t){return t=Qg(t),Qg(e)===t}function Ae(e,t,i,s,r,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Nl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Nl(e,""+s);break;case"className":Ks(e,"class",s);break;case"tabIndex":Ks(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ks(e,i,s);break;case"style":Xf(e,s,u);break;case"data":if(t!=="object"){Ks(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Js(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Ae(e,t,"name",r.name,r,null),Ae(e,t,"formEncType",r.formEncType,r,null),Ae(e,t,"formMethod",r.formMethod,r,null),Ae(e,t,"formTarget",r.formTarget,r,null)):(Ae(e,t,"encType",r.encType,r,null),Ae(e,t,"method",r.method,r,null),Ae(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Js(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=jn);break;case"onScroll":s!=null&&se("scroll",e);break;case"onScrollEnd":s!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Js(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":se("beforetoggle",e),se("toggle",e),Fs(e,"popover",s);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=f_.get(i)||i,Fs(e,i,s))}}function ku(e,t,i,s,r,u){switch(i){case"style":Xf(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Nl(e,s):(typeof s=="number"||typeof s=="bigint")&&Nl(e,""+s);break;case"onScroll":s!=null&&se("scroll",e);break;case"onScrollEnd":s!=null&&se("scrollend",e);break;case"onClick":s!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),u=e[zt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Fs(e,i,s)}}}function yt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var s=!1,r=!1,u;for(u in i)if(i.hasOwnProperty(u)){var m=i[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ae(e,t,u,m,i,null)}}r&&Ae(e,t,"srcSet",i.srcSet,i,null),s&&Ae(e,t,"src",i.src,i,null);return;case"input":se("invalid",e);var p=u=m=r=null,b=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var j=i[s];if(j!=null)switch(s){case"name":r=j;break;case"type":m=j;break;case"checked":b=j;break;case"defaultChecked":A=j;break;case"value":u=j;break;case"defaultValue":p=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(137,t));break;default:Ae(e,t,s,j,i,null)}}Gf(e,u,p,b,A,m,r,!1);return;case"select":se("invalid",e),s=m=u=null;for(r in i)if(i.hasOwnProperty(r)&&(p=i[r],p!=null))switch(r){case"value":u=p;break;case"defaultValue":m=p;break;case"multiple":s=p;default:Ae(e,t,r,p,i,null)}t=u,i=m,e.multiple=!!s,t!=null?xl(e,!!s,t,!1):i!=null&&xl(e,!!s,i,!0);return;case"textarea":se("invalid",e),u=r=s=null;for(m in i)if(i.hasOwnProperty(m)&&(p=i[m],p!=null))switch(m){case"value":s=p;break;case"defaultValue":r=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:Ae(e,t,m,p,i,null)}Yf(e,s,r,u);return;case"option":for(b in i)i.hasOwnProperty(b)&&(s=i[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ae(e,t,b,s,i,null));return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(s=0;s<ns.length;s++)se(ns[s],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ae(e,t,A,s,i,null)}return;default:if(Pr(t)){for(j in i)i.hasOwnProperty(j)&&(s=i[j],s!==void 0&&ku(e,t,j,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Ae(e,t,p,s,i,null))}function I0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,m=null,p=null,b=null,A=null,j=null;for(M in i){var R=i[M];if(i.hasOwnProperty(M)&&R!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":b=R;default:s.hasOwnProperty(M)||Ae(e,t,M,null,s,R)}}for(var w in s){var M=s[w];if(R=i[w],s.hasOwnProperty(w)&&(M!=null||R!=null))switch(w){case"type":u=M;break;case"name":r=M;break;case"checked":A=M;break;case"defaultChecked":j=M;break;case"value":m=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(c(137,t));break;default:M!==R&&Ae(e,t,w,M,s,R)}}Wr(e,m,p,b,A,j,u,r);return;case"select":M=m=p=w=null;for(u in i)if(b=i[u],i.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":M=b;default:s.hasOwnProperty(u)||Ae(e,t,u,null,s,b)}for(r in s)if(u=s[r],b=i[r],s.hasOwnProperty(r)&&(u!=null||b!=null))switch(r){case"value":w=u;break;case"defaultValue":p=u;break;case"multiple":m=u;default:u!==b&&Ae(e,t,r,u,s,b)}t=p,i=m,s=M,w!=null?xl(e,!!i,w,!1):!!s!=!!i&&(t!=null?xl(e,!!i,t,!0):xl(e,!!i,i?[]:"",!1));return;case"textarea":M=w=null;for(p in i)if(r=i[p],i.hasOwnProperty(p)&&r!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Ae(e,t,p,null,s,r)}for(m in s)if(r=s[m],u=i[m],s.hasOwnProperty(m)&&(r!=null||u!=null))switch(m){case"value":w=r;break;case"defaultValue":M=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==u&&Ae(e,t,m,r,s,u)}qf(e,w,M);return;case"option":for(var k in i)w=i[k],i.hasOwnProperty(k)&&w!=null&&!s.hasOwnProperty(k)&&(k==="selected"?e.selected=!1:Ae(e,t,k,null,s,w));for(b in s)w=s[b],M=i[b],s.hasOwnProperty(b)&&w!==M&&(w!=null||M!=null)&&(b==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":Ae(e,t,b,w,s,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var F in i)w=i[F],i.hasOwnProperty(F)&&w!=null&&!s.hasOwnProperty(F)&&Ae(e,t,F,null,s,w);for(A in s)if(w=s[A],M=i[A],s.hasOwnProperty(A)&&w!==M&&(w!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(c(137,t));break;default:Ae(e,t,A,w,s,M)}return;default:if(Pr(t)){for(var we in i)w=i[we],i.hasOwnProperty(we)&&w!==void 0&&!s.hasOwnProperty(we)&&ku(e,t,we,void 0,s,w);for(j in s)w=s[j],M=i[j],!s.hasOwnProperty(j)||w===M||w===void 0&&M===void 0||ku(e,t,j,w,s,M);return}}for(var x in i)w=i[x],i.hasOwnProperty(x)&&w!=null&&!s.hasOwnProperty(x)&&Ae(e,t,x,null,s,w);for(R in s)w=s[R],M=i[R],!s.hasOwnProperty(R)||w===M||w==null&&M==null||Ae(e,t,R,w,s,M)}function Fg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],u=r.transferSize,m=r.initiatorType,p=r.duration;if(u&&p&&Fg(m)){for(m=0,p=r.responseEnd,s+=1;s<i.length;s++){var b=i[s],A=b.startTime;if(A>p)break;var j=b.transferSize,R=b.initiatorType;j&&Fg(R)&&(b=b.responseEnd,m+=j*(b<p?1:(p-A)/(b-A)))}if(--s,t+=8*(u+m)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vu=null,Gu=null;function Qc(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=null;function V0(){var e=window.event;return e&&e.type==="popstate"?e===Yu?!1:(Yu=e,!0):(Yu=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(e){return Wg.resolve(null).then(e).catch(Y0)}:Jg;function Y0(e){setTimeout(function(){throw e})}function Ni(e){return e==="head"}function $g(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),ia(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")ls(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ls(i);for(var u=i.firstChild;u;){var m=u.nextSibling,p=u.nodeName;u[Ca]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=m}}else i==="body"&&ls(e.ownerDocument.body);i=r}while(i);ia(t)}function Pg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Qu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Qu(i),Zr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Q0(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=rn(e.nextSibling),e===null)break}return null}function X0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=rn(e.nextSibling),e===null))return null;return e}function ep(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=rn(e.nextSibling),e===null))return null;return e}function Xu(e){return e.data==="$?"||e.data==="$~"}function Fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function F0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ku=null;function tp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return rn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function ip(e,t,i){switch(t=Qc(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Zr(e)}var on=new Map,lp=new Set;function Xc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=L.d;L.d={f:K0,r:Z0,D:J0,C:W0,L:$0,m:P0,X:t1,S:e1,M:n1};function K0(){var e=Fn.f(),t=Bc();return e||t}function Z0(e){var t=Cl(e);t!==null&&t.tag===5&&t.type==="form"?Sm(t):Fn.r(e)}var ea=typeof document>"u"?null:document;function ap(e,t,i){var s=ea;if(s&&typeof t=="string"&&t){var r=en(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),lp.has(r)||(lp.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),yt(t,"link",e),rt(t),s.head.appendChild(t)))}}function J0(e){Fn.D(e),ap("dns-prefetch",e,null)}function W0(e,t){Fn.C(e,t),ap("preconnect",e,t)}function $0(e,t,i){Fn.L(e,t,i);var s=ea;if(s&&e&&t){var r='link[rel="preload"][as="'+en(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+en(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+en(i.imageSizes)+'"]')):r+='[href="'+en(e)+'"]';var u=r;switch(t){case"style":u=ta(e);break;case"script":u=na(e)}on.has(u)||(e=_({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),on.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(as(u))||t==="script"&&s.querySelector(ss(u))||(t=s.createElement("link"),yt(t,"link",e),rt(t),s.head.appendChild(t)))}}function P0(e,t){Fn.m(e,t);var i=ea;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+en(s)+'"][href="'+en(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=na(e)}if(!on.has(u)&&(e=_({rel:"modulepreload",href:e},t),on.set(u,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ss(u)))return}s=i.createElement("link"),yt(s,"link",e),rt(s),i.head.appendChild(s)}}}function e1(e,t,i){Fn.S(e,t,i);var s=ea;if(s&&e){var r=El(s).hoistableStyles,u=ta(e);t=t||"default";var m=r.get(u);if(!m){var p={loading:0,preload:null};if(m=s.querySelector(as(u)))p.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},i),(i=on.get(u))&&Zu(e,i);var b=m=s.createElement("link");rt(b),yt(b,"link",e),b._p=new Promise(function(A,j){b.onload=A,b.onerror=j}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Fc(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:p},r.set(u,m)}}}function t1(e,t){Fn.X(e,t);var i=ea;if(i&&e){var s=El(i).hoistableScripts,r=na(e),u=s.get(r);u||(u=i.querySelector(ss(r)),u||(e=_({src:e,async:!0},t),(t=on.get(r))&&Ju(e,t),u=i.createElement("script"),rt(u),yt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function n1(e,t){Fn.M(e,t);var i=ea;if(i&&e){var s=El(i).hoistableScripts,r=na(e),u=s.get(r);u||(u=i.querySelector(ss(r)),u||(e=_({src:e,async:!0,type:"module"},t),(t=on.get(r))&&Ju(e,t),u=i.createElement("script"),rt(u),yt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function sp(e,t,i,s){var r=(r=dn.current)?Xc(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ta(i.href),i=El(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ta(i.href);var u=El(r).hoistableStyles,m=u.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=r.querySelector(as(e)))&&!u._p&&(m.instance=u,m.state.loading=5),on.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},on.set(e,i),u||i1(r,e,i,m.state))),t&&s===null)throw Error(c(528,""));return m}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=na(i),i=El(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ta(e){return'href="'+en(e)+'"'}function as(e){return'link[rel="stylesheet"]['+e+"]"}function cp(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function i1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),yt(t,"link",i),rt(t),e.head.appendChild(t))}function na(e){return'[src="'+en(e)+'"]'}function ss(e){return"script[async]"+e}function rp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+en(i.href)+'"]');if(s)return t.instance=s,rt(s),s;var r=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),rt(s),yt(s,"style",r),Fc(s,i.precedence,e),t.instance=s;case"stylesheet":r=ta(i.href);var u=e.querySelector(as(r));if(u)return t.state.loading|=4,t.instance=u,rt(u),u;s=cp(i),(r=on.get(r))&&Zu(s,r),u=(e.ownerDocument||e).createElement("link"),rt(u);var m=u;return m._p=new Promise(function(p,b){m.onload=p,m.onerror=b}),yt(u,"link",s),t.state.loading|=4,Fc(u,i.precedence,e),t.instance=u;case"script":return u=na(i.src),(r=e.querySelector(ss(u)))?(t.instance=r,rt(r),r):(s=i,(r=on.get(u))&&(s=_({},i),Ju(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),rt(r),yt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Fc(s,i.precedence,e));return t.instance}function Fc(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,m=0;m<s.length;m++){var p=s[m];if(p.dataset.precedence===t)u=p;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ju(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Kc=null;function op(e,t,i){if(Kc===null){var s=new Map,r=Kc=new Map;r.set(i,s)}else r=Kc,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var u=i[r];if(!(u[Ca]||u[mt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var p=s.get(m);p?p.push(u):s.set(m,[u])}}return s}function up(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function l1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=ta(s.href),u=t.querySelector(as(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zc.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,rt(u);return}u=t.ownerDocument||t,s=cp(s),(r=on.get(r))&&Zu(s,r),u=u.createElement("link"),rt(u);var m=u;m._p=new Promise(function(p,b){m.onload=p,m.onerror=b}),yt(u,"link",s),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Zc.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Wu=0;function s1(e,t){return e.stylesheets&&e.count===0&&Wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Wc(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Wu===0&&(Wu=62500*k0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wc(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Wu?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Zc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jc=null;function Wc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jc=new Map,t.forEach(c1,e),Jc=null,Zc.call(e))}function c1(e,t){if(!(t.state.loading&4)){var i=Jc.get(e);if(i)var s=i.get(null);else{i=new Map,Jc.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var m=r[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}r=t.instance,m=r.getAttribute("data-precedence"),u=i.get(m)||s,u===s&&i.set(null,r),i.set(m,r),this.count++,s=Zc.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var cs={$$typeof:te,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function r1(e,t,i,s,r,u,m,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fe(0),this.hiddenUpdates=fe(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function fp(e,t,i,s,r,u,m,p,b,A,j,R){return e=new r1(e,t,i,m,b,A,j,R,p),t=1,u===!0&&(t|=24),u=Xt(3,null,null,t),e.current=u,u.stateNode=e,t=Mo(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},zo(u),e}function dp(e){return e?(e=Rl,e):Rl}function mp(e,t,i,s,r,u){r=dp(r),s.context===null?s.context=r:s.pendingContext=r,s=gi(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=pi(e,s,t),i!==null&&(kt(i,e,t),Ia(i,e,t))}function gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function $u(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function pp(e){if(e.tag===13||e.tag===31){var t=Fi(e,67108864);t!==null&&kt(t,e,67108864),$u(e,67108864)}}function vp(e){if(e.tag===13||e.tag===31){var t=Wt();t=Xr(t);var i=Fi(e,t);i!==null&&kt(i,e,t),$u(e,t)}}var $c=!0;function o1(e,t,i,s){var r=D.T;D.T=null;var u=L.p;try{L.p=2,Pu(e,t,i,s)}finally{L.p=u,D.T=r}}function u1(e,t,i,s){var r=D.T;D.T=null;var u=L.p;try{L.p=8,Pu(e,t,i,s)}finally{L.p=u,D.T=r}}function Pu(e,t,i,s){if($c){var r=eh(s);if(r===null)Iu(e,t,s,Pc,i),_p(e,s);else if(f1(r,e,t,i,s))s.stopPropagation();else if(_p(e,s),t&4&&-1<h1.indexOf(e)){for(;r!==null;){var u=Cl(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Dn(u.pendingLanes);if(m!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var b=1<<31-xt(m);p.entanglements[1]|=b,m&=~b}Nn(u),(Ce&6)===0&&(Uc=wt()+500,ts(0))}}break;case 31:case 13:p=Fi(u,2),p!==null&&kt(p,u,2),Bc(),$u(u,2)}if(u=eh(s),u===null&&Iu(e,t,s,Pc,i),u===r)break;r=u}r!==null&&s.stopPropagation()}else Iu(e,t,s,null,i)}}function eh(e){return e=to(e),th(e)}var Pc=null;function th(e){if(Pc=null,e=Sl(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=d(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Pc=e,null}function yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case ai:return 2;case Sa:return 8;case Vi:case qr:return 32;case Ys:return 268435456;default:return 32}default:return 32}}var nh=!1,Ai=null,wi=null,Di=null,rs=new Map,os=new Map,Mi=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _p(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function us(e,t,i,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=Cl(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function f1(e,t,i,s,r){switch(t){case"focusin":return Ai=us(Ai,e,t,i,s,r),!0;case"dragenter":return wi=us(wi,e,t,i,s,r),!0;case"mouseover":return Di=us(Di,e,t,i,s,r),!0;case"pointerover":var u=r.pointerId;return rs.set(u,us(rs.get(u)||null,e,t,i,s,r)),!0;case"gotpointercapture":return u=r.pointerId,os.set(u,us(os.get(u)||null,e,t,i,s,r)),!0}return!1}function bp(e){var t=Sl(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=d(i),t!==null){e.blockedOn=t,zf(e.priority,function(){vp(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,zf(e.priority,function(){vp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function er(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=eh(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);eo=s,i.target.dispatchEvent(s),eo=null}else return t=Cl(i),t!==null&&pp(t),e.blockedOn=i,!1;t.shift()}return!0}function Sp(e,t,i){er(e)&&i.delete(t)}function d1(){nh=!1,Ai!==null&&er(Ai)&&(Ai=null),wi!==null&&er(wi)&&(wi=null),Di!==null&&er(Di)&&(Di=null),rs.forEach(Sp),os.forEach(Sp)}function tr(e,t){e.blockedOn===t&&(e.blockedOn=null,nh||(nh=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,d1)))}var nr=null;function Cp(e){nr!==e&&(nr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){nr===e&&(nr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(th(s||i)===null)continue;break}var u=Cl(i);u!==null&&(e.splice(t,3),t-=3,eu(u,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function ia(e){function t(b){return tr(b,e)}Ai!==null&&tr(Ai,e),wi!==null&&tr(wi,e),Di!==null&&tr(Di,e),rs.forEach(t),os.forEach(t);for(var i=0;i<Mi.length;i++){var s=Mi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Mi.length&&(i=Mi[0],i.blockedOn===null);)bp(i),i.blockedOn===null&&Mi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],u=i[s+1],m=r[zt]||null;if(typeof u=="function")m||Cp(i);else if(m){var p=null;if(u&&u.hasAttribute("formAction")){if(r=u,m=u[zt]||null)p=m.formAction;else if(th(r)!==null)continue}else p=m.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),Cp(i)}}}function Ep(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return r=m})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function ih(e){this._internalRoot=e}ir.prototype.render=ih.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,s=Wt();mp(i,s,e,t,null,null)},ir.prototype.unmount=ih.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),Bc(),t[bl]=null}};function ir(e){this._internalRoot=e}ir.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Mi.length&&t!==0&&t<Mi[i].priority;i++);Mi.splice(i,0,e),i===0&&bp(e)}};var Tp=n.version;if(Tp!=="19.2.4")throw Error(c(527,Tp,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var m1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lr.isDisabled&&lr.supportsFiber)try{si=lr.inject(m1),Tt=lr}catch{}}return hs.createRoot=function(e,t){if(!o(e))throw Error(c(299));var i=!1,s="",r=jm,u=Om,m=Rm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=fp(e,1,!1,null,null,i,s,null,r,u,m,Ep),e[bl]=t.current,Hu(e),new ih(t)},hs.hydrateRoot=function(e,t,i){if(!o(e))throw Error(c(299));var s=!1,r="",u=jm,m=Om,p=Rm,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(b=i.formState)),t=fp(e,1,!0,t,i??null,s,r,b,u,m,p,Ep),t.context=dp(null),i=t.current,s=Wt(),s=Xr(s),r=gi(s),r.callback=null,pi(i,r,s),i=s,t.current.lanes=i,oe(t,i),Nn(t),e[bl]=t.current,Hu(e),new ir(t)},hs.version="19.2.4",hs}var wp;function b1(){if(wp)return lh.exports;wp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),lh.exports=_1(),lh.exports}var S1=b1();function Nv(a){return ft({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(a)}function Sh(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(a)}function C1(a){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(a)}function E1(a){return ft({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(a)}function T1(a){return ft({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(a)}function x1(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function N1(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(a)}function A1(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(a)}function Ch(a){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(a)}function yn(a){return ft({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(a)}function Eh(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(a)}function w1(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function ch(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(a)}function ys(a){return ft({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}function D1(a){return ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(a)}function M1(a){return ft({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function j1(a){return ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(a)}function O1(a){return ft({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(a)}const Dp=a=>{let n;const l=new Set,c=(y,T)=>{const _=typeof y=="function"?y(n):y;if(!Object.is(_,n)){const S=n;n=T??(typeof _!="object"||_===null)?_:Object.assign({},n,_),l.forEach(z=>z(n,S))}},o=()=>n,g={setState:c,getState:o,getInitialState:()=>v,subscribe:y=>(l.add(y),()=>l.delete(y))},v=n=a(c,o,g);return g},R1=(a=>a?Dp(a):Dp),z1=a=>a;function U1(a,n=z1){const l=ar.useSyncExternalStore(a.subscribe,ar.useCallback(()=>n(a.getState()),[a,n]),ar.useCallback(()=>n(a.getInitialState()),[a,n]));return ar.useDebugValue(l),l}const Mp=a=>{const n=R1(a),l=c=>U1(n,c);return Object.assign(l,n),l},L1=(a=>a?Mp(a):Mp);function B1(a,n){let l;try{l=a()}catch{return}return{getItem:o=>{var h;const d=v=>v===null?null:JSON.parse(v,void 0),g=(h=l.getItem(o))!=null?h:null;return g instanceof Promise?g.then(d):d(g)},setItem:(o,h)=>l.setItem(o,JSON.stringify(h,void 0)),removeItem:o=>l.removeItem(o)}}const Th=a=>n=>{try{const l=a(n);return l instanceof Promise?l:{then(c){return Th(c)(l)},catch(c){return this}}}catch(l){return{then(c){return this},catch(c){return Th(c)(l)}}}},H1=(a,n)=>(l,c,o)=>{let h={storage:B1(()=>localStorage),partialize:I=>I,version:0,merge:(I,ne)=>({...ne,...I}),...n},d=!1,g=0;const v=new Set,y=new Set;let T=h.storage;if(!T)return a((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),l(...I)},c,o);const _=()=>{const I=h.partialize({...c()});return T.setItem(h.name,{state:I,version:h.version})},S=o.setState;o.setState=(I,ne)=>(S(I,ne),_());const z=a((...I)=>(l(...I),_()),c,o);o.getInitialState=()=>z;let U;const Y=()=>{var I,ne;if(!T)return;const Ue=++g;d=!1,v.forEach(K=>{var me;return K((me=c())!=null?me:z)});const te=((ne=h.onRehydrateStorage)==null?void 0:ne.call(h,(I=c())!=null?I:z))||void 0;return Th(T.getItem.bind(T))(h.name).then(K=>{if(K)if(typeof K.version=="number"&&K.version!==h.version){if(h.migrate){const me=h.migrate(K.state,K.version);return me instanceof Promise?me.then(Me=>[!0,Me]):[!0,me]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,K.state];return[!1,void 0]}).then(K=>{var me;if(Ue!==g)return;const[Me,Ie]=K;if(U=h.merge(Ie,(me=c())!=null?me:z),l(U,!0),Me)return _()}).then(()=>{Ue===g&&(te?.(U,void 0),U=c(),d=!0,y.forEach(K=>K(U)))}).catch(K=>{Ue===g&&te?.(void 0,K)})};return o.persist={setOptions:I=>{h={...h,...I},I.storage&&(T=I.storage)},clearStorage:()=>{T?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>Y(),hasHydrated:()=>d,onHydrate:I=>(v.add(I),()=>{v.delete(I)}),onFinishHydration:I=>(y.add(I),()=>{y.delete(I)})},h.skipHydration||Y(),U||z},I1=H1,k1=()=>{};var jp={};const Av={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(a,n){if(!a)throw pa(n)},pa=function(a){return new Error("Firebase Database ("+Av.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const wv=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&c+1<a.length&&(a.charCodeAt(c+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++c)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},V1=function(a){const n=[];let l=0,c=0;for(;l<a.length;){const o=a[l++];if(o<128)n[c++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[l++];n[c++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[l++],d=a[l++],g=a[l++],v=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;n[c++]=String.fromCharCode(55296+(v>>10)),n[c++]=String.fromCharCode(56320+(v&1023))}else{const h=a[l++],d=a[l++];n[c++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return n.join("")},Qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let o=0;o<a.length;o+=3){const h=a[o],d=o+1<a.length,g=d?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,T=h>>2,_=(h&3)<<4|g>>4;let S=(g&15)<<2|y>>6,z=y&63;v||(z=64,d||(S=64)),c.push(l[T],l[_],l[S],l[z])}return c.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(wv(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):V1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let o=0;o<a.length;){const h=l[a.charAt(o++)],g=o<a.length?l[a.charAt(o)]:0;++o;const y=o<a.length?l[a.charAt(o)]:64;++o;const _=o<a.length?l[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||_==null)throw new G1;const S=h<<2|g>>4;if(c.push(S),y!==64){const z=g<<4&240|y>>2;if(c.push(z),_!==64){const U=y<<6&192|_;c.push(U)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dv=function(a){const n=wv(a);return Qh.encodeByteArray(n,!0)},or=function(a){return Dv(a).replace(/\./g,"")},xh=function(a){try{return Qh.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function q1(a){return Mv(void 0,a)}function Mv(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!Y1(l)||(a[l]=Mv(a[l],n[l]));return a}function Y1(a){return a!=="__proto__"}function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const X1=()=>Q1().__FIREBASE_DEFAULTS__,F1=()=>{if(typeof process>"u"||typeof jp>"u")return;const a=jp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},K1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&xh(a[1]);return n&&JSON.parse(n)},jv=()=>{try{return k1()||X1()||F1()||K1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Z1=a=>jv()?.emulatorHosts?.[a],J1=a=>{const n=Z1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const c=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),c]:[n.substring(0,l),c]},Ov=()=>jv()?.config;class Ls{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,c)=>{l?this.reject(l):this.resolve(c),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,c))}}}function Xh(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W1(a){return(await fetch(a,{credentials:"include"})).ok}function $1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},c=n||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${c}`,aud:c,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[or(JSON.stringify(l)),or(JSON.stringify(d)),""].join(".")}const _s={};function P1(){const a={prod:[],emulator:[]};for(const n of Object.keys(_s))_s[n]?a.emulator.push(n):a.prod.push(n);return a}function e2(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let Op=!1;function t2(a,n){if(typeof window>"u"||typeof document>"u"||!Xh(window.location.host)||_s[a]===n||_s[a]||Op)return;_s[a]=n;function l(S){return`__firebase__banner__${S}`}const c="__firebase__banner",h=P1().prod.length>0;function d(){const S=document.getElementById(c);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function v(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Op=!0,d()},S}function T(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=e2(c),z=l("text"),U=document.getElementById(z)||document.createElement("span"),Y=l("learnmore"),I=document.getElementById(Y)||document.createElement("a"),ne=l("preprendIcon"),Ue=document.getElementById(ne)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const te=S.element;g(te),T(I,Y);const K=y();v(Ue,ne),te.append(Ue,U,I,K),document.body.appendChild(te)}h?(U.innerText="Preview backend disconnected.",Ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}function n2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n2())}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){return Av.NODE_ADMIN===!0}function a2(){try{return typeof indexedDB=="object"}catch{return!1}}function s2(){return new Promise((a,n)=>{try{let l=!0;const c="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(c);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(c),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const c2="FirebaseError";class Bs extends Error{constructor(n,l,c){super(l),this.code=n,this.customData=c,this.name=c2,Object.setPrototypeOf(this,Bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zv.prototype.create)}}class zv{constructor(n,l,c){this.service=n,this.serviceName=l,this.errors=c}create(n,...l){const c=l[0]||{},o=`${this.service}/${n}`,h=this.errors[n],d=h?r2(h,c):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Bs(o,g,c)}}function r2(a,n){return a.replace(o2,(l,c)=>{const o=n[c];return o!=null?String(o):`<${c}?>`})}const o2=/\{\$([^}]+)}/g;function xs(a){return JSON.parse(a)}function ct(a){return JSON.stringify(a)}const Uv=function(a){let n={},l={},c={},o="";try{const h=a.split(".");n=xs(xh(h[0])||""),l=xs(xh(h[1])||""),o=h[2],c=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:c,signature:o}},u2=function(a){const n=Uv(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},h2=function(a){const n=Uv(a).claims;return typeof n=="object"&&n.admin===!0};function An(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function ua(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function Rp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function ur(a,n,l){const c={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=n.call(l,a[o],o,a));return c}function hr(a,n){if(a===n)return!0;const l=Object.keys(a),c=Object.keys(n);for(const o of l){if(!c.includes(o))return!1;const h=a[o],d=n[o];if(zp(h)&&zp(d)){if(!hr(h,d))return!1}else if(h!==d)return!1}for(const o of c)if(!l.includes(o))return!1;return!0}function zp(a){return a!==null&&typeof a=="object"}function f2(a){const n=[];for(const[l,c]of Object.entries(a))Array.isArray(c)?c.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(c));return n.length?"&"+n.join("&"):""}class d2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const c=this.W_;if(typeof n=="string")for(let _=0;_<16;_++)c[_]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let _=0;_<16;_++)c[_]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let _=16;_<80;_++){const S=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],h=this.chain_[1],d=this.chain_[2],g=this.chain_[3],v=this.chain_[4],y,T;for(let _=0;_<80;_++){_<40?_<20?(y=g^h&(d^g),T=1518500249):(y=h^d^g,T=1859775393):_<60?(y=h&d|g&(h|d),T=2400959708):(y=h^d^g,T=3395469782);const S=(o<<5|o>>>27)+y+v+T+c[_]&4294967295;v=g,g=d,d=(h<<30|h>>>2)&4294967295,h=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const c=l-this.blockSize;let o=0;const h=this.buf_;let d=this.inbuf_;for(;o<l;){if(d===0)for(;o<=c;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(h[d]=n.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(h),d=0;break}}else for(;o<l;)if(h[d]=n[o],++d,++o,d===this.blockSize){this.compress_(h),d=0;break}}this.inbuf_=d,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let c=0;for(let o=0;o<5;o++)for(let h=24;h>=0;h-=8)n[c]=this.chain_[o]>>h&255,++c;return n}}function wr(a,n){return`${a} failed: ${n} argument `}const m2=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);if(o>=55296&&o<=56319){const h=o-55296;c++,B(c<a.length,"Surrogate pair missing trail surrogate.");const d=a.charCodeAt(c)-56320;o=65536+(h<<10)+d}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Dr=function(a){let n=0;for(let l=0;l<a.length;l++){const c=a.charCodeAt(l);c<128?n++:c<2048?n+=2:c>=55296&&c<=56319?(n+=4,l++):n+=3}return n};function va(a){return a&&a._delegate?a._delegate:a}class Ns{constructor(n,l,c){this.name=n,this.instanceFactory=l,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const sl="[DEFAULT]";class g2{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const c=new Ls;if(this.instancesDeferred.set(l,c),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&c.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),c=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(c)return null;throw o}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(v2(n))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[l,c]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const h=this.getOrInitializeService({instanceIdentifier:o});c.resolve(h)}catch{}}}}clearInstance(n=sl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=sl){return this.instances.has(n)}getOptions(n=sl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,c=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:c,options:l});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);c===g&&d.resolve(o)}return o}onInit(n,l){const c=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(c)??new Set;o.add(n),this.onInitCallbacks.set(c,o);const h=this.instances.get(c);return h&&n(h,c),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const c=this.onInitCallbacks.get(l);if(c)for(const o of c)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let c=this.instances.get(n);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:p2(n),options:l}),this.instances.set(n,c),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(c,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,c)}catch{}return c||null}normalizeInstanceIdentifier(n=sl){return this.component?this.component.multipleInstances?n:sl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p2(a){return a===sl?void 0:a}function v2(a){return a.instantiationMode==="EAGER"}class y2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new g2(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Re;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Re||(Re={}));const _2={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},b2=Re.INFO,S2={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},C2=(a,n,...l)=>{if(n<a.logLevel)return;const c=new Date().toISOString(),o=S2[n];if(o)console[o](`[${c}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Lv{constructor(n){this.name=n,this._logLevel=b2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Re))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?_2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...n),this._logHandler(this,Re.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...n),this._logHandler(this,Re.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...n),this._logHandler(this,Re.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...n),this._logHandler(this,Re.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...n),this._logHandler(this,Re.ERROR,...n)}}const E2=(a,n)=>n.some(l=>a instanceof l);let Up,Lp;function T2(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,Nh=new WeakMap,Hv=new WeakMap,rh=new WeakMap,Fh=new WeakMap;function N2(a){const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{l(zi(a.result)),o()},d=()=>{c(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",d)});return n.then(l=>{l instanceof IDBCursor&&Bv.set(l,a)}).catch(()=>{}),Fh.set(n,a),n}function A2(a){if(Nh.has(a))return;const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{l(),o()},d=()=>{c(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});Nh.set(a,n)}let Ah={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return Nh.get(a);if(n==="objectStoreNames")return a.objectStoreNames||Hv.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return zi(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function w2(a){Ah=a(Ah)}function D2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const c=a.call(oh(this),n,...l);return Hv.set(c,n.sort?n.sort():[n]),zi(c)}:x2().includes(a)?function(...n){return a.apply(oh(this),n),zi(Bv.get(this))}:function(...n){return zi(a.apply(oh(this),n))}}function M2(a){return typeof a=="function"?D2(a):(a instanceof IDBTransaction&&A2(a),E2(a,T2())?new Proxy(a,Ah):a)}function zi(a){if(a instanceof IDBRequest)return N2(a);if(rh.has(a))return rh.get(a);const n=M2(a);return n!==a&&(rh.set(a,n),Fh.set(n,a)),n}const oh=a=>Fh.get(a);function j2(a,n,{blocked:l,upgrade:c,blocking:o,terminated:h}={}){const d=indexedDB.open(a,n),g=zi(d);return c&&d.addEventListener("upgradeneeded",v=>{c(zi(d.result),v.oldVersion,v.newVersion,zi(d.transaction),v)}),l&&d.addEventListener("blocked",v=>l(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const O2=["get","getKey","getAll","getAllKeys","count"],R2=["put","add","delete","clear"],uh=new Map;function Bp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(uh.get(n))return uh.get(n);const l=n.replace(/FromIndex$/,""),c=n!==l,o=R2.includes(l);if(!(l in(c?IDBIndex:IDBObjectStore).prototype)||!(o||O2.includes(l)))return;const h=async function(d,...g){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return c&&(y=y.index(g.shift())),(await Promise.all([y[l](...g),o&&v.done]))[0]};return uh.set(n,h),h}w2(a=>({...a,get:(n,l,c)=>Bp(n,l)||a.get(n,l,c),has:(n,l)=>!!Bp(n,l)||a.has(n,l)}));class z2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(U2(l)){const c=l.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(l=>l).join(" ")}}function U2(a){return a.getComponent()?.type==="VERSION"}const wh="@firebase/app",Hp="0.14.7";const $n=new Lv("@firebase/app"),L2="@firebase/app-compat",B2="@firebase/analytics-compat",H2="@firebase/analytics",I2="@firebase/app-check-compat",k2="@firebase/app-check",V2="@firebase/auth",G2="@firebase/auth-compat",q2="@firebase/database",Y2="@firebase/data-connect",Q2="@firebase/database-compat",X2="@firebase/functions",F2="@firebase/functions-compat",K2="@firebase/installations",Z2="@firebase/installations-compat",J2="@firebase/messaging",W2="@firebase/messaging-compat",$2="@firebase/performance",P2="@firebase/performance-compat",eb="@firebase/remote-config",tb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",lb="@firebase/firestore",ab="@firebase/ai",sb="@firebase/firestore-compat",cb="firebase",rb="12.8.0";const Dh="[DEFAULT]",ob={[wh]:"fire-core",[L2]:"fire-core-compat",[H2]:"fire-analytics",[B2]:"fire-analytics-compat",[k2]:"fire-app-check",[I2]:"fire-app-check-compat",[V2]:"fire-auth",[G2]:"fire-auth-compat",[q2]:"fire-rtdb",[Y2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[X2]:"fire-fn",[F2]:"fire-fn-compat",[K2]:"fire-iid",[Z2]:"fire-iid-compat",[J2]:"fire-fcm",[W2]:"fire-fcm-compat",[$2]:"fire-perf",[P2]:"fire-perf-compat",[eb]:"fire-rc",[tb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[lb]:"fire-fst",[sb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[cb]:"fire-js-all"};const fr=new Map,ub=new Map,Mh=new Map;function Ip(a,n){try{a.container.addComponent(n)}catch(l){$n.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function dr(a){const n=a.name;if(Mh.has(n))return $n.debug(`There were multiple attempts to register component ${n}.`),!1;Mh.set(n,a);for(const l of fr.values())Ip(l,a);for(const l of ub.values())Ip(l,a);return!0}function hb(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function fb(a){return a==null?!1:a.settings!==void 0}const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new zv("app","Firebase",db);class mb{constructor(n,l,c){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const gb=rb;function Iv(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const c={name:Dh,automaticDataCollectionEnabled:!0,...n},o=c.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(l||(l=Ov()),!l)throw Ui.create("no-options");const h=fr.get(o);if(h){if(hr(l,h.options)&&hr(c,h.config))return h;throw Ui.create("duplicate-app",{appName:o})}const d=new y2(o);for(const v of Mh.values())d.addComponent(v);const g=new mb(l,c,d);return fr.set(o,g),g}function pb(a=Dh){const n=fr.get(a);if(!n&&a===Dh&&Ov())return Iv();if(!n)throw Ui.create("no-app",{appName:a});return n}function sa(a,n,l){let c=ob[a]??a;l&&(c+=`-${l}`);const o=c.match(/\s|\//),h=n.match(/\s|\//);if(o||h){const d=[`Unable to register library "${c}" with version "${n}":`];o&&d.push(`library name "${c}" contains illegal characters (whitespace or "/")`),o&&h&&d.push("and"),h&&d.push(`version name "${n}" contains illegal characters (whitespace or "/")`),$n.warn(d.join(" "));return}dr(new Ns(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}const vb="firebase-heartbeat-database",yb=1,As="firebase-heartbeat-store";let hh=null;function kv(){return hh||(hh=j2(vb,yb,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(As)}catch(l){console.warn(l)}}}}).catch(a=>{throw Ui.create("idb-open",{originalErrorMessage:a.message})})),hh}async function _b(a){try{const l=(await kv()).transaction(As),c=await l.objectStore(As).get(Vv(a));return await l.done,c}catch(n){if(n instanceof Bs)$n.warn(n.message);else{const l=Ui.create("idb-get",{originalErrorMessage:n?.message});$n.warn(l.message)}}}async function kp(a,n){try{const c=(await kv()).transaction(As,"readwrite");await c.objectStore(As).put(n,Vv(a)),await c.done}catch(l){if(l instanceof Bs)$n.warn(l.message);else{const c=Ui.create("idb-set",{originalErrorMessage:l?.message});$n.warn(c.message)}}}function Vv(a){return`${a.name}!${a.options.appId}`}const bb=1024,Sb=30;class Cb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Tb(l),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(o=>o.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Sb){const o=xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){$n.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:l,unsentEntries:c}=Eb(this._heartbeatsCache.heartbeats),o=or(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $n.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function Eb(a,n=bb){const l=[];let c=a.slice();for(const o of a){const h=l.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),Gp(l)>n){h.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),Gp(l)>n){l.pop();break}c=c.slice(1)}return{heartbeatsToSend:l,unsentEntries:c}}class Tb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a2()?s2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await _b(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return kp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return kp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Gp(a){return or(JSON.stringify({version:2,heartbeats:a})).length}function xb(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let c=1;c<a.length;c++)a[c].date<l&&(l=a[c].date,n=c);return n}function Nb(a){dr(new Ns("platform-logger",n=>new z2(n),"PRIVATE")),dr(new Ns("heartbeat",n=>new Cb(n),"PRIVATE")),sa(wh,Hp,a),sa(wh,Hp,"esm2020"),sa("fire-js","")}Nb("");var Ab="firebase",wb="12.8.0";sa(Ab,wb,"app");var qp={};const Yp="@firebase/database",Qp="1.1.0";let Gv="";function Db(a){Gv=a}class Mb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),ct(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:xs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class jb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return An(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const qv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Mb(n)}}catch{}return new jb},rl=qv("localStorage"),Ob=qv("sessionStorage");const ca=new Lv("@firebase/database"),Rb=(function(){let a=1;return function(){return a++}})(),Yv=function(a){const n=m2(a),l=new d2;l.update(n);const c=l.digest();return Qh.encodeByteArray(c)},Hs=function(...a){let n="";for(let l=0;l<a.length;l++){const c=a[l];Array.isArray(c)||c&&typeof c=="object"&&typeof c.length=="number"?n+=Hs.apply(null,c):typeof c=="object"?n+=ct(c):n+=c,n+=" "}return n};let bs=null,Xp=!0;const zb=function(a,n){B(!0,"Can't turn on custom loggers persistently."),ca.logLevel=Re.VERBOSE,bs=ca.log.bind(ca)},_t=function(...a){if(Xp===!0&&(Xp=!1,bs===null&&Ob.get("logging_enabled")===!0&&zb()),bs){const n=Hs.apply(null,a);bs(n)}},Is=function(a){return function(...n){_t(a,...n)}},jh=function(...a){const n="FIREBASE INTERNAL ERROR: "+Hs(...a);ca.error(n)},Pn=function(...a){const n=`FIREBASE FATAL ERROR: ${Hs(...a)}`;throw ca.error(n),new Error(n)},jt=function(...a){const n="FIREBASE WARNING: "+Hs(...a);ca.warn(n)},Ub=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kh=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Lb=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},ha="[MIN_NAME]",ol="[MAX_NAME]",fl=function(a,n){if(a===n)return 0;if(a===ha||n===ol)return-1;if(n===ha||a===ol)return 1;{const l=Fp(a),c=Fp(n);return l!==null?c!==null?l-c===0?a.length-n.length:l-c:-1:c!==null?1:a<n?-1:1}},Bb=function(a,n){return a===n?0:a<n?-1:1},fs=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+ct(n))},Zh=function(a){if(typeof a!="object"||a===null)return ct(a);const n=[];for(const c in a)n.push(c);n.sort();let l="{";for(let c=0;c<n.length;c++)c!==0&&(l+=","),l+=ct(n[c]),l+=":",l+=Zh(a[n[c]]);return l+="}",l},Qv=function(a,n){const l=a.length;if(l<=n)return[a];const c=[];for(let o=0;o<l;o+=n)o+n>l?c.push(a.substring(o,l)):c.push(a.substring(o,o+n));return c};function bt(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Xv=function(a){B(!Kh(a),"Invalid JSON number");const n=11,l=52,c=(1<<n-1)-1;let o,h,d,g,v;a===0?(h=0,d=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-c)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),c),h=g+c,d=Math.round(a*Math.pow(2,l-g)-Math.pow(2,l))):(h=0,d=Math.round(a/Math.pow(2,1-c-l))));const y=[];for(v=l;v;v-=1)y.push(d%2?1:0),d=Math.floor(d/2);for(v=n;v;v-=1)y.push(h%2?1:0),h=Math.floor(h/2);y.push(o?1:0),y.reverse();const T=y.join("");let _="";for(v=0;v<64;v+=8){let S=parseInt(T.substr(v,8),2).toString(16);S.length===1&&(S="0"+S),_=_+S}return _.toLowerCase()},Hb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ib=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kb(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const c=new Error(a+" at "+n._path.toString()+": "+l);return c.code=a.toUpperCase(),c}const Vb=new RegExp("^-?(0*)\\d{1,10}$"),Gb=-2147483648,qb=2147483647,Fp=function(a){if(Vb.test(a)){const n=Number(a);if(n>=Gb&&n<=qb)return n}return null},ya=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw jt("Exception was thrown by user callback.",l),n},Math.floor(0))}},Yb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ss=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class Qb{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,fb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(c=>this.appCheck=c)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,c)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Xb{constructor(n,l,c){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,c)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(n)}}class rr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}rr.OWNER="owner";const Jh="5",Fv="v",Kv="s",Zv="r",Jv="f",Wv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$v="ls",Pv="p",Oh="ac",ey="websocket",ty="long_polling";class ny{constructor(n,l,c,o,h=!1,d="",g=!1,v=!1,y=null){this.secure=l,this.namespace=c,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=d,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this.emulatorOptions=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&rl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function Fb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function iy(a,n,l){B(typeof n=="string","typeof type must == string"),B(typeof l=="object","typeof params must == object");let c;if(n===ey)c=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===ty)c=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Fb(a)&&(l.ns=a.namespace);const o=[];return bt(l,(h,d)=>{o.push(h+"="+d)}),c+o.join("&")}class Kb{constructor(){this.counters_={}}incrementCounter(n,l=1){An(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return q1(this.counters_)}}const fh={},dh={};function Wh(a){const n=a.toString();return fh[n]||(fh[n]=new Kb),fh[n]}function Zb(a,n){const l=a.toString();return dh[l]||(dh[l]=n()),dh[l]}class Jb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<c.length;++o)c[o]&&ya(()=>{this.onMessage_(c[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Kp="start",Wb="close",$b="pLPCommand",Pb="pRTLPCB",ly="id",ay="pw",sy="ser",eS="cb",tS="seg",nS="ts",iS="d",lS="dframe",cy=1870,ry=30,aS=cy-ry,sS=25e3,cS=3e4;class aa{constructor(n,l,c,o,h,d,g){this.connId=n,this.repoInfo=l,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.transportSessionId=d,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Is(n),this.stats_=Wh(l),this.urlFn=v=>(this.appCheckToken&&(v[Oh]=this.appCheckToken),iy(l,ty,v))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Jb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cS)),Lb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $h((...h)=>{const[d,g,v,y,T]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===Kp)this.id=g,this.password=v;else if(d===Wb)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...h)=>{const[d,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(d,g)},()=>{this.onClosed_()},this.urlFn);const c={};c[Kp]="t",c[sy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(c[eS]=this.scriptTagHolder.uniqueCallbackIdentifier),c[Fv]=Jh,this.transportSessionId&&(c[Kv]=this.transportSessionId),this.lastSessionId&&(c[$v]=this.lastSessionId),this.applicationId&&(c[Pv]=this.applicationId),this.appCheckToken&&(c[Oh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wv.test(location.hostname)&&(c[Zv]=Jv);const o=this.urlFn(c);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){aa.forceAllow_=!0}static forceDisallow(){aa.forceDisallow_=!0}static isAvailable(){return aa.forceAllow_?!0:!aa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Hb()&&!Ib()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=ct(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=Dv(l),o=Qv(c,aS);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const c={};c[lS]="t",c[ly]=n,c[ay]=l,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=ct(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class $h{constructor(n,l,c,o){this.onDisconnect=c,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Rb(),window[$b+this.uniqueCallbackIdentifier]=n,window[Pb+this.uniqueCallbackIdentifier]=l,this.myIFrame=$h.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(g){_t("frame writing exception"),g.stack&&_t(g.stack),_t(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||_t("No IE domain setting required")}catch{const c=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[ly]=this.myID,n[ay]=this.myPW,n[sy]=this.currentSerial;let l=this.urlFn(n),c="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ry+c.length<=cy;){const d=this.pendingSegs.shift();c=c+"&"+tS+o+"="+d.seg+"&"+nS+o+"="+d.ts+"&"+iS+o+"="+d.d,o++}return l=l+c,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,c){this.pendingSegs.push({seg:n,ts:l,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const c=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(c,Math.floor(sS)),h=()=>{clearTimeout(o),c()};this.addTag(n,h)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=n,c.onload=c.onreadystatechange=function(){const o=c.readyState;(!o||o==="loaded"||o==="complete")&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),l())},c.onerror=()=>{_t("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}const rS=16384,oS=45e3;let mr=null;typeof MozWebSocket<"u"?mr=MozWebSocket:typeof WebSocket<"u"&&(mr=WebSocket);class _n{constructor(n,l,c,o,h,d,g){this.connId=n,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Is(this.connId),this.stats_=Wh(l),this.connURL=_n.connectionURL_(l,d,g,o,c),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,c,o,h){const d={};return d[Fv]=Jh,typeof location<"u"&&location.hostname&&Wv.test(location.hostname)&&(d[Zv]=Jv),l&&(d[Kv]=l),c&&(d[$v]=c),o&&(d[Oh]=o),h&&(d[Pv]=h),iy(n,ey,d)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rl.set("previous_websocket_failure",!0);try{let c;l2(),this.mySock=new mr(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,c=navigator.userAgent.match(l);c&&c.length>1&&parseFloat(c[1])<4.4&&(n=!0)}return!n&&mr!==null&&!_n.forceDisallow_}static previouslyFailed(){return rl.isInMemoryStorage||rl.get("previous_websocket_failure")===!0}markConnectionHealthy(){rl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const c=xs(l);this.onMessage(c)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const c=this.extractFrameCount_(l);c!==null&&this.appendFrame_(c)}}send(n){this.resetKeepAlive();const l=ct(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=Qv(l,rS);c.length>1&&this.sendString_(String(c.length));for(let o=0;o<c.length;o++)this.sendString_(c[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;class ws{static get ALL_TRANSPORTS(){return[aa,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=_n&&_n.isAvailable();let c=l&&!_n.previouslyFailed();if(n.webSocketOnly&&(l||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[_n];else{const o=this.transports_=[];for(const h of ws.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);ws.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ws.globalTransportInitialized_=!1;const uS=6e4,hS=5e3,fS=10*1024,dS=100*1024,mh="t",Zp="d",mS="s",Jp="r",gS="e",Wp="o",$p="a",Pp="n",ev="p",pS="h";class vS{constructor(n,l,c,o,h,d,g,v,y,T){this.id=n,this.repoInfo_=l,this.applicationId_=c,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=d,this.onReady_=g,this.onDisconnect_=v,this.onKill_=y,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Is("c:"+this.id+":"),this.transportManager_=new ws(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,c)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=Ss(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(mh in n){const l=n[mh];l===$p?this.upgradeIfSecondaryHealthy_():l===Jp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Wp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=fs("t",n),c=fs("d",n);if(l==="c")this.onSecondaryControl_(c);else if(l==="d")this.pendingDataMessages.push(c);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ev,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$p,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=fs("t",n),c=fs("d",n);l==="c"?this.onControl_(c):l==="d"&&this.onDataMessage_(c)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=fs(mh,n);if(Zp in n){const c=n[Zp];if(l===pS){const o={...c};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Pp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===mS?this.onConnectionShutdown_(c):l===Jp?this.onReset_(c):l===gS?jh("Server Error: "+c):l===Wp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jh("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,c=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Jh!==c&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,c),Ss(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ss(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ev,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class oy{put(n,l,c,o){}merge(n,l,c,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,c){}onDisconnectMerge(n,l,c){}onDisconnectCancel(n,l){}reportStats(n){}}class uy{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const c=[...this.listeners_[n]];for(let o=0;o<c.length;o++)c[o].callback.apply(c[o].context,l)}}on(n,l,c){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:c});const o=this.getInitialEvent(n);o&&l.apply(c,o)}off(n,l,c){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===l&&(!c||c===o[h].context)){o.splice(h,1);return}}validateEventType_(n){B(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class gr extends uy{static getInstance(){return new gr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const tv=32,nv=768;class De{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let c=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[c]=this.pieces_[o],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function _e(){return new De("")}function ie(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function Hi(a){return a.pieces_.length-a.pieceNum_}function ze(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new De(a.pieces_,n)}function Ph(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function yS(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function Ds(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function hy(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new De(n,0)}function qe(a,n){const l=[];for(let c=a.pieceNum_;c<a.pieces_.length;c++)l.push(a.pieces_[c]);if(n instanceof De)for(let c=n.pieceNum_;c<n.pieces_.length;c++)l.push(n.pieces_[c]);else{const c=n.split("/");for(let o=0;o<c.length;o++)c[o].length>0&&l.push(c[o])}return new De(l,0)}function ce(a){return a.pieceNum_>=a.pieces_.length}function Mt(a,n){const l=ie(a),c=ie(n);if(l===null)return n;if(l===c)return Mt(ze(a),ze(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function _S(a,n){const l=Ds(a,0),c=Ds(n,0);for(let o=0;o<l.length&&o<c.length;o++){const h=fl(l[o],c[o]);if(h!==0)return h}return l.length===c.length?0:l.length<c.length?-1:1}function ef(a,n){if(Hi(a)!==Hi(n))return!1;for(let l=a.pieceNum_,c=n.pieceNum_;l<=a.pieces_.length;l++,c++)if(a.pieces_[l]!==n.pieces_[c])return!1;return!0}function hn(a,n){let l=a.pieceNum_,c=n.pieceNum_;if(Hi(a)>Hi(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[c])return!1;++l,++c}return!0}class bS{constructor(n,l){this.errorPrefix_=l,this.parts_=Ds(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=Dr(this.parts_[c]);fy(this)}}function SS(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Dr(n),fy(a)}function CS(a){const n=a.parts_.pop();a.byteLength_-=Dr(n),a.parts_.length>0&&(a.byteLength_-=1)}function fy(a){if(a.byteLength_>nv)throw new Error(a.errorPrefix_+"has a key path longer than "+nv+" bytes ("+a.byteLength_+").");if(a.parts_.length>tv)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tv+") or object contains a cycle "+cl(a))}function cl(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class tf extends uy{static getInstance(){return new tf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const c=!document[n];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}const ds=1e3,ES=300*1e3,iv=30*1e3,TS=1.3,xS=3e4,NS="server_kill",lv=3;class Wn extends oy{constructor(n,l,c,o,h,d,g,v){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=c,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=d,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=Wn.nextPersistentConnectionId_++,this.log_=Is("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ds,this.maxReconnectDelay_=ES,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&gr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,c){const o=++this.requestNumber_,h={r:o,a:n,b:l};this.log_(ct(h)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),c&&(this.requestCBHash_[o]=c)}get(n){this.initConnection_();const l=new Ls,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:d=>{const g=d.d;d.s==="ok"?l.resolve(g):l.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),l.promise}listen(n,l,c,o){this.initConnection_();const h=n._queryIdentifier,d=n._path.toString();this.log_("Listen called for "+d+" "+h),this.listens.has(d)||this.listens.set(d,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(d).has(h),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:l,query:n,tag:c};this.listens.get(d).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,c=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(c)})}sendListen_(n){const l=n.query,c=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+c+" for "+o);const h={p:c},d="q";n.tag&&(h.q=l._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(d,h,g=>{const v=g.d,y=g.s;Wn.warnOnListenWarnings_(v,l),(this.listens.get(c)&&this.listens.get(c).get(o))===n&&(this.log_("listen response",g),y!=="ok"&&this.removeListen_(c,o),n.onComplete&&n.onComplete(y,v))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&An(n,"w")){const c=ua(n,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',h=l._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||h2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=u2(n)?"auth":"gauth",c={cred:n};this.authOverride_===null?c.noauth=!0:typeof this.authOverride_=="object"&&(c.authvar=this.authOverride_),this.sendRequest(l,c,o=>{const h=o.s,d=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,c=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,c)})}unlisten(n,l){const c=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+c+" "+o),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,o)&&this.connected_&&this.sendUnlisten_(c,o,n._queryObject,l)}sendUnlisten_(n,l,c,o){this.log_("Unlisten on "+n+" for "+l);const h={p:n},d="n";o&&(h.q=c,h.t=o),this.sendRequest(d,h)}onDisconnectPut(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:c})}onDisconnectMerge(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:c})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,c,o){const h={p:l,d:c};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(n,l,c,o){this.putInternal("p",n,l,c,o)}merge(n,l,c,o){this.putInternal("m",n,l,c,o)}putInternal(n,l,c,o,h){this.initConnection_();const d={p:l,d:c};h!==void 0&&(d.h=h),this.outstandingPuts_.push({action:n,request:d,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,c=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,c,h=>{this.log_(l+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,c=>{if(c.s!=="ok"){const h=c.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ct(n));const l=n.r,c=this.requestCBHash_[l];c&&(delete this.requestCBHash_[l],c(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):jh("Unrecognized action received from server: "+ct(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xS&&(this.reconnectDelay_=ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Wn.nextConnectionId_++,h=this.lastSessionId;let d=!1,g=null;const v=function(){g?g.close():(d=!0,c())},y=function(_){B(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(_)};this.realtime_={close:v,sendRequest:y};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,S]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);d?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=S&&S.token,g=new vS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,c,z=>{jt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(NS)},h))}catch(_){this.log_("Failed to get token: "+_),d||(this.repoInfo_.nodeAdmin&&jt(_),v())}}}interrupt(n){_t("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_t("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Rp(this.interruptReasons_)&&(this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let c;l?c=l.map(h=>Zh(h)).join("$"):c="default";const o=this.removeListen_(n,c);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const c=new De(n).toString();let o;if(this.listens.has(c)){const h=this.listens.get(c);o=h.get(l),h.delete(l),h.size===0&&this.listens.delete(c)}else o=void 0;return o}onAuthRevoked_(n,l){_t("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lv&&(this.reconnectDelay_=iv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){_t("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+Gv.replace(/\./g,"-")]=1,Rv()?n["framework.cordova"]=1:i2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=gr.getInstance().currentlyOnline();return Rp(this.interruptReasons_)&&n}}Wn.nextPersistentConnectionId_=0;Wn.nextConnectionId_=0;class le{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new le(n,l)}}class Mr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const c=new le(ha,n),o=new le(ha,l);return this.compare(c,o)!==0}minPost(){return le.MIN}}let sr;class dy extends Mr{static get __EMPTY_NODE(){return sr}static set __EMPTY_NODE(n){sr=n}compare(n,l){return fl(n.name,l.name)}isDefinedOn(n){throw pa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return le.MIN}maxPost(){return new le(ol,sr)}makePost(n,l){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new le(n,sr)}toString(){return".key"}}const ra=new dy;class cr{constructor(n,l,c,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let d=1;for(;!n.isEmpty();)if(n=n,d=l?c(n.key,l):1,o&&(d*=-1),d<0)this.isReverse_?n=n.left:n=n.right;else if(d===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ht{constructor(n,l,c,o,h){this.key=n,this.value=l,this.color=c??ht.RED,this.left=o??Vt.EMPTY_NODE,this.right=h??Vt.EMPTY_NODE}copy(n,l,c,o,h){return new ht(n??this.key,l??this.value,c??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,c){let o=this;const h=c(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,l,c),null):h===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,c)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let c,o;if(c=this,l(n,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(n,l),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),l(n,c.key)===0){if(c.right.isEmpty())return Vt.EMPTY_NODE;o=c.right.min_(),c=c.copy(o.key,o.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(n,l))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ht.RED=!0;ht.BLACK=!1;class AS{copy(n,l,c,o,h){return this}insert(n,l,c){return new ht(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(n,l=Vt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Vt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,ht.BLACK,null,null))}remove(n){return new Vt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ht.BLACK,null,null))}get(n){let l,c=this.root_;for(;!c.isEmpty();){if(l=this.comparator_(n,c.key),l===0)return c.value;l<0?c=c.left:l>0&&(c=c.right)}return null}getPredecessorKey(n){let l,c=this.root_,o=null;for(;!c.isEmpty();)if(l=this.comparator_(n,c.key),l===0){if(c.left.isEmpty())return o?o.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}else l<0?c=c.left:l>0&&(o=c,c=c.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new cr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new cr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new cr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new cr(this.root_,null,this.comparator_,!0,n)}}Vt.EMPTY_NODE=new AS;function wS(a,n){return fl(a.name,n.name)}function nf(a,n){return fl(a,n)}let Rh;function DS(a){Rh=a}const my=function(a){return typeof a=="number"?"number:"+Xv(a):"string:"+a},gy=function(a){if(a.isLeafNode()){const n=a.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&An(n,".sv"),"Priority must be a string or number.")}else B(a===Rh||a.isEmpty(),"priority of unexpected type.");B(a===Rh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let av;class ut{static set __childrenNodeConstructor(n){av=n}static get __childrenNodeConstructor(){return av}constructor(n,l=ut.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new ut(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ce(n)?this:ie(n)===".priority"?this.priorityNode_:ut.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:ut.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const c=ie(n);return c===null?l:l.isEmpty()&&c!==".priority"?this:(B(c!==".priority"||Hi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(c,ut.__childrenNodeConstructor.EMPTY_NODE.updateChild(ze(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+my(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Xv(this.value_):n+=this.value_,this.lazyHash_=Yv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===ut.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof ut.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,c=typeof this.value_,o=ut.VALUE_TYPE_ORDER.indexOf(l),h=ut.VALUE_TYPE_ORDER.indexOf(c);return B(o>=0,"Unknown leaf type: "+l),B(h>=0,"Unknown leaf type: "+c),o===h?c==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}ut.VALUE_TYPE_ORDER=["object","boolean","number","string"];let py,vy;function MS(a){py=a}function jS(a){vy=a}class OS extends Mr{compare(n,l){const c=n.node.getPriority(),o=l.node.getPriority(),h=c.compareTo(o);return h===0?fl(n.name,l.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return le.MIN}maxPost(){return new le(ol,new ut("[PRIORITY-POST]",vy))}makePost(n,l){const c=py(n);return new le(l,new ut("[PRIORITY-POST]",c))}toString(){return".priority"}}const Ye=new OS;const RS=Math.log(2);class zS{constructor(n){const l=h=>parseInt(Math.log(h)/RS,10),c=h=>parseInt(Array(h+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=c(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const pr=function(a,n,l,c){a.sort(n);const o=function(v,y){const T=y-v;let _,S;if(T===0)return null;if(T===1)return _=a[v],S=l?l(_):_,new ht(S,_.node,ht.BLACK,null,null);{const z=parseInt(T/2,10)+v,U=o(v,z),Y=o(z+1,y);return _=a[z],S=l?l(_):_,new ht(S,_.node,ht.BLACK,U,Y)}},h=function(v){let y=null,T=null,_=a.length;const S=function(U,Y){const I=_-U,ne=_;_-=U;const Ue=o(I+1,ne),te=a[I],K=l?l(te):te;z(new ht(K,te.node,Y,null,Ue))},z=function(U){y?(y.left=U,y=U):(T=U,y=U)};for(let U=0;U<v.count;++U){const Y=v.nextBitIsOne(),I=Math.pow(2,v.count-(U+1));Y?S(I,ht.BLACK):(S(I,ht.BLACK),S(I,ht.RED))}return T},d=new zS(a.length),g=h(d);return new Vt(c||n,g)};let gh;const la={};class Zn{static get Default(){return B(la&&Ye,"ChildrenNode.ts has not been loaded"),gh=gh||new Zn({".priority":la},{".priority":Ye}),gh}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=ua(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Vt?l:null}hasIndex(n){return An(this.indexSet_,n.toString())}addIndex(n,l){B(n!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let o=!1;const h=l.getIterator(le.Wrap);let d=h.getNext();for(;d;)o=o||n.isDefinedOn(d.node),c.push(d),d=h.getNext();let g;o?g=pr(c,n.getCompare()):g=la;const v=n.toString(),y={...this.indexSet_};y[v]=n;const T={...this.indexes_};return T[v]=g,new Zn(T,y)}addToIndexes(n,l){const c=ur(this.indexes_,(o,h)=>{const d=ua(this.indexSet_,h);if(B(d,"Missing index implementation for "+h),o===la)if(d.isDefinedOn(n.node)){const g=[],v=l.getIterator(le.Wrap);let y=v.getNext();for(;y;)y.name!==n.name&&g.push(y),y=v.getNext();return g.push(n),pr(g,d.getCompare())}else return la;else{const g=l.get(n.name);let v=o;return g&&(v=v.remove(new le(n.name,g))),v.insert(n,n.node)}});return new Zn(c,this.indexSet_)}removeFromIndexes(n,l){const c=ur(this.indexes_,o=>{if(o===la)return o;{const h=l.get(n.name);return h?o.remove(new le(n.name,h)):o}});return new Zn(c,this.indexSet_)}}let ms;class Z{static get EMPTY_NODE(){return ms||(ms=new Z(new Vt(nf),null,Zn.Default))}constructor(n,l,c){this.children_=n,this.priorityNode_=l,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&gy(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ms}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?ms:l}}getChild(n){const l=ie(n);return l===null?this:this.getImmediateChild(l).getChild(ze(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(B(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const c=new le(n,l);let o,h;l.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(c,this.children_)):(o=this.children_.insert(n,l),h=this.indexMap_.addToIndexes(c,this.children_));const d=o.isEmpty()?ms:this.priorityNode_;return new Z(o,d,h)}}updateChild(n,l){const c=ie(n);if(c===null)return l;{B(ie(n)!==".priority"||Hi(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(c).updateChild(ze(n),l);return this.updateImmediateChild(c,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let c=0,o=0,h=!0;if(this.forEachChild(Ye,(d,g)=>{l[d]=g.val(n),c++,h&&Z.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):h=!1}),!n&&h&&o<2*c){const d=[];for(const g in l)d[g]=l[g];return d}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+my(this.getPriority().val())+":"),this.forEachChild(Ye,(l,c)=>{const o=c.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":Yv(n)}return this.lazyHash_}getPredecessorChildName(n,l,c){const o=this.resolveIndex_(c);if(o){const h=o.getPredecessorKey(new le(n,l));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.minKey();return c&&c.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new le(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.maxKey();return c&&c.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new le(l,this.children_.get(l)):null}forEachChild(n,l){const c=this.resolveIndex_(n);return c?c.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,le.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,le.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ks?-1:0}withIndex(n){if(n===ra||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===ra||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const c=this.getIterator(Ye),o=l.getIterator(Ye);let h=c.getNext(),d=o.getNext();for(;h&&d;){if(h.name!==d.name||!h.node.equals(d.node))return!1;h=c.getNext(),d=o.getNext()}return h===null&&d===null}else return!1;else return!1}}resolveIndex_(n){return n===ra?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class US extends Z{constructor(){super(new Vt(nf),Z.EMPTY_NODE,Zn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const ks=new US;Object.defineProperties(le,{MIN:{value:new le(ha,Z.EMPTY_NODE)},MAX:{value:new le(ol,ks)}});dy.__EMPTY_NODE=Z.EMPTY_NODE;ut.__childrenNodeConstructor=Z;DS(ks);jS(ks);const LS=!0;function st(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new ut(l,st(n))}if(!(a instanceof Array)&&LS){const l=[];let c=!1;if(bt(a,(d,g)=>{if(d.substring(0,1)!=="."){const v=st(g);v.isEmpty()||(c=c||!v.getPriority().isEmpty(),l.push(new le(d,v)))}}),l.length===0)return Z.EMPTY_NODE;const h=pr(l,wS,d=>d.name,nf);if(c){const d=pr(l,Ye.getCompare());return new Z(h,st(n),new Zn({".priority":d},{".priority":Ye}))}else return new Z(h,st(n),Zn.Default)}else{let l=Z.EMPTY_NODE;return bt(a,(c,o)=>{if(An(a,c)&&c.substring(0,1)!=="."){const h=st(o);(h.isLeafNode()||!h.isEmpty())&&(l=l.updateImmediateChild(c,h))}}),l.updatePriority(st(n))}}MS(st);class BS extends Mr{constructor(n){super(),this.indexPath_=n,B(!ce(n)&&ie(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const c=this.extractChild(n.node),o=this.extractChild(l.node),h=c.compareTo(o);return h===0?fl(n.name,l.name):h}makePost(n,l){const c=st(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,c);return new le(l,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,ks);return new le(ol,n)}toString(){return Ds(this.indexPath_,0).join("/")}}class HS extends Mr{compare(n,l){const c=n.node.compareTo(l.node);return c===0?fl(n.name,l.name):c}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(n,l){const c=st(n);return new le(l,c)}toString(){return".value"}}const IS=new HS;function yy(a){return{type:"value",snapshotNode:a}}function fa(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Ms(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function js(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function kS(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class lf{constructor(n){this.index_=n}updateChild(n,l,c,o,h,d){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(l);return g.getChild(o).equals(c.getChild(o))&&g.isEmpty()===c.isEmpty()||(d!=null&&(c.isEmpty()?n.hasChild(l)?d.trackChildChange(Ms(l,g)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?d.trackChildChange(fa(l,c)):d.trackChildChange(js(l,c,g))),n.isLeafNode()&&c.isEmpty())?n:n.updateImmediateChild(l,c).withIndex(this.index_)}updateFullNode(n,l,c){return c!=null&&(n.isLeafNode()||n.forEachChild(Ye,(o,h)=>{l.hasChild(o)||c.trackChildChange(Ms(o,h))}),l.isLeafNode()||l.forEachChild(Ye,(o,h)=>{if(n.hasChild(o)){const d=n.getImmediateChild(o);d.equals(h)||c.trackChildChange(js(o,h,d))}else c.trackChildChange(fa(o,h))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Os{constructor(n){this.indexedFilter_=new lf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Os.getStartPost_(n),this.endPost_=Os.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,c=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&c}updateChild(n,l,c,o,h,d){return this.matches(new le(l,c))||(c=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,c,o,h,d)}updateFullNode(n,l,c){l.isLeafNode()&&(l=Z.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const h=this;return l.forEachChild(Ye,(d,g)=>{h.matches(new le(d,g))||(o=o.updateImmediateChild(d,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class VS{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=l=>{const c=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new Os(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,c,o,h,d){return this.rangedFilter_.matches(new le(l,c))||(c=Z.EMPTY_NODE),n.getImmediateChild(l).equals(c)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,c,o,h,d):this.fullLimitUpdateChild_(n,l,c,h,d)}updateFullNode(n,l,c){let o;if(l.isLeafNode()||l.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;h.hasNext()&&d<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),d++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let d=0;for(;h.hasNext();){const g=h.getNext();d<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?d++:o=o.updateImmediateChild(g.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,c,o,h){let d;if(this.reverse_){const _=this.index_.getCompare();d=(S,z)=>_(z,S)}else d=this.index_.getCompare();const g=n;B(g.numChildren()===this.limit_,"");const v=new le(l,c),y=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),T=this.rangedFilter_.matches(v);if(g.hasChild(l)){const _=g.getImmediateChild(l);let S=o.getChildAfterChild(this.index_,y,this.reverse_);for(;S!=null&&(S.name===l||g.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const z=S==null?1:d(S,v);if(T&&!c.isEmpty()&&z>=0)return h?.trackChildChange(js(l,c,_)),g.updateImmediateChild(l,c);{h?.trackChildChange(Ms(l,_));const Y=g.updateImmediateChild(l,Z.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(h?.trackChildChange(fa(S.name,S.node)),Y.updateImmediateChild(S.name,S.node)):Y}}else return c.isEmpty()?n:T&&d(y,v)>=0?(h!=null&&(h.trackChildChange(Ms(y.name,y.node)),h.trackChildChange(fa(l,c))),g.updateImmediateChild(l,c).updateImmediateChild(y.name,Z.EMPTY_NODE)):n}}class af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ye}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ol}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ye}copy(){const n=new af;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function GS(a){return a.loadsAllData()?new lf(a.getIndex()):a.hasLimit()?new VS(a):new Os(a)}function sv(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Ye?l="$priority":a.index_===IS?l="$value":a.index_===ra?l="$key":(B(a.index_ instanceof BS,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=ct(l),a.startSet_){const c=a.startAfterSet_?"startAfter":"startAt";n[c]=ct(a.indexStartValue_),a.startNameSet_&&(n[c]+=","+ct(a.indexStartName_))}if(a.endSet_){const c=a.endBeforeSet_?"endBefore":"endAt";n[c]=ct(a.indexEndValue_),a.endNameSet_&&(n[c]+=","+ct(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function cv(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Ye&&(n.i=a.index_.toString()),n}class vr extends oy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,c,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=o,this.log_=Is("p:rest:"),this.listens_={}}listen(n,l,c,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const d=vr.getListenId_(n,c),g={};this.listens_[d]=g;const v=sv(n._queryParams);this.restRequest_(h+".json",v,(y,T)=>{let _=T;if(y===404&&(_=null,y=null),y===null&&this.onDataUpdate_(h,_,!1,c),ua(this.listens_,d)===g){let S;y?y===401?S="permission_denied":S="rest_error:"+y:S="ok",o(S,null)}})}unlisten(n,l){const c=vr.getListenId_(n,l);delete this.listens_[c]}get(n){const l=sv(n._queryParams),c=n._path.toString(),o=new Ls;return this.restRequest_(c+".json",l,(h,d)=>{let g=d;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(c,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},c){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(l.auth=o.accessToken),h&&h.token&&(l.ac=h.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+f2(l);this.log_("Sending REST request for "+d);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(c&&g.readyState===4){this.log_("REST Response for "+d+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=xs(g.responseText)}catch{jt("Failed to parse JSON response for "+d+": "+g.responseText)}c(null,v)}else g.status!==401&&g.status!==404&&jt("Got unsuccessful REST response for "+d+" Status: "+g.status),c(g.status);c=null}},g.open("GET",d,!0),g.send()})}}class qS{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function yr(){return{value:null,children:new Map}}function _y(a,n,l){if(ce(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const c=ie(n);a.children.has(c)||a.children.set(c,yr());const o=a.children.get(c);n=ze(n),_y(o,n,l)}}function zh(a,n,l){a.value!==null?l(n,a.value):YS(a,(c,o)=>{const h=new De(n.toString()+"/"+c);zh(o,h,l)})}function YS(a,n){a.children.forEach((l,c)=>{n(c,l)})}class QS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&bt(this.last_,(c,o)=>{l[c]=l[c]-o}),this.last_=n,l}}const rv=10*1e3,XS=30*1e3,FS=300*1e3;class KS{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new QS(n);const c=rv+(XS-rv)*Math.random();Ss(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const n=this.statsListener_.get(),l={};let c=!1;bt(n,(o,h)=>{h>0&&An(this.statsToReport_,o)&&(l[o]=h,c=!0)}),c&&this.server_.reportStats(l),Ss(this.reportStats_.bind(this),Math.floor(Math.random()*2*FS))}}var bn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bn||(bn={}));function sf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class _r{constructor(n,l,c){this.path=n,this.affectedTree=l,this.revert=c,this.type=bn.ACK_USER_WRITE,this.source=sf()}operationForChild(n){if(ce(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new De(n));return new _r(_e(),l,this.revert)}}else return B(ie(this.path)===n,"operationForChild called for unrelated child."),new _r(ze(this.path),this.affectedTree,this.revert)}}class Rs{constructor(n,l){this.source=n,this.path=l,this.type=bn.LISTEN_COMPLETE}operationForChild(n){return ce(this.path)?new Rs(this.source,_e()):new Rs(this.source,ze(this.path))}}class ul{constructor(n,l,c){this.source=n,this.path=l,this.snap=c,this.type=bn.OVERWRITE}operationForChild(n){return ce(this.path)?new ul(this.source,_e(),this.snap.getImmediateChild(n)):new ul(this.source,ze(this.path),this.snap)}}class da{constructor(n,l,c){this.source=n,this.path=l,this.children=c,this.type=bn.MERGE}operationForChild(n){if(ce(this.path)){const l=this.children.subtree(new De(n));return l.isEmpty()?null:l.value?new ul(this.source,_e(),l.value):new da(this.source,_e(),l)}else return B(ie(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new da(this.source,ze(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ii{constructor(n,l,c){this.node_=n,this.fullyInitialized_=l,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ce(n))return this.isFullyInitialized()&&!this.filtered_;const l=ie(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class ZS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function JS(a,n,l,c){const o=[],h=[];return n.forEach(d=>{d.type==="child_changed"&&a.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&h.push(kS(d.childName,d.snapshotNode))}),gs(a,o,"child_removed",n,c,l),gs(a,o,"child_added",n,c,l),gs(a,o,"child_moved",h,c,l),gs(a,o,"child_changed",n,c,l),gs(a,o,"value",n,c,l),o}function gs(a,n,l,c,o,h){const d=c.filter(g=>g.type===l);d.sort((g,v)=>$S(a,g,v)),d.forEach(g=>{const v=WS(a,g,h);o.forEach(y=>{y.respondsTo(g.type)&&n.push(y.createEvent(v,a.query_))})})}function WS(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function $S(a,n,l){if(n.childName==null||l.childName==null)throw pa("Should only compare child_ events.");const c=new le(n.childName,n.snapshotNode),o=new le(l.childName,l.snapshotNode);return a.index_.compare(c,o)}function jr(a,n){return{eventCache:a,serverCache:n}}function Cs(a,n,l,c){return jr(new Ii(n,l,c),a.serverCache)}function by(a,n,l,c){return jr(a.eventCache,new Ii(n,l,c))}function br(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function hl(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let ph;const PS=()=>(ph||(ph=new Vt(Bb)),ph);class Oe{static fromObject(n){let l=new Oe(null);return bt(n,(c,o)=>{l=l.set(new De(c),o)}),l}constructor(n,l=PS()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:_e(),value:this.value};if(ce(n))return null;{const c=ie(n),o=this.children.get(c);if(o!==null){const h=o.findRootMostMatchingPathAndValue(ze(n),l);return h!=null?{path:qe(new De(c),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ce(n))return this;{const l=ie(n),c=this.children.get(l);return c!==null?c.subtree(ze(n)):new Oe(null)}}set(n,l){if(ce(n))return new Oe(l,this.children);{const c=ie(n),h=(this.children.get(c)||new Oe(null)).set(ze(n),l),d=this.children.insert(c,h);return new Oe(this.value,d)}}remove(n){if(ce(n))return this.children.isEmpty()?new Oe(null):new Oe(null,this.children);{const l=ie(n),c=this.children.get(l);if(c){const o=c.remove(ze(n));let h;return o.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,o),this.value===null&&h.isEmpty()?new Oe(null):new Oe(this.value,h)}else return this}}get(n){if(ce(n))return this.value;{const l=ie(n),c=this.children.get(l);return c?c.get(ze(n)):null}}setTree(n,l){if(ce(n))return l;{const c=ie(n),h=(this.children.get(c)||new Oe(null)).setTree(ze(n),l);let d;return h.isEmpty()?d=this.children.remove(c):d=this.children.insert(c,h),new Oe(this.value,d)}}fold(n){return this.fold_(_e(),n)}fold_(n,l){const c={};return this.children.inorderTraversal((o,h)=>{c[o]=h.fold_(qe(n,o),l)}),l(n,this.value,c)}findOnPath(n,l){return this.findOnPath_(n,_e(),l)}findOnPath_(n,l,c){const o=this.value?c(l,this.value):!1;if(o)return o;if(ce(n))return null;{const h=ie(n),d=this.children.get(h);return d?d.findOnPath_(ze(n),qe(l,h),c):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,_e(),l)}foreachOnPath_(n,l,c){if(ce(n))return this;{this.value&&c(l,this.value);const o=ie(n),h=this.children.get(o);return h?h.foreachOnPath_(ze(n),qe(l,o),c):new Oe(null)}}foreach(n){this.foreach_(_e(),n)}foreach_(n,l){this.children.inorderTraversal((c,o)=>{o.foreach_(qe(n,c),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,c)=>{c.value&&n(l,c.value)})}}class Sn{constructor(n){this.writeTree_=n}static empty(){return new Sn(new Oe(null))}}function Es(a,n,l){if(ce(n))return new Sn(new Oe(l));{const c=a.writeTree_.findRootMostValueAndPath(n);if(c!=null){const o=c.path;let h=c.value;const d=Mt(o,n);return h=h.updateChild(d,l),new Sn(a.writeTree_.set(o,h))}else{const o=new Oe(l),h=a.writeTree_.setTree(n,o);return new Sn(h)}}}function Uh(a,n,l){let c=a;return bt(l,(o,h)=>{c=Es(c,qe(n,o),h)}),c}function ov(a,n){if(ce(n))return Sn.empty();{const l=a.writeTree_.setTree(n,new Oe(null));return new Sn(l)}}function Lh(a,n){return dl(a,n)!=null}function dl(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(Mt(l.path,n)):null}function uv(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Ye,(c,o)=>{n.push(new le(c,o))}):a.writeTree_.children.inorderTraversal((c,o)=>{o.value!=null&&n.push(new le(c,o.value))}),n}function Li(a,n){if(ce(n))return a;{const l=dl(a,n);return l!=null?new Sn(new Oe(l)):new Sn(a.writeTree_.subtree(n))}}function Bh(a){return a.writeTree_.isEmpty()}function ma(a,n){return Sy(_e(),a.writeTree_,n)}function Sy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let c=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(B(h.value!==null,"Priority writes must always be leaf nodes"),c=h.value):l=Sy(qe(a,o),h,l)}),!l.getChild(a).isEmpty()&&c!==null&&(l=l.updateChild(qe(a,".priority"),c)),l}}function Or(a,n){return xy(n,a)}function e4(a,n,l,c,o){B(c>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:c,visible:o}),o&&(a.visibleWrites=Es(a.visibleWrites,n,l)),a.lastWriteId=c}function t4(a,n,l,c){B(c>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:c,visible:!0}),a.visibleWrites=Uh(a.visibleWrites,n,l),a.lastWriteId=c}function n4(a,n){for(let l=0;l<a.allWrites.length;l++){const c=a.allWrites[l];if(c.writeId===n)return c}return null}function i4(a,n){const l=a.allWrites.findIndex(g=>g.writeId===n);B(l>=0,"removeWrite called with nonexistent writeId.");const c=a.allWrites[l];a.allWrites.splice(l,1);let o=c.visible,h=!1,d=a.allWrites.length-1;for(;o&&d>=0;){const g=a.allWrites[d];g.visible&&(d>=l&&l4(g,c.path)?o=!1:hn(c.path,g.path)&&(h=!0)),d--}if(o){if(h)return a4(a),!0;if(c.snap)a.visibleWrites=ov(a.visibleWrites,c.path);else{const g=c.children;bt(g,v=>{a.visibleWrites=ov(a.visibleWrites,qe(c.path,v))})}return!0}else return!1}function l4(a,n){if(a.snap)return hn(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&hn(qe(a.path,l),n))return!0;return!1}function a4(a){a.visibleWrites=Cy(a.allWrites,s4,_e()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function s4(a){return a.visible}function Cy(a,n,l){let c=Sn.empty();for(let o=0;o<a.length;++o){const h=a[o];if(n(h)){const d=h.path;let g;if(h.snap)hn(l,d)?(g=Mt(l,d),c=Es(c,g,h.snap)):hn(d,l)&&(g=Mt(d,l),c=Es(c,_e(),h.snap.getChild(g)));else if(h.children){if(hn(l,d))g=Mt(l,d),c=Uh(c,g,h.children);else if(hn(d,l))if(g=Mt(d,l),ce(g))c=Uh(c,_e(),h.children);else{const v=ua(h.children,ie(g));if(v){const y=v.getChild(ze(g));c=Es(c,_e(),y)}}}else throw pa("WriteRecord should have .snap or .children")}}return c}function Ey(a,n,l,c,o){if(!c&&!o){const h=dl(a.visibleWrites,n);if(h!=null)return h;{const d=Li(a.visibleWrites,n);if(Bh(d))return l;if(l==null&&!Lh(d,_e()))return null;{const g=l||Z.EMPTY_NODE;return ma(d,g)}}}else{const h=Li(a.visibleWrites,n);if(!o&&Bh(h))return l;if(!o&&l==null&&!Lh(h,_e()))return null;{const d=function(y){return(y.visible||o)&&(!c||!~c.indexOf(y.writeId))&&(hn(y.path,n)||hn(n,y.path))},g=Cy(a.allWrites,d,n),v=l||Z.EMPTY_NODE;return ma(g,v)}}}function c4(a,n,l){let c=Z.EMPTY_NODE;const o=dl(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Ye,(h,d)=>{c=c.updateImmediateChild(h,d)}),c;if(l){const h=Li(a.visibleWrites,n);return l.forEachChild(Ye,(d,g)=>{const v=ma(Li(h,new De(d)),g);c=c.updateImmediateChild(d,v)}),uv(h).forEach(d=>{c=c.updateImmediateChild(d.name,d.node)}),c}else{const h=Li(a.visibleWrites,n);return uv(h).forEach(d=>{c=c.updateImmediateChild(d.name,d.node)}),c}}function r4(a,n,l,c,o){B(c||o,"Either existingEventSnap or existingServerSnap must exist");const h=qe(n,l);if(Lh(a.visibleWrites,h))return null;{const d=Li(a.visibleWrites,h);return Bh(d)?o.getChild(l):ma(d,o.getChild(l))}}function o4(a,n,l,c){const o=qe(n,l),h=dl(a.visibleWrites,o);if(h!=null)return h;if(c.isCompleteForChild(l)){const d=Li(a.visibleWrites,o);return ma(d,c.getNode().getImmediateChild(l))}else return null}function u4(a,n){return dl(a.visibleWrites,n)}function h4(a,n,l,c,o,h,d){let g;const v=Li(a.visibleWrites,n),y=dl(v,_e());if(y!=null)g=y;else if(l!=null)g=ma(v,l);else return[];if(g=g.withIndex(d),!g.isEmpty()&&!g.isLeafNode()){const T=[],_=d.getCompare(),S=h?g.getReverseIteratorFrom(c,d):g.getIteratorFrom(c,d);let z=S.getNext();for(;z&&T.length<o;)_(z,c)!==0&&T.push(z),z=S.getNext();return T}else return[]}function f4(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function Sr(a,n,l,c){return Ey(a.writeTree,a.treePath,n,l,c)}function of(a,n){return c4(a.writeTree,a.treePath,n)}function hv(a,n,l,c){return r4(a.writeTree,a.treePath,n,l,c)}function Cr(a,n){return u4(a.writeTree,qe(a.treePath,n))}function d4(a,n,l,c,o,h){return h4(a.writeTree,a.treePath,n,l,c,o,h)}function uf(a,n,l){return o4(a.writeTree,a.treePath,n,l)}function Ty(a,n){return xy(qe(a.treePath,n),a.writeTree)}function xy(a,n){return{treePath:a,writeTree:n}}class m4{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,c=n.childName;B(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),B(c!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(c);if(o){const h=o.type;if(l==="child_added"&&h==="child_removed")this.changeMap.set(c,js(c,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&h==="child_added")this.changeMap.delete(c);else if(l==="child_removed"&&h==="child_changed")this.changeMap.set(c,Ms(c,o.oldSnap));else if(l==="child_changed"&&h==="child_added")this.changeMap.set(c,fa(c,n.snapshotNode));else if(l==="child_changed"&&h==="child_changed")this.changeMap.set(c,js(c,n.snapshotNode,o.oldSnap));else throw pa("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(c,n)}getChanges(){return Array.from(this.changeMap.values())}}class g4{getCompleteChild(n){return null}getChildAfterChild(n,l,c){return null}}const Ny=new g4;class hf{constructor(n,l,c=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=c}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const c=this.optCompleteServerCache_!=null?new Ii(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uf(this.writes_,n,c)}}getChildAfterChild(n,l,c){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hl(this.viewCache_),h=d4(this.writes_,o,l,1,c,n);return h.length===0?null:h[0]}}function p4(a){return{filter:a}}function v4(a,n){B(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function y4(a,n,l,c,o){const h=new m4;let d,g;if(l.type===bn.OVERWRITE){const y=l;y.source.fromUser?d=Hh(a,n,y.path,y.snap,c,o,h):(B(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered()&&!ce(y.path),d=Er(a,n,y.path,y.snap,c,o,g,h))}else if(l.type===bn.MERGE){const y=l;y.source.fromUser?d=b4(a,n,y.path,y.children,c,o,h):(B(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered(),d=Ih(a,n,y.path,y.children,c,o,g,h))}else if(l.type===bn.ACK_USER_WRITE){const y=l;y.revert?d=E4(a,n,y.path,c,o,h):d=S4(a,n,y.path,y.affectedTree,c,o,h)}else if(l.type===bn.LISTEN_COMPLETE)d=C4(a,n,l.path,c,h);else throw pa("Unknown operation type: "+l.type);const v=h.getChanges();return _4(n,d,v),{viewCache:d,changes:v}}function _4(a,n,l){const c=n.eventCache;if(c.isFullyInitialized()){const o=c.getNode().isLeafNode()||c.getNode().isEmpty(),h=br(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!c.getNode().equals(h)||!c.getNode().getPriority().equals(h.getPriority()))&&l.push(yy(br(n)))}}function Ay(a,n,l,c,o,h){const d=n.eventCache;if(Cr(c,l)!=null)return n;{let g,v;if(ce(l))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=hl(n),T=y instanceof Z?y:Z.EMPTY_NODE,_=of(c,T);g=a.filter.updateFullNode(n.eventCache.getNode(),_,h)}else{const y=Sr(c,hl(n));g=a.filter.updateFullNode(n.eventCache.getNode(),y,h)}else{const y=ie(l);if(y===".priority"){B(Hi(l)===1,"Can't have a priority with additional path components");const T=d.getNode();v=n.serverCache.getNode();const _=hv(c,l,T,v);_!=null?g=a.filter.updatePriority(T,_):g=d.getNode()}else{const T=ze(l);let _;if(d.isCompleteForChild(y)){v=n.serverCache.getNode();const S=hv(c,l,d.getNode(),v);S!=null?_=d.getNode().getImmediateChild(y).updateChild(T,S):_=d.getNode().getImmediateChild(y)}else _=uf(c,y,n.serverCache);_!=null?g=a.filter.updateChild(d.getNode(),y,_,T,o,h):g=d.getNode()}}return Cs(n,g,d.isFullyInitialized()||ce(l),a.filter.filtersNodes())}}function Er(a,n,l,c,o,h,d,g){const v=n.serverCache;let y;const T=d?a.filter:a.filter.getIndexedFilter();if(ce(l))y=T.updateFullNode(v.getNode(),c,null);else if(T.filtersNodes()&&!v.isFiltered()){const z=v.getNode().updateChild(l,c);y=T.updateFullNode(v.getNode(),z,null)}else{const z=ie(l);if(!v.isCompleteForPath(l)&&Hi(l)>1)return n;const U=ze(l),I=v.getNode().getImmediateChild(z).updateChild(U,c);z===".priority"?y=T.updatePriority(v.getNode(),I):y=T.updateChild(v.getNode(),z,I,U,Ny,null)}const _=by(n,y,v.isFullyInitialized()||ce(l),T.filtersNodes()),S=new hf(o,_,h);return Ay(a,_,l,o,S,g)}function Hh(a,n,l,c,o,h,d){const g=n.eventCache;let v,y;const T=new hf(o,n,h);if(ce(l))y=a.filter.updateFullNode(n.eventCache.getNode(),c,d),v=Cs(n,y,!0,a.filter.filtersNodes());else{const _=ie(l);if(_===".priority")y=a.filter.updatePriority(n.eventCache.getNode(),c),v=Cs(n,y,g.isFullyInitialized(),g.isFiltered());else{const S=ze(l),z=g.getNode().getImmediateChild(_);let U;if(ce(S))U=c;else{const Y=T.getCompleteChild(_);Y!=null?Ph(S)===".priority"&&Y.getChild(hy(S)).isEmpty()?U=Y:U=Y.updateChild(S,c):U=Z.EMPTY_NODE}if(z.equals(U))v=n;else{const Y=a.filter.updateChild(g.getNode(),_,U,S,T,d);v=Cs(n,Y,g.isFullyInitialized(),a.filter.filtersNodes())}}}return v}function fv(a,n){return a.eventCache.isCompleteForChild(n)}function b4(a,n,l,c,o,h,d){let g=n;return c.foreach((v,y)=>{const T=qe(l,v);fv(n,ie(T))&&(g=Hh(a,g,T,y,o,h,d))}),c.foreach((v,y)=>{const T=qe(l,v);fv(n,ie(T))||(g=Hh(a,g,T,y,o,h,d))}),g}function dv(a,n,l){return l.foreach((c,o)=>{n=n.updateChild(c,o)}),n}function Ih(a,n,l,c,o,h,d,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let v=n,y;ce(l)?y=c:y=new Oe(null).setTree(l,c);const T=n.serverCache.getNode();return y.children.inorderTraversal((_,S)=>{if(T.hasChild(_)){const z=n.serverCache.getNode().getImmediateChild(_),U=dv(a,z,S);v=Er(a,v,new De(_),U,o,h,d,g)}}),y.children.inorderTraversal((_,S)=>{const z=!n.serverCache.isCompleteForChild(_)&&S.value===null;if(!T.hasChild(_)&&!z){const U=n.serverCache.getNode().getImmediateChild(_),Y=dv(a,U,S);v=Er(a,v,new De(_),Y,o,h,d,g)}}),v}function S4(a,n,l,c,o,h,d){if(Cr(o,l)!=null)return n;const g=n.serverCache.isFiltered(),v=n.serverCache;if(c.value!=null){if(ce(l)&&v.isFullyInitialized()||v.isCompleteForPath(l))return Er(a,n,l,v.getNode().getChild(l),o,h,g,d);if(ce(l)){let y=new Oe(null);return v.getNode().forEachChild(ra,(T,_)=>{y=y.set(new De(T),_)}),Ih(a,n,l,y,o,h,g,d)}else return n}else{let y=new Oe(null);return c.foreach((T,_)=>{const S=qe(l,T);v.isCompleteForPath(S)&&(y=y.set(T,v.getNode().getChild(S)))}),Ih(a,n,l,y,o,h,g,d)}}function C4(a,n,l,c,o){const h=n.serverCache,d=by(n,h.getNode(),h.isFullyInitialized()||ce(l),h.isFiltered());return Ay(a,d,l,c,Ny,o)}function E4(a,n,l,c,o,h){let d;if(Cr(c,l)!=null)return n;{const g=new hf(c,n,o),v=n.eventCache.getNode();let y;if(ce(l)||ie(l)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=Sr(c,hl(n));else{const _=n.serverCache.getNode();B(_ instanceof Z,"serverChildren would be complete if leaf node"),T=of(c,_)}T=T,y=a.filter.updateFullNode(v,T,h)}else{const T=ie(l);let _=uf(c,T,n.serverCache);_==null&&n.serverCache.isCompleteForChild(T)&&(_=v.getImmediateChild(T)),_!=null?y=a.filter.updateChild(v,T,_,ze(l),g,h):n.eventCache.getNode().hasChild(T)?y=a.filter.updateChild(v,T,Z.EMPTY_NODE,ze(l),g,h):y=v,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(d=Sr(c,hl(n)),d.isLeafNode()&&(y=a.filter.updateFullNode(y,d,h)))}return d=n.serverCache.isFullyInitialized()||Cr(c,_e())!=null,Cs(n,y,d,a.filter.filtersNodes())}}class T4{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const c=this.query_._queryParams,o=new lf(c.getIndex()),h=GS(c);this.processor_=p4(h);const d=l.serverCache,g=l.eventCache,v=o.updateFullNode(Z.EMPTY_NODE,d.getNode(),null),y=h.updateFullNode(Z.EMPTY_NODE,g.getNode(),null),T=new Ii(v,d.isFullyInitialized(),o.filtersNodes()),_=new Ii(y,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=jr(_,T),this.eventGenerator_=new ZS(this.query_)}get query(){return this.query_}}function x4(a){return a.viewCache_.serverCache.getNode()}function N4(a){return br(a.viewCache_)}function A4(a,n){const l=hl(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!ce(n)&&!l.getImmediateChild(ie(n)).isEmpty())?l.getChild(n):null}function mv(a){return a.eventRegistrations_.length===0}function w4(a,n){a.eventRegistrations_.push(n)}function gv(a,n,l){const c=[];if(l){B(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(h=>{const d=h.createCancelEvent(l,o);d&&c.push(d)})}if(n){let o=[];for(let h=0;h<a.eventRegistrations_.length;++h){const d=a.eventRegistrations_[h];if(!d.matches(n))o.push(d);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(h+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return c}function pv(a,n,l,c){n.type===bn.MERGE&&n.source.queryId!==null&&(B(hl(a.viewCache_),"We should always have a full cache before handling merges"),B(br(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,h=y4(a.processor_,o,n,l,c);return v4(a.processor_,h.viewCache),B(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=h.viewCache,wy(a,h.changes,h.viewCache.eventCache.getNode(),null)}function D4(a,n){const l=a.viewCache_.eventCache,c=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Ye,(h,d)=>{c.push(fa(h,d))}),l.isFullyInitialized()&&c.push(yy(l.getNode())),wy(a,c,l.getNode(),n)}function wy(a,n,l,c){const o=c?[c]:a.eventRegistrations_;return JS(a.eventGenerator_,n,l,o)}let Tr;class Dy{constructor(){this.views=new Map}}function M4(a){B(!Tr,"__referenceConstructor has already been defined"),Tr=a}function j4(){return B(Tr,"Reference.ts has not been loaded"),Tr}function O4(a){return a.views.size===0}function ff(a,n,l,c){const o=n.source.queryId;if(o!==null){const h=a.views.get(o);return B(h!=null,"SyncTree gave us an op for an invalid query."),pv(h,n,l,c)}else{let h=[];for(const d of a.views.values())h=h.concat(pv(d,n,l,c));return h}}function My(a,n,l,c,o){const h=n._queryIdentifier,d=a.views.get(h);if(!d){let g=Sr(l,o?c:null),v=!1;g?v=!0:c instanceof Z?(g=of(l,c),v=!1):(g=Z.EMPTY_NODE,v=!1);const y=jr(new Ii(g,v,!1),new Ii(c,o,!1));return new T4(n,y)}return d}function R4(a,n,l,c,o,h){const d=My(a,n,c,o,h);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,d),w4(d,l),D4(d,l)}function z4(a,n,l,c){const o=n._queryIdentifier,h=[];let d=[];const g=ki(a);if(o==="default")for(const[v,y]of a.views.entries())d=d.concat(gv(y,l,c)),mv(y)&&(a.views.delete(v),y.query._queryParams.loadsAllData()||h.push(y.query));else{const v=a.views.get(o);v&&(d=d.concat(gv(v,l,c)),mv(v)&&(a.views.delete(o),v.query._queryParams.loadsAllData()||h.push(v.query)))}return g&&!ki(a)&&h.push(new(j4())(n._repo,n._path)),{removed:h,events:d}}function jy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Bi(a,n){let l=null;for(const c of a.views.values())l=l||A4(c,n);return l}function Oy(a,n){if(n._queryParams.loadsAllData())return Rr(a);{const c=n._queryIdentifier;return a.views.get(c)}}function Ry(a,n){return Oy(a,n)!=null}function ki(a){return Rr(a)!=null}function Rr(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let xr;function U4(a){B(!xr,"__referenceConstructor has already been defined"),xr=a}function L4(){return B(xr,"Reference.ts has not been loaded"),xr}let B4=1;class vv{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Oe(null),this.pendingWriteTree_=f4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zy(a,n,l,c,o){return e4(a.pendingWriteTree_,n,l,c,o),o?_a(a,new ul(sf(),n,l)):[]}function H4(a,n,l,c){t4(a.pendingWriteTree_,n,l,c);const o=Oe.fromObject(l);return _a(a,new da(sf(),n,o))}function Oi(a,n,l=!1){const c=n4(a.pendingWriteTree_,n);if(i4(a.pendingWriteTree_,n)){let h=new Oe(null);return c.snap!=null?h=h.set(_e(),!0):bt(c.children,d=>{h=h.set(new De(d),!0)}),_a(a,new _r(c.path,h,l))}else return[]}function Vs(a,n,l){return _a(a,new ul(cf(),n,l))}function I4(a,n,l){const c=Oe.fromObject(l);return _a(a,new da(cf(),n,c))}function k4(a,n){return _a(a,new Rs(cf(),n))}function V4(a,n,l){const c=mf(a,l);if(c){const o=gf(c),h=o.path,d=o.queryId,g=Mt(h,n),v=new Rs(rf(d),g);return pf(a,h,v)}else return[]}function Nr(a,n,l,c,o=!1){const h=n._path,d=a.syncPointTree_.get(h);let g=[];if(d&&(n._queryIdentifier==="default"||Ry(d,n))){const v=z4(d,n,l,c);O4(d)&&(a.syncPointTree_=a.syncPointTree_.remove(h));const y=v.removed;if(g=v.events,!o){const T=y.findIndex(S=>S._queryParams.loadsAllData())!==-1,_=a.syncPointTree_.findOnPath(h,(S,z)=>ki(z));if(T&&!_){const S=a.syncPointTree_.subtree(h);if(!S.isEmpty()){const z=Y4(S);for(let U=0;U<z.length;++U){const Y=z[U],I=Y.query,ne=Hy(a,Y);a.listenProvider_.startListening(Ts(I),zs(a,I),ne.hashFn,ne.onComplete)}}}!_&&y.length>0&&!c&&(T?a.listenProvider_.stopListening(Ts(n),null):y.forEach(S=>{const z=a.queryToTagMap.get(zr(S));a.listenProvider_.stopListening(Ts(S),z)}))}Q4(a,y)}return g}function Uy(a,n,l,c){const o=mf(a,c);if(o!=null){const h=gf(o),d=h.path,g=h.queryId,v=Mt(d,n),y=new ul(rf(g),v,l);return pf(a,d,y)}else return[]}function G4(a,n,l,c){const o=mf(a,c);if(o){const h=gf(o),d=h.path,g=h.queryId,v=Mt(d,n),y=Oe.fromObject(l),T=new da(rf(g),v,y);return pf(a,d,T)}else return[]}function kh(a,n,l,c=!1){const o=n._path;let h=null,d=!1;a.syncPointTree_.foreachOnPath(o,(S,z)=>{const U=Mt(S,o);h=h||Bi(z,U),d=d||ki(z)});let g=a.syncPointTree_.get(o);g?(d=d||ki(g),h=h||Bi(g,_e())):(g=new Dy,a.syncPointTree_=a.syncPointTree_.set(o,g));let v;h!=null?v=!0:(v=!1,h=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,U)=>{const Y=Bi(U,_e());Y&&(h=h.updateImmediateChild(z,Y))}));const y=Ry(g,n);if(!y&&!n._queryParams.loadsAllData()){const S=zr(n);B(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const z=X4();a.queryToTagMap.set(S,z),a.tagToQueryMap.set(z,S)}const T=Or(a.pendingWriteTree_,o);let _=R4(g,n,l,T,h,v);if(!y&&!d&&!c){const S=Oy(g,n);_=_.concat(F4(a,n,S))}return _}function df(a,n,l){const o=a.pendingWriteTree_,h=a.syncPointTree_.findOnPath(n,(d,g)=>{const v=Mt(d,n),y=Bi(g,v);if(y)return y});return Ey(o,n,h,l,!0)}function q4(a,n){const l=n._path;let c=null;a.syncPointTree_.foreachOnPath(l,(y,T)=>{const _=Mt(y,l);c=c||Bi(T,_)});let o=a.syncPointTree_.get(l);o?c=c||Bi(o,_e()):(o=new Dy,a.syncPointTree_=a.syncPointTree_.set(l,o));const h=c!=null,d=h?new Ii(c,!0,!1):null,g=Or(a.pendingWriteTree_,n._path),v=My(o,n,g,h?d.getNode():Z.EMPTY_NODE,h);return N4(v)}function _a(a,n){return Ly(n,a.syncPointTree_,null,Or(a.pendingWriteTree_,_e()))}function Ly(a,n,l,c){if(ce(a.path))return By(a,n,l,c);{const o=n.get(_e());l==null&&o!=null&&(l=Bi(o,_e()));let h=[];const d=ie(a.path),g=a.operationForChild(d),v=n.children.get(d);if(v&&g){const y=l?l.getImmediateChild(d):null,T=Ty(c,d);h=h.concat(Ly(g,v,y,T))}return o&&(h=h.concat(ff(o,a,c,l))),h}}function By(a,n,l,c){const o=n.get(_e());l==null&&o!=null&&(l=Bi(o,_e()));let h=[];return n.children.inorderTraversal((d,g)=>{const v=l?l.getImmediateChild(d):null,y=Ty(c,d),T=a.operationForChild(d);T&&(h=h.concat(By(T,g,v,y)))}),o&&(h=h.concat(ff(o,a,c,l))),h}function Hy(a,n){const l=n.query,c=zs(a,l);return{hashFn:()=>(x4(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return c?V4(a,l._path,c):k4(a,l._path);{const h=kb(o,l);return Nr(a,l,null,h)}}}}function zs(a,n){const l=zr(n);return a.queryToTagMap.get(l)}function zr(a){return a._path.toString()+"$"+a._queryIdentifier}function mf(a,n){return a.tagToQueryMap.get(n)}function gf(a){const n=a.indexOf("$");return B(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new De(a.substr(0,n))}}function pf(a,n,l){const c=a.syncPointTree_.get(n);B(c,"Missing sync point for query tag that we're tracking");const o=Or(a.pendingWriteTree_,n);return ff(c,l,o,null)}function Y4(a){return a.fold((n,l,c)=>{if(l&&ki(l))return[Rr(l)];{let o=[];return l&&(o=jy(l)),bt(c,(h,d)=>{o=o.concat(d)}),o}})}function Ts(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(L4())(a._repo,a._path):a}function Q4(a,n){for(let l=0;l<n.length;++l){const c=n[l];if(!c._queryParams.loadsAllData()){const o=zr(c),h=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(h)}}}function X4(){return B4++}function F4(a,n,l){const c=n._path,o=zs(a,n),h=Hy(a,l),d=a.listenProvider_.startListening(Ts(n),o,h.hashFn,h.onComplete),g=a.syncPointTree_.subtree(c);if(o)B(!ki(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((y,T,_)=>{if(!ce(y)&&T&&ki(T))return[Rr(T).query];{let S=[];return T&&(S=S.concat(jy(T).map(z=>z.query))),bt(_,(z,U)=>{S=S.concat(U)}),S}});for(let y=0;y<v.length;++y){const T=v[y];a.listenProvider_.stopListening(Ts(T),zs(a,T))}}return d}class vf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new vf(l)}node(){return this.node_}}class yf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=qe(this.path_,n);return new yf(this.syncTree_,l)}node(){return df(this.syncTree_,this.path_)}}const K4=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},yv=function(a,n,l){if(!a||typeof a!="object")return a;if(B(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Z4(a[".sv"],n,l);if(typeof a[".sv"]=="object")return J4(a[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Z4=function(a,n,l){if(a==="timestamp")return l.timestamp;B(!1,"Unexpected server value: "+a)},J4=function(a,n,l){a.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const c=a.increment;typeof c!="number"&&B(!1,"Unexpected increment value: "+c);const o=n.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return c;const d=o.getValue();return typeof d!="number"?c:d+c},Iy=function(a,n,l,c){return _f(n,new yf(l,a),c)},ky=function(a,n,l){return _f(a,new vf(n),l)};function _f(a,n,l){const c=a.getPriority().val(),o=yv(c,n.getImmediateChild(".priority"),l);let h;if(a.isLeafNode()){const d=a,g=yv(d.getValue(),n,l);return g!==d.getValue()||o!==d.getPriority().val()?new ut(g,st(o)):a}else{const d=a;return h=d,o!==d.getPriority().val()&&(h=h.updatePriority(new ut(o))),d.forEachChild(Ye,(g,v)=>{const y=_f(v,n.getImmediateChild(g),l);y!==v&&(h=h.updateImmediateChild(g,y))}),h}}class bf{constructor(n="",l=null,c={children:{},childCount:0}){this.name=n,this.parent=l,this.node=c}}function Sf(a,n){let l=n instanceof De?n:new De(n),c=a,o=ie(l);for(;o!==null;){const h=ua(c.node.children,o)||{children:{},childCount:0};c=new bf(o,c,h),l=ze(l),o=ie(l)}return c}function ba(a){return a.node.value}function Vy(a,n){a.node.value=n,Vh(a)}function Gy(a){return a.node.childCount>0}function W4(a){return ba(a)===void 0&&!Gy(a)}function Ur(a,n){bt(a.node.children,(l,c)=>{n(new bf(l,a,c))})}function qy(a,n,l,c){l&&n(a),Ur(a,o=>{qy(o,n,!0)})}function $4(a,n,l){let c=a.parent;for(;c!==null;){if(n(c))return!0;c=c.parent}return!1}function Gs(a){return new De(a.parent===null?a.name:Gs(a.parent)+"/"+a.name)}function Vh(a){a.parent!==null&&P4(a.parent,a.name,a)}function P4(a,n,l){const c=W4(l),o=An(a.node.children,n);c&&o?(delete a.node.children[n],a.node.childCount--,Vh(a)):!c&&!o&&(a.node.children[n]=l.node,a.node.childCount++,Vh(a))}const e3=/[\[\].#$\/\u0000-\u001F\u007F]/,t3=/[\[\].#$\u0000-\u001F\u007F]/,vh=10*1024*1024,Cf=function(a){return typeof a=="string"&&a.length!==0&&!e3.test(a)},Yy=function(a){return typeof a=="string"&&a.length!==0&&!t3.test(a)},n3=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Yy(a)},i3=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Kh(a)||a&&typeof a=="object"&&An(a,".sv")},l3=function(a,n,l,c){Lr(wr(a,"value"),n,l)},Lr=function(a,n,l){const c=l instanceof De?new bS(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+cl(c));if(typeof n=="function")throw new Error(a+"contains a function "+cl(c)+" with contents = "+n.toString());if(Kh(n))throw new Error(a+"contains "+n.toString()+" "+cl(c));if(typeof n=="string"&&n.length>vh/3&&Dr(n)>vh)throw new Error(a+"contains a string greater than "+vh+" utf8 bytes "+cl(c)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(bt(n,(d,g)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(h=!0,!Cf(d)))throw new Error(a+" contains an invalid key ("+d+") "+cl(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SS(c,d),Lr(a,g,c),CS(c)}),o&&h)throw new Error(a+' contains ".value" child '+cl(c)+" in addition to actual children.")}},a3=function(a,n){let l,c;for(l=0;l<n.length;l++){c=n[l];const h=Ds(c);for(let d=0;d<h.length;d++)if(!(h[d]===".priority"&&d===h.length-1)){if(!Cf(h[d]))throw new Error(a+"contains an invalid key ("+h[d]+") in path "+c.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(_S);let o=null;for(l=0;l<n.length;l++){if(c=n[l],o!==null&&hn(o,c))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+c.toString());o=c}},s3=function(a,n,l,c){const o=wr(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];bt(n,(d,g)=>{const v=new De(d);if(Lr(o,g,qe(l,v)),Ph(v)===".priority"&&!i3(g))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(v)}),a3(o,h)},Qy=function(a,n,l,c){if(!Yy(l))throw new Error(wr(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},c3=function(a,n,l,c){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Qy(a,n,l)},Xy=function(a,n){if(ie(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},r3=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Cf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!n3(l))throw new Error(wr(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class o3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Br(a,n){let l=null;for(let c=0;c<n.length;c++){const o=n[c],h=o.getPath();l!==null&&!ef(h,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:h}),l.events.push(o)}l&&a.eventLists_.push(l)}function Fy(a,n,l){Br(a,l),Ky(a,c=>ef(c,n))}function fn(a,n,l){Br(a,l),Ky(a,c=>hn(c,n)||hn(n,c))}function Ky(a,n){a.recursionDepth_++;let l=!0;for(let c=0;c<a.eventLists_.length;c++){const o=a.eventLists_[c];if(o){const h=o.path;n(h)?(u3(a.eventLists_[c]),a.eventLists_[c]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function u3(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const c=l.getEventRunner();bs&&_t("event: "+l.toString()),ya(c)}}}const h3="repo_interrupt",f3=25;class d3{constructor(n,l,c,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=c,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yr(),this.transactionQueueTree_=new bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m3(a,n,l){if(a.stats_=Wh(a.repoInfo_),a.forceRestClient_||Yb())a.server_=new vr(a.repoInfo_,(c,o,h,d)=>{_v(a,c,o,h,d)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>bv(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ct(l)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}a.persistentConnection_=new Wn(a.repoInfo_,n,(c,o,h,d)=>{_v(a,c,o,h,d)},c=>{bv(a,c)},c=>{p3(a,c)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(c=>{a.server_.refreshAuthToken(c)}),a.appCheckProvider_.addTokenChangeListener(c=>{a.server_.refreshAppCheckToken(c.token)}),a.statsReporter_=Zb(a.repoInfo_,()=>new KS(a.stats_,a.server_)),a.infoData_=new qS,a.infoSyncTree_=new vv({startListening:(c,o,h,d)=>{let g=[];const v=a.infoData_.getNode(c._path);return v.isEmpty()||(g=Vs(a.infoSyncTree_,c._path,v),setTimeout(()=>{d("ok")},0)),g},stopListening:()=>{}}),Ef(a,"connected",!1),a.serverSyncTree_=new vv({startListening:(c,o,h,d)=>(a.server_.listen(c,h,o,(g,v)=>{const y=d(g,v);fn(a.eventQueue_,c._path,y)}),[]),stopListening:(c,o)=>{a.server_.unlisten(c,o)}})}function g3(a){const l=a.infoData_.getNode(new De(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Hr(a){return K4({timestamp:g3(a)})}function _v(a,n,l,c,o){a.dataUpdateCount++;const h=new De(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let d=[];if(o)if(c){const v=ur(l,y=>st(y));d=G4(a.serverSyncTree_,h,v,o)}else{const v=st(l);d=Uy(a.serverSyncTree_,h,v,o)}else if(c){const v=ur(l,y=>st(y));d=I4(a.serverSyncTree_,h,v)}else{const v=st(l);d=Vs(a.serverSyncTree_,h,v)}let g=h;d.length>0&&(g=ga(a,h)),fn(a.eventQueue_,g,d)}function bv(a,n){Ef(a,"connected",n),n===!1&&b3(a)}function p3(a,n){bt(n,(l,c)=>{Ef(a,l,c)})}function Ef(a,n,l){const c=new De("/.info/"+n),o=st(l);a.infoData_.updateSnapshot(c,o);const h=Vs(a.infoSyncTree_,c,o);fn(a.eventQueue_,c,h)}function Tf(a){return a.nextWriteId_++}function v3(a,n,l){const c=q4(a.serverSyncTree_,n);return c!=null?Promise.resolve(c):a.server_.get(n).then(o=>{const h=st(o).withIndex(n._queryParams.getIndex());kh(a.serverSyncTree_,n,l,!0);let d;if(n._queryParams.loadsAllData())d=Vs(a.serverSyncTree_,n._path,h);else{const g=zs(a.serverSyncTree_,n);d=Uy(a.serverSyncTree_,n._path,h,g)}return fn(a.eventQueue_,n._path,d),Nr(a.serverSyncTree_,n,l,null,!0),h},o=>(qs(a,"get for query "+ct(n)+" failed: "+o),Promise.reject(new Error(o))))}function y3(a,n,l,c,o){qs(a,"set",{path:n.toString(),value:l,priority:c});const h=Hr(a),d=st(l,c),g=df(a.serverSyncTree_,n),v=ky(d,g,h),y=Tf(a),T=zy(a.serverSyncTree_,n,v,y,!0);Br(a.eventQueue_,T),a.server_.put(n.toString(),d.val(!0),(S,z)=>{const U=S==="ok";U||jt("set at "+n+" failed: "+S);const Y=Oi(a.serverSyncTree_,y,!U);fn(a.eventQueue_,n,Y),Gh(a,o,S,z)});const _=Nf(a,n);ga(a,_),fn(a.eventQueue_,_,[])}function _3(a,n,l,c){qs(a,"update",{path:n.toString(),value:l});let o=!0;const h=Hr(a),d={};if(bt(l,(g,v)=>{o=!1,d[g]=Iy(qe(n,g),st(v),a.serverSyncTree_,h)}),o)_t("update() called with empty data.  Don't do anything."),Gh(a,c,"ok",void 0);else{const g=Tf(a),v=H4(a.serverSyncTree_,n,d,g);Br(a.eventQueue_,v),a.server_.merge(n.toString(),l,(y,T)=>{const _=y==="ok";_||jt("update at "+n+" failed: "+y);const S=Oi(a.serverSyncTree_,g,!_),z=S.length>0?ga(a,n):n;fn(a.eventQueue_,z,S),Gh(a,c,y,T)}),bt(l,y=>{const T=Nf(a,qe(n,y));ga(a,T)}),fn(a.eventQueue_,n,[])}}function b3(a){qs(a,"onDisconnectEvents");const n=Hr(a),l=yr();zh(a.onDisconnect_,_e(),(o,h)=>{const d=Iy(o,h,a.serverSyncTree_,n);_y(l,o,d)});let c=[];zh(l,_e(),(o,h)=>{c=c.concat(Vs(a.serverSyncTree_,o,h));const d=Nf(a,o);ga(a,d)}),a.onDisconnect_=yr(),fn(a.eventQueue_,_e(),c)}function S3(a,n,l){let c;ie(n._path)===".info"?c=kh(a.infoSyncTree_,n,l):c=kh(a.serverSyncTree_,n,l),Fy(a.eventQueue_,n._path,c)}function C3(a,n,l){let c;ie(n._path)===".info"?c=Nr(a.infoSyncTree_,n,l):c=Nr(a.serverSyncTree_,n,l),Fy(a.eventQueue_,n._path,c)}function E3(a){a.persistentConnection_&&a.persistentConnection_.interrupt(h3)}function qs(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),_t(l,...n)}function Gh(a,n,l,c){n&&ya(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let h=o;c&&(h+=": "+c);const d=new Error(h);d.code=o,n(d)}})}function Zy(a,n,l){return df(a.serverSyncTree_,n,l)||Z.EMPTY_NODE}function xf(a,n=a.transactionQueueTree_){if(n||Ir(a,n),ba(n)){const l=Wy(a,n);B(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&T3(a,Gs(n),l)}else Gy(n)&&Ur(n,l=>{xf(a,l)})}function T3(a,n,l){const c=l.map(y=>y.currentWriteId),o=Zy(a,n,c);let h=o;const d=o.hash();for(let y=0;y<l.length;y++){const T=l[y];B(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const _=Mt(n,T.path);h=h.updateChild(_,T.currentOutputSnapshotRaw)}const g=h.val(!0),v=n;a.server_.put(v.toString(),g,y=>{qs(a,"transaction put response",{path:v.toString(),status:y});let T=[];if(y==="ok"){const _=[];for(let S=0;S<l.length;S++)l[S].status=2,T=T.concat(Oi(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&_.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();Ir(a,Sf(a.transactionQueueTree_,n)),xf(a,a.transactionQueueTree_),fn(a.eventQueue_,n,T);for(let S=0;S<_.length;S++)ya(_[S])}else{if(y==="datastale")for(let _=0;_<l.length;_++)l[_].status===3?l[_].status=4:l[_].status=0;else{jt("transaction at "+v.toString()+" failed: "+y);for(let _=0;_<l.length;_++)l[_].status=4,l[_].abortReason=y}ga(a,n)}},d)}function ga(a,n){const l=Jy(a,n),c=Gs(l),o=Wy(a,l);return x3(a,o,c),c}function x3(a,n,l){if(n.length===0)return;const c=[];let o=[];const d=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const v=n[g],y=Mt(l,v.path);let T=!1,_;if(B(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)T=!0,_=v.abortReason,o=o.concat(Oi(a.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=f3)T=!0,_="maxretry",o=o.concat(Oi(a.serverSyncTree_,v.currentWriteId,!0));else{const S=Zy(a,v.path,d);v.currentInputSnapshot=S;const z=n[g].update(S.val());if(z!==void 0){Lr("transaction failed: Data returned ",z,v.path);let U=st(z);typeof z=="object"&&z!=null&&An(z,".priority")||(U=U.updatePriority(S.getPriority()));const I=v.currentWriteId,ne=Hr(a),Ue=ky(U,S,ne);v.currentOutputSnapshotRaw=U,v.currentOutputSnapshotResolved=Ue,v.currentWriteId=Tf(a),d.splice(d.indexOf(I),1),o=o.concat(zy(a.serverSyncTree_,v.path,Ue,v.currentWriteId,v.applyLocally)),o=o.concat(Oi(a.serverSyncTree_,I,!0))}else T=!0,_="nodata",o=o.concat(Oi(a.serverSyncTree_,v.currentWriteId,!0))}fn(a.eventQueue_,l,o),o=[],T&&(n[g].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(_==="nodata"?c.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):c.push(()=>n[g].onComplete(new Error(_),!1,null))))}Ir(a,a.transactionQueueTree_);for(let g=0;g<c.length;g++)ya(c[g]);xf(a,a.transactionQueueTree_)}function Jy(a,n){let l,c=a.transactionQueueTree_;for(l=ie(n);l!==null&&ba(c)===void 0;)c=Sf(c,l),n=ze(n),l=ie(n);return c}function Wy(a,n){const l=[];return $y(a,n,l),l.sort((c,o)=>c.order-o.order),l}function $y(a,n,l){const c=ba(n);if(c)for(let o=0;o<c.length;o++)l.push(c[o]);Ur(n,o=>{$y(a,o,l)})}function Ir(a,n){const l=ba(n);if(l){let c=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[c]=l[o],c++);l.length=c,Vy(n,l.length>0?l:void 0)}Ur(n,c=>{Ir(a,c)})}function Nf(a,n){const l=Gs(Jy(a,n)),c=Sf(a.transactionQueueTree_,n);return $4(c,o=>{yh(a,o)}),yh(a,c),qy(c,o=>{yh(a,o)}),l}function yh(a,n){const l=ba(n);if(l){const c=[];let o=[],h=-1;for(let d=0;d<l.length;d++)l[d].status===3||(l[d].status===1?(B(h===d-1,"All SENT items should be at beginning of queue."),h=d,l[d].status=3,l[d].abortReason="set"):(B(l[d].status===0,"Unexpected transaction status in abort"),l[d].unwatcher(),o=o.concat(Oi(a.serverSyncTree_,l[d].currentWriteId,!0)),l[d].onComplete&&c.push(l[d].onComplete.bind(null,new Error("set"),!1,null))));h===-1?Vy(n,void 0):l.length=h+1,fn(a.eventQueue_,Gs(n),o);for(let d=0;d<c.length;d++)ya(c[d])}}function N3(a){let n="";const l=a.split("/");for(let c=0;c<l.length;c++)if(l[c].length>0){let o=l[c];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function A3(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const c=l.split("=");c.length===2?n[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):jt(`Invalid query segment '${l}' in query '${a}'`)}return n}const Sv=function(a,n){const l=w3(a),c=l.namespace;l.domain==="firebase.com"&&Pn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||c==="undefined")&&l.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Ub();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new ny(l.host,l.secure,c,o,n,"",c!==l.subdomain),path:new De(l.pathString)}},w3=function(a){let n="",l="",c="",o="",h="",d=!0,g="https",v=443;if(typeof a=="string"){let y=a.indexOf("//");y>=0&&(g=a.substring(0,y-1),a=a.substring(y+2));let T=a.indexOf("/");T===-1&&(T=a.length);let _=a.indexOf("?");_===-1&&(_=a.length),n=a.substring(0,Math.min(T,_)),T<_&&(o=N3(a.substring(T,_)));const S=A3(a.substring(Math.min(a.length,_)));y=n.indexOf(":"),y>=0?(d=g==="https"||g==="wss",v=parseInt(n.substring(y+1),10)):y=n.length;const z=n.slice(0,y);if(z.toLowerCase()==="localhost")l="localhost";else if(z.split(".").length<=2)l=z;else{const U=n.indexOf(".");c=n.substring(0,U).toLowerCase(),l=n.substring(U+1),h=c}"ns"in S&&(h=S.ns)}return{host:n,port:v,domain:l,subdomain:c,secure:d,scheme:g,pathString:o,namespace:h}};class D3{constructor(n,l,c,o){this.eventType=n,this.eventRegistration=l,this.snapshot=c,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ct(this.snapshot.exportVal())}}class M3{constructor(n,l,c){this.eventRegistration=n,this.error=l,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Py{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Af{constructor(n,l,c,o){this._repo=n,this._path=l,this._queryParams=c,this._orderByCalled=o}get key(){return ce(this._path)?null:Ph(this._path)}get ref(){return new ei(this._repo,this._path)}get _queryIdentifier(){const n=cv(this._queryParams),l=Zh(n);return l==="{}"?"default":l}get _queryObject(){return cv(this._queryParams)}isEqual(n){if(n=va(n),!(n instanceof Af))return!1;const l=this._repo===n._repo,c=ef(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&c&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+yS(this._path)}}class ei extends Af{constructor(n,l){super(n,l,new af,!1)}get parent(){const n=hy(this._path);return n===null?null:new ei(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Us{constructor(n,l,c){this._node=n,this.ref=l,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new De(n),c=qh(this.ref,n);return new Us(this._node.getChild(l),c,Ye)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(c,o)=>n(new Us(o,qh(this.ref,c),Ye)))}hasChild(n){const l=new De(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Qe(a,n){return a=va(a),a._checkNotDeleted("ref"),n!==void 0?qh(a._root,n):a._root}function qh(a,n){return a=va(a),ie(a._path)===null?c3("child","path",n):Qy("child","path",n),new ei(a._repo,qe(a._path,n))}function wf(a){return Xy("remove",a._path),Jn(a,null)}function Jn(a,n){a=va(a),Xy("set",a._path),l3("set",n,a._path);const l=new Ls;return y3(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function Df(a,n){s3("update",n,a._path);const l=new Ls;return _3(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function vs(a){a=va(a);const n=new Py(()=>{}),l=new kr(n);return v3(a._repo,a,l).then(c=>new Us(c,new ei(a._repo,a._path),a._queryParams.getIndex()))}class kr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const c=l._queryParams.getIndex();return new D3("value",this,new Us(n.snapshotNode,new ei(l._repo,l._path),c))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new M3(this,n,l):null}matches(n){return n instanceof kr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function j3(a,n,l,c,o){const h=new Py(l,void 0),d=new kr(h);return S3(a._repo,a,d),()=>C3(a._repo,a,d)}function Mf(a,n,l,c){return j3(a,"value",n)}M4(ei);U4(ei);const O3="FIREBASE_DATABASE_EMULATOR_HOST",Yh={};let R3=!1;function z3(a,n,l,c){const o=n.lastIndexOf(":"),h=n.substring(0,o),d=Xh(h);a.repoInfo_=new ny(n,d,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),c&&(a.authTokenProvider_=c)}function U3(a,n,l,c,o){let h=c||a.options.databaseURL;h===void 0&&(a.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",a.options.projectId),h=`${a.options.projectId}-default-rtdb.firebaseio.com`);let d=Sv(h,o),g=d.repoInfo,v;typeof process<"u"&&qp&&(v=qp[O3]),v?(h=`http://${v}?ns=${g.namespace}`,d=Sv(h,o),g=d.repoInfo):d.repoInfo.secure;const y=new Xb(a.name,a.options,n);r3("Invalid Firebase Database URL",d),ce(d.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const T=B3(g,a,y,new Qb(a,l));return new H3(T,a)}function L3(a,n){const l=Yh[n];(!l||l[a.key]!==a)&&Pn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),E3(a),delete l[a.key]}function B3(a,n,l,c){let o=Yh[n.name];o||(o={},Yh[n.name]=o);let h=o[a.toURLString()];return h&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new d3(a,R3,l,c),o[a.toURLString()]=h,h}class H3{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(m3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ei(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(L3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Pn("Cannot call "+n+" on a deleted database.")}}function I3(a=pb(),n){const l=hb(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const c=J1("database");c&&k3(l,...c)}return l}function k3(a,n,l,c={}){a=va(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,h=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&hr(c,h.repoInfo_.emulatorOptions))return;Pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(h.repoInfo_.nodeAdmin)c.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new rr(rr.OWNER);else if(c.mockUserToken){const g=typeof c.mockUserToken=="string"?c.mockUserToken:$1(c.mockUserToken,a.app.options.projectId);d=new rr(g)}Xh(n)&&(W1(n),t2("Database",!0)),z3(h,o,c,d)}function V3(a){Db(gb),dr(new Ns("database",(n,{instanceIdentifier:l})=>{const c=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return U3(c,o,h,l)},"PUBLIC").setMultipleInstances(!0)),sa(Yp,Qp,a),sa(Yp,Qp,"esm2020")}Wn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Wn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};V3();const G3={apiKey:"AIzaSyD_a5ykUzFClrzJalmql4vs_6TPE5WYLqQ",authDomain:"ai-demo-64219.firebaseapp.com",projectId:"ai-demo-64219",storageBucket:"ai-demo-64219.firebasestorage.app",messagingSenderId:"14008379823",appId:"1:14008379823:web:1350b9cb75cef1d783275a",databaseURL:"https://ai-demo-64219-default-rtdb.asia-southeast1.firebasedatabase.app"},q3=Iv(G3),Xe=I3(q3),e_=[{id:"v001",url:"https://www.youtube.com/watch?v=XqZsoesa55w",title:"Baby Shark Dance - Pinkfong",thumbnail:"https://img.youtube.com/vi/XqZsoesa55w/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Pinkfong"},{id:"v002",url:"https://www.youtube.com/watch?v=e_04ZrNroTo",title:"Wheels on the Bus - Cocomelon",thumbnail:"https://img.youtube.com/vi/e_04ZrNroTo/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Cocomelon"},{id:"v003",url:"https://www.youtube.com/watch?v=75NQK-Sm1YY",title:"Baby Bus - Five Little Ducks",thumbnail:"https://img.youtube.com/vi/75NQK-Sm1YY/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"BabyBus"},{id:"v004",url:"https://www.youtube.com/watch?v=_UR-l3QI2nE",title:"ABC Song - Hc bng ch ci",thumbnail:"https://img.youtube.com/vi/_UR-l3QI2nE/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v005",url:"https://www.youtube.com/watch?v=ZanHgPprl-0",title:"Phonics Song - Hc pht m",thumbnail:"https://img.youtube.com/vi/ZanHgPprl-0/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v006",url:"https://www.youtube.com/watch?v=L0MK7qz13bU",title:"Numbers Song - Hc m s",thumbnail:"https://img.youtube.com/vi/L0MK7qz13bU/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v007",url:"https://www.youtube.com/watch?v=QkHQ0CYwjaI",title:"Counting 1-100 - m s",thumbnail:"https://img.youtube.com/vi/QkHQ0CYwjaI/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Jack Hartmann"},{id:"v008",url:"https://www.youtube.com/watch?v=teMdjJ3w9iM",title:"Five Little Monkeys - Hc m",thumbnail:"https://img.youtube.com/vi/teMdjJ3w9iM/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Super Simple Songs"}],t_=[{id:"c001",name:"Pinkfong",channelId:"UCcdwLMPsaU2ezNSJU1nFoBQ",ageGroup:"0-3",category:"music"},{id:"c002",name:"Cocomelon",channelId:"UCbCmjCuTUZos6Inko4u57UQ",ageGroup:"0-3",category:"music"},{id:"c003",name:"Super Simple Songs",channelId:"UCLsooMJoIpl_7ux2jvdPB-Q",ageGroup:"3-6",category:"english"}],n_=[{id:"parent",name:"Ph huynh",type:"parent",avatar:""},{id:"user001",name:"B Bi",type:"child",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:["music","entertainment"]},{id:"user002",name:"B Bo",type:"child",avatar:"",ageGroup:"3-6",dailyLimit:90,allowedCategories:["music","english","math"]}],jf={dailyLimit:60,parentPin:"1234"},oa=a=>a?Object.keys(a).map(n=>({...a[n],id:n})):[],Y3=async()=>{try{return(await vs(Qe(Xe,"videos"))).exists()||(console.log("Initializing database with default data..."),await i_()),await Vr()}catch(a){return console.error("Firebase init error:",a),{videos:e_,channels:t_,users:n_,settings:jf}}},i_=async()=>{const a={};e_.forEach(c=>{a[c.id]=c});const n={};t_.forEach(c=>{n[c.id]=c});const l={};n_.forEach(c=>{l[c.id]=c}),await Jn(Qe(Xe,"videos"),a),await Jn(Qe(Xe,"channels"),n),await Jn(Qe(Xe,"users"),l),await Jn(Qe(Xe,"settings"),jf)},Vr=async()=>{const[a,n,l,c]=await Promise.all([vs(Qe(Xe,"videos")),vs(Qe(Xe,"channels")),vs(Qe(Xe,"users")),vs(Qe(Xe,"settings"))]);return{videos:oa(a.val()),channels:oa(n.val()),users:oa(l.val()),settings:c.val()||jf}},Cv=async a=>{const n=a.id||`v${Date.now()}`,l={...a,id:n,addedAt:Date.now()};return await Jn(Qe(Xe,`videos/${n}`),l),l},Q3=async(a,n)=>{await Df(Qe(Xe,`videos/${a}`),n)},X3=async a=>{await wf(Qe(Xe,`videos/${a}`))},F3=async a=>{const n=a.id||`c${Date.now()}`,l={...a,id:n};return await Jn(Qe(Xe,`channels/${n}`),l),l},K3=async a=>{await wf(Qe(Xe,`channels/${a}`))},Z3=async a=>{const n=a.id||`u${Date.now()}`,l={...a,id:n,createdAt:Date.now()};return await Jn(Qe(Xe,`users/${n}`),l),l},J3=async(a,n)=>{await Df(Qe(Xe,`users/${a}`),n)},W3=async a=>{await wf(Qe(Xe,`users/${a}`))},$3=async a=>{await Df(Qe(Xe,"settings"),a)},P3=a=>Mf(Qe(Xe,"videos"),n=>{a(oa(n.val()))}),eC=a=>Mf(Qe(Xe,"users"),n=>{a(oa(n.val()))}),tC=a=>Mf(Qe(Xe,"channels"),n=>{a(oa(n.val()))}),nC=async()=>(await i_(),await Vr()),iC=async()=>{const a=await Vr(),n=new Blob([JSON.stringify({...a,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),l=URL.createObjectURL(n),c=document.createElement("a");c.href=l,c.download=`kid_video_${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(l)},lC=async a=>{if(a.videos){const n={};a.videos.forEach(l=>{n[l.id]=l}),await Jn(Qe(Xe,"videos"),n)}return await Vr()},Ar=a=>{if(!a)return null;if(a.length===11&&/^[a-zA-Z0-9_-]+$/.test(a))return a;const n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,l=a.match(n);return l&&l[7].length===11?l[7]:null},un=[{id:"math",name:"Ton hc",icon:"",color:"#ff6b6b"},{id:"english",name:"Anh vn",icon:"",color:"#4ecdc4"},{id:"communication",name:"Giao tip",icon:"",color:"#45b7d1"},{id:"thinking",name:"T duy",icon:"",color:"#96ceb4"},{id:"entertainment",name:"Gii tr",icon:"",color:"#ffeaa7"},{id:"learning",name:"Hc tp",icon:"",color:"#dfe6e9"},{id:"music",name:"m nhc",icon:"",color:"#fd79a8"},{id:"science",name:"Khoa hc",icon:"",color:"#a29bfe"}],ti=L1(I1((a,n)=>({videos:[],channels:[],users:[],settings:{categories:un,dailyLimit:60},currentVideo:null,currentUser:null,selectedAgeGroup:"all",selectedCategory:"all",searchQuery:"",parentMode:!1,watchHistory:[],favorites:[],dailyLimit:60,todayWatchTime:0,unavailableVideos:[],isLoading:!1,error:null,setVideos:l=>a({videos:l}),setUsers:l=>a({users:l}),setChannels:l=>a({channels:l}),initializeData:async()=>{a({isLoading:!0,error:null});try{const l=await Y3();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[],settings:{...n().settings,...l.settings},dailyLimit:l.settings?.dailyLimit||60,isLoading:!1})}catch(l){console.error("Failed to initialize:",l),a({error:l.message,isLoading:!1})}},markVideoUnavailable:l=>{const{unavailableVideos:c}=n();c.includes(l)||a({unavailableVideos:[...c,l]})},clearUnavailableVideos:()=>a({unavailableVideos:[]}),isVideoAvailable:l=>!n().unavailableVideos.includes(l),login:l=>{const o=n().users.find(h=>h.id===l);return o?(a({currentUser:o,dailyLimit:o.dailyLimit||60}),!0):!1},logout:()=>a({currentUser:null,parentMode:!1}),addVideo:async l=>{const c=await Cv(l);return a(o=>({videos:[...o.videos,c]})),c},updateVideo:async(l,c)=>{await Q3(l,c),a(o=>({videos:o.videos.map(h=>h.id===l?{...h,...c}:h)}))},deleteVideo:async l=>{await X3(l),a(c=>({videos:c.videos.filter(o=>o.id!==l)}))},addVideoFromURL:async(l,c="entertainment",o="all")=>{const h=Ar(l);if(!h)throw new Error("URL YouTube khng hp l");if(n().videos.find(T=>Ar(T.url)===h))throw new Error("Video ny  c trong danh sch");const g=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${h}&format=json`);if(!g.ok)throw new Error("Video khng tn ti hoc khng kh dng");const v=await g.json(),y=await Cv({url:`https://www.youtube.com/watch?v=${h}`,title:v.title,thumbnail:`https://img.youtube.com/vi/${h}/mqdefault.jpg`,channel:v.author_name,category:c,ageGroup:o});return a(T=>({videos:[...T.videos,y]})),y},addChannel:async l=>{const c=await F3(l);return a(o=>({channels:[...o.channels,c]})),c},deleteChannel:async l=>{await K3(l),a(c=>({channels:c.channels.filter(o=>o.id!==l)}))},addUser:async l=>{const c=await Z3(l);return a(o=>({users:[...o.users,c]})),c},updateUser:async(l,c)=>{await J3(l,c),a(o=>({users:o.users.map(h=>h.id===l?{...h,...c}:h),currentUser:o.currentUser?.id===l?{...o.currentUser,...c}:o.currentUser}))},deleteUser:async l=>{await W3(l),a(c=>({users:c.users.filter(o=>o.id!==l)}))},setCurrentVideo:l=>a({currentVideo:l}),setAgeGroup:l=>a({selectedAgeGroup:l}),setCategory:l=>a({selectedCategory:l}),setSearchQuery:l=>a({searchQuery:l}),toggleParentMode:l=>n().parentMode?(a({parentMode:!1}),!0):l==="bypass"?(a({parentMode:!0}),!0):!1,addToHistory:l=>a(c=>({watchHistory:[{...l,watchedAt:Date.now()},...c.watchHistory.filter(o=>o.id!==l.id).slice(0,49)]})),toggleFavorite:l=>a(c=>({favorites:c.favorites.includes(l)?c.favorites.filter(o=>o!==l):[...c.favorites,l]})),addWatchTime:l=>a(c=>({todayWatchTime:c.todayWatchTime+l})),resetDailyWatchTime:()=>a({todayWatchTime:0}),setDailyLimit:async l=>{await $3({dailyLimit:l}),a({dailyLimit:l})},getFilteredVideos:()=>{const l=n();let c=l.videos.filter(o=>!l.unavailableVideos.includes(o.id));if(l.selectedAgeGroup!=="all"&&(c=c.filter(o=>o.ageGroup===l.selectedAgeGroup||o.ageGroup==="all")),l.selectedCategory!=="all"&&(c=c.filter(o=>o.category===l.selectedCategory)),l.searchQuery){const o=l.searchQuery.toLowerCase();c=c.filter(h=>h.title?.toLowerCase().includes(o)||h.channel?.toLowerCase().includes(o))}return c},exportData:async()=>await iC(),importData:async l=>{const c=await lC(l);a({videos:c.videos,channels:c.channels,users:c.users})},resetToDefaults:async()=>{const l=await nC();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[]})}}),{name:"kid-video-storage",partialize:a=>({currentUser:a.currentUser,watchHistory:a.watchHistory,favorites:a.favorites,todayWatchTime:a.todayWatchTime,unavailableVideos:a.unavailableVideos})})),Ri=Ar,aC=a=>{const n=Ar(a);return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:null};function sC(a,n){const[l,c]=V.useState(a);return V.useEffect(()=>{const o=setTimeout(()=>{c(a)},n);return()=>clearTimeout(o)},[a,n]),l}function cC(){const{searchQuery:a,setSearchQuery:n,searchYouTube:l,youtubeSearchLoading:c,clearYouTubeSearch:o,parentMode:h}=ti(),[d,g]=V.useState(!1),[v,y]=V.useState(a),T=sC(v,300);V.useEffect(()=>{n(T)},[T,n]);const _=V.useCallback(()=>{v.trim()&&l(v.trim())},[v,l]),S=U=>{U.key==="Enter"&&_()},z=()=>{y(""),n(""),o()};return f.jsxs(ge.div,{className:"search-bar",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[f.jsxs("div",{className:`search-container ${d?"focused":""}`,children:[f.jsx("input",{type:"text",placeholder:" Tm video yu thch...",value:v,onChange:U=>y(U.target.value),onFocus:()=>g(!0),onBlur:()=>g(!1),onKeyDown:S,className:"search-input"}),v&&f.jsx(ge.button,{className:"clear-btn",onClick:z,initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},title:"Xa tm kim",children:""}),f.jsx(ge.button,{className:`search-btn ${h?"youtube-search":""} ${c?"loading":""}`,onClick:_,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!v.trim()||c,title:h?"Tm trn YouTube":"Tm video",children:c?f.jsx("span",{className:"search-spinner",children:""}):f.jsxs(f.Fragment,{children:[f.jsx(Eh,{className:"search-icon-btn"}),f.jsx("span",{className:"btn-text",children:h?"YouTube":"Tm"})]})})]}),h&&v&&f.jsxs("div",{className:"search-hint",children:[" Nhn Enter hoc nt ",f.jsx(Nv,{style:{color:"#ff0000"}}),"  tm video mi t YouTube"]})]})}function rC(){const{youtubeSearchResults:a,youtubeSearchQuery:n,youtubeSearchLoading:l,youtubeNextPageToken:c,youtubeTotalResults:o,showYoutubeResults:h,loadMoreYouTubeResults:d,clearYouTubeSearch:g,addVideoFromYouTube:v,addVideoFromURL:y,setCurrentVideo:T,parentMode:_}=ti(),[S,z]=V.useState(null),[U,Y]=V.useState([]),[I,ne]=V.useState(!1),[Ue,te]=V.useState(!1),[K,me]=V.useState(null),[Me,Ie]=V.useState("entertainment"),[xe,Nt]=V.useState("all"),[St,We]=V.useState(""),[ee,Fe]=V.useState(""),[ke,$e]=V.useState(!1),D=H=>{T({id:H.videoId||Ri(H.url),url:H.url,title:H.title,thumbnail:H.thumbnail,channel:H.channel})},L=H=>{me(H),ne(!0)},G=async()=>{if(K){z(K.videoId);try{await v(K,Me,xe),Y(H=>[...H,K.videoId]),ne(!1),me(null)}catch(H){console.error("Failed to add video:",H)}finally{z(null)}}},be=async()=>{if(!St.trim()){Fe("Vui lng nhp URL video");return}if(!Ri(St)){Fe("URL YouTube khng hp l");return}$e(!0),Fe("");try{await y(St,Me,xe),te(!1),We(""),Fe("")}catch(J){Fe(J.message||"Khng th thm video")}finally{$e(!1)}},Se=[{id:"all",name:"Tt c",icon:""},{id:"0-3",name:"0-3 tui",icon:""},{id:"3-6",name:"3-6 tui",icon:""},{id:"6-9",name:"6-9 tui",icon:""}];return!h&&!_?null:f.jsxs(f.Fragment,{children:[_&&f.jsx(ge.div,{className:"add-video-section",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:f.jsxs("button",{className:"add-by-url-btn",onClick:()=>te(!0),children:[f.jsx(A1,{})," Thm video t YouTube URL"]})}),h&&a.length>0&&f.jsxs(ge.div,{className:"search-results-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[f.jsxs("div",{className:"search-results-header",children:[f.jsxs("div",{className:"search-results-info",children:[f.jsxs("h3",{children:[' Kt qu tm kim: "',n,'"']}),f.jsxs("span",{className:"results-count",children:[a.length," video"]})]}),f.jsx("button",{className:"close-results-btn",onClick:g,children:f.jsx(ys,{})})]}),f.jsx("div",{className:"search-results-grid",children:f.jsx(Kn,{children:a.map((H,J)=>f.jsxs(ge.div,{className:"search-result-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:J*.05},children:[f.jsxs("div",{className:"result-thumbnail",onClick:()=>D(H),children:[f.jsx("img",{src:H.thumbnail,alt:H.title,loading:"lazy"}),f.jsx("div",{className:"play-overlay",children:f.jsx(Ch,{})})]}),f.jsxs("div",{className:"result-info",children:[f.jsx("h4",{className:"result-title",title:H.title,children:H.title}),f.jsx("p",{className:"result-channel",children:H.channel})]}),f.jsxs("div",{className:"result-actions",children:[f.jsxs("button",{className:"play-btn",onClick:()=>D(H),title:"Xem video",children:[f.jsx(Ch,{})," Xem"]}),_&&f.jsx("button",{className:`add-btn ${U.includes(H.videoId)?"added":""}`,onClick:()=>L(H),disabled:S===H.videoId||U.includes(H.videoId),title:U.includes(H.videoId)?" thm":"Thm vo danh sch",children:S===H.videoId?f.jsx(ch,{className:"spinning"}):U.includes(H.videoId)?f.jsxs(f.Fragment,{children:[f.jsx(Sh,{}),"  thm"]}):f.jsxs(f.Fragment,{children:[f.jsx(yn,{})," Thm"]})})]})]},H.videoId||J))})}),c&&f.jsx("div",{className:"load-more-container",children:f.jsx("button",{className:"load-more-btn",onClick:d,disabled:l,children:l?f.jsxs(f.Fragment,{children:[f.jsx(ch,{className:"spinning"})," ang ti..."]}):f.jsxs(f.Fragment,{children:[f.jsx(C1,{})," Xem thm video"]})})}),f.jsx(Kn,{children:I&&K&&f.jsx(ge.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ne(!1),children:f.jsxs(ge.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:H=>H.stopPropagation(),children:[f.jsxs("div",{className:"add-modal-header",children:[f.jsx("h3",{children:" Thm video vo danh sch"}),f.jsx("button",{className:"close-modal-btn",onClick:()=>ne(!1),children:f.jsx(ys,{})})]}),f.jsxs("div",{className:"add-modal-content",children:[f.jsxs("div",{className:"video-preview",children:[f.jsx("img",{src:K.thumbnail,alt:K.title}),f.jsxs("div",{className:"video-preview-info",children:[f.jsx("h4",{children:K.title}),f.jsx("p",{children:K.channel})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" Danh mc:"}),f.jsx("div",{className:"category-select",children:un.map(H=>f.jsxs("button",{className:`category-option ${Me===H.id?"selected":""}`,onClick:()=>Ie(H.id),style:{"--cat-color":H.color},children:[H.icon," ",H.name]},H.id))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"  tui:"}),f.jsx("div",{className:"age-select",children:Se.map(H=>f.jsxs("button",{className:`age-option ${xe===H.id?"selected":""}`,onClick:()=>Nt(H.id),children:[H.icon," ",H.name]},H.id))})]})]}),f.jsxs("div",{className:"add-modal-footer",children:[f.jsx("button",{className:"cancel-btn",onClick:()=>ne(!1),children:"Hy"}),f.jsxs("button",{className:"confirm-btn",onClick:G,children:[f.jsx(yn,{})," Thm video"]})]})]})})})]}),f.jsx(Kn,{children:Ue&&f.jsx(ge.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>te(!1),children:f.jsxs(ge.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:H=>H.stopPropagation(),children:[f.jsxs("div",{className:"add-modal-header",children:[f.jsx("h3",{children:" Thm video t YouTube URL"}),f.jsx("button",{className:"close-modal-btn",onClick:()=>te(!1),children:f.jsx(ys,{})})]}),f.jsxs("div",{className:"add-modal-content",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" URL YouTube:"}),f.jsx("input",{type:"text",className:"url-input",placeholder:"https://www.youtube.com/watch?v=... hoc Video ID",value:St,onChange:H=>{We(H.target.value),Fe("")}}),ee&&f.jsx("p",{className:"url-error",children:ee}),f.jsx("p",{className:"url-hint",children:"Paste link YouTube hoc ch Video ID (v d: dQw4w9WgXcQ)"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" Danh mc:"}),f.jsx("div",{className:"category-select",children:un.map(H=>f.jsxs("button",{className:`category-option ${Me===H.id?"selected":""}`,onClick:()=>Ie(H.id),style:{"--cat-color":H.color},children:[H.icon," ",H.name]},H.id))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"  tui:"}),f.jsx("div",{className:"age-select",children:Se.map(H=>f.jsxs("button",{className:`age-option ${xe===H.id?"selected":""}`,onClick:()=>Nt(H.id),children:[H.icon," ",H.name]},H.id))})]})]}),f.jsxs("div",{className:"add-modal-footer",children:[f.jsx("button",{className:"cancel-btn",onClick:()=>te(!1),children:"Hy"}),f.jsx("button",{className:"confirm-btn",onClick:be,disabled:ke,children:ke?f.jsxs(f.Fragment,{children:[f.jsx(ch,{className:"spinning"})," ang xc thc..."]}):f.jsxs(f.Fragment,{children:[f.jsx(yn,{})," Thm video"]})})]})]})})})]})}function oC(){const{selectedCategory:a,setCategory:n,currentUser:l}=ti(),c=V.useMemo(()=>{const o=l?.allowedCategories||[];if(o.length===0)return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...un];const h=un.filter(d=>o.includes(d.id));return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...h]},[l?.allowedCategories]);return f.jsx("div",{className:"category-filter",children:f.jsx("div",{className:"category-scroll",children:c.map((o,h)=>f.jsxs(ge.button,{className:`category-btn ${a===o.id?"active":""}`,style:{"--cat-color":o.color},onClick:()=>n(o.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:h*.05},whileHover:{scale:1.08,y:-3},whileTap:{scale:.95},children:[f.jsx("span",{className:"category-icon",children:o.icon}),f.jsx("span",{className:"category-name",children:o.name})]},o.id))})})}function uC({video:a,index:n}){const{setCurrentVideo:l,favorites:c,markVideoUnavailable:o}=ti(),[h,d]=V.useState(!1),g=c.includes(a.id),v={"0-3":"linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%)","3-6":"linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)","6-9":"linear-gradient(135deg, #84FAB0 0%, #8FD3F4 100%)",all:"linear-gradient(135deg, #FFE66D 0%, #FF9A3D 100%)"},y=un.find(S=>S.id===a.category),T=()=>{d(!0)},_="data:image/svg+xml,"+encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 180">
      <rect fill="#1A3A32" width="320" height="180"/>
      <text x="160" y="90" fill="#00D4AA" font-size="48" text-anchor="middle" dominant-baseline="middle"></text>
    </svg>
  `);return f.jsxs(ge.div,{className:"video-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.05,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(a),children:[f.jsxs("div",{className:"thumbnail-container",children:[f.jsx("img",{src:h?_:a.thumbnail,alt:a.title,className:"thumbnail",loading:"lazy",onError:T}),f.jsx("div",{className:"play-overlay",children:f.jsx(ge.div,{className:"play-button",whileHover:{scale:1.15},whileTap:{scale:.9},children:f.jsx(Ch,{})})}),g&&f.jsx("div",{className:"favorite-indicator",children:f.jsx(N1,{color:"#FF6B9D"})}),y&&f.jsx("div",{className:"category-tag",style:{background:y.color},children:y.icon}),f.jsx("div",{className:"age-tag",style:{background:v[a.ageGroup]||v.all},children:a.ageGroup==="all"?" Tt c":` ${a.ageGroup}`})]}),f.jsxs("div",{className:"video-info",children:[f.jsx("h3",{className:"video-title",children:a.title}),f.jsxs("p",{className:"channel-name",children:[" ",a.channel]})]})]})}function hC(){const{getFilteredVideos:a,searchQuery:n,selectedAgeGroup:l}=ti(),c=a();return c.length===0?f.jsxs(ge.div,{className:"empty-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[f.jsx("div",{className:"empty-icon",children:""}),f.jsx("h3",{children:"Khng tm thy video"}),f.jsx("p",{children:n?`Khng c video no ph hp vi "${n}"`:"Cha c video no trong danh sch"})]}):f.jsxs("div",{className:"video-grid-container",children:[f.jsxs("div",{className:"results-info",children:[f.jsxs("span",{className:"results-count",children:[" ",c.length," video"]}),l!=="all"&&f.jsxs("span",{className:"filter-info",children:[" Lc theo: ",l," tui"]})]}),f.jsx(ge.div,{className:"video-grid",initial:{opacity:0},animate:{opacity:1},children:c.map((o,h)=>f.jsx(uC,{video:o,index:h},o.id))})]})}const fC=15e3;function dC(){const{currentVideo:a,setCurrentVideo:n,favorites:l,toggleFavorite:c,addToHistory:o,addWatchTime:h,markVideoUnavailable:d,getFilteredVideos:g}=ti(),[v,y]=V.useState(!1),[T,_]=V.useState(!0),[S,z]=V.useState(!1),[U,Y]=V.useState(0),I=V.useRef(null),ne=V.useRef(!1),Ue=V.useRef(null),te=a&&l.includes(a.id),K=V.useMemo(()=>g?.()||[],[g]),me=V.useMemo(()=>a?K.findIndex(D=>D.id===a.id):-1,[a,K]),Me=me>0,Ie=me<K.length-1&&me!==-1,xe=V.useCallback(()=>{if(Me){const D=K[me-1];n(D)}},[Me,K,me,n]),Nt=V.useCallback(()=>{if(Ie){const D=K[me+1];n(D)}},[Ie,K,me,n]);V.useEffect(()=>{const D=L=>{if(L.origin==="https://www.youtube.com")try{const G=typeof L.data=="string"?JSON.parse(L.data):L.data;G.event==="onError"&&(console.log("YouTube error detected via postMessage:",G),_(!1),z(!0),a&&d?.(a.id)),G.event==="onStateChange"&&(console.log("YouTube state change:",G.info),G.info!==-1&&(ne.current=!0,_(!1),I.current&&clearTimeout(I.current))),G.event==="onReady"&&(console.log("YouTube player ready"),ne.current=!0,_(!1),I.current&&clearTimeout(I.current))}catch{}};return window.addEventListener("message",D),()=>window.removeEventListener("message",D)},[a,d]),V.useEffect(()=>(a&&T&&!S&&(ne.current=!1,I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{!ne.current&&T&&!S&&(console.log("Video load timeout - no response from YouTube"),_(!1),z(!0),a&&d?.(a.id))},fC)),()=>{I.current&&clearTimeout(I.current)}),[a,T,S,d]),V.useEffect(()=>{a&&(_(!0),z(!1),Y(0),ne.current=!1,o(a))},[a]);const St=V.useCallback(()=>{I.current&&clearTimeout(I.current),n(null),y(!1),_(!0),z(!1),Y(0),ne.current=!1},[n]),We=V.useCallback(()=>{console.log("Iframe loaded for video:",a?.id),ne.current=!0,setTimeout(()=>{S||_(!1)},1e3),I.current&&clearTimeout(I.current)},[a,S]),ee=V.useCallback(()=>{console.log("Iframe error for video:",a?.id),_(!1),z(!0),a&&d?.(a.id)},[a,d]),Fe=V.useCallback(()=>{a&&d?.(a.id);const D=g?.()||[],L=D.findIndex(be=>be.id===a?.id),G=D[L+1]||D[0];G&&G.id!==a?.id?n(G):St()},[a,d,g,n,St]);if(V.useCallback(()=>{Y(D=>D+1),z(!1),_(!0),videoLoadedRef.current=!1},[]),!a)return null;const ke=Ri(a.url),$e=ke?`https://www.youtube.com/embed/${ke}?autoplay=1&rel=0&modestbranding=1&controls=1&disablekb=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}`:a.url;return f.jsx(Kn,{children:f.jsx(ge.div,{className:`video-player-overlay ${v?"fullscreen":""}`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:f.jsxs(ge.div,{className:"video-player-container",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},children:[f.jsxs("div",{className:"video-player-header",children:[f.jsx("h2",{className:"video-title",children:a.title}),f.jsxs("div",{className:"video-controls",children:[f.jsx("button",{className:"control-btn favorite-btn",onClick:()=>c(a.id),title:te?"B yu thch":"Thm yu thch",children:te?"":""}),f.jsx("button",{className:"control-btn expand-btn",onClick:()=>y(!v),title:v?"Thu nh":"Phng to",children:""}),f.jsx("button",{className:"control-btn close-btn",onClick:St,title:"ng video",children:""})]})]}),f.jsxs("div",{className:"video-wrapper",children:[T&&!S&&f.jsxs("div",{className:"video-loading",children:[f.jsx("div",{className:"loading-icon",children:""}),f.jsxs("p",{className:"loading-text",children:["ang ti video",f.jsx("span",{className:"loading-dots"})]})]}),S?f.jsxs("div",{className:"video-error",children:[f.jsx("div",{className:"error-icon",children:""}),f.jsx("h3",{children:"Video khng kh dng"}),f.jsx("p",{children:"Video ny  b xa hoc khng cho php nhng."}),f.jsx("p",{className:"error-suggestion",children:"Hy chn video khc  xem nh!"}),f.jsxs("div",{className:"error-actions",children:[f.jsx("button",{className:"skip-btn primary",onClick:Fe,children:" Xem video tip theo"}),f.jsx("button",{className:"close-error-btn",onClick:St,children:" ng"})]})]}):f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"youtube-block-overlay top-overlay"}),f.jsx("div",{className:"youtube-block-overlay bottom-right-overlay"}),f.jsx("div",{className:"youtube-block-overlay channel-overlay"}),f.jsx("div",{className:"youtube-block-overlay info-cards-overlay"}),f.jsx("iframe",{ref:Ue,src:$e,title:a.title,width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-presentation",onLoad:We,onError:ee,style:{opacity:T?0:1,transition:"opacity 0.3s ease"}},`${a.id}-${U}`)]})]}),f.jsxs("div",{className:"video-info",children:[f.jsxs("div",{className:"video-nav-controls",children:[f.jsxs("button",{className:`nav-btn prev-btn ${Me?"":"disabled"}`,onClick:xe,disabled:!Me,title:"Video trc",children:[f.jsx(E1,{}),f.jsx("span",{className:"nav-text",children:"Trc"})]}),f.jsxs("span",{className:"video-position",children:[me+1," / ",K.length]}),f.jsxs("button",{className:`nav-btn next-btn ${Ie?"":"disabled"}`,onClick:Nt,disabled:!Ie,title:"Video sau",children:[f.jsx("span",{className:"nav-text",children:"Sau"}),f.jsx(T1,{})]})]}),f.jsxs("div",{className:"video-meta",children:[f.jsxs("span",{className:"channel-name",children:[" ",a.channel]}),f.jsx("span",{className:"age-badge",children:a.ageGroup==="all"?" Mi la tui":` ${a.ageGroup} tui`})]})]})]})})})}var ps=xv();const _h=()=>{const a=["+","-",""],n=a[Math.floor(Math.random()*a.length)];let l,c,o;switch(n){case"+":l=Math.floor(Math.random()*20)+1,c=Math.floor(Math.random()*20)+1,o=l+c;break;case"-":l=Math.floor(Math.random()*20)+10,c=Math.floor(Math.random()*l),o=l-c;break;case"":l=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1,o=l*c;break;default:l=1,c=1,o=2}return{question:`${l} ${n} ${c} = ?`,answer:o.toString()}},Ev=["","","","","","","","","","","",""],l_=async a=>{const n=Ri(a);if(!n)return{valid:!1,error:"URL khng hp l"};try{const l=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${n}&format=json`);if(l.ok){const c=await l.json();return{valid:!0,title:c.title,channel:c.author_name,thumbnail:`https://img.youtube.com/vi/${n}/mqdefault.jpg`}}else{if(l.status===404)return{valid:!1,error:"Video khng tn ti hoc  b xa"};if(l.status===401)return{valid:!1,error:"Video b hn ch, khng th nhng"}}return{valid:!1,error:"Khng th kim tra video"}}catch(l){return console.log("Validation failed:",l),{valid:!1,error:"Li kt ni, khng th kim tra video"}}},mC=async a=>{const n=await l_(a);return n.valid?{title:n.title,channel:n.channel,thumbnail:n.thumbnail}:null},Tv=async(a,n,l=null)=>{try{const c=`https://www.youtube.com/feeds/videos.xml?channel_id=${a}`,o=`https://api.allorigins.win/raw?url=${encodeURIComponent(c)}`,h=await fetch(o);if(!h.ok)throw new Error("Failed to fetch");const d=await h.text(),y=new DOMParser().parseFromString(d,"text/xml").querySelectorAll("entry"),T=[];return y.forEach((_,S)=>{if(S>=50)return;const z=_.querySelector("yt\\:videoId, videoId")?.textContent,U=_.querySelector("title")?.textContent,Y=_.querySelector("published")?.textContent;z&&U&&T.push({id:z,videoId:z,title:U,thumbnail:`https://img.youtube.com/vi/${z}/mqdefault.jpg`,url:`https://www.youtube.com/watch?v=${z}`,channel:n,publishedAt:Y})}),{videos:T,hasMore:!1}}catch(c){return console.error("Error fetching channel videos:",c),{videos:[],hasMore:!1}}},gC="/api/youtube-search",bh=async(a,n="",l=1)=>{const c=n?`${a} ${n}`:a;try{console.log("Searching YouTube:",c);const o=await fetch(gC,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c}),signal:AbortSignal.timeout(15e3)});if(!o.ok)throw new Error(`API error: ${o.status}`);const h=await o.json();return h.videos&&h.videos.length>0?(console.log("Found:",h.videos.length,"videos"),{videos:h.videos,hasMore:h.videos.length>=5,totalResults:h.totalResults||h.videos.length}):(console.log("No videos found"),{videos:[],hasMore:!1})}catch(o){return console.error("YouTube search error:",o.message),{videos:[],hasMore:!1}}};function pC({inHeader:a=!1}){const{parentMode:n,toggleParentMode:l,videos:c,channels:o,users:h,addVideo:d,updateVideo:g,deleteVideo:v,addChannel:y,deleteChannel:T,addUser:_,updateUser:S,deleteUser:z,dailyLimit:U,setDailyLimit:Y,resetToDefaults:I,initializeData:ne}=ti(),[Ue,te]=V.useState(!1),[K,me]=V.useState(""),[Me,Ie]=V.useState(""),[xe,Nt]=V.useState("videos"),[St,We]=V.useState(!1),[ee,Fe]=V.useState({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),[ke,$e]=V.useState({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),[D,L]=V.useState({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),[G,be]=V.useState(!1),[Se,H]=V.useState(()=>_h()),[J,$]=V.useState(null),[re,lt]=V.useState(null),[dn,pe]=V.useState(""),[At,Gt]=V.useState("url"),[Ct,ni]=V.useState(""),[Ot,ii]=V.useState(""),[Pe,dt]=V.useState([]),[Et,wn]=V.useState([]),[qt,$t]=V.useState(!1),[ml,gl]=V.useState(!1),[Gr,li]=V.useState(1),[wt,Cn]=V.useState(!1),[ai,Sa]=V.useState(!1),Vi=h.filter(E=>E.type==="child"),qr=()=>{const E={videos:c,channels:o,users:h,settings:{dailyLimit:U},exportedAt:new Date().toISOString()},X=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),fe=URL.createObjectURL(X),oe=document.createElement("a");oe.href=fe,oe.download=`kid_video_backup_${new Date().toISOString().split("T")[0]}.json`,oe.click(),URL.revokeObjectURL(fe),pe("  xut d liu thnh cng!"),setTimeout(()=>pe(""),3e3)},Ys=E=>{const X=E.target.files[0];if(!X)return;const fe=new FileReader;fe.onload=async oe=>{try{const Ke=JSON.parse(oe.target.result);if(Ke.videos&&Array.isArray(Ke.videos))for(const Yt of Ke.videos)c.find(Rt=>Rt.id===Yt.id)||d(Yt);if(Ke.channels&&Array.isArray(Ke.channels))for(const Yt of Ke.channels)o.find(Rt=>Rt.id===Yt.id)||y(Yt);if(Ke.users&&Array.isArray(Ke.users))for(const Yt of Ke.users)h.find(Rt=>Rt.id===Yt.id)||_(Yt);pe("  nhp d liu thnh cng!"),setTimeout(()=>pe(""),3e3)}catch{pe(" File khng hp l"),setTimeout(()=>pe(""),3e3)}},fe.readAsText(X),E.target.value=""};V.useEffect(()=>{const X=setTimeout(async()=>{if(ee.url&&Ri(ee.url)){gl(!0);const fe=await mC(ee.url);fe&&Fe(oe=>({...oe,title:oe.title||fe.title,channel:oe.channel||fe.channel})),gl(!1)}},500);return()=>clearTimeout(X)},[ee.url]),V.useEffect(()=>{(async()=>{if(Ct&&At==="search"){$t(!0),dt([]),li(1),Cn(!1);const X=o.find(fe=>fe.id===Ct);if(X){const fe=await Tv(X.channelId,X.name);dt(fe.videos),Cn(fe.hasMore)}$t(!1)}})()},[Ct,At,o]);const pl=async()=>{if(At==="keyword"){if(!Ot.trim()){dt([]);return}$t(!0),li(1);const oe=await bh(Ot,"",1);dt(oe.videos),Cn(oe.hasMore),$t(!1);return}if(!Ot.trim()){if(Ct){$t(!0),li(1);const oe=o.find(Ke=>Ke.id===Ct);if(oe){const Ke=await Tv(oe.channelId,oe.name);dt(Ke.videos),Cn(Ke.hasMore)}$t(!1)}return}$t(!0),li(1);const X=o.find(oe=>oe.id===Ct)?.name||"",fe=await bh(Ot,X,1);dt(fe.videos),Cn(fe.hasMore),$t(!1)},Qs=async()=>{if(ai||!wt)return;Sa(!0);const E=Gr+1,fe=(At==="keyword"?null:o.find(Ke=>Ke.id===Ct))?.name||"",oe=await bh(Ot||"",fe,E);if(oe.videos.length>0){const Ke=new Set(Pe.map(Rt=>Rt.videoId)),Yt=oe.videos.filter(Rt=>!Ke.has(Rt.videoId));dt(Rt=>[...Rt,...Yt]),li(E),Cn(oe.hasMore)}else Cn(!1);Sa(!1)},si=E=>{wn(X=>X.find(oe=>oe.videoId===E.videoId)?X.filter(oe=>oe.videoId!==E.videoId):[...X,E])},Tt=E=>Et.some(X=>X.videoId===E),mn=E=>c.some(X=>Ri(X.url)===E),xt=async()=>{if(Et.length===0)return;const E=Ct?o.find(X=>X.id===Ct):null;try{for(const X of Et)await d({url:X.url,title:X.title,channel:X.channel||E?.name||"YouTube",thumbnail:X.thumbnail,ageGroup:E?.ageGroup||"all",category:E?.category||"entertainment"});pe(`  thm ${Et.length} video!`),setTimeout(()=>pe(""),2e3),wn([]),dt([]),ii(""),We(!1),Gt("url")}catch{pe(" Li khi lu!")}},Yr=()=>{if(n){l();return}H(_h()),te(!0),me(""),Ie("")},Xs=()=>{K===Se.answer?(l("bypass"),te(!1),me(""),Ie("")):(Ie("Sai ri! Th li nh "),H(_h()),me(""))},Qr=async()=>{if(!ee.url||!ee.title)return;pe(" ang kim tra video...");const E=await l_(ee.url);if(!E.valid){pe(` ${E.error}`),setTimeout(()=>pe(""),3e3);return}const X=aC(ee.url);try{await d({...ee,thumbnail:X||"https://via.placeholder.com/320x180?text=Video"}),pe("  lu video!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}Fe({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),We(!1),Gt("url"),dt([]),wn([])},vl=async()=>{if(!(!ke.name||!ke.channelId)){try{await y(ke),pe("  lu knh!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}$e({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),We(!1)}},yl=async()=>{if(D.name){try{await _(D),pe("  thm b!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}L({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),We(!1)}},_l=async()=>{if(J){try{await S(J.id,J),pe("  cp nht!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}$(null)}},Dn=async()=>{if(re){try{await g(re.id,{title:re.title,channel:re.channel,ageGroup:re.ageGroup,category:re.category}),pe("  cp nht video!"),setTimeout(()=>pe(""),2e3)}catch{pe(" Li khi lu!")}lt(null)}},Gi=E=>{if(J){const X=J.allowedCategories||[],fe=X.includes(E)?X.filter(oe=>oe!==E):[...X,E];$({...J,allowedCategories:fe})}else{const X=D.allowedCategories||[],fe=X.includes(E)?X.filter(oe=>oe!==E):[...X,E];L({...D,allowedCategories:fe})}},ci=()=>{We(!1),Gt("url"),dt([]),wn([]),ii(""),ni(""),li(1),Cn(!1)};return f.jsxs(f.Fragment,{children:[f.jsxs(ge.button,{className:`parent-mode-btn ${a?"in-header":""}`,onClick:Yr,whileHover:{scale:1.05},whileTap:{scale:.95},title:n?"Thot ch  ph huynh":"Ch  ph huynh",children:[f.jsx(j1,{}),a&&f.jsx("span",{className:"btn-label",children:"Ph huynh"})]}),ps.createPortal(f.jsx(Kn,{children:Ue&&f.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>te(!1),children:f.jsxs(ge.div,{className:"pin-modal math-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:E=>E.stopPropagation(),children:[f.jsx("h3",{children:" Gii bi ton  vo"}),f.jsx("p",{className:"pin-hint",children:"Ch ngi ln mi gii c nhanh!"}),f.jsx("div",{className:"math-question",children:Se.question}),f.jsx("input",{type:"number",value:K,onChange:E=>me(E.target.value),placeholder:"Nhp p n...",className:"pin-input math-input",onKeyDown:E=>E.key==="Enter"&&Xs(),autoFocus:!0}),Me&&f.jsx("p",{className:"pin-error",children:Me}),f.jsxs("div",{className:"pin-actions",children:[f.jsx("button",{className:"cancel-btn",onClick:()=>te(!1),children:"Hy"}),f.jsx("button",{className:"submit-btn",onClick:Xs,children:"Tr li"})]})]})})}),document.body),ps.createPortal(f.jsx(Kn,{children:n&&f.jsxs(f.Fragment,{children:[f.jsx(ge.div,{className:"panel-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l()}),f.jsxs(ge.div,{className:"parent-panel",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[f.jsxs("div",{className:"panel-header",children:[f.jsx("h3",{children:" Ch  ph huynh"}),f.jsxs("div",{className:"panel-header-actions",children:[f.jsx("button",{className:"settings-btn",onClick:()=>be(!G),title:"Ci t",children:""}),f.jsx("button",{className:"close-panel-btn",onClick:()=>l(),title:"ng",children:""})]})]}),G&&f.jsxs("div",{className:"settings-section",children:[f.jsx("h4",{children:" Ci t"}),f.jsxs("div",{className:"setting-group",children:[f.jsx("label",{children:" Sao lu d liu:"}),f.jsx("p",{className:"storage-note",style:{marginTop:0},children:"D liu lu trong trnh duyt. Dng Xut/Nhp  chia s gia cc thit b."}),f.jsxs("div",{className:"storage-actions",children:[f.jsxs("button",{className:"export-btn",onClick:qr,children:[f.jsx(x1,{})," Xut d liu"]}),f.jsxs("label",{className:"import-btn",children:[f.jsx(M1,{})," Nhp d liu",f.jsx("input",{type:"file",accept:".json",onChange:Ys,hidden:!0})]})]})]}),f.jsxs("div",{className:"setting-item",children:[f.jsx("label",{children:"Gii hn xem/ngy (pht):"}),f.jsx("input",{type:"number",value:U,onChange:E=>Y(Number(E.target.value)),min:"10",max:"180"})]}),f.jsx("button",{className:"reset-btn",onClick:I,children:" Khi phc mc nh"})]}),f.jsxs("div",{className:"panel-tabs",children:[f.jsxs("button",{className:`tab-btn ${xe==="videos"?"active":""}`,onClick:()=>Nt("videos"),children:[f.jsx(Nv,{})," ",f.jsx("span",{className:"tab-text",children:"Video"})," ",f.jsxs("span",{className:"tab-count",children:["(",c.length,")"]})]}),f.jsxs("button",{className:`tab-btn ${xe==="channels"?"active":""}`,onClick:()=>Nt("channels"),children:[f.jsx(D1,{})," ",f.jsx("span",{className:"tab-text",children:"Knh"})," ",f.jsxs("span",{className:"tab-count",children:["(",o.length,")"]})]}),f.jsxs("button",{className:`tab-btn ${xe==="users"?"active":""}`,onClick:()=>Nt("users"),children:[f.jsx(O1,{})," ",f.jsx("span",{className:"tab-text",children:"B"})," ",f.jsxs("span",{className:"tab-count",children:["(",Vi.length,")"]})]})]}),dn&&f.jsx("div",{className:"save-message",children:dn}),f.jsxs("div",{className:"panel-content",children:[xe==="videos"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"add-btn",onClick:()=>We(!0),children:[f.jsx(yn,{})," Thm video"]}),f.jsx("div",{className:"item-list",children:c.map(E=>f.jsxs("div",{className:"list-item",children:[f.jsx("img",{src:E.thumbnail,alt:E.title,className:"item-thumb"}),f.jsxs("div",{className:"item-info",children:[f.jsx("span",{className:"item-title",children:E.title}),f.jsxs("span",{className:"item-meta",children:[E.channel,"  ",E.ageGroup,"  ",un.find(X=>X.id===E.category)?.icon||""]})]}),f.jsx("button",{className:"edit-btn",onClick:()=>lt(E),children:""}),f.jsx("button",{className:"delete-btn",onClick:()=>v(E.id),children:""})]},E.id))})]}),xe==="channels"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"add-btn",onClick:()=>We(!0),children:[f.jsx(yn,{})," Thm knh"]}),f.jsx("div",{className:"item-list",children:o.map(E=>f.jsxs("div",{className:"list-item",children:[f.jsx("div",{className:"channel-icon",children:""}),f.jsxs("div",{className:"item-info",children:[f.jsx("span",{className:"item-title",children:E.name}),f.jsxs("span",{className:"item-meta",children:[E.ageGroup," tui"]})]}),f.jsx("button",{className:"delete-btn",onClick:()=>T(E.id),children:""})]},E.id))})]}),xe==="users"&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{className:"add-btn",onClick:()=>{$(null),We(!0)},children:[f.jsx(yn,{})," Thm b"]}),f.jsx("div",{className:"item-list",children:Vi.map(E=>f.jsxs("div",{className:"list-item",children:[f.jsx("div",{className:"channel-icon",children:E.avatar}),f.jsxs("div",{className:"item-info",children:[f.jsx("span",{className:"item-title",children:E.name}),f.jsxs("span",{className:"item-meta",children:[E.ageGroup," tui  ",E.dailyLimit,"p/ngy"]})]}),f.jsx("button",{className:"edit-btn",onClick:()=>$(E),children:""}),f.jsx("button",{className:"delete-btn",onClick:()=>z(E.id),children:""})]},E.id))})]})]})]})]})}),document.body),ps.createPortal(f.jsx(Kn,{children:J&&f.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>$(null),children:f.jsxs(ge.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),children:[f.jsx("button",{className:"close-modal",onClick:()=>$(null),children:f.jsx(ys,{})}),f.jsxs("div",{className:"modal-scroll-content",children:[f.jsxs("h3",{children:[" Chnh sa: ",J.name]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Tn:"}),f.jsx("input",{type:"text",value:J.name,onChange:E=>$({...J,name:E.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Avatar:"}),f.jsx("div",{className:"avatar-picker",children:Ev.map(E=>f.jsx("button",{className:`avatar-btn ${J.avatar===E?"active":""}`,onClick:()=>$({...J,avatar:E}),children:E},E))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" tui:"}),f.jsxs("select",{value:J.ageGroup||"0-3",onChange:E=>$({...J,ageGroup:E.target.value}),children:[f.jsx("option",{value:"0-3",children:"0-3 tui"}),f.jsx("option",{value:"3-6",children:"3-6 tui"}),f.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Gii hn xem/ngy (pht):"}),f.jsx("input",{type:"number",value:J.dailyLimit,onChange:E=>$({...J,dailyLimit:Number(E.target.value)}),min:"10",max:"180"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ch  c php xem:"}),f.jsx("div",{className:"category-picker",children:un.map(E=>f.jsxs("button",{className:`category-chip ${(J.allowedCategories||[]).includes(E.id)?"active":""}`,style:{"--cat-color":E.color},onClick:()=>Gi(E.id),children:[E.icon," ",E.name]},E.id))})]}),f.jsx("button",{className:"submit-btn save-btn",onClick:_l,children:" Lu thay i"})]})]})})}),document.body),ps.createPortal(f.jsx(Kn,{children:re&&f.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>lt(null),children:f.jsxs(ge.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),children:[f.jsx("button",{className:"close-modal",onClick:()=>lt(null),children:f.jsx(ys,{})}),f.jsxs("div",{className:"modal-scroll-content",children:[f.jsx("h3",{children:" Chnh sa video"}),f.jsx("div",{className:"video-preview",style:{marginBottom:"16px"},children:f.jsx("img",{src:re.thumbnail,alt:re.title,className:"preview-thumb",style:{width:"100%",borderRadius:"12px"}})}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Tiu :"}),f.jsx("input",{type:"text",value:re.title,onChange:E=>lt({...re,title:E.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Knh:"}),f.jsx("input",{type:"text",value:re.channel,onChange:E=>lt({...re,channel:E.target.value})})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" tui:"}),f.jsxs("select",{value:re.ageGroup||"all",onChange:E=>lt({...re,ageGroup:E.target.value}),children:[f.jsx("option",{value:"all",children:"Mi la tui"}),f.jsx("option",{value:"0-3",children:"0-3 tui"}),f.jsx("option",{value:"3-6",children:"3-6 tui"}),f.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ch :"}),f.jsx("select",{value:re.category||"entertainment",onChange:E=>lt({...re,category:E.target.value}),children:un.map(E=>f.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),f.jsx("button",{className:"submit-btn save-btn",onClick:Dn,children:" Lu thay i"})]})]})})}),document.body),ps.createPortal(f.jsx(Kn,{children:St&&f.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ci,children:f.jsxs(ge.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),children:[f.jsx("button",{className:"close-modal",onClick:ci,children:""}),f.jsxs("div",{className:"modal-scroll-content",children:[xe==="videos"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:" Thm video mi"}),f.jsxs("div",{className:"mode-toggle",children:[f.jsx("button",{className:`mode-btn ${At==="url"?"active":""}`,onClick:()=>{Gt("url"),dt([]),wn([])},children:" Nhp URL"}),f.jsx("button",{className:`mode-btn ${At==="keyword"?"active":""}`,onClick:()=>{Gt("keyword"),dt([]),wn([]),ni("")},children:" Tm video"}),o.length>0&&f.jsx("button",{className:`mode-btn ${At==="search"?"active":""}`,onClick:()=>Gt("search"),children:" Tm t knh"})]}),At==="keyword"&&f.jsxs("div",{className:"keyword-search-section",children:[f.jsxs("div",{className:"search-box",children:[f.jsxs("div",{className:"search-input-wrapper",children:[f.jsx(Eh,{className:"search-icon"}),f.jsx("input",{type:"text",value:Ot,onChange:E=>ii(E.target.value),placeholder:"Nhp t kha tm kim...",onKeyDown:E=>E.key==="Enter"&&pl(),autoFocus:!0})]}),f.jsx("button",{className:"search-btn",onClick:pl,disabled:qt||!Ot.trim(),children:qt?"":""})]}),qt&&f.jsxs("div",{className:"search-loading",children:[f.jsx("span",{className:"loading-spinner-small",children:""}),f.jsx("span",{children:"ang tm kim video..."})]}),!qt&&Pe.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"search-results-header",children:[f.jsxs("span",{children:[" ",Pe.length," video"]}),Et.length>0&&f.jsxs("span",{className:"selected-count",children:["  chn: ",Et.length]})]}),f.jsx("div",{className:"search-results",children:Pe.map(E=>{const X=mn(E.videoId),fe=Tt(E.videoId);return f.jsxs("div",{className:`search-result-item ${fe?"selected":""} ${X?"in-library":""}`,onClick:()=>!X&&si(E),children:[f.jsxs("div",{className:"result-thumb-wrapper",children:[f.jsx("img",{src:E.thumbnail,alt:E.title,className:"result-thumb"}),fe&&f.jsx("div",{className:"check-overlay",children:f.jsx(Sh,{})}),X&&f.jsx("div",{className:"in-library-badge",children:"  c"})]}),f.jsxs("div",{className:"result-info",children:[f.jsx("span",{className:"result-title",children:E.title}),f.jsx("span",{className:"result-channel",children:E.channel})]})]},E.videoId)})}),Pe.length>=5&&f.jsx("button",{className:"load-more-btn",onClick:Qs,disabled:ai,children:ai?" ang ti...":" Tm thm video"}),Et.length>0&&f.jsxs("button",{className:"submit-btn add-selected-btn",onClick:xt,children:[f.jsx(yn,{})," Thm ",Et.length," video  chn"]})]}),!qt&&Pe.length===0&&Ot.trim()&&f.jsxs("div",{className:"no-results",children:[f.jsx("p",{children:" Khng tm thy video"}),f.jsx("small",{children:"Th tm kim vi t kha khc"})]}),!Ot.trim()&&Pe.length===0&&f.jsx("div",{className:"search-hint-box",children:f.jsx("p",{children:" Nhp t kha v nhn Enter hoc nt   tm video"})})]}),At==="search"&&o.length>0&&f.jsxs("div",{className:"channel-search-section",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Chn knh:"}),f.jsxs("select",{value:Ct,onChange:E=>{ni(E.target.value),dt([]),wn([]),ii("")},children:[f.jsx("option",{value:"",children:"-- Chn knh --"}),o.map(E=>f.jsx("option",{value:E.id,children:E.name},E.id))]})]}),Ct&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"search-box",children:[f.jsxs("div",{className:"search-input-wrapper",children:[f.jsx(Eh,{className:"search-icon"}),f.jsx("input",{type:"text",value:Ot,onChange:E=>ii(E.target.value),placeholder:"Tm video trong knh...",onKeyDown:E=>E.key==="Enter"&&pl()})]}),f.jsx("button",{className:"search-btn",onClick:pl,disabled:qt,children:qt?"":""})]}),qt&&f.jsxs("div",{className:"search-loading",children:[f.jsx("span",{className:"loading-spinner-small",children:""}),f.jsx("span",{children:"ang ti video t knh..."})]}),!qt&&Pe.length>0&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"search-results-header",children:[f.jsxs("span",{children:[" ",Pe.length," video"]}),Et.length>0&&f.jsxs("span",{className:"selected-count",children:["  chn: ",Et.length]})]}),f.jsx("div",{className:"search-results",children:Pe.map(E=>{const X=mn(E.videoId),fe=Tt(E.videoId);return f.jsxs("div",{className:`search-result-item ${fe?"selected":""} ${X?"in-library":""}`,onClick:()=>!X&&si(E),children:[f.jsxs("div",{className:"result-thumb-wrapper",children:[f.jsx("img",{src:E.thumbnail,alt:E.title,className:"result-thumb"}),fe&&f.jsx("div",{className:"check-overlay",children:f.jsx(Sh,{})}),X&&f.jsx("div",{className:"in-library-badge",children:"  c"})]}),f.jsxs("div",{className:"result-info",children:[f.jsx("span",{className:"result-title",children:E.title}),f.jsx("span",{className:"result-channel",children:E.channel})]})]},E.videoId)})}),Pe.length>=5&&f.jsx("button",{className:"load-more-btn",onClick:Qs,disabled:ai,children:ai?" ang ti...":" Tm thm video"}),Et.length>0&&f.jsxs("button",{className:"submit-btn add-selected-btn",onClick:xt,children:[f.jsx(yn,{})," Thm ",Et.length," video  chn"]})]}),!qt&&Pe.length===0&&Ct&&f.jsxs("div",{className:"no-results",children:[f.jsx("p",{children:" Khng tm thy video"}),f.jsx("small",{children:"Th tm kim vi t kha khc hoc kim tra Channel ID"})]})]})]}),At==="url"&&f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"URL YouTube:"}),f.jsxs("div",{className:"input-with-icon",children:[f.jsx("input",{type:"url",value:ee.url,onChange:E=>Fe({...ee,url:E.target.value}),placeholder:"https://www.youtube.com/watch?v=..."}),ml&&f.jsx("span",{className:"loading-spinner",children:""})]})]}),ee.url&&Ri(ee.url)&&f.jsx("div",{className:"video-preview",children:f.jsx("img",{src:`https://img.youtube.com/vi/${Ri(ee.url)}/mqdefault.jpg`,alt:"Preview",className:"preview-thumb"})}),f.jsxs("div",{className:"form-group",children:[f.jsxs("label",{children:["Tiu : ",ml&&f.jsx("span",{className:"auto-fill-hint",children:"(ang ti...)"})]}),f.jsx("input",{type:"text",value:ee.title,onChange:E=>Fe({...ee,title:E.target.value}),placeholder:"Tn video..."})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Knh:"}),f.jsx("input",{type:"text",value:ee.channel,onChange:E=>Fe({...ee,channel:E.target.value}),placeholder:"Tn knh..."})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" tui:"}),f.jsxs("select",{value:ee.ageGroup,onChange:E=>Fe({...ee,ageGroup:E.target.value}),children:[f.jsx("option",{value:"all",children:"Mi la tui"}),f.jsx("option",{value:"0-3",children:"0-3 tui"}),f.jsx("option",{value:"3-6",children:"3-6 tui"}),f.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ch :"}),f.jsx("select",{value:ee.category||"entertainment",onChange:E=>Fe({...ee,category:E.target.value}),children:un.map(E=>f.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),f.jsxs("button",{className:"submit-btn",onClick:Qr,children:[f.jsx(yn,{})," Thm video"]})]})]}),xe==="channels"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:" Thm knh mi"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Tn knh:"}),f.jsx("input",{type:"text",value:ke.name,onChange:E=>$e({...ke,name:E.target.value}),placeholder:"Tn knh..."})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Channel ID:"}),f.jsx("input",{type:"text",value:ke.channelId,onChange:E=>$e({...ke,channelId:E.target.value}),placeholder:"UCxxxxxx..."}),f.jsx("small",{className:"form-hint",children:"Ly t URL knh YouTube: youtube.com/channel/[Channel ID]"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" tui:"}),f.jsxs("select",{value:ke.ageGroup,onChange:E=>$e({...ke,ageGroup:E.target.value}),children:[f.jsx("option",{value:"all",children:"Mi la tui"}),f.jsx("option",{value:"0-3",children:"0-3 tui"}),f.jsx("option",{value:"3-6",children:"3-6 tui"}),f.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ch :"}),f.jsx("select",{value:ke.category||"entertainment",onChange:E=>$e({...ke,category:E.target.value}),children:un.map(E=>f.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),f.jsxs("button",{className:"submit-btn",onClick:vl,children:[f.jsx(yn,{})," Thm knh"]})]}),xe==="users"&&f.jsxs(f.Fragment,{children:[f.jsx("h3",{children:" Thm b mi"}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Tn:"}),f.jsx("input",{type:"text",value:D.name,onChange:E=>L({...D,name:E.target.value}),placeholder:"Tn b..."})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Avatar:"}),f.jsx("div",{className:"avatar-picker",children:Ev.map(E=>f.jsx("button",{className:`avatar-btn ${D.avatar===E?"active":""}`,onClick:()=>L({...D,avatar:E}),children:E},E))})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:" tui:"}),f.jsxs("select",{value:D.ageGroup,onChange:E=>L({...D,ageGroup:E.target.value}),children:[f.jsx("option",{value:"0-3",children:"0-3 tui"}),f.jsx("option",{value:"3-6",children:"3-6 tui"}),f.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Gii hn xem/ngy (pht):"}),f.jsx("input",{type:"number",value:D.dailyLimit,onChange:E=>L({...D,dailyLimit:Number(E.target.value)}),min:"10",max:"180"})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{children:"Ch  c php xem:"}),f.jsx("div",{className:"category-picker",children:un.map(E=>f.jsxs("button",{className:`category-chip ${(D.allowedCategories||[]).includes(E.id)?"active":""}`,style:{"--cat-color":E.color},onClick:()=>Gi(E.id),children:[E.icon," ",E.name]},E.id))})]}),f.jsxs("button",{className:"submit-btn",onClick:yl,children:[f.jsx(yn,{})," Thm b"]})]})]})]})})}),document.body)]})}function vC(){const{users:a,login:n,initializeData:l,isLoading:c}=ti();V.useEffect(()=>{l()},[]);const o=a.filter(h=>h.type==="child");return c?f.jsx("div",{className:"login-screen",children:f.jsxs("div",{className:"loading-container",children:[f.jsx("div",{className:"loading-spinner large"}),f.jsx("p",{children:"ang ti..."})]})}):f.jsx("div",{className:"login-screen",children:f.jsxs(ge.div,{className:"login-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[f.jsxs("div",{className:"login-header",children:[f.jsx("h1",{children:" Kid Video"}),f.jsx("p",{children:"Chn ti khon ca b"})]}),f.jsx("div",{className:"user-grid",children:o.map((h,d)=>f.jsxs(ge.button,{className:"user-card",onClick:()=>n(h.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:d*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:[f.jsx("div",{className:"user-avatar",children:h.avatar}),f.jsx("span",{className:"user-name",children:h.name}),f.jsxs("span",{className:"user-age",children:[h.ageGroup," tui"]})]},h.id))}),f.jsx("div",{className:"login-footer",children:f.jsx("p",{children:" Video an ton cho b yu"})})]})})}function yC(){const{currentUser:a,todayWatchTime:n,dailyLimit:l,logout:c,initializeData:o,setVideos:h,setUsers:d,setChannels:g}=ti(),v=Math.min(n/l*100,100);return V.useEffect(()=>{o();const y=P3(S=>{console.log("Videos synced:",S.length),h(S)}),T=eC(S=>{console.log("Users synced:",S.length),d(S)}),_=tC(S=>{console.log("Channels synced:",S.length),g(S)});return()=>{y(),T(),_()}},[]),a?f.jsxs("div",{className:"app",children:[f.jsxs(ge.header,{className:"header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[f.jsxs("div",{className:"header-content",children:[f.jsx(ge.h1,{className:"app-title",whileHover:{scale:1.05},children:" Kid Video"}),f.jsx("p",{className:"app-subtitle",children:"Video an ton cho b yu"})]}),f.jsxs("div",{className:"user-info",children:[f.jsxs("span",{className:"current-user",children:[f.jsx("span",{className:"user-avatar-small",children:a.avatar}),f.jsx("span",{className:"user-name-small",children:a.name})]}),f.jsxs("button",{className:"logout-btn",onClick:c,children:[f.jsx(w1,{})," i b"]}),f.jsx(pC,{inHeader:!0})]}),f.jsxs("div",{className:"watch-time-indicator",children:[f.jsx("span",{className:"watch-time-label",children:" Thi gian xem hm nay"}),f.jsx("div",{className:"watch-time-bar",children:f.jsx(ge.div,{className:"watch-time-progress",initial:{width:0},animate:{width:`${v}%`},style:{background:v>80?"#ff6b6b":v>50?"#ffa502":"#84fab0"}})}),f.jsxs("span",{className:"watch-time-text",children:[n,"/",l," pht"]})]})]}),f.jsxs("main",{className:"main-content",children:[f.jsxs(ge.div,{className:"controls",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[f.jsx(cC,{}),f.jsx(oC,{})]}),f.jsx(rC,{}),f.jsx(hC,{})]}),f.jsx(dC,{}),f.jsx("footer",{className:"footer",children:f.jsx("p",{children:" An ton & Thn thin vi tr em"})})]}):f.jsx(vC,{})}S1.createRoot(document.getElementById("root")).render(f.jsx(V.StrictMode,{children:f.jsx(yC,{})}));
