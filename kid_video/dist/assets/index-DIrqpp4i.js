import{r as p1,R as lr,a as I,j as d,m as ge,A as Kn}from"./motion-DRm28CPu.js";import{r as xv}from"./vendor-DX_WDAl5.js";import{G as dt}from"./icons-k-IPNWRF.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function l(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=l(o);fetch(o.href,h)}})();var ih={exports:{}},hs={},lh={exports:{}},ah={};var xp;function v1(){return xp||(xp=1,(function(a){function n(M,k){var F=M.length;M.push(k);e:for(;0<F;){var Ce=F-1>>>1,pe=M[Ce];if(0<o(pe,k))M[Ce]=k,M[F]=pe,F=Ce;else break e}}function l(M){return M.length===0?null:M[0]}function c(M){if(M.length===0)return null;var k=M[0],F=M.pop();if(F!==k){M[0]=F;e:for(var Ce=0,pe=M.length,B=pe>>>1;Ce<B;){var J=2*(Ce+1)-1,H=M[J],W=J+1,Ee=M[W];if(0>o(H,F))W<pe&&0>o(Ee,H)?(M[Ce]=Ee,M[W]=F,Ce=W):(M[Ce]=H,M[J]=F,Ce=J);else if(W<pe&&0>o(Ee,F))M[Ce]=Ee,M[W]=F,Ce=W;else break e}}return k}function o(M,k){var F=M.sortIndex-k.sortIndex;return F!==0?F:M.id-k.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var v=[],y=[],x=1,b=null,S=3,z=!1,U=!1,Y=!1,G=!1,ie=typeof setTimeout=="function"?setTimeout:null,Se=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ee(M){for(var k=l(y);k!==null;){if(k.callback===null)c(y);else if(k.startTime<=M)c(y),k.sortIndex=k.expirationTime,n(v,k);else break;k=l(y)}}function xe(M){if(Y=!1,ee(M),!U)if(l(v)!==null)U=!0,oe||(oe=!0,P());else{var k=l(y);k!==null&&et(xe,k.startTime-M)}}var oe=!1,Ue=-1,we=5,Ct=-1;function Pe(){return G?!0:!(a.unstable_now()-Ct<we)}function Oe(){if(G=!1,oe){var M=a.unstable_now();Ct=M;var k=!0;try{e:{U=!1,Y&&(Y=!1,Se(Ue),Ue=-1),z=!0;var F=S;try{t:{for(ee(M),b=l(v);b!==null&&!(b.expirationTime>M&&Pe());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,S=b.priorityLevel;var pe=Ce(b.expirationTime<=M);if(M=a.unstable_now(),typeof pe=="function"){b.callback=pe,ee(M),k=!0;break t}b===l(v)&&c(v),ee(M)}else c(v);b=l(v)}if(b!==null)k=!0;else{var B=l(y);B!==null&&et(xe,B.startTime-M),k=!1}}break e}finally{b=null,S=F,z=!1}k=void 0}}finally{k?P():oe=!1}}}var P;if(typeof $=="function")P=function(){$(Oe)};else if(typeof MessageChannel<"u"){var Ve=new MessageChannel,qe=Ve.port2;Ve.port1.onmessage=Oe,P=function(){qe.postMessage(null)}}else P=function(){ie(Oe,0)};function et(M,k){Ue=ie(function(){M(a.unstable_now())},k)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(M){M.callback=null},a.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):we=0<M?Math.floor(1e3/M):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(M){switch(S){case 1:case 2:case 3:var k=3;break;default:k=S}var F=S;S=k;try{return M()}finally{S=F}},a.unstable_requestPaint=function(){G=!0},a.unstable_runWithPriority=function(M,k){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var F=S;S=M;try{return k()}finally{S=F}},a.unstable_scheduleCallback=function(M,k,F){var Ce=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Ce+F:Ce):F=Ce,M){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=F+pe,M={id:x++,callback:k,priorityLevel:M,startTime:F,expirationTime:pe,sortIndex:-1},F>Ce?(M.sortIndex=F,n(y,M),l(v)===null&&M===l(y)&&(Y?(Se(Ue),Ue=-1):Y=!0,et(xe,F-Ce))):(M.sortIndex=pe,n(v,M),U||z||(U=!0,oe||(oe=!0,P()))),M},a.unstable_shouldYield=Pe,a.unstable_wrapCallback=function(M){var k=S;return function(){var F=S;S=k;try{return M.apply(this,arguments)}finally{S=F}}}})(ah)),ah}var Np;function y1(){return Np||(Np=1,lh.exports=v1()),lh.exports}var Ap;function _1(){if(Ap)return hs;Ap=1;var a=y1(),n=p1(),l=xv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(c(188))}function y(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===i)return v(r),e;if(u===s)return v(r),t;u=u.sibling}throw Error(c(188))}if(i.return!==s.return)i=r,s=u;else{for(var m=!1,p=r.child;p;){if(p===i){m=!0,i=r,s=u;break}if(p===s){m=!0,s=r,i=u;break}p=p.sibling}if(!m){for(p=u.child;p;){if(p===i){m=!0,i=u,s=r;break}if(p===s){m=!0,s=u,i=r;break}p=p.sibling}if(!m)throw Error(c(189))}}if(i.alternate!==s)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function x(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=x(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,S=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),Se=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),xe=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),Ue=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),Ct=Symbol.for("react.activity"),Pe=Symbol.for("react.memo_cache_sentinel"),Oe=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=Oe&&e[Oe]||e["@@iterator"],typeof e=="function"?e:null)}var Ve=Symbol.for("react.client.reference");function qe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ve?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case ie:return"Profiler";case G:return"StrictMode";case xe:return"Suspense";case oe:return"SuspenseList";case Ct:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case U:return"Portal";case $:return e.displayName||"Context";case Se:return(e._context.displayName||"Context")+".Consumer";case ee:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ue:return t=e.displayName||null,t!==null?t:qe(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return qe(e(t))}catch{}}return null}var et=Array.isArray,M=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},Ce=[],pe=-1;function B(e){return{current:e}}function J(e){0>pe||(e.current=Ce[pe],Ce[pe]=null,pe--)}function H(e,t){pe++,Ce[pe]=e.current,e.current=t}var W=B(null),Ee=B(null),Gt=B(null),ve=B(null);function At(e,t){switch(H(Gt,t),H(Ee,e),H(W,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kg(t),e=Zg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}J(W),H(W,e)}function qt(){J(W),J(Ee),J(Gt)}function Et(e){e.memoizedState!==null&&H(ve,e);var t=W.current,i=Zg(t,e.type);t!==i&&(H(Ee,e),H(W,i))}function ni(e){Ee.current===e&&(J(W),J(Ee)),ve.current===e&&(J(ve),cs._currentValue=F)}var Rt,ii;function tt(e){if(Rt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Rt=t&&t[1]||"",ii=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+e+ii}var mt=!1;function Tt(e,t){if(!e||mt)return"";mt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(D){var w=D}Reflect.construct(e,[],O)}else{try{O.call()}catch(D){w=D}e.call(O.prototype)}}else{try{throw Error()}catch(D){w=D}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(D){if(D&&w&&typeof D.stack=="string")return[D.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),m=u[0],p=u[1];if(m&&p){var _=m.split(`
`),A=p.split(`
`);for(r=s=0;s<_.length&&!_[s].includes("DetermineComponentFrameRoot");)s++;for(;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;if(s===_.length||r===A.length)for(s=_.length-1,r=A.length-1;1<=s&&0<=r&&_[s]!==A[r];)r--;for(;1<=s&&0<=r;s--,r--)if(_[s]!==A[r]){if(s!==1||r!==1)do if(s--,r--,0>r||_[s]!==A[r]){var j=`
`+_[s].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=s&&0<=r);break}}}finally{mt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?tt(i):""}function wn(e,t){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==t&&t!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return Tt(e.type,!1);case 11:return Tt(e.type.render,!1);case 1:return Tt(e.type,!0);case 31:return tt("Activity");default:return""}}function Yt(e){try{var t="",i=null;do t+=wn(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Pt=Object.prototype.hasOwnProperty,ml=a.unstable_scheduleCallback,gl=a.unstable_cancelCallback,Vr=a.unstable_shouldYield,li=a.unstable_requestPaint,wt=a.unstable_now,Cn=a.unstable_getCurrentPriorityLevel,ai=a.unstable_ImmediatePriority,Sa=a.unstable_UserBlockingPriority,Vi=a.unstable_NormalPriority,Gr=a.unstable_LowPriority,qs=a.unstable_IdlePriority,pl=a.log,Ys=a.unstable_setDisableYieldValue,si=null,xt=null;function mn(e){if(typeof pl=="function"&&Ys(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(si,e)}catch{}}var Nt=Math.clz32?Math.clz32:Yr,qr=Math.log,Qs=Math.LN2;function Yr(e){return e>>>=0,e===0?32:31-(qr(e)/Qs|0)|0}var vl=256,yl=262144,_l=4194304;function Dn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Gi(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~u,s!==0?r=Dn(s):(m&=p,m!==0?r=Dn(m):i||(i=p&~e,i!==0&&(r=Dn(i))))):(p=s&~u,p!==0?r=Dn(p):m!==0?r=Dn(m):i||(i=s&~e,i!==0&&(r=Dn(i)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:r}function ci(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function E(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function X(){var e=_l;return _l<<=1,(_l&62914560)===0&&(_l=4194304),e}function de(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ue(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Je(e,t,i,s,r,u){var m=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,_=e.expirationTimes,A=e.hiddenUpdates;for(i=m&~i;0<i;){var j=31-Nt(i),O=1<<j;p[j]=0,_[j]=-1;var w=A[j];if(w!==null)for(A[j]=null,j=0;j<w.length;j++){var D=w[j];D!==null&&(D.lane&=-536870913)}i&=~O}s!==0&&Qt(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Qt(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Nt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Ot(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Nt(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function Rf(e,t){var i=t&-t;return i=(i&42)!==0?1:Qr(i),(i&(e.suspendedLanes|t))!==0?0:i}function Qr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Of(){var e=k.p;return e!==0?e:(e=window.event,e===void 0?32:yp(e.type))}function zf(e,t){var i=k.p;try{return k.p=e,t()}finally{k.p=i}}var ri=Math.random().toString(36).slice(2),gt="__reactFiber$"+ri,zt="__reactProps$"+ri,bl="__reactContainer$"+ri,Xr="__reactEvents$"+ri,a_="__reactListeners$"+ri,s_="__reactHandles$"+ri,Uf="__reactResources$"+ri,Ca="__reactMarker$"+ri;function Kr(e){delete e[gt],delete e[zt],delete e[Xr],delete e[a_],delete e[s_]}function Sl(e){var t=e[gt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[bl]||i[gt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=np(e);e!==null;){if(i=e[gt])return i;e=np(e)}return t}e=i,i=e.parentNode}return null}function Cl(e){if(e=e[gt]||e[bl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ea(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function El(e){var t=e[Uf];return t||(t=e[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function ot(e){e[Ca]=!0}var Lf=new Set,Bf={};function qi(e,t){Tl(e,t),Tl(e+"Capture",t)}function Tl(e,t){for(Bf[e]=t,e=0;e<t.length;e++)Lf.add(t[e])}var c_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kf={},Hf={};function r_(e){return Pt.call(Hf,e)?!0:Pt.call(kf,e)?!1:c_.test(e)?Hf[e]=!0:(kf[e]=!0,!1)}function Fs(e,t,i){if(r_(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Xs(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Mn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function If(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o_(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(m){i=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Zr(e){if(!e._valueTracker){var t=If(e)?"checked":"value";e._valueTracker=o_(e,t,""+e[t])}}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=If(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var u_=/[\n"\\]/g;function tn(e){return e.replace(u_,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Jr(e,t,i,s,r,u,m,p){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+en(t)):e.value!==""+en(t)&&(e.value=""+en(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Wr(e,m,en(t)):i!=null?Wr(e,m,en(i)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+en(p):e.removeAttribute("name")}function Gf(e,t,i,s,r,u,m,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Zr(e);return}i=i!=null?""+en(i):"",t=t!=null?""+en(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Zr(e)}function Wr(e,t,i){t==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function xl(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+en(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function qf(e,t,i){if(t!=null&&(t=""+en(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+en(i):""}function Yf(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(c(92));if(et(s)){if(1<s.length)throw Error(c(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=en(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Zr(e)}function Nl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var h_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||h_.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Ff(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Qf(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Qf(e,u,t[u])}function $r(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var f_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),d_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zs(e){return d_.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Pr=null;function eo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,wl=null;function Xf(e){var t=Cl(e);if(t&&(e=t.stateNode)){var i=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Jr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+tn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[zt]||null;if(!r)throw Error(c(90));Jr(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Vf(s)}break e;case"textarea":qf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&xl(e,!!i.multiple,t,!1)}}}var to=!1;function Kf(e,t,i){if(to)return e(t,i);to=!0;try{var s=e(t);return s}finally{if(to=!1,(Al!==null||wl!==null)&&(Lc(),Al&&(t=Al,e=wl,wl=Al=null,Xf(t),e)))for(t=0;t<e.length;t++)Xf(e[t])}}function Ta(e,t){var i=e.stateNode;if(i===null)return null;var s=i[zt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),no=!1;if(Rn)try{var xa={};Object.defineProperty(xa,"passive",{get:function(){no=!0}}),window.addEventListener("test",xa,xa),window.removeEventListener("test",xa,xa)}catch{no=!1}var oi=null,io=null,Js=null;function Zf(){if(Js)return Js;var e,t=io,i=t.length,s,r="value"in oi?oi.value:oi.textContent,u=r.length;for(e=0;e<i&&t[e]===r[e];e++);var m=i-e;for(s=1;s<=m&&t[i-s]===r[u-s];s++);return Js=r.slice(e,1<s?1-s:void 0)}function Ws(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function Jf(){return!1}function Ut(e){function t(i,s,r,u,m){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?$s:Jf,this.isPropagationStopped=Jf,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Ut(Yi),Na=b({},Yi,{view:0,detail:0}),m_=Ut(Na),lo,ao,Aa,ec=b({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Aa&&(Aa&&e.type==="mousemove"?(lo=e.screenX-Aa.screenX,ao=e.screenY-Aa.screenY):ao=lo=0,Aa=e),lo)},movementY:function(e){return"movementY"in e?e.movementY:ao}}),Wf=Ut(ec),g_=b({},ec,{dataTransfer:0}),p_=Ut(g_),v_=b({},Na,{relatedTarget:0}),so=Ut(v_),y_=b({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),__=Ut(y_),b_=b({},Yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),S_=Ut(b_),C_=b({},Yi,{data:0}),$f=Ut(C_),E_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},T_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},x_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function N_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=x_[e])?!!t[e]:!1}function co(){return N_}var A_=b({},Na,{key:function(e){if(e.key){var t=E_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ws(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?T_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:co,charCode:function(e){return e.type==="keypress"?Ws(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ws(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),w_=Ut(A_),D_=b({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Ut(D_),M_=b({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:co}),j_=Ut(M_),R_=b({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),O_=Ut(R_),z_=b({},ec,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),U_=Ut(z_),L_=b({},Yi,{newState:0,oldState:0}),B_=Ut(L_),k_=[9,13,27,32],ro=Rn&&"CompositionEvent"in window,wa=null;Rn&&"documentMode"in document&&(wa=document.documentMode);var H_=Rn&&"TextEvent"in window&&!wa,ed=Rn&&(!ro||wa&&8<wa&&11>=wa),td=" ",nd=!1;function id(e,t){switch(e){case"keyup":return k_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Dl=!1;function I_(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(nd=!0,td);case"textInput":return e=t.data,e===td&&nd?null:e;default:return null}}function V_(e,t){if(Dl)return e==="compositionend"||!ro&&id(e,t)?(e=Zf(),Js=io=oi=null,Dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ed&&t.locale!=="ko"?null:t.data;default:return null}}var G_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!G_[e.type]:t==="textarea"}function sd(e,t,i,s){Al?wl?wl.push(s):wl=[s]:Al=s,t=qc(t,"onChange"),0<t.length&&(i=new Ps("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Da=null,Ma=null;function q_(e){Gg(e,0)}function tc(e){var t=Ea(e);if(Vf(t))return e}function cd(e,t){if(e==="change")return t}var rd=!1;if(Rn){var oo;if(Rn){var uo="oninput"in document;if(!uo){var od=document.createElement("div");od.setAttribute("oninput","return;"),uo=typeof od.oninput=="function"}oo=uo}else oo=!1;rd=oo&&(!document.documentMode||9<document.documentMode)}function ud(){Da&&(Da.detachEvent("onpropertychange",hd),Ma=Da=null)}function hd(e){if(e.propertyName==="value"&&tc(Ma)){var t=[];sd(t,Ma,e,eo(e)),Kf(q_,t)}}function Y_(e,t,i){e==="focusin"?(ud(),Da=t,Ma=i,Da.attachEvent("onpropertychange",hd)):e==="focusout"&&ud()}function Q_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tc(Ma)}function F_(e,t){if(e==="click")return tc(t)}function X_(e,t){if(e==="input"||e==="change")return tc(t)}function K_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ft=typeof Object.is=="function"?Object.is:K_;function ja(e,t){if(Ft(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!Pt.call(t,r)||!Ft(e[r],t[r]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,t){var i=fd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fd(i)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ks(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ks(e.document)}return t}function ho(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Z_=Rn&&"documentMode"in document&&11>=document.documentMode,Ml=null,fo=null,Ra=null,mo=!1;function pd(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;mo||Ml==null||Ml!==Ks(s)||(s=Ml,"selectionStart"in s&&ho(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ra&&ja(Ra,s)||(Ra=s,s=qc(fo,"onSelect"),0<s.length&&(t=new Ps("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=Ml)))}function Qi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var jl={animationend:Qi("Animation","AnimationEnd"),animationiteration:Qi("Animation","AnimationIteration"),animationstart:Qi("Animation","AnimationStart"),transitionrun:Qi("Transition","TransitionRun"),transitionstart:Qi("Transition","TransitionStart"),transitioncancel:Qi("Transition","TransitionCancel"),transitionend:Qi("Transition","TransitionEnd")},go={},vd={};Rn&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete jl.animationend.animation,delete jl.animationiteration.animation,delete jl.animationstart.animation),"TransitionEvent"in window||delete jl.transitionend.transition);function Fi(e){if(go[e])return go[e];if(!jl[e])return e;var t=jl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in vd)return go[e]=t[i];return e}var yd=Fi("animationend"),_d=Fi("animationiteration"),bd=Fi("animationstart"),J_=Fi("transitionrun"),W_=Fi("transitionstart"),$_=Fi("transitioncancel"),Sd=Fi("transitionend"),Cd=new Map,po="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");po.push("scrollEnd");function gn(e,t){Cd.set(e,t),qi(t,[e])}var nc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],Rl=0,vo=0;function ic(){for(var e=Rl,t=vo=Rl=0;t<e;){var i=nn[t];nn[t++]=null;var s=nn[t];nn[t++]=null;var r=nn[t];nn[t++]=null;var u=nn[t];if(nn[t++]=null,s!==null&&r!==null){var m=s.pending;m===null?r.next=r:(r.next=m.next,m.next=r),s.pending=r}u!==0&&Ed(i,r,u)}}function lc(e,t,i,s){nn[Rl++]=e,nn[Rl++]=t,nn[Rl++]=i,nn[Rl++]=s,vo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function yo(e,t,i,s){return lc(e,t,i,s),ac(e)}function Xi(e,t){return lc(e,null,null,t),ac(e)}function Ed(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-Nt(i),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),u):null}function ac(e){if(50<es)throw es=0,Au=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ol={};function P_(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xt(e,t,i,s){return new P_(e,t,i,s)}function _o(e){return e=e.prototype,!(!e||!e.isReactComponent)}function On(e,t){var i=e.alternate;return i===null?(i=Xt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Td(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function sc(e,t,i,s,r,u){var m=0;if(s=e,typeof e=="function")_o(e)&&(m=1);else if(typeof e=="string")m=l1(e,i,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ct:return e=Xt(31,i,t,r),e.elementType=Ct,e.lanes=u,e;case Y:return Ki(i.children,r,u,t);case G:m=8,r|=24;break;case ie:return e=Xt(12,i,t,r|2),e.elementType=ie,e.lanes=u,e;case xe:return e=Xt(13,i,t,r),e.elementType=xe,e.lanes=u,e;case oe:return e=Xt(19,i,t,r),e.elementType=oe,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $:m=10;break e;case Se:m=9;break e;case ee:m=11;break e;case Ue:m=14;break e;case we:m=16,s=null;break e}m=29,i=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Xt(m,i,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function Ki(e,t,i,s){return e=Xt(7,e,s,t),e.lanes=i,e}function bo(e,t,i){return e=Xt(6,e,null,t),e.lanes=i,e}function xd(e){var t=Xt(18,null,null,0);return t.stateNode=e,t}function So(e,t,i){return t=Xt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Nd=new WeakMap;function ln(e,t){if(typeof e=="object"&&e!==null){var i=Nd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Yt(t)},Nd.set(e,t),t)}return{value:e,source:t,stack:Yt(t)}}var zl=[],Ul=0,cc=null,Oa=0,an=[],sn=0,ui=null,En=1,Tn="";function zn(e,t){zl[Ul++]=Oa,zl[Ul++]=cc,cc=e,Oa=t}function Ad(e,t,i){an[sn++]=En,an[sn++]=Tn,an[sn++]=ui,ui=e;var s=En;e=Tn;var r=32-Nt(s)-1;s&=~(1<<r),i+=1;var u=32-Nt(t)+r;if(30<u){var m=r-r%5;u=(s&(1<<m)-1).toString(32),s>>=m,r-=m,En=1<<32-Nt(t)+r|i<<r|s,Tn=u+e}else En=1<<u|i<<r|s,Tn=e}function Co(e){e.return!==null&&(zn(e,1),Ad(e,1,0))}function Eo(e){for(;e===cc;)cc=zl[--Ul],zl[Ul]=null,Oa=zl[--Ul],zl[Ul]=null;for(;e===ui;)ui=an[--sn],an[sn]=null,Tn=an[--sn],an[sn]=null,En=an[--sn],an[sn]=null}function wd(e,t){an[sn++]=En,an[sn++]=Tn,an[sn++]=ui,En=t.id,Tn=t.overflow,ui=e}var pt=null,He=null,me=!1,hi=null,cn=!1,To=Error(c(519));function fi(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(ln(t,e)),To}function Dd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[gt]=e,t[zt]=s,i){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(i=0;i<ns.length;i++)ce(ns[i],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),Gf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),Yf(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Fg(t.textContent,i)?(s.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),s.onScroll!=null&&ce("scroll",t),s.onScrollEnd!=null&&ce("scrollend",t),s.onClick!=null&&(t.onclick=jn),t=!0):t=!1,t||fi(e,!0)}function Md(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:pt=pt.return}}function Ll(e){if(e!==pt)return!1;if(!me)return Md(e),me=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||Gu(e.type,e.memoizedProps)),i=!i),i&&He&&fi(e),Md(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));He=tp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));He=tp(e)}else t===27?(t=He,Ni(e.type)?(e=Xu,Xu=null,He=e):He=t):He=pt?on(e.stateNode.nextSibling):null;return!0}function Zi(){He=pt=null,me=!1}function xo(){var e=hi;return e!==null&&(Ht===null?Ht=e:Ht.push.apply(Ht,e),hi=null),e}function za(e){hi===null?hi=[e]:hi.push(e)}var No=B(null),Ji=null,Un=null;function di(e,t,i){H(No,t._currentValue),t._currentValue=i}function Ln(e){e._currentValue=No.current,J(No)}function Ao(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function wo(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var m=r.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=r;for(var _=0;_<t.length;_++)if(p.context===t[_]){u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),Ao(u.return,i,e),s||(m=null);break e}u=p.next}}else if(r.tag===18){if(m=r.return,m===null)throw Error(c(341));m.lanes|=i,u=m.alternate,u!==null&&(u.lanes|=i),Ao(m,i,e),m=null}else m=r.child;if(m!==null)m.return=r;else for(m=r;m!==null;){if(m===e){m=null;break}if(r=m.sibling,r!==null){r.return=m.return,m=r;break}m=m.return}r=m}}function Bl(e,t,i,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var m=r.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var p=r.type;Ft(r.pendingProps.value,m.value)||(e!==null?e.push(p):e=[p])}}else if(r===ve.current){if(m=r.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(cs):e=[cs])}r=r.return}e!==null&&wo(t,e,i,s),t.flags|=262144}function rc(e){for(e=e.firstContext;e!==null;){if(!Ft(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Wi(e){Ji=e,Un=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function vt(e){return jd(Ji,e)}function oc(e,t){return Ji===null&&Wi(e),jd(e,t)}function jd(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},Un===null){if(e===null)throw Error(c(308));Un=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Un=Un.next=t;return i}var e0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},t0=a.unstable_scheduleCallback,n0=a.unstable_NormalPriority,nt={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Do(){return{controller:new e0,data:new Map,refCount:0}}function Ua(e){e.refCount--,e.refCount===0&&t0(n0,function(){e.controller.abort()})}var La=null,Mo=0,kl=0,Hl=null;function i0(e,t){if(La===null){var i=La=[];Mo=0,kl=Ou(),Hl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Mo++,t.then(Rd,Rd),t}function Rd(){if(--Mo===0&&La!==null){Hl!==null&&(Hl.status="fulfilled");var e=La;La=null,kl=0,Hl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var Od=M.S;M.S=function(e,t){pg=wt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&i0(e,t),Od!==null&&Od(e,t)};var $i=B(null);function jo(){var e=$i.current;return e!==null?e:ze.pooledCache}function uc(e,t){t===null?H($i,$i.current):H($i,t.pool)}function zd(){var e=jo();return e===null?null:{parent:nt._currentValue,pool:e}}var Il=Error(c(460)),Ro=Error(c(474)),hc=Error(c(542)),fc={then:function(){}};function Ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ld(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(jn,jn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e;default:if(typeof t.status=="string")t.then(jn,jn);else{if(e=ze,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,kd(e),e}throw el=t,Il}}function Pi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(el=i,Il):i}}var el=null;function Bd(){if(el===null)throw Error(c(459));var e=el;return el=null,e}function kd(e){if(e===Il||e===hc)throw Error(c(483))}var Vl=null,Ba=0;function dc(e){var t=Ba;return Ba+=1,Vl===null&&(Vl=[]),Ld(Vl,e,t)}function ka(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function mc(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Hd(e){function t(T,C){if(e){var N=T.deletions;N===null?(T.deletions=[C],T.flags|=16):N.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function s(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function r(T,C){return T=On(T,C),T.index=0,T.sibling=null,T}function u(T,C,N){return T.index=N,e?(N=T.alternate,N!==null?(N=N.index,N<C?(T.flags|=67108866,C):N):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function m(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,C,N,R){return C===null||C.tag!==6?(C=bo(N,T.mode,R),C.return=T,C):(C=r(C,N),C.return=T,C)}function _(T,C,N,R){var Q=N.type;return Q===Y?j(T,C,N.props.children,R,N.key):C!==null&&(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===we&&Pi(Q)===C.type)?(C=r(C,N.props),ka(C,N),C.return=T,C):(C=sc(N.type,N.key,N.props,null,T.mode,R),ka(C,N),C.return=T,C)}function A(T,C,N,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==N.containerInfo||C.stateNode.implementation!==N.implementation?(C=So(N,T.mode,R),C.return=T,C):(C=r(C,N.children||[]),C.return=T,C)}function j(T,C,N,R,Q){return C===null||C.tag!==7?(C=Ki(N,T.mode,R,Q),C.return=T,C):(C=r(C,N),C.return=T,C)}function O(T,C,N){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=bo(""+C,T.mode,N),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return N=sc(C.type,C.key,C.props,null,T.mode,N),ka(N,C),N.return=T,N;case U:return C=So(C,T.mode,N),C.return=T,C;case we:return C=Pi(C),O(T,C,N)}if(et(C)||P(C))return C=Ki(C,T.mode,N,null),C.return=T,C;if(typeof C.then=="function")return O(T,dc(C),N);if(C.$$typeof===$)return O(T,oc(T,C),N);mc(T,C)}return null}function w(T,C,N,R){var Q=C!==null?C.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return Q!==null?null:p(T,C,""+N,R);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case z:return N.key===Q?_(T,C,N,R):null;case U:return N.key===Q?A(T,C,N,R):null;case we:return N=Pi(N),w(T,C,N,R)}if(et(N)||P(N))return Q!==null?null:j(T,C,N,R,null);if(typeof N.then=="function")return w(T,C,dc(N),R);if(N.$$typeof===$)return w(T,C,oc(T,N),R);mc(T,N)}return null}function D(T,C,N,R,Q){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return T=T.get(N)||null,p(C,T,""+R,Q);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case z:return T=T.get(R.key===null?N:R.key)||null,_(C,T,R,Q);case U:return T=T.get(R.key===null?N:R.key)||null,A(C,T,R,Q);case we:return R=Pi(R),D(T,C,N,R,Q)}if(et(R)||P(R))return T=T.get(N)||null,j(C,T,R,Q,null);if(typeof R.then=="function")return D(T,C,N,dc(R),Q);if(R.$$typeof===$)return D(T,C,N,oc(C,R),Q);mc(C,R)}return null}function V(T,C,N,R){for(var Q=null,ye=null,q=C,ne=C=0,fe=null;q!==null&&ne<N.length;ne++){q.index>ne?(fe=q,q=null):fe=q.sibling;var _e=w(T,q,N[ne],R);if(_e===null){q===null&&(q=fe);break}e&&q&&_e.alternate===null&&t(T,q),C=u(_e,C,ne),ye===null?Q=_e:ye.sibling=_e,ye=_e,q=fe}if(ne===N.length)return i(T,q),me&&zn(T,ne),Q;if(q===null){for(;ne<N.length;ne++)q=O(T,N[ne],R),q!==null&&(C=u(q,C,ne),ye===null?Q=q:ye.sibling=q,ye=q);return me&&zn(T,ne),Q}for(q=s(q);ne<N.length;ne++)fe=D(q,T,ne,N[ne],R),fe!==null&&(e&&fe.alternate!==null&&q.delete(fe.key===null?ne:fe.key),C=u(fe,C,ne),ye===null?Q=fe:ye.sibling=fe,ye=fe);return e&&q.forEach(function(ji){return t(T,ji)}),me&&zn(T,ne),Q}function K(T,C,N,R){if(N==null)throw Error(c(151));for(var Q=null,ye=null,q=C,ne=C=0,fe=null,_e=N.next();q!==null&&!_e.done;ne++,_e=N.next()){q.index>ne?(fe=q,q=null):fe=q.sibling;var ji=w(T,q,_e.value,R);if(ji===null){q===null&&(q=fe);break}e&&q&&ji.alternate===null&&t(T,q),C=u(ji,C,ne),ye===null?Q=ji:ye.sibling=ji,ye=ji,q=fe}if(_e.done)return i(T,q),me&&zn(T,ne),Q;if(q===null){for(;!_e.done;ne++,_e=N.next())_e=O(T,_e.value,R),_e!==null&&(C=u(_e,C,ne),ye===null?Q=_e:ye.sibling=_e,ye=_e);return me&&zn(T,ne),Q}for(q=s(q);!_e.done;ne++,_e=N.next())_e=D(q,T,ne,_e.value,R),_e!==null&&(e&&_e.alternate!==null&&q.delete(_e.key===null?ne:_e.key),C=u(_e,C,ne),ye===null?Q=_e:ye.sibling=_e,ye=_e);return e&&q.forEach(function(g1){return t(T,g1)}),me&&zn(T,ne),Q}function je(T,C,N,R){if(typeof N=="object"&&N!==null&&N.type===Y&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case z:e:{for(var Q=N.key;C!==null;){if(C.key===Q){if(Q=N.type,Q===Y){if(C.tag===7){i(T,C.sibling),R=r(C,N.props.children),R.return=T,T=R;break e}}else if(C.elementType===Q||typeof Q=="object"&&Q!==null&&Q.$$typeof===we&&Pi(Q)===C.type){i(T,C.sibling),R=r(C,N.props),ka(R,N),R.return=T,T=R;break e}i(T,C);break}else t(T,C);C=C.sibling}N.type===Y?(R=Ki(N.props.children,T.mode,R,N.key),R.return=T,T=R):(R=sc(N.type,N.key,N.props,null,T.mode,R),ka(R,N),R.return=T,T=R)}return m(T);case U:e:{for(Q=N.key;C!==null;){if(C.key===Q)if(C.tag===4&&C.stateNode.containerInfo===N.containerInfo&&C.stateNode.implementation===N.implementation){i(T,C.sibling),R=r(C,N.children||[]),R.return=T,T=R;break e}else{i(T,C);break}else t(T,C);C=C.sibling}R=So(N,T.mode,R),R.return=T,T=R}return m(T);case we:return N=Pi(N),je(T,C,N,R)}if(et(N))return V(T,C,N,R);if(P(N)){if(Q=P(N),typeof Q!="function")throw Error(c(150));return N=Q.call(N),K(T,C,N,R)}if(typeof N.then=="function")return je(T,C,dc(N),R);if(N.$$typeof===$)return je(T,C,oc(T,N),R);mc(T,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,C!==null&&C.tag===6?(i(T,C.sibling),R=r(C,N),R.return=T,T=R):(i(T,C),R=bo(N,T.mode,R),R.return=T,T=R),m(T)):i(T,C)}return function(T,C,N,R){try{Ba=0;var Q=je(T,C,N,R);return Vl=null,Q}catch(q){if(q===Il||q===hc)throw q;var ye=Xt(29,q,null,T.mode);return ye.lanes=R,ye.return=T,ye}}}var tl=Hd(!0),Id=Hd(!1),mi=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function gi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pi(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Te&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=ac(e),Ed(e,null,i),t}return lc(e,s,t,i),ac(e)}function Ha(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Ot(e,i)}}function Uo(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var m={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?r=u=m:u=u.next=m,i=i.next}while(i!==null);u===null?r=u=t:u=u.next=t}else r=u=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Lo=!1;function Ia(){if(Lo){var e=Hl;if(e!==null)throw e}}function Va(e,t,i,s){Lo=!1;var r=e.updateQueue;mi=!1;var u=r.firstBaseUpdate,m=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var _=p,A=_.next;_.next=null,m===null?u=A:m.next=A,m=_;var j=e.alternate;j!==null&&(j=j.updateQueue,p=j.lastBaseUpdate,p!==m&&(p===null?j.firstBaseUpdate=A:p.next=A,j.lastBaseUpdate=_))}if(u!==null){var O=r.baseState;m=0,j=A=_=null,p=u;do{var w=p.lane&-536870913,D=w!==p.lane;if(D?(he&w)===w:(s&w)===w){w!==0&&w===kl&&(Lo=!0),j!==null&&(j=j.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var V=e,K=p;w=t;var je=i;switch(K.tag){case 1:if(V=K.payload,typeof V=="function"){O=V.call(je,O,w);break e}O=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=K.payload,w=typeof V=="function"?V.call(je,O,w):V,w==null)break e;O=b({},O,w);break e;case 2:mi=!0}}w=p.callback,w!==null&&(e.flags|=64,D&&(e.flags|=8192),D=r.callbacks,D===null?r.callbacks=[w]:D.push(w))}else D={lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},j===null?(A=j=D,_=O):j=j.next=D,m|=w;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;D=p,p=D.next,D.next=null,r.lastBaseUpdate=D,r.shared.pending=null}}while(!0);j===null&&(_=O),r.baseState=_,r.firstBaseUpdate=A,r.lastBaseUpdate=j,u===null&&(r.shared.lanes=0),Si|=m,e.lanes=m,e.memoizedState=O}}function Vd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Gd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Vd(i[e],t)}var Gl=B(null),gc=B(0);function qd(e,t){e=Qn,H(gc,e),H(Gl,t),Qn=e|t.baseLanes}function Bo(){H(gc,Qn),H(Gl,Gl.current)}function ko(){Qn=gc.current,J(Gl),J(gc)}var Kt=B(null),rn=null;function vi(e){var t=e.alternate;H(We,We.current&1),H(Kt,e),rn===null&&(t===null||Gl.current!==null||t.memoizedState!==null)&&(rn=e)}function Ho(e){H(We,We.current),H(Kt,e),rn===null&&(rn=e)}function Yd(e){e.tag===22?(H(We,We.current),H(Kt,e),rn===null&&(rn=e)):yi()}function yi(){H(We,We.current),H(Kt,Kt.current)}function Zt(e){J(Kt),rn===e&&(rn=null),J(We)}var We=B(0);function pc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||Qu(i)||Fu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bn=0,te=null,De=null,it=null,vc=!1,ql=!1,nl=!1,yc=0,Ga=0,Yl=null,a0=0;function Ye(){throw Error(c(321))}function Io(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ft(e[i],t[i]))return!1;return!0}function Vo(e,t,i,s,r,u){return Bn=u,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=e===null||e.memoizedState===null?Am:nu,nl=!1,u=i(s,r),nl=!1,ql&&(u=Fd(t,i,s,r)),Qd(e),u}function Qd(e){M.H=Qa;var t=De!==null&&De.next!==null;if(Bn=0,it=De=te=null,vc=!1,Ga=0,Yl=null,t)throw Error(c(300));e===null||lt||(e=e.dependencies,e!==null&&rc(e)&&(lt=!0))}function Fd(e,t,i,s){te=e;var r=0;do{if(ql&&(Yl=null),Ga=0,ql=!1,25<=r)throw Error(c(301));if(r+=1,it=De=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}M.H=wm,u=t(i,s)}while(ql);return u}function s0(){var e=M.H,t=e.useState()[0];return t=typeof t.then=="function"?qa(t):t,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(te.flags|=1024),t}function Go(){var e=yc!==0;return yc=0,e}function qo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Yo(e){if(vc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}vc=!1}Bn=0,it=De=te=null,ql=!1,Ga=yc=0,Yl=null}function Dt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?te.memoizedState=it=e:it=it.next=e,it}function $e(){if(De===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=it===null?te.memoizedState:it.next;if(t!==null)it=t,De=e;else{if(e===null)throw te.alternate===null?Error(c(467)):Error(c(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},it===null?te.memoizedState=it=e:it=it.next=e}return it}function _c(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qa(e){var t=Ga;return Ga+=1,Yl===null&&(Yl=[]),e=Ld(Yl,e,t),t=te,(it===null?t.memoizedState:it.next)===null&&(t=t.alternate,M.H=t===null||t.memoizedState===null?Am:nu),e}function bc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qa(e);if(e.$$typeof===$)return vt(e)}throw Error(c(438,String(e)))}function Qo(e){var t=null,i=te.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=te.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=_c(),te.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=Pe;return t.index++,i}function kn(e,t){return typeof t=="function"?t(e):t}function Sc(e){var t=$e();return Fo(t,De,e)}function Fo(e,t,i){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=i;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var m=r.next;r.next=u.next,u.next=m}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var p=m=null,_=null,A=t,j=!1;do{var O=A.lane&-536870913;if(O!==A.lane?(he&O)===O:(Bn&O)===O){var w=A.revertLane;if(w===0)_!==null&&(_=_.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),O===kl&&(j=!0);else if((Bn&w)===w){A=A.next,w===kl&&(j=!0);continue}else O={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(p=_=O,m=u):_=_.next=O,te.lanes|=w,Si|=w;O=A.action,nl&&i(u,O),u=A.hasEagerState?A.eagerState:i(u,O)}else w={lane:O,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},_===null?(p=_=w,m=u):_=_.next=w,te.lanes|=O,Si|=O;A=A.next}while(A!==null&&A!==t);if(_===null?m=u:_.next=p,!Ft(u,e.memoizedState)&&(lt=!0,j&&(i=Hl,i!==null)))throw i;e.memoizedState=u,e.baseState=m,e.baseQueue=_,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Xo(e){var t=$e(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,u=t.memoizedState;if(r!==null){i.pending=null;var m=r=r.next;do u=e(u,m.action),m=m.next;while(m!==r);Ft(u,t.memoizedState)||(lt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function Xd(e,t,i){var s=te,r=$e(),u=me;if(u){if(i===void 0)throw Error(c(407));i=i()}else i=t();var m=!Ft((De||r).memoizedState,i);if(m&&(r.memoizedState=i,lt=!0),r=r.queue,Jo(Jd.bind(null,s,r,e),[e]),r.getSnapshot!==t||m||it!==null&&it.memoizedState.tag&1){if(s.flags|=2048,Ql(9,{destroy:void 0},Zd.bind(null,s,r,i,t),null),ze===null)throw Error(c(349));u||(Bn&127)!==0||Kd(s,t,i)}return i}function Kd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=te.updateQueue,t===null?(t=_c(),te.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Zd(e,t,i,s){t.value=i,t.getSnapshot=s,Wd(t)&&$d(e)}function Jd(e,t,i){return i(function(){Wd(t)&&$d(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ft(e,i)}catch{return!0}}function $d(e){var t=Xi(e,2);t!==null&&It(t,e,2)}function Ko(e){var t=Dt();if(typeof e=="function"){var i=e;if(e=i(),nl){mn(!0);try{i()}finally{mn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:e},t}function Pd(e,t,i,s){return e.baseState=i,Fo(e,De,typeof s=="function"?s:kn)}function c0(e,t,i,s,r){if(Tc(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};M.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,em(t,u)):(u.next=i.next,t.pending=i.next=u)}}function em(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=M.T,m={};M.T=m;try{var p=i(r,s),_=M.S;_!==null&&_(m,p),tm(e,t,p)}catch(A){Zo(e,t,A)}finally{u!==null&&m.types!==null&&(u.types=m.types),M.T=u}}else try{u=i(r,s),tm(e,t,u)}catch(A){Zo(e,t,A)}}function tm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){nm(e,t,s)},function(s){return Zo(e,t,s)}):nm(e,t,i)}function nm(e,t,i){t.status="fulfilled",t.value=i,im(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,em(e,i)))}function Zo(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,im(t),t=t.next;while(t!==s)}e.action=null}function im(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lm(e,t){return t}function am(e,t){if(me){var i=ze.formState;if(i!==null){e:{var s=te;if(me){if(He){t:{for(var r=He,u=cn;r.nodeType!==8;){if(!u){r=null;break t}if(r=on(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){He=on(r.nextSibling),s=r.data==="F!";break e}}fi(s)}s=!1}s&&(t=i[0])}}return i=Dt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:t},i.queue=s,i=Tm.bind(null,te,s),s.dispatch=i,s=Ko(!1),u=tu.bind(null,te,!1,s.queue),s=Dt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=c0.bind(null,te,r,u,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function sm(e){var t=$e();return cm(t,De,e)}function cm(e,t,i){if(t=Fo(e,t,lm)[0],e=Sc(kn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=qa(t)}catch(m){throw m===Il?hc:m}else s=t;t=$e();var r=t.queue,u=r.dispatch;return i!==t.memoizedState&&(te.flags|=2048,Ql(9,{destroy:void 0},r0.bind(null,r,i),null)),[s,u,e]}function r0(e,t){e.action=t}function rm(e){var t=$e(),i=De;if(i!==null)return cm(t,i,e);$e(),t=t.memoizedState,i=$e();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Ql(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=te.updateQueue,t===null&&(t=_c(),te.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function om(){return $e().memoizedState}function Cc(e,t,i,s){var r=Dt();te.flags|=e,r.memoizedState=Ql(1|t,{destroy:void 0},i,s===void 0?null:s)}function Ec(e,t,i,s){var r=$e();s=s===void 0?null:s;var u=r.memoizedState.inst;De!==null&&s!==null&&Io(s,De.memoizedState.deps)?r.memoizedState=Ql(t,u,i,s):(te.flags|=e,r.memoizedState=Ql(1|t,u,i,s))}function um(e,t){Cc(8390656,8,e,t)}function Jo(e,t){Ec(2048,8,e,t)}function o0(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=_c(),te.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function hm(e){var t=$e().memoizedState;return o0({ref:t,nextImpl:e}),function(){if((Te&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function fm(e,t){return Ec(4,2,e,t)}function dm(e,t){return Ec(4,4,e,t)}function mm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,i){i=i!=null?i.concat([e]):null,Ec(4,4,mm.bind(null,t,e),i)}function Wo(){}function pm(e,t){var i=$e();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Io(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function vm(e,t){var i=$e();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Io(t,s[1]))return s[0];if(s=e(),nl){mn(!0);try{e()}finally{mn(!1)}}return i.memoizedState=[s,t],s}function $o(e,t,i){return i===void 0||(Bn&1073741824)!==0&&(he&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=yg(),te.lanes|=e,Si|=e,i)}function ym(e,t,i,s){return Ft(i,t)?i:Gl.current!==null?(e=$o(e,i,s),Ft(e,t)||(lt=!0),e):(Bn&42)===0||(Bn&1073741824)!==0&&(he&261930)===0?(lt=!0,e.memoizedState=i):(e=yg(),te.lanes|=e,Si|=e,t)}function _m(e,t,i,s,r){var u=k.p;k.p=u!==0&&8>u?u:8;var m=M.T,p={};M.T=p,tu(e,!1,t,i);try{var _=r(),A=M.S;if(A!==null&&A(p,_),_!==null&&typeof _=="object"&&typeof _.then=="function"){var j=l0(_,s);Ya(e,t,j,$t(e))}else Ya(e,t,s,$t(e))}catch(O){Ya(e,t,{then:function(){},status:"rejected",reason:O},$t())}finally{k.p=u,m!==null&&p.types!==null&&(m.types=p.types),M.T=m}}function u0(){}function Po(e,t,i,s){if(e.tag!==5)throw Error(c(476));var r=bm(e).queue;_m(e,r,t,F,i===null?u0:function(){return Sm(e),i(s)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:F},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sm(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Ya(e,t.next.queue,{},$t())}function eu(){return vt(cs)}function Cm(){return $e().memoizedState}function Em(){return $e().memoizedState}function h0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=$t();e=gi(i);var s=pi(t,e,i);s!==null&&(It(s,t,i),Ha(s,t,i)),t={cache:Do()},e.payload=t;return}t=t.return}}function f0(e,t,i){var s=$t();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Tc(e)?xm(t,i):(i=yo(e,t,i,s),i!==null&&(It(i,e,s),Nm(i,t,s)))}function Tm(e,t,i){var s=$t();Ya(e,t,i,s)}function Ya(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))xm(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,p=u(m,i);if(r.hasEagerState=!0,r.eagerState=p,Ft(p,m))return lc(e,t,r,0),ze===null&&ic(),!1}catch{}if(i=yo(e,t,r,s),i!==null)return It(i,e,s),Nm(i,t,s),!0}return!1}function tu(e,t,i,s){if(s={lane:2,revertLane:Ou(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Tc(e)){if(t)throw Error(c(479))}else t=yo(e,i,s,2),t!==null&&It(t,e,2)}function Tc(e){var t=e.alternate;return e===te||t!==null&&t===te}function xm(e,t){ql=vc=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Nm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Ot(e,i)}}var Qa={readContext:vt,use:bc,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};Qa.useEffectEvent=Ye;var Am={readContext:vt,use:bc,useCallback:function(e,t){return Dt().memoizedState=[e,t===void 0?null:t],e},useContext:vt,useEffect:um,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Cc(4194308,4,mm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Cc(4194308,4,e,t)},useInsertionEffect:function(e,t){Cc(4,2,e,t)},useMemo:function(e,t){var i=Dt();t=t===void 0?null:t;var s=e();if(nl){mn(!0);try{e()}finally{mn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Dt();if(i!==void 0){var r=i(t);if(nl){mn(!0);try{i(t)}finally{mn(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=f0.bind(null,te,e),[s.memoizedState,e]},useRef:function(e){var t=Dt();return e={current:e},t.memoizedState=e},useState:function(e){e=Ko(e);var t=e.queue,i=Tm.bind(null,te,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Wo,useDeferredValue:function(e,t){var i=Dt();return $o(i,e,t)},useTransition:function(){var e=Ko(!1);return e=_m.bind(null,te,e.queue,!0,!1),Dt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=te,r=Dt();if(me){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),ze===null)throw Error(c(349));(he&127)!==0||Kd(s,t,i)}r.memoizedState=i;var u={value:i,getSnapshot:t};return r.queue=u,um(Jd.bind(null,s,u,e),[e]),s.flags|=2048,Ql(9,{destroy:void 0},Zd.bind(null,s,u,i,t),null),i},useId:function(){var e=Dt(),t=ze.identifierPrefix;if(me){var i=Tn,s=En;i=(s&~(1<<32-Nt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=yc++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=a0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:eu,useFormState:am,useActionState:am,useOptimistic:function(e){var t=Dt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=tu.bind(null,te,!0,i),i.dispatch=t,[e,t]},useMemoCache:Qo,useCacheRefresh:function(){return Dt().memoizedState=h0.bind(null,te)},useEffectEvent:function(e){var t=Dt(),i={impl:e};return t.memoizedState=i,function(){if((Te&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},nu={readContext:vt,use:bc,useCallback:pm,useContext:vt,useEffect:Jo,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:vm,useReducer:Sc,useRef:om,useState:function(){return Sc(kn)},useDebugValue:Wo,useDeferredValue:function(e,t){var i=$e();return ym(i,De.memoizedState,e,t)},useTransition:function(){var e=Sc(kn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:qa(e),t]},useSyncExternalStore:Xd,useId:Cm,useHostTransitionStatus:eu,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var i=$e();return Pd(i,De,e,t)},useMemoCache:Qo,useCacheRefresh:Em};nu.useEffectEvent=hm;var wm={readContext:vt,use:bc,useCallback:pm,useContext:vt,useEffect:Jo,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:vm,useReducer:Xo,useRef:om,useState:function(){return Xo(kn)},useDebugValue:Wo,useDeferredValue:function(e,t){var i=$e();return De===null?$o(i,e,t):ym(i,De.memoizedState,e,t)},useTransition:function(){var e=Xo(kn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:qa(e),t]},useSyncExternalStore:Xd,useId:Cm,useHostTransitionStatus:eu,useFormState:rm,useActionState:rm,useOptimistic:function(e,t){var i=$e();return De!==null?Pd(i,De,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:Qo,useCacheRefresh:Em};wm.useEffectEvent=hm;function iu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var lu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=$t(),r=gi(s);r.payload=t,i!=null&&(r.callback=i),t=pi(e,r,s),t!==null&&(It(t,e,s),Ha(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=$t(),r=gi(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=pi(e,r,s),t!==null&&(It(t,e,s),Ha(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=$t(),s=gi(i);s.tag=2,t!=null&&(s.callback=t),t=pi(e,s,i),t!==null&&(It(t,e,i),Ha(t,e,i))}};function Dm(e,t,i,s,r,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,m):t.prototype&&t.prototype.isPureReactComponent?!ja(i,s)||!ja(r,u):!0}function Mm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&lu.enqueueReplaceState(t,t.state,null)}function il(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function jm(e){nc(e)}function Rm(e){console.error(e)}function Om(e){nc(e)}function xc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function zm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function au(e,t,i){return i=gi(i),i.tag=3,i.payload={element:null},i.callback=function(){xc(e,t)},i}function Um(e){return e=gi(e),e.tag=3,e}function Lm(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){zm(t,i,s)}}var m=i.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){zm(t,i,s),typeof r!="function"&&(Ci===null?Ci=new Set([this]):Ci.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function d0(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Bl(t,i,r,!0),i=Kt.current,i!==null){switch(i.tag){case 31:case 13:return rn===null?Bc():i.alternate===null&&Qe===0&&(Qe=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===fc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Mu(e,s,r)),!1;case 22:return i.flags|=65536,s===fc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Mu(e,s,r)),!1}throw Error(c(435,i.tag))}return Mu(e,s,r),Bc(),!1}if(me)return t=Kt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==To&&(e=Error(c(422),{cause:s}),za(ln(e,i)))):(s!==To&&(t=Error(c(423),{cause:s}),za(ln(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=ln(s,i),r=au(e.stateNode,s,r),Uo(e,r),Qe!==4&&(Qe=2)),!1;var u=Error(c(520),{cause:s});if(u=ln(u,i),Pa===null?Pa=[u]:Pa.push(u),Qe!==4&&(Qe=2),t===null)return!0;s=ln(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=au(i.stateNode,s,e),Uo(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Ci===null||!Ci.has(u))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Um(r),Lm(r,e,i,s),Uo(i,r),!1}i=i.return}while(i!==null);return!1}var su=Error(c(461)),lt=!1;function yt(e,t,i,s){t.child=e===null?Id(t,null,i,s):tl(t,e.child,i,s)}function Bm(e,t,i,s,r){i=i.render;var u=t.ref;if("ref"in s){var m={};for(var p in s)p!=="ref"&&(m[p]=s[p])}else m=s;return Wi(t),s=Vo(e,t,i,m,u,r),p=Go(),e!==null&&!lt?(qo(e,t,r),Hn(e,t,r)):(me&&p&&Co(t),t.flags|=1,yt(e,t,s,r),t.child)}function km(e,t,i,s,r){if(e===null){var u=i.type;return typeof u=="function"&&!_o(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Hm(e,t,u,s,r)):(e=sc(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!mu(e,r)){var m=u.memoizedProps;if(i=i.compare,i=i!==null?i:ja,i(m,s)&&e.ref===t.ref)return Hn(e,t,r)}return t.flags|=1,e=On(u,s),e.ref=t.ref,e.return=t,t.child=e}function Hm(e,t,i,s,r){if(e!==null){var u=e.memoizedProps;if(ja(u,s)&&e.ref===t.ref)if(lt=!1,t.pendingProps=s=u,mu(e,r))(e.flags&131072)!==0&&(lt=!0);else return t.lanes=e.lanes,Hn(e,t,r)}return cu(e,t,i,s,r)}function Im(e,t,i,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return Vm(e,t,u,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&uc(t,u!==null?u.cachePool:null),u!==null?qd(t,u):Bo(),Yd(t);else return s=t.lanes=536870912,Vm(e,t,u!==null?u.baseLanes|i:i,i,s)}else u!==null?(uc(t,u.cachePool),qd(t,u),yi(),t.memoizedState=null):(e!==null&&uc(t,null),Bo(),yi());return yt(e,t,r,i),t.child}function Fa(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vm(e,t,i,s,r){var u=jo();return u=u===null?null:{parent:nt._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&uc(t,null),Bo(),Yd(t),e!==null&&Bl(e,t,s,!0),t.childLanes=r,null}function Nc(e,t){return t=wc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gm(e,t,i){return tl(t,e.child,null,i),e=Nc(t,t.pendingProps),e.flags|=2,Zt(t),t.memoizedState=null,e}function m0(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(s.mode==="hidden")return e=Nc(t,s),t.lanes=536870912,Fa(null,e);if(Ho(t),(e=He)?(e=ep(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},i=xd(e),i.return=t,t.child=i,pt=t,He=null)):e=null,e===null)throw fi(t);return t.lanes=536870912,null}return Nc(t,s)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(Ho(t),r)if(t.flags&256)t.flags&=-257,t=Gm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(lt||Bl(e,t,i,!1),r=(i&e.childLanes)!==0,lt||r){if(s=ze,s!==null&&(m=Rf(s,i),m!==0&&m!==u.retryLane))throw u.retryLane=m,Xi(e,m),It(s,e,m),su;Bc(),t=Gm(e,t,i)}else e=u.treeContext,He=on(m.nextSibling),pt=t,me=!0,hi=null,cn=!1,e!==null&&wd(t,e),t=Nc(t,s),t.flags|=4096;return t}return e=On(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ac(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function cu(e,t,i,s,r){return Wi(t),i=Vo(e,t,i,s,void 0,r),s=Go(),e!==null&&!lt?(qo(e,t,r),Hn(e,t,r)):(me&&s&&Co(t),t.flags|=1,yt(e,t,i,r),t.child)}function qm(e,t,i,s,r,u){return Wi(t),t.updateQueue=null,i=Fd(t,s,i,r),Qd(e),s=Go(),e!==null&&!lt?(qo(e,t,u),Hn(e,t,u)):(me&&s&&Co(t),t.flags|=1,yt(e,t,i,u),t.child)}function Ym(e,t,i,s,r){if(Wi(t),t.stateNode===null){var u=Ol,m=i.contextType;typeof m=="object"&&m!==null&&(u=vt(m)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=lu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Oo(t),m=i.contextType,u.context=typeof m=="object"&&m!==null?vt(m):Ol,u.state=t.memoizedState,m=i.getDerivedStateFromProps,typeof m=="function"&&(iu(t,i,m,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&lu.enqueueReplaceState(u,u.state,null),Va(t,s,u,r),Ia(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,_=il(i,p);u.props=_;var A=u.context,j=i.contextType;m=Ol,typeof j=="object"&&j!==null&&(m=vt(j));var O=i.getDerivedStateFromProps;j=typeof O=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,j||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||A!==m)&&Mm(t,u,s,m),mi=!1;var w=t.memoizedState;u.state=w,Va(t,s,u,r),Ia(),A=t.memoizedState,p||w!==A||mi?(typeof O=="function"&&(iu(t,i,O,s),A=t.memoizedState),(_=mi||Dm(t,i,_,s,w,A,m))?(j||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=m,s=_):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,zo(e,t),m=t.memoizedProps,j=il(i,m),u.props=j,O=t.pendingProps,w=u.context,A=i.contextType,_=Ol,typeof A=="object"&&A!==null&&(_=vt(A)),p=i.getDerivedStateFromProps,(A=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==O||w!==_)&&Mm(t,u,s,_),mi=!1,w=t.memoizedState,u.state=w,Va(t,s,u,r),Ia();var D=t.memoizedState;m!==O||w!==D||mi||e!==null&&e.dependencies!==null&&rc(e.dependencies)?(typeof p=="function"&&(iu(t,i,p,s),D=t.memoizedState),(j=mi||Dm(t,i,j,s,w,D,_)||e!==null&&e.dependencies!==null&&rc(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,D,_),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,D,_)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),u.props=s,u.state=D,u.context=_,s=j):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Ac(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=tl(t,e.child,null,r),t.child=tl(t,null,i,r)):yt(e,t,i,r),t.memoizedState=u.state,e=t.child):e=Hn(e,t,r),e}function Qm(e,t,i,s){return Zi(),t.flags|=256,yt(e,t,i,s),t.child}var ru={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:zd()}}function uu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Wt),e}function Fm(e,t,i){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),m&&(r=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(r?vi(t):yi(),(e=He)?(e=ep(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:ui!==null?{id:En,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},i=xd(e),i.return=t,t.child=i,pt=t,He=null)):e=null,e===null)throw fi(t);return Fu(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,r?(yi(),r=t.mode,p=wc({mode:"hidden",children:p},r),s=Ki(s,r,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=ou(i),s.childLanes=uu(e,m,i),t.memoizedState=ru,Fa(null,s)):(vi(t),hu(t,p))}var _=e.memoizedState;if(_!==null&&(p=_.dehydrated,p!==null)){if(u)t.flags&256?(vi(t),t.flags&=-257,t=fu(e,t,i)):t.memoizedState!==null?(yi(),t.child=e.child,t.flags|=128,t=null):(yi(),p=s.fallback,r=t.mode,s=wc({mode:"visible",children:s.children},r),p=Ki(p,r,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,tl(t,e.child,null,i),s=t.child,s.memoizedState=ou(i),s.childLanes=uu(e,m,i),t.memoizedState=ru,t=Fa(null,s));else if(vi(t),Fu(p)){if(m=p.nextSibling&&p.nextSibling.dataset,m)var A=m.dgst;m=A,s=Error(c(419)),s.stack="",s.digest=m,za({value:s,source:null,stack:null}),t=fu(e,t,i)}else if(lt||Bl(e,t,i,!1),m=(i&e.childLanes)!==0,lt||m){if(m=ze,m!==null&&(s=Rf(m,i),s!==0&&s!==_.retryLane))throw _.retryLane=s,Xi(e,s),It(m,e,s),su;Qu(p)||Bc(),t=fu(e,t,i)}else Qu(p)?(t.flags|=192,t.child=e.child,t=null):(e=_.treeContext,He=on(p.nextSibling),pt=t,me=!0,hi=null,cn=!1,e!==null&&wd(t,e),t=hu(t,s.children),t.flags|=4096);return t}return r?(yi(),p=s.fallback,r=t.mode,_=e.child,A=_.sibling,s=On(_,{mode:"hidden",children:s.children}),s.subtreeFlags=_.subtreeFlags&65011712,A!==null?p=On(A,p):(p=Ki(p,r,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,Fa(null,s),s=t.child,p=e.child.memoizedState,p===null?p=ou(i):(r=p.cachePool,r!==null?(_=nt._currentValue,r=r.parent!==_?{parent:_,pool:_}:r):r=zd(),p={baseLanes:p.baseLanes|i,cachePool:r}),s.memoizedState=p,s.childLanes=uu(e,m,i),t.memoizedState=ru,Fa(e.child,s)):(vi(t),i=e.child,e=i.sibling,i=On(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=i,t.memoizedState=null,i)}function hu(e,t){return t=wc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function wc(e,t){return e=Xt(22,e,null,t),e.lanes=0,e}function fu(e,t,i){return tl(t,e.child,null,i),e=hu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Ao(e.return,t,i)}function du(e,t,i,s,r,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=i,m.tailMode=r,m.treeForkCount=u)}function Km(e,t,i){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var m=We.current,p=(m&2)!==0;if(p?(m=m&1|2,t.flags|=128):m&=1,H(We,m),yt(e,t,s,i),s=me?Oa:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,i,t);else if(e.tag===19)Xm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&pc(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),du(t,!1,r,i,u,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&pc(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}du(t,!0,i,null,u,s);break;case"together":du(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Hn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Si|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Bl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=On(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=On(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function mu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&rc(e)))}function g0(e,t,i){switch(t.tag){case 3:At(t,t.stateNode.containerInfo),di(t,nt,e.memoizedState.cache),Zi();break;case 27:case 5:Et(t);break;case 4:At(t,t.stateNode.containerInfo);break;case 10:di(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Ho(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(vi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Fm(e,t,i):(vi(t),e=Hn(e,t,i),e!==null?e.sibling:null);vi(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Bl(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Km(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),H(We,We.current),s)break;return null;case 22:return t.lanes=0,Im(e,t,i,t.pendingProps);case 24:di(t,nt,e.memoizedState.cache)}return Hn(e,t,i)}function Zm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)lt=!0;else{if(!mu(e,i)&&(t.flags&128)===0)return lt=!1,g0(e,t,i);lt=(e.flags&131072)!==0}else lt=!1,me&&(t.flags&1048576)!==0&&Ad(t,Oa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Pi(t.elementType),t.type=e,typeof e=="function")_o(e)?(s=il(e,s),t.tag=1,t=Ym(null,t,e,s,i)):(t.tag=0,t=cu(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===ee){t.tag=11,t=Bm(null,t,e,s,i);break e}else if(r===Ue){t.tag=14,t=km(null,t,e,s,i);break e}}throw t=qe(e)||e,Error(c(306,t,""))}}return t;case 0:return cu(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=il(s,t.pendingProps),Ym(e,t,s,r,i);case 3:e:{if(At(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,zo(e,t),Va(t,s,null,i);var m=t.memoizedState;if(s=m.cache,di(t,nt,s),s!==u.cache&&wo(t,[nt],i,!0),Ia(),s=m.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Qm(e,t,s,i);break e}else if(s!==r){r=ln(Error(c(424)),t),za(r),t=Qm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=on(e.firstChild),pt=t,me=!0,hi=null,cn=!0,i=Id(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Zi(),s===r){t=Hn(e,t,i);break e}yt(e,t,s,i)}t=t.child}return t;case 26:return Ac(e,t),e===null?(i=sp(t.type,null,t.pendingProps,null))?t.memoizedState=i:me||(i=t.type,e=t.pendingProps,s=Yc(Gt.current).createElement(i),s[gt]=t,s[zt]=e,_t(s,i,e),ot(s),t.stateNode=s):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Et(t),e===null&&me&&(s=t.stateNode=ip(t.type,t.pendingProps,Gt.current),pt=t,cn=!0,r=He,Ni(t.type)?(Xu=r,He=on(s.firstChild)):He=r),yt(e,t,t.pendingProps.children,i),Ac(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((r=s=He)&&(s=Q0(s,t.type,t.pendingProps,cn),s!==null?(t.stateNode=s,pt=t,He=on(s.firstChild),cn=!1,r=!0):r=!1),r||fi(t)),Et(t),r=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,s=u.children,Gu(r,u)?s=null:m!==null&&Gu(r,m)&&(t.flags|=32),t.memoizedState!==null&&(r=Vo(e,t,s0,null,null,i),cs._currentValue=r),Ac(e,t),yt(e,t,s,i),t.child;case 6:return e===null&&me&&((e=i=He)&&(i=F0(i,t.pendingProps,cn),i!==null?(t.stateNode=i,pt=t,He=null,e=!0):e=!1),e||fi(t)),null;case 13:return Fm(e,t,i);case 4:return At(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=tl(t,null,s,i):yt(e,t,s,i),t.child;case 11:return Bm(e,t,t.type,t.pendingProps,i);case 7:return yt(e,t,t.pendingProps,i),t.child;case 8:return yt(e,t,t.pendingProps.children,i),t.child;case 12:return yt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,di(t,t.type,s.value),yt(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,Wi(t),r=vt(r),s=s(r),t.flags|=1,yt(e,t,s,i),t.child;case 14:return km(e,t,t.type,t.pendingProps,i);case 15:return Hm(e,t,t.type,t.pendingProps,i);case 19:return Km(e,t,i);case 31:return m0(e,t,i);case 22:return Im(e,t,i,t.pendingProps);case 24:return Wi(t),s=vt(nt),e===null?(r=jo(),r===null&&(r=ze,u=Do(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=i),r=u),t.memoizedState={parent:s,cache:r},Oo(t),di(t,nt,r)):((e.lanes&i)!==0&&(zo(e,t),Va(t,null,null,i),Ia()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),di(t,nt,s)):(s=u.cache,di(t,nt,s),s!==r.cache&&wo(t,[nt],i,!0))),yt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function In(e){e.flags|=4}function gu(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Cg())e.flags|=8192;else throw el=fc,Ro}else e.flags&=-16777217}function Jm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hp(t))if(Cg())e.flags|=8192;else throw el=fc,Ro}function Dc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?X():536870912,e.lanes|=t,Zl|=t)}function Xa(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function p0(e,t,i){var s=t.pendingProps;switch(Eo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Ln(nt),qt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Ll(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,xo())),Ie(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(In(t),u!==null?(Ie(t),Jm(t,u)):(Ie(t),gu(t,r,null,s,i))):u?u!==e.memoizedState?(In(t),Ie(t),Jm(t,u)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&In(t),Ie(t),gu(t,r,e,s,i)),null;case 27:if(ni(t),i=Gt.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ie(t),null}e=W.current,Ll(t)?Dd(t):(e=ip(r,s,i),t.stateNode=e,In(t))}return Ie(t),null;case 5:if(ni(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ie(t),null}if(u=W.current,Ll(t))Dd(t);else{var m=Yc(Gt.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?m.createElement(r,{is:s.is}):m.createElement(r)}}u[gt]=t,u[zt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(_t(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&In(t)}}return Ie(t),gu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=Gt.current,Ll(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=pt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[gt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Fg(e.nodeValue,i)),e||fi(t,!0)}else e=Yc(e).createTextNode(s),e[gt]=t,t.stateNode=e}return Ie(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=Ll(t),i!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[gt]=t}else Zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else i=xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Zt(t),t):(Zt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=Ll(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[gt]=t}else Zi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),r=!1}else r=xo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Zt(t),t):(Zt(t),null)}return Zt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Dc(t,t.updateQueue),Ie(t),null);case 4:return qt(),e===null&&Bu(t.stateNode.containerInfo),Ie(t),null;case 10:return Ln(t.type),Ie(t),null;case 19:if(J(We),s=t.memoizedState,s===null)return Ie(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Xa(s,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=pc(e),u!==null){for(t.flags|=128,Xa(s,!1),e=u.updateQueue,t.updateQueue=e,Dc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Td(i,e),i=i.sibling;return H(We,We.current&1|2),me&&zn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&wt()>zc&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304)}else{if(!r)if(e=pc(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,Dc(t,e),Xa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!me)return Ie(t),null}else 2*wt()-s.renderingStartTime>zc&&i!==536870912&&(t.flags|=128,r=!0,Xa(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=wt(),e.sibling=null,i=We.current,H(We,r?i&1|2:i&1),me&&zn(t,s.treeForkCount),e):(Ie(t),null);case 22:case 23:return Zt(t),ko(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),i=t.updateQueue,i!==null&&Dc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&J($i),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Ln(nt),Ie(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function v0(e,t){switch(Eo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ln(nt),qt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ni(t),null;case 31:if(t.memoizedState!==null){if(Zt(t),t.alternate===null)throw Error(c(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Zi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return J(We),null;case 4:return qt(),null;case 10:return Ln(t.type),null;case 22:case 23:return Zt(t),ko(),e!==null&&J($i),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ln(nt),null;case 25:return null;default:return null}}function Wm(e,t){switch(Eo(t),t.tag){case 3:Ln(nt),qt();break;case 26:case 27:case 5:ni(t);break;case 4:qt();break;case 31:t.memoizedState!==null&&Zt(t);break;case 13:Zt(t);break;case 19:J(We);break;case 10:Ln(t.type);break;case 22:case 23:Zt(t),ko(),e!==null&&J($i);break;case 24:Ln(nt)}}function Ka(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var u=i.create,m=i.inst;s=u(),m.destroy=s}i=i.next}while(i!==r)}}catch(p){Ae(t,t.return,p)}}function _i(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var m=s.inst,p=m.destroy;if(p!==void 0){m.destroy=void 0,r=t;var _=i,A=p;try{A()}catch(j){Ae(r,_,j)}}}s=s.next}while(s!==u)}}catch(j){Ae(t,t.return,j)}}function $m(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Gd(t,i)}catch(s){Ae(e,e.return,s)}}}function Pm(e,t,i){i.props=il(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Ae(e,t,s)}}function Za(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Ae(e,t,r)}}function xn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Ae(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Ae(e,t,r)}else i.current=null}function eg(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Ae(e,e.return,r)}}function pu(e,t,i){try{var s=e.stateNode;H0(s,e.type,i,t),s[zt]=t}catch(r){Ae(e,e.return,r)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ni(e.type)||e.tag===4}function vu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ni(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=jn));else if(s!==4&&(s===27&&Ni(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(yu(e,t,i),e=e.sibling;e!==null;)yu(e,t,i),e=e.sibling}function Mc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Ni(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Mc(e,t,i),e=e.sibling;e!==null;)Mc(e,t,i),e=e.sibling}function ng(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);_t(t,s,i),t[gt]=e,t[zt]=i}catch(u){Ae(e,e.return,u)}}var Vn=!1,at=!1,_u=!1,ig=typeof WeakSet=="function"?WeakSet:Set,ut=null;function y0(e,t){if(e=e.containerInfo,Iu=Wc,e=gd(e),ho(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var m=0,p=-1,_=-1,A=0,j=0,O=e,w=null;t:for(;;){for(var D;O!==i||r!==0&&O.nodeType!==3||(p=m+r),O!==u||s!==0&&O.nodeType!==3||(_=m+s),O.nodeType===3&&(m+=O.nodeValue.length),(D=O.firstChild)!==null;)w=O,O=D;for(;;){if(O===e)break t;if(w===i&&++A===r&&(p=m),w===u&&++j===s&&(_=m),(D=O.nextSibling)!==null)break;O=w,w=O.parentNode}O=D}i=p===-1||_===-1?null:{start:p,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Vu={focusedElem:e,selectionRange:i},Wc=!1,ut=t;ut!==null;)if(t=ut,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ut=e;else for(;ut!==null;){switch(t=ut,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,r=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var V=il(i.type,r);e=s.getSnapshotBeforeUpdate(V,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){Ae(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Yu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,ut=e;break}ut=t.return}}function lg(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:qn(e,i),s&4&&Ka(5,i);break;case 1:if(qn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(m){Ae(i,i.return,m)}else{var r=il(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){Ae(i,i.return,m)}}s&64&&$m(i),s&512&&Za(i,i.return);break;case 3:if(qn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Gd(e,t)}catch(m){Ae(i,i.return,m)}}break;case 27:t===null&&s&4&&ng(i);case 26:case 5:qn(e,i),t===null&&s&4&&eg(i),s&512&&Za(i,i.return);break;case 12:qn(e,i);break;case 31:qn(e,i),s&4&&cg(e,i);break;case 13:qn(e,i),s&4&&rg(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=A0.bind(null,i),X0(e,i))));break;case 22:if(s=i.memoizedState!==null||Vn,!s){t=t!==null&&t.memoizedState!==null||at,r=Vn;var u=at;Vn=s,(at=t)&&!u?Yn(e,i,(i.subtreeFlags&8772)!==0):qn(e,i),Vn=r,at=u}break;case 30:break;default:qn(e,i)}}function ag(e){var t=e.alternate;t!==null&&(e.alternate=null,ag(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Kr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ge=null,Lt=!1;function Gn(e,t,i){for(i=i.child;i!==null;)sg(e,t,i),i=i.sibling}function sg(e,t,i){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(si,i)}catch{}switch(i.tag){case 26:at||xn(i,t),Gn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:at||xn(i,t);var s=Ge,r=Lt;Ni(i.type)&&(Ge=i.stateNode,Lt=!1),Gn(e,t,i),ls(i.stateNode),Ge=s,Lt=r;break;case 5:at||xn(i,t);case 6:if(s=Ge,r=Lt,Ge=null,Gn(e,t,i),Ge=s,Lt=r,Ge!==null)if(Lt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(i.stateNode)}catch(u){Ae(i,t,u)}else try{Ge.removeChild(i.stateNode)}catch(u){Ae(i,t,u)}break;case 18:Ge!==null&&(Lt?(e=Ge,$g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ia(e)):$g(Ge,i.stateNode));break;case 4:s=Ge,r=Lt,Ge=i.stateNode.containerInfo,Lt=!0,Gn(e,t,i),Ge=s,Lt=r;break;case 0:case 11:case 14:case 15:_i(2,i,t),at||_i(4,i,t),Gn(e,t,i);break;case 1:at||(xn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Pm(i,t,s)),Gn(e,t,i);break;case 21:Gn(e,t,i);break;case 22:at=(s=at)||i.memoizedState!==null,Gn(e,t,i),at=s;break;default:Gn(e,t,i)}}function cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ia(e)}catch(i){Ae(t,t.return,i)}}}function rg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ia(e)}catch(i){Ae(t,t.return,i)}}function _0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error(c(435,e.tag))}}function jc(e,t){var i=_0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=w0.bind(null,e,s);s.then(r,r)}})}function Bt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],u=e,m=t,p=m;e:for(;p!==null;){switch(p.tag){case 27:if(Ni(p.type)){Ge=p.stateNode,Lt=!1;break e}break;case 5:Ge=p.stateNode,Lt=!1;break e;case 3:case 4:Ge=p.stateNode.containerInfo,Lt=!0;break e}p=p.return}if(Ge===null)throw Error(c(160));sg(u,m,r),Ge=null,Lt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)og(t,e),t=t.sibling}var pn=null;function og(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(t,e),kt(e),s&4&&(_i(3,e,e.return),Ka(3,e),_i(5,e,e.return));break;case 1:Bt(t,e),kt(e),s&512&&(at||i===null||xn(i,i.return)),s&64&&Vn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=pn;if(Bt(t,e),kt(e),s&512&&(at||i===null||xn(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[Ca]||u[gt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),_t(u,s,i),u[gt]=e,ot(u),s=u;break e;case"link":var m=op("link","href",r).get(s+(i.href||""));if(m){for(var p=0;p<m.length;p++)if(u=m[p],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){m.splice(p,1);break t}}u=r.createElement(s),_t(u,s,i),r.head.appendChild(u);break;case"meta":if(m=op("meta","content",r).get(s+(i.content||""))){for(p=0;p<m.length;p++)if(u=m[p],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){m.splice(p,1);break t}}u=r.createElement(s),_t(u,s,i),r.head.appendChild(u);break;default:throw Error(c(468,s))}u[gt]=e,ot(u),s=u}e.stateNode=s}else up(r,e.type,e.stateNode);else e.stateNode=rp(r,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?up(r,e.type,e.stateNode):rp(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&pu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Bt(t,e),kt(e),s&512&&(at||i===null||xn(i,i.return)),i!==null&&s&4&&pu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Bt(t,e),kt(e),s&512&&(at||i===null||xn(i,i.return)),e.flags&32){r=e.stateNode;try{Nl(r,"")}catch(V){Ae(e,e.return,V)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,pu(e,r,i!==null?i.memoizedProps:r)),s&1024&&(_u=!0);break;case 6:if(Bt(t,e),kt(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(V){Ae(e,e.return,V)}}break;case 3:if(Xc=null,r=pn,pn=Qc(t.containerInfo),Bt(t,e),pn=r,kt(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ia(t.containerInfo)}catch(V){Ae(e,e.return,V)}_u&&(_u=!1,ug(e));break;case 4:s=pn,pn=Qc(e.stateNode.containerInfo),Bt(t,e),kt(e),pn=s;break;case 12:Bt(t,e),kt(e);break;case 31:Bt(t,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jc(e,s)));break;case 13:Bt(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Oc=wt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jc(e,s)));break;case 22:r=e.memoizedState!==null;var _=i!==null&&i.memoizedState!==null,A=Vn,j=at;if(Vn=A||r,at=j||_,Bt(t,e),at=j,Vn=A,kt(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||_||Vn||at||ll(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){_=i=t;try{if(u=_.stateNode,r)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{p=_.stateNode;var O=_.memoizedProps.style,w=O!=null&&O.hasOwnProperty("display")?O.display:null;p.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(V){Ae(_,_.return,V)}}}else if(t.tag===6){if(i===null){_=t;try{_.stateNode.nodeValue=r?"":_.memoizedProps}catch(V){Ae(_,_.return,V)}}}else if(t.tag===18){if(i===null){_=t;try{var D=_.stateNode;r?Pg(D,!0):Pg(_.stateNode,!1)}catch(V){Ae(_,_.return,V)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,jc(e,i))));break;case 19:Bt(t,e),kt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jc(e,s)));break;case 30:break;case 21:break;default:Bt(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(tg(s)){i=s;break}s=s.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var r=i.stateNode,u=vu(e);Mc(e,u,r);break;case 5:var m=i.stateNode;i.flags&32&&(Nl(m,""),i.flags&=-33);var p=vu(e);Mc(e,p,m);break;case 3:case 4:var _=i.stateNode.containerInfo,A=vu(e);yu(e,A,_);break;default:throw Error(c(161))}}catch(j){Ae(e,e.return,j)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ug(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function qn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lg(e,t.alternate,t),t=t.sibling}function ll(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:_i(4,t,t.return),ll(t);break;case 1:xn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Pm(t,t.return,i),ll(t);break;case 27:ls(t.stateNode);case 26:case 5:xn(t,t.return),ll(t);break;case 22:t.memoizedState===null&&ll(t);break;case 30:ll(t);break;default:ll(t)}e=e.sibling}}function Yn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:Yn(r,u,i),Ka(4,u);break;case 1:if(Yn(r,u,i),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(A){Ae(s,s.return,A)}if(s=u,r=s.updateQueue,r!==null){var p=s.stateNode;try{var _=r.shared.hiddenCallbacks;if(_!==null)for(r.shared.hiddenCallbacks=null,r=0;r<_.length;r++)Vd(_[r],p)}catch(A){Ae(s,s.return,A)}}i&&m&64&&$m(u),Za(u,u.return);break;case 27:ng(u);case 26:case 5:Yn(r,u,i),i&&s===null&&m&4&&eg(u),Za(u,u.return);break;case 12:Yn(r,u,i);break;case 31:Yn(r,u,i),i&&m&4&&cg(r,u);break;case 13:Yn(r,u,i),i&&m&4&&rg(r,u);break;case 22:u.memoizedState===null&&Yn(r,u,i),Za(u,u.return);break;case 30:break;default:Yn(r,u,i)}t=t.sibling}}function bu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Ua(i))}function Su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ua(e))}function vn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(e,t,i,s),t=t.sibling}function hg(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:vn(e,t,i,s),r&2048&&Ka(9,t);break;case 1:vn(e,t,i,s);break;case 3:vn(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ua(e)));break;case 12:if(r&2048){vn(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,p=u.onPostCommit;typeof p=="function"&&p(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(_){Ae(t,t.return,_)}}else vn(e,t,i,s);break;case 31:vn(e,t,i,s);break;case 13:vn(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?vn(e,t,i,s):Ja(e,t):u._visibility&2?vn(e,t,i,s):(u._visibility|=2,Fl(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&bu(m,t);break;case 24:vn(e,t,i,s),r&2048&&Su(t.alternate,t);break;default:vn(e,t,i,s)}}function Fl(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,p=i,_=s,A=m.flags;switch(m.tag){case 0:case 11:case 15:Fl(u,m,p,_,r),Ka(8,m);break;case 23:break;case 22:var j=m.stateNode;m.memoizedState!==null?j._visibility&2?Fl(u,m,p,_,r):Ja(u,m):(j._visibility|=2,Fl(u,m,p,_,r)),r&&A&2048&&bu(m.alternate,m);break;case 24:Fl(u,m,p,_,r),r&&A&2048&&Su(m.alternate,m);break;default:Fl(u,m,p,_,r)}t=t.sibling}}function Ja(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:Ja(i,s),r&2048&&bu(s.alternate,s);break;case 24:Ja(i,s),r&2048&&Su(s.alternate,s);break;default:Ja(i,s)}t=t.sibling}}var Wa=8192;function Xl(e,t,i){if(e.subtreeFlags&Wa)for(e=e.child;e!==null;)fg(e,t,i),e=e.sibling}function fg(e,t,i){switch(e.tag){case 26:Xl(e,t,i),e.flags&Wa&&e.memoizedState!==null&&a1(i,pn,e.memoizedState,e.memoizedProps);break;case 5:Xl(e,t,i);break;case 3:case 4:var s=pn;pn=Qc(e.stateNode.containerInfo),Xl(e,t,i),pn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Wa,Wa=16777216,Xl(e,t,i),Wa=s):Xl(e,t,i));break;default:Xl(e,t,i)}}function dg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function $a(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ut=s,gg(s,e)}dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mg(e),e=e.sibling}function mg(e){switch(e.tag){case 0:case 11:case 15:$a(e),e.flags&2048&&_i(9,e,e.return);break;case 3:$a(e);break;case 12:$a(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Rc(e)):$a(e);break;default:$a(e)}}function Rc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ut=s,gg(s,e)}dg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:_i(8,t,t.return),Rc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Rc(t));break;default:Rc(t)}e=e.sibling}}function gg(e,t){for(;ut!==null;){var i=ut;switch(i.tag){case 0:case 11:case 15:_i(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ua(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,ut=s;else e:for(i=e;ut!==null;){s=ut;var r=s.sibling,u=s.return;if(ag(s),s===i){ut=null;break e}if(r!==null){r.return=u,ut=r;break e}ut=u}}}var b0={getCacheForType:function(e){var t=vt(nt),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return vt(nt).controller.signal}},S0=typeof WeakMap=="function"?WeakMap:Map,Te=0,ze=null,se=null,he=0,Ne=0,Jt=null,bi=!1,Kl=!1,Cu=!1,Qn=0,Qe=0,Si=0,al=0,Eu=0,Wt=0,Zl=0,Pa=null,Ht=null,Tu=!1,Oc=0,pg=0,zc=1/0,Uc=null,Ci=null,st=0,Ei=null,Jl=null,Fn=0,xu=0,Nu=null,vg=null,es=0,Au=null;function $t(){return(Te&2)!==0&&he!==0?he&-he:M.T!==null?Ou():Of()}function yg(){if(Wt===0)if((he&536870912)===0||me){var e=yl;yl<<=1,(yl&3932160)===0&&(yl=262144),Wt=e}else Wt=536870912;return e=Kt.current,e!==null&&(e.flags|=32),Wt}function It(e,t,i){(e===ze&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)&&(Wl(e,0),Ti(e,he,Wt,!1)),ue(e,i),((Te&2)===0||e!==ze)&&(e===ze&&((Te&2)===0&&(al|=i),Qe===4&&Ti(e,he,Wt,!1)),Nn(e))}function _g(e,t,i){if((Te&6)!==0)throw Error(c(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||ci(e,t),r=s?T0(e,t):Du(e,t,!0),u=s;do{if(r===0){Kl&&!s&&Ti(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!C0(i)){r=Du(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var p=e;r=Pa;var _=p.current.memoizedState.isDehydrated;if(_&&(Wl(p,m).flags|=256),m=Du(p,m,!1),m!==2){if(Cu&&!_){p.errorRecoveryDisabledLanes|=u,al|=u,r=4;break e}u=Ht,Ht=r,u!==null&&(Ht===null?Ht=u:Ht.push.apply(Ht,u))}r=m}if(u=!1,r!==2)continue}}if(r===1){Wl(e,0),Ti(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ti(s,t,Wt,!bi);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Oc+300-wt(),10<r)){if(Ti(s,t,Wt,!bi),Gi(s,0,!0)!==0)break e;Fn=t,s.timeoutHandle=Jg(bg.bind(null,s,i,Ht,Uc,Tu,t,Wt,al,Zl,bi,u,"Throttled",-0,0),r);break e}bg(s,i,Ht,Uc,Tu,t,Wt,al,Zl,bi,u,null,-0,0)}}break}while(!0);Nn(e)}function bg(e,t,i,s,r,u,m,p,_,A,j,O,w,D){if(e.timeoutHandle=-1,O=t.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},fg(t,u,O);var V=(u&62914560)===u?Oc-wt():(u&4194048)===u?pg-wt():0;if(V=s1(O,V),V!==null){Fn=u,e.cancelPendingCommit=V(wg.bind(null,e,t,u,i,s,r,m,p,_,j,O,null,w,D)),Ti(e,u,m,!A);return}}wg(e,t,u,i,s,r,m,p,_)}function C0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],u=r.getSnapshot;r=r.value;try{if(!Ft(u(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ti(e,t,i,s){t&=~Eu,t&=~al,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-Nt(r),m=1<<u;s[u]=-1,r&=~m}i!==0&&Qt(e,i,t)}function Lc(){return(Te&6)===0?(ts(0),!1):!0}function wu(){if(se!==null){if(Ne===0)var e=se.return;else e=se,Un=Ji=null,Yo(e),Vl=null,Ba=0,e=se;for(;e!==null;)Wm(e.alternate,e),e=e.return;se=null}}function Wl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,G0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Fn=0,wu(),ze=e,se=i=On(e.current,null),he=t,Ne=0,Jt=null,bi=!1,Kl=ci(e,t),Cu=!1,Zl=Wt=Eu=al=Si=Qe=0,Ht=Pa=null,Tu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-Nt(s),u=1<<r;t|=e[r],s&=~u}return Qn=t,ic(),i}function Sg(e,t){te=null,M.H=Qa,t===Il||t===hc?(t=Bd(),Ne=3):t===Ro?(t=Bd(),Ne=4):Ne=t===su?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Jt=t,se===null&&(Qe=1,xc(e,ln(t,e.current)))}function Cg(){var e=Kt.current;return e===null?!0:(he&4194048)===he?rn===null:(he&62914560)===he||(he&536870912)!==0?e===rn:!1}function Eg(){var e=M.H;return M.H=Qa,e===null?Qa:e}function Tg(){var e=M.A;return M.A=b0,e}function Bc(){Qe=4,bi||(he&4194048)!==he&&Kt.current!==null||(Kl=!0),(Si&134217727)===0&&(al&134217727)===0||ze===null||Ti(ze,he,Wt,!1)}function Du(e,t,i){var s=Te;Te|=2;var r=Eg(),u=Tg();(ze!==e||he!==t)&&(Uc=null,Wl(e,t)),t=!1;var m=Qe;e:do try{if(Ne!==0&&se!==null){var p=se,_=Jt;switch(Ne){case 8:wu(),m=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(t=!0);var A=Ne;if(Ne=0,Jt=null,$l(e,p,_,A),i&&Kl){m=0;break e}break;default:A=Ne,Ne=0,Jt=null,$l(e,p,_,A)}}E0(),m=Qe;break}catch(j){Sg(e,j)}while(!0);return t&&e.shellSuspendCounter++,Un=Ji=null,Te=s,M.H=r,M.A=u,se===null&&(ze=null,he=0,ic()),m}function E0(){for(;se!==null;)xg(se)}function T0(e,t){var i=Te;Te|=2;var s=Eg(),r=Tg();ze!==e||he!==t?(Uc=null,zc=wt()+500,Wl(e,t)):Kl=ci(e,t);e:do try{if(Ne!==0&&se!==null){t=se;var u=Jt;t:switch(Ne){case 1:Ne=0,Jt=null,$l(e,t,u,1);break;case 2:case 9:if(Ud(u)){Ne=0,Jt=null,Ng(t);break}t=function(){Ne!==2&&Ne!==9||ze!==e||(Ne=7),Nn(e)},u.then(t,t);break e;case 3:Ne=7;break e;case 4:Ne=5;break e;case 7:Ud(u)?(Ne=0,Jt=null,Ng(t)):(Ne=0,Jt=null,$l(e,t,u,7));break;case 5:var m=null;switch(se.tag){case 26:m=se.memoizedState;case 5:case 27:var p=se;if(m?hp(m):p.stateNode.complete){Ne=0,Jt=null;var _=p.sibling;if(_!==null)se=_;else{var A=p.return;A!==null?(se=A,kc(A)):se=null}break t}}Ne=0,Jt=null,$l(e,t,u,5);break;case 6:Ne=0,Jt=null,$l(e,t,u,6);break;case 8:wu(),Qe=6;break e;default:throw Error(c(462))}}x0();break}catch(j){Sg(e,j)}while(!0);return Un=Ji=null,M.H=s,M.A=r,Te=i,se!==null?0:(ze=null,he=0,ic(),Qe)}function x0(){for(;se!==null&&!Vr();)xg(se)}function xg(e){var t=Zm(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,t===null?kc(e):se=t}function Ng(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=qm(i,t,t.pendingProps,t.type,void 0,he);break;case 11:t=qm(i,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:Yo(t);default:Wm(i,t),t=se=Td(t,Qn),t=Zm(i,t,Qn)}e.memoizedProps=e.pendingProps,t===null?kc(e):se=t}function $l(e,t,i,s){Un=Ji=null,Yo(t),Vl=null,Ba=0;var r=t.return;try{if(d0(e,r,t,i,he)){Qe=1,xc(e,ln(i,e.current)),se=null;return}}catch(u){if(r!==null)throw se=r,u;Qe=1,xc(e,ln(i,e.current)),se=null;return}t.flags&32768?(me||s===1?e=!0:Kl||(he&536870912)!==0?e=!1:(bi=e=!0,(s===2||s===9||s===3||s===6)&&(s=Kt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ag(t,e)):kc(t)}function kc(e){var t=e;do{if((t.flags&32768)!==0){Ag(t,bi);return}e=t.return;var i=p0(t.alternate,t,Qn);if(i!==null){se=i;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);Qe===0&&(Qe=5)}function Ag(e,t){do{var i=v0(e.alternate,e);if(i!==null){i.flags&=32767,se=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){se=e;return}se=e=i}while(e!==null);Qe=6,se=null}function wg(e,t,i,s,r,u,m,p,_){e.cancelPendingCommit=null;do Hc();while(st!==0);if((Te&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=vo,Je(e,i,u,m,p,_),e===ze&&(se=ze=null,he=0),Jl=t,Ei=e,Fn=i,xu=u,Nu=r,vg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D0(Vi,function(){return Og(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=M.T,M.T=null,r=k.p,k.p=2,m=Te,Te|=4;try{y0(e,t,i)}finally{Te=m,k.p=r,M.T=s}}st=1,Dg(),Mg(),jg()}}function Dg(){if(st===1){st=0;var e=Ei,t=Jl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=M.T,M.T=null;var s=k.p;k.p=2;var r=Te;Te|=4;try{og(t,e);var u=Vu,m=gd(e.containerInfo),p=u.focusedElem,_=u.selectionRange;if(m!==p&&p&&p.ownerDocument&&md(p.ownerDocument.documentElement,p)){if(_!==null&&ho(p)){var A=_.start,j=_.end;if(j===void 0&&(j=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(j,p.value.length);else{var O=p.ownerDocument||document,w=O&&O.defaultView||window;if(w.getSelection){var D=w.getSelection(),V=p.textContent.length,K=Math.min(_.start,V),je=_.end===void 0?K:Math.min(_.end,V);!D.extend&&K>je&&(m=je,je=K,K=m);var T=dd(p,K),C=dd(p,je);if(T&&C&&(D.rangeCount!==1||D.anchorNode!==T.node||D.anchorOffset!==T.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var N=O.createRange();N.setStart(T.node,T.offset),D.removeAllRanges(),K>je?(D.addRange(N),D.extend(C.node,C.offset)):(N.setEnd(C.node,C.offset),D.addRange(N))}}}}for(O=[],D=p;D=D.parentNode;)D.nodeType===1&&O.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<O.length;p++){var R=O[p];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Wc=!!Iu,Vu=Iu=null}finally{Te=r,k.p=s,M.T=i}}e.current=t,st=2}}function Mg(){if(st===2){st=0;var e=Ei,t=Jl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=M.T,M.T=null;var s=k.p;k.p=2;var r=Te;Te|=4;try{lg(e,t.alternate,t)}finally{Te=r,k.p=s,M.T=i}}st=3}}function jg(){if(st===4||st===3){st=0,li();var e=Ei,t=Jl,i=Fn,s=vg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,Jl=Ei=null,Rg(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ci=null),Fr(i),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(si,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=M.T,r=k.p,k.p=2,M.T=null;try{for(var u=e.onRecoverableError,m=0;m<s.length;m++){var p=s[m];u(p.value,{componentStack:p.stack})}}finally{M.T=t,k.p=r}}(Fn&3)!==0&&Hc(),Nn(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===Au?es++:(es=0,Au=e):es=0,ts(0)}}function Rg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ua(t)))}function Hc(){return Dg(),Mg(),jg(),Og()}function Og(){if(st!==5)return!1;var e=Ei,t=xu;xu=0;var i=Fr(Fn),s=M.T,r=k.p;try{k.p=32>i?32:i,M.T=null,i=Nu,Nu=null;var u=Ei,m=Fn;if(st=0,Jl=Ei=null,Fn=0,(Te&6)!==0)throw Error(c(331));var p=Te;if(Te|=4,mg(u.current),hg(u,u.current,m,i),Te=p,ts(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(si,u)}catch{}return!0}finally{k.p=r,M.T=s,Rg(e,t)}}function zg(e,t,i){t=ln(i,t),t=au(e.stateNode,t,2),e=pi(e,t,2),e!==null&&(ue(e,2),Nn(e))}function Ae(e,t,i){if(e.tag===3)zg(e,e,i);else for(;t!==null;){if(t.tag===3){zg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ci===null||!Ci.has(s))){e=ln(i,e),i=Um(2),s=pi(t,i,2),s!==null&&(Lm(i,s,t,e),ue(s,2),Nn(s));break}}t=t.return}}function Mu(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new S0;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(Cu=!0,r.add(i),e=N0.bind(null,e,t,i),t.then(e,e))}function N0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,ze===e&&(he&i)===i&&(Qe===4||Qe===3&&(he&62914560)===he&&300>wt()-Oc?(Te&2)===0&&Wl(e,0):Eu|=i,Zl===he&&(Zl=0)),Nn(e)}function Ug(e,t){t===0&&(t=X()),e=Xi(e,t),e!==null&&(ue(e,t),Nn(e))}function A0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ug(e,i)}function w0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Ug(e,i)}function D0(e,t){return ml(e,t)}var Ic=null,Pl=null,ju=!1,Vc=!1,Ru=!1,xi=0;function Nn(e){e!==Pl&&e.next===null&&(Pl===null?Ic=Pl=e:Pl=Pl.next=e),Vc=!0,ju||(ju=!0,j0())}function ts(e,t){if(!Ru&&Vc){Ru=!0;do for(var i=!1,s=Ic;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var m=s.suspendedLanes,p=s.pingedLanes;u=(1<<31-Nt(42|e)+1)-1,u&=r&~(m&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Hg(s,u))}else u=he,u=Gi(s,s===ze?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||ci(s,u)||(i=!0,Hg(s,u));s=s.next}while(i);Ru=!1}}function M0(){Lg()}function Lg(){Vc=ju=!1;var e=0;xi!==0&&V0()&&(e=xi);for(var t=wt(),i=null,s=Ic;s!==null;){var r=s.next,u=Bg(s,t);u===0?(s.next=null,i===null?Ic=r:i.next=r,r===null&&(Pl=i)):(i=s,(e!==0||(u&3)!==0)&&(Vc=!0)),s=r}st!==0&&st!==5||ts(e),xi!==0&&(xi=0)}function Bg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-Nt(u),p=1<<m,_=r[m];_===-1?((p&i)===0||(p&s)!==0)&&(r[m]=E(p,t)):_<=t&&(e.expiredLanes|=p),u&=~p}if(t=ze,i=he,i=Gi(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ne===2||Ne===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&gl(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||ci(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&gl(s),Fr(i)){case 2:case 8:i=Sa;break;case 32:i=Vi;break;case 268435456:i=qs;break;default:i=Vi}return s=kg.bind(null,e),i=ml(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&gl(s),e.callbackPriority=2,e.callbackNode=null,2}function kg(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Hc()&&e.callbackNode!==i)return null;var s=he;return s=Gi(e,e===ze?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(_g(e,s,t),Bg(e,wt()),e.callbackNode!=null&&e.callbackNode===i?kg.bind(null,e):null)}function Hg(e,t){if(Hc())return null;_g(e,t,!0)}function j0(){q0(function(){(Te&6)!==0?ml(ai,M0):Lg()})}function Ou(){if(xi===0){var e=kl;e===0&&(e=vl,vl<<=1,(vl&261888)===0&&(vl=256)),xi=e}return xi}function Ig(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Zs(""+e)}function Vg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function R0(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var u=Ig((r[zt]||null).action),m=s.submitter;m&&(t=(t=m[zt]||null)?Ig(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var p=new Ps("action","action",null,s,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(xi!==0){var _=m?Vg(r,m):new FormData(r);Po(i,{pending:!0,data:_,method:r.method,action:u},null,_)}}else typeof u=="function"&&(p.preventDefault(),_=m?Vg(r,m):new FormData(r),Po(i,{pending:!0,data:_,method:r.method,action:u},u,_))},currentTarget:r}]})}}for(var zu=0;zu<po.length;zu++){var Uu=po[zu],O0=Uu.toLowerCase(),z0=Uu[0].toUpperCase()+Uu.slice(1);gn(O0,"on"+z0)}gn(yd,"onAnimationEnd"),gn(_d,"onAnimationIteration"),gn(bd,"onAnimationStart"),gn("dblclick","onDoubleClick"),gn("focusin","onFocus"),gn("focusout","onBlur"),gn(J_,"onTransitionRun"),gn(W_,"onTransitionStart"),gn($_,"onTransitionCancel"),gn(Sd,"onTransitionEnd"),Tl("onMouseEnter",["mouseout","mouseover"]),Tl("onMouseLeave",["mouseout","mouseover"]),Tl("onPointerEnter",["pointerout","pointerover"]),Tl("onPointerLeave",["pointerout","pointerover"]),qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qi("onBeforeInput",["compositionend","keypress","textInput","paste"]),qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ns));function Gg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var m=s.length-1;0<=m;m--){var p=s[m],_=p.instance,A=p.currentTarget;if(p=p.listener,_!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(j){nc(j)}r.currentTarget=null,u=_}else for(m=0;m<s.length;m++){if(p=s[m],_=p.instance,A=p.currentTarget,p=p.listener,_!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(j){nc(j)}r.currentTarget=null,u=_}}}}function ce(e,t){var i=t[Xr];i===void 0&&(i=t[Xr]=new Set);var s=e+"__bubble";i.has(s)||(qg(t,e,2,!1),i.add(s))}function Lu(e,t,i){var s=0;t&&(s|=4),qg(i,e,s,t)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[Gc]){e[Gc]=!0,Lf.forEach(function(i){i!=="selectionchange"&&(U0.has(i)||Lu(i,!1,e),Lu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gc]||(t[Gc]=!0,Lu("selectionchange",!1,t))}}function qg(e,t,i,s){switch(yp(t)){case 2:var r=o1;break;case 8:r=u1;break;default:r=$u}i=r.bind(null,t,i,e),r=void 0,!no||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function ku(e,t,i,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var p=s.stateNode.containerInfo;if(p===r)break;if(m===4)for(m=s.return;m!==null;){var _=m.tag;if((_===3||_===4)&&m.stateNode.containerInfo===r)return;m=m.return}for(;p!==null;){if(m=Sl(p),m===null)return;if(_=m.tag,_===5||_===6||_===26||_===27){s=u=m;continue e}p=p.parentNode}}s=s.return}Kf(function(){var A=u,j=eo(i),O=[];e:{var w=Cd.get(e);if(w!==void 0){var D=Ps,V=e;switch(e){case"keypress":if(Ws(i)===0)break e;case"keydown":case"keyup":D=w_;break;case"focusin":V="focus",D=so;break;case"focusout":V="blur",D=so;break;case"beforeblur":case"afterblur":D=so;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=p_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=j_;break;case yd:case _d:case bd:D=__;break;case Sd:D=O_;break;case"scroll":case"scrollend":D=m_;break;case"wheel":D=U_;break;case"copy":case"cut":case"paste":D=S_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Pf;break;case"toggle":case"beforetoggle":D=B_}var K=(t&4)!==0,je=!K&&(e==="scroll"||e==="scrollend"),T=K?w!==null?w+"Capture":null:w;K=[];for(var C=A,N;C!==null;){var R=C;if(N=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||N===null||T===null||(R=Ta(C,T),R!=null&&K.push(is(C,R,N))),je)break;C=C.return}0<K.length&&(w=new D(w,V,null,i,j),O.push({event:w,listeners:K}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",w&&i!==Pr&&(V=i.relatedTarget||i.fromElement)&&(Sl(V)||V[bl]))break e;if((D||w)&&(w=j.window===j?j:(w=j.ownerDocument)?w.defaultView||w.parentWindow:window,D?(V=i.relatedTarget||i.toElement,D=A,V=V?Sl(V):null,V!==null&&(je=h(V),K=V.tag,V!==je||K!==5&&K!==27&&K!==6)&&(V=null)):(D=null,V=A),D!==V)){if(K=Wf,R="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(K=Pf,R="onPointerLeave",T="onPointerEnter",C="pointer"),je=D==null?w:Ea(D),N=V==null?w:Ea(V),w=new K(R,C+"leave",D,i,j),w.target=je,w.relatedTarget=N,R=null,Sl(j)===A&&(K=new K(T,C+"enter",V,i,j),K.target=N,K.relatedTarget=je,R=K),je=R,D&&V)t:{for(K=L0,T=D,C=V,N=0,R=T;R;R=K(R))N++;R=0;for(var Q=C;Q;Q=K(Q))R++;for(;0<N-R;)T=K(T),N--;for(;0<R-N;)C=K(C),R--;for(;N--;){if(T===C||C!==null&&T===C.alternate){K=T;break t}T=K(T),C=K(C)}K=null}else K=null;D!==null&&Yg(O,w,D,K,!1),V!==null&&je!==null&&Yg(O,je,V,K,!0)}}e:{if(w=A?Ea(A):window,D=w.nodeName&&w.nodeName.toLowerCase(),D==="select"||D==="input"&&w.type==="file")var ye=cd;else if(ad(w))if(rd)ye=X_;else{ye=Q_;var q=Y_}else D=w.nodeName,!D||D.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&$r(A.elementType)&&(ye=cd):ye=F_;if(ye&&(ye=ye(e,A))){sd(O,ye,i,j);break e}q&&q(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&Wr(w,"number",w.value)}switch(q=A?Ea(A):window,e){case"focusin":(ad(q)||q.contentEditable==="true")&&(Ml=q,fo=A,Ra=null);break;case"focusout":Ra=fo=Ml=null;break;case"mousedown":mo=!0;break;case"contextmenu":case"mouseup":case"dragend":mo=!1,pd(O,i,j);break;case"selectionchange":if(Z_)break;case"keydown":case"keyup":pd(O,i,j)}var ne;if(ro)e:{switch(e){case"compositionstart":var fe="onCompositionStart";break e;case"compositionend":fe="onCompositionEnd";break e;case"compositionupdate":fe="onCompositionUpdate";break e}fe=void 0}else Dl?id(e,i)&&(fe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(fe="onCompositionStart");fe&&(ed&&i.locale!=="ko"&&(Dl||fe!=="onCompositionStart"?fe==="onCompositionEnd"&&Dl&&(ne=Zf()):(oi=j,io="value"in oi?oi.value:oi.textContent,Dl=!0)),q=qc(A,fe),0<q.length&&(fe=new $f(fe,e,null,i,j),O.push({event:fe,listeners:q}),ne?fe.data=ne:(ne=ld(i),ne!==null&&(fe.data=ne)))),(ne=H_?I_(e,i):V_(e,i))&&(fe=qc(A,"onBeforeInput"),0<fe.length&&(q=new $f("onBeforeInput","beforeinput",null,i,j),O.push({event:q,listeners:fe}),q.data=ne)),R0(O,e,A,i,j)}Gg(O,t)})}function is(e,t,i){return{instance:e,listener:t,currentTarget:i}}function qc(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=Ta(e,i),r!=null&&s.unshift(is(e,r,u)),r=Ta(e,t),r!=null&&s.push(is(e,r,u))),e.tag===3)return s;e=e.return}return[]}function L0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yg(e,t,i,s,r){for(var u=t._reactName,m=[];i!==null&&i!==s;){var p=i,_=p.alternate,A=p.stateNode;if(p=p.tag,_!==null&&_===s)break;p!==5&&p!==26&&p!==27||A===null||(_=A,r?(A=Ta(i,u),A!=null&&m.unshift(is(i,A,_))):r||(A=Ta(i,u),A!=null&&m.push(is(i,A,_)))),i=i.return}m.length!==0&&e.push({event:t,listeners:m})}var B0=/\r\n?/g,k0=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace(k0,"")}function Fg(e,t){return t=Qg(t),Qg(e)===t}function Me(e,t,i,s,r,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Nl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Nl(e,""+s);break;case"className":Xs(e,"class",s);break;case"tabIndex":Xs(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Xs(e,i,s);break;case"style":Ff(e,s,u);break;case"data":if(t!=="object"){Xs(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Zs(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&Me(e,t,"name",r.name,r,null),Me(e,t,"formEncType",r.formEncType,r,null),Me(e,t,"formMethod",r.formMethod,r,null),Me(e,t,"formTarget",r.formTarget,r,null)):(Me(e,t,"encType",r.encType,r,null),Me(e,t,"method",r.method,r,null),Me(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Zs(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=jn);break;case"onScroll":s!=null&&ce("scroll",e);break;case"onScrollEnd":s!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Zs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ce("beforetoggle",e),ce("toggle",e),Fs(e,"popover",s);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Fs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=f_.get(i)||i,Fs(e,i,s))}}function Hu(e,t,i,s,r,u){switch(i){case"style":Ff(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Nl(e,s):(typeof s=="number"||typeof s=="bigint")&&Nl(e,""+s);break;case"onScroll":s!=null&&ce("scroll",e);break;case"onScrollEnd":s!=null&&ce("scrollend",e);break;case"onClick":s!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),u=e[zt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Fs(e,i,s)}}}function _t(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var s=!1,r=!1,u;for(u in i)if(i.hasOwnProperty(u)){var m=i[u];if(m!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Me(e,t,u,m,i,null)}}r&&Me(e,t,"srcSet",i.srcSet,i,null),s&&Me(e,t,"src",i.src,i,null);return;case"input":ce("invalid",e);var p=u=m=r=null,_=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var j=i[s];if(j!=null)switch(s){case"name":r=j;break;case"type":m=j;break;case"checked":_=j;break;case"defaultChecked":A=j;break;case"value":u=j;break;case"defaultValue":p=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(c(137,t));break;default:Me(e,t,s,j,i,null)}}Gf(e,u,p,_,A,m,r,!1);return;case"select":ce("invalid",e),s=m=u=null;for(r in i)if(i.hasOwnProperty(r)&&(p=i[r],p!=null))switch(r){case"value":u=p;break;case"defaultValue":m=p;break;case"multiple":s=p;default:Me(e,t,r,p,i,null)}t=u,i=m,e.multiple=!!s,t!=null?xl(e,!!s,t,!1):i!=null&&xl(e,!!s,i,!0);return;case"textarea":ce("invalid",e),u=r=s=null;for(m in i)if(i.hasOwnProperty(m)&&(p=i[m],p!=null))switch(m){case"value":s=p;break;case"defaultValue":r=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:Me(e,t,m,p,i,null)}Yf(e,s,r,u);return;case"option":for(_ in i)i.hasOwnProperty(_)&&(s=i[_],s!=null)&&(_==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Me(e,t,_,s,i,null));return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(s=0;s<ns.length;s++)ce(ns[s],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Me(e,t,A,s,i,null)}return;default:if($r(t)){for(j in i)i.hasOwnProperty(j)&&(s=i[j],s!==void 0&&Hu(e,t,j,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&Me(e,t,p,s,i,null))}function H0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,m=null,p=null,_=null,A=null,j=null;for(D in i){var O=i[D];if(i.hasOwnProperty(D)&&O!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":_=O;default:s.hasOwnProperty(D)||Me(e,t,D,null,s,O)}}for(var w in s){var D=s[w];if(O=i[w],s.hasOwnProperty(w)&&(D!=null||O!=null))switch(w){case"type":u=D;break;case"name":r=D;break;case"checked":A=D;break;case"defaultChecked":j=D;break;case"value":m=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(c(137,t));break;default:D!==O&&Me(e,t,w,D,s,O)}}Jr(e,m,p,_,A,j,u,r);return;case"select":D=m=p=w=null;for(u in i)if(_=i[u],i.hasOwnProperty(u)&&_!=null)switch(u){case"value":break;case"multiple":D=_;default:s.hasOwnProperty(u)||Me(e,t,u,null,s,_)}for(r in s)if(u=s[r],_=i[r],s.hasOwnProperty(r)&&(u!=null||_!=null))switch(r){case"value":w=u;break;case"defaultValue":p=u;break;case"multiple":m=u;default:u!==_&&Me(e,t,r,u,s,_)}t=p,i=m,s=D,w!=null?xl(e,!!i,w,!1):!!s!=!!i&&(t!=null?xl(e,!!i,t,!0):xl(e,!!i,i?[]:"",!1));return;case"textarea":D=w=null;for(p in i)if(r=i[p],i.hasOwnProperty(p)&&r!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:Me(e,t,p,null,s,r)}for(m in s)if(r=s[m],u=i[m],s.hasOwnProperty(m)&&(r!=null||u!=null))switch(m){case"value":w=r;break;case"defaultValue":D=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==u&&Me(e,t,m,r,s,u)}qf(e,w,D);return;case"option":for(var V in i)w=i[V],i.hasOwnProperty(V)&&w!=null&&!s.hasOwnProperty(V)&&(V==="selected"?e.selected=!1:Me(e,t,V,null,s,w));for(_ in s)w=s[_],D=i[_],s.hasOwnProperty(_)&&w!==D&&(w!=null||D!=null)&&(_==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":Me(e,t,_,w,s,D));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)w=i[K],i.hasOwnProperty(K)&&w!=null&&!s.hasOwnProperty(K)&&Me(e,t,K,null,s,w);for(A in s)if(w=s[A],D=i[A],s.hasOwnProperty(A)&&w!==D&&(w!=null||D!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(c(137,t));break;default:Me(e,t,A,w,s,D)}return;default:if($r(t)){for(var je in i)w=i[je],i.hasOwnProperty(je)&&w!==void 0&&!s.hasOwnProperty(je)&&Hu(e,t,je,void 0,s,w);for(j in s)w=s[j],D=i[j],!s.hasOwnProperty(j)||w===D||w===void 0&&D===void 0||Hu(e,t,j,w,s,D);return}}for(var T in i)w=i[T],i.hasOwnProperty(T)&&w!=null&&!s.hasOwnProperty(T)&&Me(e,t,T,null,s,w);for(O in s)w=s[O],D=i[O],!s.hasOwnProperty(O)||w===D||w==null&&D==null||Me(e,t,O,w,s,D)}function Xg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function I0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],u=r.transferSize,m=r.initiatorType,p=r.duration;if(u&&p&&Xg(m)){for(m=0,p=r.responseEnd,s+=1;s<i.length;s++){var _=i[s],A=_.startTime;if(A>p)break;var j=_.transferSize,O=_.initiatorType;j&&Xg(O)&&(_=_.responseEnd,m+=j*(_<p?1:(p-A)/(_-A)))}if(--s,t+=8*(u+m)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Iu=null,Vu=null;function Yc(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Gu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qu=null;function V0(){var e=window.event;return e&&e.type==="popstate"?e===qu?!1:(qu=e,!0):(qu=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(e){return Wg.resolve(null).then(e).catch(Y0)}:Jg;function Y0(e){setTimeout(function(){throw e})}function Ni(e){return e==="head"}function $g(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),ia(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")ls(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,ls(i);for(var u=i.firstChild;u;){var m=u.nextSibling,p=u.nodeName;u[Ca]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=m}}else i==="body"&&ls(e.ownerDocument.body);i=r}while(i);ia(t)}function Pg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Yu(i),Kr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Q0(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ca])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function F0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=on(e.nextSibling),e===null))return null;return e}function ep(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=on(e.nextSibling),e===null))return null;return e}function Qu(e){return e.data==="$?"||e.data==="$~"}function Fu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Xu=null;function tp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return on(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function ip(e,t,i){switch(t=Yc(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Kr(e)}var un=new Map,lp=new Set;function Qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=k.d;k.d={f:K0,r:Z0,D:J0,C:W0,L:$0,m:P0,X:t1,S:e1,M:n1};function K0(){var e=Xn.f(),t=Lc();return e||t}function Z0(e){var t=Cl(e);t!==null&&t.tag===5&&t.type==="form"?Sm(t):Xn.r(e)}var ea=typeof document>"u"?null:document;function ap(e,t,i){var s=ea;if(s&&typeof t=="string"&&t){var r=tn(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),lp.has(r)||(lp.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),_t(t,"link",e),ot(t),s.head.appendChild(t)))}}function J0(e){Xn.D(e),ap("dns-prefetch",e,null)}function W0(e,t){Xn.C(e,t),ap("preconnect",e,t)}function $0(e,t,i){Xn.L(e,t,i);var s=ea;if(s&&e&&t){var r='link[rel="preload"][as="'+tn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+tn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+tn(i.imageSizes)+'"]')):r+='[href="'+tn(e)+'"]';var u=r;switch(t){case"style":u=ta(e);break;case"script":u=na(e)}un.has(u)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),un.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(as(u))||t==="script"&&s.querySelector(ss(u))||(t=s.createElement("link"),_t(t,"link",e),ot(t),s.head.appendChild(t)))}}function P0(e,t){Xn.m(e,t);var i=ea;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+tn(s)+'"][href="'+tn(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=na(e)}if(!un.has(u)&&(e=b({rel:"modulepreload",href:e},t),un.set(u,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(ss(u)))return}s=i.createElement("link"),_t(s,"link",e),ot(s),i.head.appendChild(s)}}}function e1(e,t,i){Xn.S(e,t,i);var s=ea;if(s&&e){var r=El(s).hoistableStyles,u=ta(e);t=t||"default";var m=r.get(u);if(!m){var p={loading:0,preload:null};if(m=s.querySelector(as(u)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=un.get(u))&&Ku(e,i);var _=m=s.createElement("link");ot(_),_t(_,"link",e),_._p=new Promise(function(A,j){_.onload=A,_.onerror=j}),_.addEventListener("load",function(){p.loading|=1}),_.addEventListener("error",function(){p.loading|=2}),p.loading|=4,Fc(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:p},r.set(u,m)}}}function t1(e,t){Xn.X(e,t);var i=ea;if(i&&e){var s=El(i).hoistableScripts,r=na(e),u=s.get(r);u||(u=i.querySelector(ss(r)),u||(e=b({src:e,async:!0},t),(t=un.get(r))&&Zu(e,t),u=i.createElement("script"),ot(u),_t(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function n1(e,t){Xn.M(e,t);var i=ea;if(i&&e){var s=El(i).hoistableScripts,r=na(e),u=s.get(r);u||(u=i.querySelector(ss(r)),u||(e=b({src:e,async:!0,type:"module"},t),(t=un.get(r))&&Zu(e,t),u=i.createElement("script"),ot(u),_t(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function sp(e,t,i,s){var r=(r=Gt.current)?Qc(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ta(i.href),i=El(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ta(i.href);var u=El(r).hoistableStyles,m=u.get(e);if(m||(r=r.ownerDocument||r,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=r.querySelector(as(e)))&&!u._p&&(m.instance=u,m.state.loading=5),un.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},un.set(e,i),u||i1(r,e,i,m.state))),t&&s===null)throw Error(c(528,""));return m}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=na(i),i=El(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function ta(e){return'href="'+tn(e)+'"'}function as(e){return'link[rel="stylesheet"]['+e+"]"}function cp(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function i1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),_t(t,"link",i),ot(t),e.head.appendChild(t))}function na(e){return'[src="'+tn(e)+'"]'}function ss(e){return"script[async]"+e}function rp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+tn(i.href)+'"]');if(s)return t.instance=s,ot(s),s;var r=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),ot(s),_t(s,"style",r),Fc(s,i.precedence,e),t.instance=s;case"stylesheet":r=ta(i.href);var u=e.querySelector(as(r));if(u)return t.state.loading|=4,t.instance=u,ot(u),u;s=cp(i),(r=un.get(r))&&Ku(s,r),u=(e.ownerDocument||e).createElement("link"),ot(u);var m=u;return m._p=new Promise(function(p,_){m.onload=p,m.onerror=_}),_t(u,"link",s),t.state.loading|=4,Fc(u,i.precedence,e),t.instance=u;case"script":return u=na(i.src),(r=e.querySelector(ss(u)))?(t.instance=r,ot(r),r):(s=i,(r=un.get(u))&&(s=b({},i),Zu(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),ot(r),_t(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Fc(s,i.precedence,e));return t.instance}function Fc(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,m=0;m<s.length;m++){var p=s[m];if(p.dataset.precedence===t)u=p;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Ku(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Zu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xc=null;function op(e,t,i){if(Xc===null){var s=new Map,r=Xc=new Map;r.set(i,s)}else r=Xc,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var u=i[r];if(!(u[Ca]||u[gt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var p=s.get(m);p?p.push(u):s.set(m,[u])}}return s}function up(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function l1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=ta(s.href),u=t.querySelector(as(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Kc.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,ot(u);return}u=t.ownerDocument||t,s=cp(s),(r=un.get(r))&&Ku(s,r),u=u.createElement("link"),ot(u);var m=u;m._p=new Promise(function(p,_){m.onload=p,m.onerror=_}),_t(u,"link",s),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Kc.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ju=0;function s1(e,t){return e.stylesheets&&e.count===0&&Jc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ju===0&&(Ju=62500*I0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Jc(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ju?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Kc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Jc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zc=null;function Jc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zc=new Map,t.forEach(c1,e),Zc=null,Kc.call(e))}function c1(e,t){if(!(t.state.loading&4)){var i=Zc.get(e);if(i)var s=i.get(null);else{i=new Map,Zc.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var m=r[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(i.set(m.dataset.precedence,m),s=m)}s&&i.set(null,s)}r=t.instance,m=r.getAttribute("data-precedence"),u=i.get(m)||s,u===s&&i.set(null,r),i.set(m,r),this.count++,s=Kc.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var cs={$$typeof:$,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function r1(e,t,i,s,r,u,m,p,_){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=de(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.hiddenUpdates=de(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=_,this.incompleteTransitions=new Map}function fp(e,t,i,s,r,u,m,p,_,A,j,O){return e=new r1(e,t,i,m,_,A,j,O,p),t=1,u===!0&&(t|=24),u=Xt(3,null,null,t),e.current=u,u.stateNode=e,t=Do(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},Oo(u),e}function dp(e){return e?(e=Ol,e):Ol}function mp(e,t,i,s,r,u){r=dp(r),s.context===null?s.context=r:s.pendingContext=r,s=gi(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=pi(e,s,t),i!==null&&(It(i,e,t),Ha(i,e,t))}function gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Wu(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function pp(e){if(e.tag===13||e.tag===31){var t=Xi(e,67108864);t!==null&&It(t,e,67108864),Wu(e,67108864)}}function vp(e){if(e.tag===13||e.tag===31){var t=$t();t=Qr(t);var i=Xi(e,t);i!==null&&It(i,e,t),Wu(e,t)}}var Wc=!0;function o1(e,t,i,s){var r=M.T;M.T=null;var u=k.p;try{k.p=2,$u(e,t,i,s)}finally{k.p=u,M.T=r}}function u1(e,t,i,s){var r=M.T;M.T=null;var u=k.p;try{k.p=8,$u(e,t,i,s)}finally{k.p=u,M.T=r}}function $u(e,t,i,s){if(Wc){var r=Pu(s);if(r===null)ku(e,t,s,$c,i),_p(e,s);else if(f1(r,e,t,i,s))s.stopPropagation();else if(_p(e,s),t&4&&-1<h1.indexOf(e)){for(;r!==null;){var u=Cl(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Dn(u.pendingLanes);if(m!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;m;){var _=1<<31-Nt(m);p.entanglements[1]|=_,m&=~_}Nn(u),(Te&6)===0&&(zc=wt()+500,ts(0))}}break;case 31:case 13:p=Xi(u,2),p!==null&&It(p,u,2),Lc(),Wu(u,2)}if(u=Pu(s),u===null&&ku(e,t,s,$c,i),u===r)break;r=u}r!==null&&s.stopPropagation()}else ku(e,t,s,null,i)}}function Pu(e){return e=eo(e),eh(e)}var $c=null;function eh(e){if($c=null,e=Sl(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return $c=e,null}function yp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cn()){case ai:return 2;case Sa:return 8;case Vi:case Gr:return 32;case qs:return 268435456;default:return 32}default:return 32}}var th=!1,Ai=null,wi=null,Di=null,rs=new Map,os=new Map,Mi=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _p(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":wi=null;break;case"mouseover":case"mouseout":Di=null;break;case"pointerover":case"pointerout":rs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function us(e,t,i,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=Cl(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function f1(e,t,i,s,r){switch(t){case"focusin":return Ai=us(Ai,e,t,i,s,r),!0;case"dragenter":return wi=us(wi,e,t,i,s,r),!0;case"mouseover":return Di=us(Di,e,t,i,s,r),!0;case"pointerover":var u=r.pointerId;return rs.set(u,us(rs.get(u)||null,e,t,i,s,r)),!0;case"gotpointercapture":return u=r.pointerId,os.set(u,us(os.get(u)||null,e,t,i,s,r)),!0}return!1}function bp(e){var t=Sl(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,zf(e.priority,function(){vp(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,zf(e.priority,function(){vp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Pc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Pu(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Pr=s,i.target.dispatchEvent(s),Pr=null}else return t=Cl(i),t!==null&&pp(t),e.blockedOn=i,!1;t.shift()}return!0}function Sp(e,t,i){Pc(e)&&i.delete(t)}function d1(){th=!1,Ai!==null&&Pc(Ai)&&(Ai=null),wi!==null&&Pc(wi)&&(wi=null),Di!==null&&Pc(Di)&&(Di=null),rs.forEach(Sp),os.forEach(Sp)}function er(e,t){e.blockedOn===t&&(e.blockedOn=null,th||(th=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,d1)))}var tr=null;function Cp(e){tr!==e&&(tr=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){tr===e&&(tr=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(eh(s||i)===null)continue;break}var u=Cl(i);u!==null&&(e.splice(t,3),t-=3,Po(u,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function ia(e){function t(_){return er(_,e)}Ai!==null&&er(Ai,e),wi!==null&&er(wi,e),Di!==null&&er(Di,e),rs.forEach(t),os.forEach(t);for(var i=0;i<Mi.length;i++){var s=Mi[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Mi.length&&(i=Mi[0],i.blockedOn===null);)bp(i),i.blockedOn===null&&Mi.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],u=i[s+1],m=r[zt]||null;if(typeof u=="function")m||Cp(i);else if(m){var p=null;if(u&&u.hasAttribute("formAction")){if(r=u,m=u[zt]||null)p=m.formAction;else if(eh(r)!==null)continue}else p=m.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),Cp(i)}}}function Ep(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return r=m})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function nh(e){this._internalRoot=e}nr.prototype.render=nh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,s=$t();mp(i,s,e,t,null,null)},nr.prototype.unmount=nh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),Lc(),t[bl]=null}};function nr(e){this._internalRoot=e}nr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Of();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Mi.length&&t!==0&&t<Mi[i].priority;i++);Mi.splice(i,0,e),i===0&&bp(e)}};var Tp=n.version;if(Tp!=="19.2.4")throw Error(c(527,Tp,"19.2.4"));k.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=y(t),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var m1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ir=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ir.isDisabled&&ir.supportsFiber)try{si=ir.inject(m1),xt=ir}catch{}}return hs.createRoot=function(e,t){if(!o(e))throw Error(c(299));var i=!1,s="",r=jm,u=Rm,m=Om;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=fp(e,1,!1,null,null,i,s,null,r,u,m,Ep),e[bl]=t.current,Bu(e),new nh(t)},hs.hydrateRoot=function(e,t,i){if(!o(e))throw Error(c(299));var s=!1,r="",u=jm,m=Rm,p=Om,_=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(_=i.formState)),t=fp(e,1,!0,t,i??null,s,r,_,u,m,p,Ep),t.context=dp(null),i=t.current,s=$t(),s=Qr(s),r=gi(s),r.callback=null,pi(i,r,s),i=s,t.current.lanes=i,ue(t,i),Nn(t),e[bl]=t.current,Bu(e),new nr(t)},hs.version="19.2.4",hs}var wp;function b1(){if(wp)return ih.exports;wp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),ih.exports=_1(),ih.exports}var S1=b1();function Nv(a){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(a)}function Sh(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(a)}function C1(a){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(a)}function E1(a){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(a)}function T1(a){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(a)}function x1(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function N1(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(a)}function A1(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(a)}function Ch(a){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(a)}function yn(a){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(a)}function Eh(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(a)}function w1(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function sh(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(a)}function ch(a){return dt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}function D1(a){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(a)}function M1(a){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function j1(a){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(a)}function R1(a){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(a)}const Dp=a=>{let n;const l=new Set,c=(y,x)=>{const b=typeof y=="function"?y(n):y;if(!Object.is(b,n)){const S=n;n=x??(typeof b!="object"||b===null)?b:Object.assign({},n,b),l.forEach(z=>z(n,S))}},o=()=>n,g={setState:c,getState:o,getInitialState:()=>v,subscribe:y=>(l.add(y),()=>l.delete(y))},v=n=a(c,o,g);return g},O1=(a=>a?Dp(a):Dp),z1=a=>a;function U1(a,n=z1){const l=lr.useSyncExternalStore(a.subscribe,lr.useCallback(()=>n(a.getState()),[a,n]),lr.useCallback(()=>n(a.getInitialState()),[a,n]));return lr.useDebugValue(l),l}const Mp=a=>{const n=O1(a),l=c=>U1(n,c);return Object.assign(l,n),l},L1=(a=>a?Mp(a):Mp);function B1(a,n){let l;try{l=a()}catch{return}return{getItem:o=>{var h;const f=v=>v===null?null:JSON.parse(v,void 0),g=(h=l.getItem(o))!=null?h:null;return g instanceof Promise?g.then(f):f(g)},setItem:(o,h)=>l.setItem(o,JSON.stringify(h,void 0)),removeItem:o=>l.removeItem(o)}}const Th=a=>n=>{try{const l=a(n);return l instanceof Promise?l:{then(c){return Th(c)(l)},catch(c){return this}}}catch(l){return{then(c){return this},catch(c){return Th(c)(l)}}}},k1=(a,n)=>(l,c,o)=>{let h={storage:B1(()=>localStorage),partialize:G=>G,version:0,merge:(G,ie)=>({...ie,...G}),...n},f=!1,g=0;const v=new Set,y=new Set;let x=h.storage;if(!x)return a((...G)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),l(...G)},c,o);const b=()=>{const G=h.partialize({...c()});return x.setItem(h.name,{state:G,version:h.version})},S=o.setState;o.setState=(G,ie)=>(S(G,ie),b());const z=a((...G)=>(l(...G),b()),c,o);o.getInitialState=()=>z;let U;const Y=()=>{var G,ie;if(!x)return;const Se=++g;f=!1,v.forEach(ee=>{var xe;return ee((xe=c())!=null?xe:z)});const $=((ie=h.onRehydrateStorage)==null?void 0:ie.call(h,(G=c())!=null?G:z))||void 0;return Th(x.getItem.bind(x))(h.name).then(ee=>{if(ee)if(typeof ee.version=="number"&&ee.version!==h.version){if(h.migrate){const xe=h.migrate(ee.state,ee.version);return xe instanceof Promise?xe.then(oe=>[!0,oe]):[!0,xe]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,ee.state];return[!1,void 0]}).then(ee=>{var xe;if(Se!==g)return;const[oe,Ue]=ee;if(U=h.merge(Ue,(xe=c())!=null?xe:z),l(U,!0),oe)return b()}).then(()=>{Se===g&&($?.(U,void 0),U=c(),f=!0,y.forEach(ee=>ee(U)))}).catch(ee=>{Se===g&&$?.(void 0,ee)})};return o.persist={setOptions:G=>{h={...h,...G},G.storage&&(x=G.storage)},clearStorage:()=>{x?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>Y(),hasHydrated:()=>f,onHydrate:G=>(v.add(G),()=>{v.delete(G)}),onFinishHydration:G=>(y.add(G),()=>{y.delete(G)})},h.skipHydration||Y(),U||z},H1=k1,I1=()=>{};var jp={};const Av={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const L=function(a,n){if(!a)throw pa(n)},pa=function(a){return new Error("Firebase Database ("+Av.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const wv=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&c+1<a.length&&(a.charCodeAt(c+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++c)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},V1=function(a){const n=[];let l=0,c=0;for(;l<a.length;){const o=a[l++];if(o<128)n[c++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[l++];n[c++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[l++],f=a[l++],g=a[l++],v=((o&7)<<18|(h&63)<<12|(f&63)<<6|g&63)-65536;n[c++]=String.fromCharCode(55296+(v>>10)),n[c++]=String.fromCharCode(56320+(v&1023))}else{const h=a[l++],f=a[l++];n[c++]=String.fromCharCode((o&15)<<12|(h&63)<<6|f&63)}}return n.join("")},Qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let o=0;o<a.length;o+=3){const h=a[o],f=o+1<a.length,g=f?a[o+1]:0,v=o+2<a.length,y=v?a[o+2]:0,x=h>>2,b=(h&3)<<4|g>>4;let S=(g&15)<<2|y>>6,z=y&63;v||(z=64,f||(S=64)),c.push(l[x],l[b],l[S],l[z])}return c.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(wv(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):V1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let o=0;o<a.length;){const h=l[a.charAt(o++)],g=o<a.length?l[a.charAt(o)]:0;++o;const y=o<a.length?l[a.charAt(o)]:64;++o;const b=o<a.length?l[a.charAt(o)]:64;if(++o,h==null||g==null||y==null||b==null)throw new G1;const S=h<<2|g>>4;if(c.push(S),y!==64){const z=g<<4&240|y>>2;if(c.push(z),b!==64){const U=y<<6&192|b;c.push(U)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dv=function(a){const n=wv(a);return Qh.encodeByteArray(n,!0)},rr=function(a){return Dv(a).replace(/\./g,"")},xh=function(a){try{return Qh.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function q1(a){return Mv(void 0,a)}function Mv(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!Y1(l)||(a[l]=Mv(a[l],n[l]));return a}function Y1(a){return a!=="__proto__"}function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F1=()=>Q1().__FIREBASE_DEFAULTS__,X1=()=>{if(typeof process>"u"||typeof jp>"u")return;const a=jp.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},K1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&xh(a[1]);return n&&JSON.parse(n)},jv=()=>{try{return I1()||F1()||X1()||K1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Z1=a=>jv()?.emulatorHosts?.[a],J1=a=>{const n=Z1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const c=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),c]:[n.substring(0,l),c]},Rv=()=>jv()?.config;class Us{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,c)=>{l?this.reject(l):this.resolve(c),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,c))}}}function Fh(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W1(a){return(await fetch(a,{credentials:"include"})).ok}function $1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},c=n||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${c}`,aud:c,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[rr(JSON.stringify(l)),rr(JSON.stringify(f)),""].join(".")}const ys={};function P1(){const a={prod:[],emulator:[]};for(const n of Object.keys(ys))ys[n]?a.emulator.push(n):a.prod.push(n);return a}function e2(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let Rp=!1;function t2(a,n){if(typeof window>"u"||typeof document>"u"||!Fh(window.location.host)||ys[a]===n||ys[a]||Rp)return;ys[a]=n;function l(S){return`__firebase__banner__${S}`}const c="__firebase__banner",h=P1().prod.length>0;function f(){const S=document.getElementById(c);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function v(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Rp=!0,f()},S}function x(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function b(){const S=e2(c),z=l("text"),U=document.getElementById(z)||document.createElement("span"),Y=l("learnmore"),G=document.getElementById(Y)||document.createElement("a"),ie=l("preprendIcon"),Se=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const $=S.element;g($),x(G,Y);const ee=y();v(Se,ie),$.append(Se,U,G,ee),document.body.appendChild($)}h?(U.innerText="Preview backend disconnected.",Se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function n2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ov(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n2())}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){return Av.NODE_ADMIN===!0}function a2(){try{return typeof indexedDB=="object"}catch{return!1}}function s2(){return new Promise((a,n)=>{try{let l=!0;const c="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(c);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(c),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const c2="FirebaseError";class Ls extends Error{constructor(n,l,c){super(l),this.code=n,this.customData=c,this.name=c2,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zv.prototype.create)}}class zv{constructor(n,l,c){this.service=n,this.serviceName=l,this.errors=c}create(n,...l){const c=l[0]||{},o=`${this.service}/${n}`,h=this.errors[n],f=h?r2(h,c):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Ls(o,g,c)}}function r2(a,n){return a.replace(o2,(l,c)=>{const o=n[c];return o!=null?String(o):`<${c}?>`})}const o2=/\{\$([^}]+)}/g;function Ts(a){return JSON.parse(a)}function rt(a){return JSON.stringify(a)}const Uv=function(a){let n={},l={},c={},o="";try{const h=a.split(".");n=Ts(xh(h[0])||""),l=Ts(xh(h[1])||""),o=h[2],c=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:c,signature:o}},u2=function(a){const n=Uv(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},h2=function(a){const n=Uv(a).claims;return typeof n=="object"&&n.admin===!0};function An(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function ua(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function Op(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function or(a,n,l){const c={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=n.call(l,a[o],o,a));return c}function ur(a,n){if(a===n)return!0;const l=Object.keys(a),c=Object.keys(n);for(const o of l){if(!c.includes(o))return!1;const h=a[o],f=n[o];if(zp(h)&&zp(f)){if(!ur(h,f))return!1}else if(h!==f)return!1}for(const o of c)if(!l.includes(o))return!1;return!0}function zp(a){return a!==null&&typeof a=="object"}function f2(a){const n=[];for(const[l,c]of Object.entries(a))Array.isArray(c)?c.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(c));return n.length?"&"+n.join("&"):""}class d2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const c=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)c[b]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let b=0;b<16;b++)c[b]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let b=16;b<80;b++){const S=c[b-3]^c[b-8]^c[b-14]^c[b-16];c[b]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],h=this.chain_[1],f=this.chain_[2],g=this.chain_[3],v=this.chain_[4],y,x;for(let b=0;b<80;b++){b<40?b<20?(y=g^h&(f^g),x=1518500249):(y=h^f^g,x=1859775393):b<60?(y=h&f|g&(h|f),x=2400959708):(y=h^f^g,x=3395469782);const S=(o<<5|o>>>27)+y+v+x+c[b]&4294967295;v=g,g=f,f=(h<<30|h>>>2)&4294967295,h=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const c=l-this.blockSize;let o=0;const h=this.buf_;let f=this.inbuf_;for(;o<l;){if(f===0)for(;o<=c;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(h[f]=n.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}else for(;o<l;)if(h[f]=n[o],++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}this.inbuf_=f,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let c=0;for(let o=0;o<5;o++)for(let h=24;h>=0;h-=8)n[c]=this.chain_[o]>>h&255,++c;return n}}function Ar(a,n){return`${a} failed: ${n} argument `}const m2=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);if(o>=55296&&o<=56319){const h=o-55296;c++,L(c<a.length,"Surrogate pair missing trail surrogate.");const f=a.charCodeAt(c)-56320;o=65536+(h<<10)+f}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},wr=function(a){let n=0;for(let l=0;l<a.length;l++){const c=a.charCodeAt(l);c<128?n++:c<2048?n+=2:c>=55296&&c<=56319?(n+=4,l++):n+=3}return n};function va(a){return a&&a._delegate?a._delegate:a}class xs{constructor(n,l,c){this.name=n,this.instanceFactory=l,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const sl="[DEFAULT]";class g2{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const c=new Us;if(this.instancesDeferred.set(l,c),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&c.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),c=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(c)return null;throw o}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(v2(n))try{this.getOrInitializeService({instanceIdentifier:sl})}catch{}for(const[l,c]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const h=this.getOrInitializeService({instanceIdentifier:o});c.resolve(h)}catch{}}}}clearInstance(n=sl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=sl){return this.instances.has(n)}getOptions(n=sl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,c=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:c,options:l});for(const[h,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);c===g&&f.resolve(o)}return o}onInit(n,l){const c=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(c)??new Set;o.add(n),this.onInitCallbacks.set(c,o);const h=this.instances.get(c);return h&&n(h,c),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const c=this.onInitCallbacks.get(l);if(c)for(const o of c)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let c=this.instances.get(n);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:p2(n),options:l}),this.instances.set(n,c),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(c,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,c)}catch{}return c||null}normalizeInstanceIdentifier(n=sl){return this.component?this.component.multipleInstances?n:sl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p2(a){return a===sl?void 0:a}function v2(a){return a.instantiationMode==="EAGER"}class y2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new g2(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Be;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Be||(Be={}));const _2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},b2=Be.INFO,S2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},C2=(a,n,...l)=>{if(n<a.logLevel)return;const c=new Date().toISOString(),o=S2[n];if(o)console[o](`[${c}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Lv{constructor(n){this.name=n,this._logLevel=b2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Be))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?_2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...n),this._logHandler(this,Be.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...n),this._logHandler(this,Be.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...n),this._logHandler(this,Be.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...n),this._logHandler(this,Be.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...n),this._logHandler(this,Be.ERROR,...n)}}const E2=(a,n)=>n.some(l=>a instanceof l);let Up,Lp;function T2(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x2(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,Nh=new WeakMap,kv=new WeakMap,rh=new WeakMap,Xh=new WeakMap;function N2(a){const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",f)},h=()=>{l(zi(a.result)),o()},f=()=>{c(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",f)});return n.then(l=>{l instanceof IDBCursor&&Bv.set(l,a)}).catch(()=>{}),Xh.set(n,a),n}function A2(a){if(Nh.has(a))return;const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",f),a.removeEventListener("abort",f)},h=()=>{l(),o()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",f),a.addEventListener("abort",f)});Nh.set(a,n)}let Ah={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return Nh.get(a);if(n==="objectStoreNames")return a.objectStoreNames||kv.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return zi(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function w2(a){Ah=a(Ah)}function D2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const c=a.call(oh(this),n,...l);return kv.set(c,n.sort?n.sort():[n]),zi(c)}:x2().includes(a)?function(...n){return a.apply(oh(this),n),zi(Bv.get(this))}:function(...n){return zi(a.apply(oh(this),n))}}function M2(a){return typeof a=="function"?D2(a):(a instanceof IDBTransaction&&A2(a),E2(a,T2())?new Proxy(a,Ah):a)}function zi(a){if(a instanceof IDBRequest)return N2(a);if(rh.has(a))return rh.get(a);const n=M2(a);return n!==a&&(rh.set(a,n),Xh.set(n,a)),n}const oh=a=>Xh.get(a);function j2(a,n,{blocked:l,upgrade:c,blocking:o,terminated:h}={}){const f=indexedDB.open(a,n),g=zi(f);return c&&f.addEventListener("upgradeneeded",v=>{c(zi(f.result),v.oldVersion,v.newVersion,zi(f.transaction),v)}),l&&f.addEventListener("blocked",v=>l(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const R2=["get","getKey","getAll","getAllKeys","count"],O2=["put","add","delete","clear"],uh=new Map;function Bp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(uh.get(n))return uh.get(n);const l=n.replace(/FromIndex$/,""),c=n!==l,o=O2.includes(l);if(!(l in(c?IDBIndex:IDBObjectStore).prototype)||!(o||R2.includes(l)))return;const h=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let y=v.store;return c&&(y=y.index(g.shift())),(await Promise.all([y[l](...g),o&&v.done]))[0]};return uh.set(n,h),h}w2(a=>({...a,get:(n,l,c)=>Bp(n,l)||a.get(n,l,c),has:(n,l)=>!!Bp(n,l)||a.has(n,l)}));class z2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(U2(l)){const c=l.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(l=>l).join(" ")}}function U2(a){return a.getComponent()?.type==="VERSION"}const wh="@firebase/app",kp="0.14.7";const $n=new Lv("@firebase/app"),L2="@firebase/app-compat",B2="@firebase/analytics-compat",k2="@firebase/analytics",H2="@firebase/app-check-compat",I2="@firebase/app-check",V2="@firebase/auth",G2="@firebase/auth-compat",q2="@firebase/database",Y2="@firebase/data-connect",Q2="@firebase/database-compat",F2="@firebase/functions",X2="@firebase/functions-compat",K2="@firebase/installations",Z2="@firebase/installations-compat",J2="@firebase/messaging",W2="@firebase/messaging-compat",$2="@firebase/performance",P2="@firebase/performance-compat",eb="@firebase/remote-config",tb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",lb="@firebase/firestore",ab="@firebase/ai",sb="@firebase/firestore-compat",cb="firebase",rb="12.8.0";const Dh="[DEFAULT]",ob={[wh]:"fire-core",[L2]:"fire-core-compat",[k2]:"fire-analytics",[B2]:"fire-analytics-compat",[I2]:"fire-app-check",[H2]:"fire-app-check-compat",[V2]:"fire-auth",[G2]:"fire-auth-compat",[q2]:"fire-rtdb",[Y2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[F2]:"fire-fn",[X2]:"fire-fn-compat",[K2]:"fire-iid",[Z2]:"fire-iid-compat",[J2]:"fire-fcm",[W2]:"fire-fcm-compat",[$2]:"fire-perf",[P2]:"fire-perf-compat",[eb]:"fire-rc",[tb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[lb]:"fire-fst",[sb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[cb]:"fire-js-all"};const hr=new Map,ub=new Map,Mh=new Map;function Hp(a,n){try{a.container.addComponent(n)}catch(l){$n.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function fr(a){const n=a.name;if(Mh.has(n))return $n.debug(`There were multiple attempts to register component ${n}.`),!1;Mh.set(n,a);for(const l of hr.values())Hp(l,a);for(const l of ub.values())Hp(l,a);return!0}function hb(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function fb(a){return a==null?!1:a.settings!==void 0}const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ui=new zv("app","Firebase",db);class mb{constructor(n,l,c){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Ui.create("app-deleted",{appName:this._name})}}const gb=rb;function Hv(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const c={name:Dh,automaticDataCollectionEnabled:!0,...n},o=c.name;if(typeof o!="string"||!o)throw Ui.create("bad-app-name",{appName:String(o)});if(l||(l=Rv()),!l)throw Ui.create("no-options");const h=hr.get(o);if(h){if(ur(l,h.options)&&ur(c,h.config))return h;throw Ui.create("duplicate-app",{appName:o})}const f=new y2(o);for(const v of Mh.values())f.addComponent(v);const g=new mb(l,c,f);return hr.set(o,g),g}function pb(a=Dh){const n=hr.get(a);if(!n&&a===Dh&&Rv())return Hv();if(!n)throw Ui.create("no-app",{appName:a});return n}function sa(a,n,l){let c=ob[a]??a;l&&(c+=`-${l}`);const o=c.match(/\s|\//),h=n.match(/\s|\//);if(o||h){const f=[`Unable to register library "${c}" with version "${n}":`];o&&f.push(`library name "${c}" contains illegal characters (whitespace or "/")`),o&&h&&f.push("and"),h&&f.push(`version name "${n}" contains illegal characters (whitespace or "/")`),$n.warn(f.join(" "));return}fr(new xs(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}const vb="firebase-heartbeat-database",yb=1,Ns="firebase-heartbeat-store";let hh=null;function Iv(){return hh||(hh=j2(vb,yb,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(Ns)}catch(l){console.warn(l)}}}}).catch(a=>{throw Ui.create("idb-open",{originalErrorMessage:a.message})})),hh}async function _b(a){try{const l=(await Iv()).transaction(Ns),c=await l.objectStore(Ns).get(Vv(a));return await l.done,c}catch(n){if(n instanceof Ls)$n.warn(n.message);else{const l=Ui.create("idb-get",{originalErrorMessage:n?.message});$n.warn(l.message)}}}async function Ip(a,n){try{const c=(await Iv()).transaction(Ns,"readwrite");await c.objectStore(Ns).put(n,Vv(a)),await c.done}catch(l){if(l instanceof Ls)$n.warn(l.message);else{const c=Ui.create("idb-set",{originalErrorMessage:l?.message});$n.warn(c.message)}}}function Vv(a){return`${a.name}!${a.options.appId}`}const bb=1024,Sb=30;class Cb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Tb(l),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(o=>o.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Sb){const o=xb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){$n.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:l,unsentEntries:c}=Eb(this._heartbeatsCache.heartbeats),o=rr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return $n.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function Eb(a,n=bb){const l=[];let c=a.slice();for(const o of a){const h=l.find(f=>f.agent===o.agent);if(h){if(h.dates.push(o.date),Gp(l)>n){h.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),Gp(l)>n){l.pop();break}c=c.slice(1)}return{heartbeatsToSend:l,unsentEntries:c}}class Tb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a2()?s2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await _b(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return Ip(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return Ip(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Gp(a){return rr(JSON.stringify({version:2,heartbeats:a})).length}function xb(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let c=1;c<a.length;c++)a[c].date<l&&(l=a[c].date,n=c);return n}function Nb(a){fr(new xs("platform-logger",n=>new z2(n),"PRIVATE")),fr(new xs("heartbeat",n=>new Cb(n),"PRIVATE")),sa(wh,kp,a),sa(wh,kp,"esm2020"),sa("fire-js","")}Nb("");var Ab="firebase",wb="12.8.0";sa(Ab,wb,"app");var qp={};const Yp="@firebase/database",Qp="1.1.0";let Gv="";function Db(a){Gv=a}class Mb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),rt(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:Ts(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class jb{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return An(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const qv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Mb(n)}}catch{}return new jb},rl=qv("localStorage"),Rb=qv("sessionStorage");const ca=new Lv("@firebase/database"),Ob=(function(){let a=1;return function(){return a++}})(),Yv=function(a){const n=m2(a),l=new d2;l.update(n);const c=l.digest();return Qh.encodeByteArray(c)},Bs=function(...a){let n="";for(let l=0;l<a.length;l++){const c=a[l];Array.isArray(c)||c&&typeof c=="object"&&typeof c.length=="number"?n+=Bs.apply(null,c):typeof c=="object"?n+=rt(c):n+=c,n+=" "}return n};let _s=null,Fp=!0;const zb=function(a,n){L(!0,"Can't turn on custom loggers persistently."),ca.logLevel=Be.VERBOSE,_s=ca.log.bind(ca)},bt=function(...a){if(Fp===!0&&(Fp=!1,_s===null&&Rb.get("logging_enabled")===!0&&zb()),_s){const n=Bs.apply(null,a);_s(n)}},ks=function(a){return function(...n){bt(a,...n)}},jh=function(...a){const n="FIREBASE INTERNAL ERROR: "+Bs(...a);ca.error(n)},Pn=function(...a){const n=`FIREBASE FATAL ERROR: ${Bs(...a)}`;throw ca.error(n),new Error(n)},jt=function(...a){const n="FIREBASE WARNING: "+Bs(...a);ca.warn(n)},Ub=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&jt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Kh=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Lb=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},ha="[MIN_NAME]",ol="[MAX_NAME]",fl=function(a,n){if(a===n)return 0;if(a===ha||n===ol)return-1;if(n===ha||a===ol)return 1;{const l=Xp(a),c=Xp(n);return l!==null?c!==null?l-c===0?a.length-n.length:l-c:-1:c!==null?1:a<n?-1:1}},Bb=function(a,n){return a===n?0:a<n?-1:1},fs=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+rt(n))},Zh=function(a){if(typeof a!="object"||a===null)return rt(a);const n=[];for(const c in a)n.push(c);n.sort();let l="{";for(let c=0;c<n.length;c++)c!==0&&(l+=","),l+=rt(n[c]),l+=":",l+=Zh(a[n[c]]);return l+="}",l},Qv=function(a,n){const l=a.length;if(l<=n)return[a];const c=[];for(let o=0;o<l;o+=n)o+n>l?c.push(a.substring(o,l)):c.push(a.substring(o,o+n));return c};function St(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Fv=function(a){L(!Kh(a),"Invalid JSON number");const n=11,l=52,c=(1<<n-1)-1;let o,h,f,g,v;a===0?(h=0,f=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-c)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),c),h=g+c,f=Math.round(a*Math.pow(2,l-g)-Math.pow(2,l))):(h=0,f=Math.round(a/Math.pow(2,1-c-l))));const y=[];for(v=l;v;v-=1)y.push(f%2?1:0),f=Math.floor(f/2);for(v=n;v;v-=1)y.push(h%2?1:0),h=Math.floor(h/2);y.push(o?1:0),y.reverse();const x=y.join("");let b="";for(v=0;v<64;v+=8){let S=parseInt(x.substr(v,8),2).toString(16);S.length===1&&(S="0"+S),b=b+S}return b.toLowerCase()},kb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Hb=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Ib(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const c=new Error(a+" at "+n._path.toString()+": "+l);return c.code=a.toUpperCase(),c}const Vb=new RegExp("^-?(0*)\\d{1,10}$"),Gb=-2147483648,qb=2147483647,Xp=function(a){if(Vb.test(a)){const n=Number(a);if(n>=Gb&&n<=qb)return n}return null},ya=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw jt("Exception was thrown by user callback.",l),n},Math.floor(0))}},Yb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},bs=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class Qb{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,fb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(c=>this.appCheck=c)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,c)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){jt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fb{constructor(n,l,c){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(bt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,c)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',jt(n)}}class cr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}cr.OWNER="owner";const Jh="5",Xv="v",Kv="s",Zv="r",Jv="f",Wv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$v="ls",Pv="p",Rh="ac",ey="websocket",ty="long_polling";class ny{constructor(n,l,c,o,h=!1,f="",g=!1,v=!1,y=null){this.secure=l,this.namespace=c,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this.emulatorOptions=y,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=rl.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&rl.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function Xb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function iy(a,n,l){L(typeof n=="string","typeof type must == string"),L(typeof l=="object","typeof params must == object");let c;if(n===ey)c=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===ty)c=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Xb(a)&&(l.ns=a.namespace);const o=[];return St(l,(h,f)=>{o.push(h+"="+f)}),c+o.join("&")}class Kb{constructor(){this.counters_={}}incrementCounter(n,l=1){An(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return q1(this.counters_)}}const fh={},dh={};function Wh(a){const n=a.toString();return fh[n]||(fh[n]=new Kb),fh[n]}function Zb(a,n){const l=a.toString();return dh[l]||(dh[l]=n()),dh[l]}class Jb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<c.length;++o)c[o]&&ya(()=>{this.onMessage_(c[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Kp="start",Wb="close",$b="pLPCommand",Pb="pRTLPCB",ly="id",ay="pw",sy="ser",eS="cb",tS="seg",nS="ts",iS="d",lS="dframe",cy=1870,ry=30,aS=cy-ry,sS=25e3,cS=3e4;class aa{constructor(n,l,c,o,h,f,g){this.connId=n,this.repoInfo=l,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ks(n),this.stats_=Wh(l),this.urlFn=v=>(this.appCheckToken&&(v[Rh]=this.appCheckToken),iy(l,ty,v))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Jb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cS)),Lb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $h((...h)=>{const[f,g,v,y,x]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Kp)this.id=g,this.password=v;else if(f===Wb)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...h)=>{const[f,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const c={};c[Kp]="t",c[sy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(c[eS]=this.scriptTagHolder.uniqueCallbackIdentifier),c[Xv]=Jh,this.transportSessionId&&(c[Kv]=this.transportSessionId),this.lastSessionId&&(c[$v]=this.lastSessionId),this.applicationId&&(c[Pv]=this.applicationId),this.appCheckToken&&(c[Rh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Wv.test(location.hostname)&&(c[Zv]=Jv);const o=this.urlFn(c);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){aa.forceAllow_=!0}static forceDisallow(){aa.forceDisallow_=!0}static isAvailable(){return aa.forceAllow_?!0:!aa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!kb()&&!Hb()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=rt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=Dv(l),o=Qv(c,aS);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const c={};c[lS]="t",c[ly]=n,c[ay]=l,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=rt(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class $h{constructor(n,l,c,o){this.onDisconnect=c,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=Ob(),window[$b+this.uniqueCallbackIdentifier]=n,window[Pb+this.uniqueCallbackIdentifier]=l,this.myIFrame=$h.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){bt("frame writing exception"),g.stack&&bt(g.stack),bt(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||bt("No IE domain setting required")}catch{const c=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[ly]=this.myID,n[ay]=this.myPW,n[sy]=this.currentSerial;let l=this.urlFn(n),c="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ry+c.length<=cy;){const f=this.pendingSegs.shift();c=c+"&"+tS+o+"="+f.seg+"&"+nS+o+"="+f.ts+"&"+iS+o+"="+f.d,o++}return l=l+c,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,c){this.pendingSegs.push({seg:n,ts:l,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const c=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(c,Math.floor(sS)),h=()=>{clearTimeout(o),c()};this.addTag(n,h)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=n,c.onload=c.onreadystatechange=function(){const o=c.readyState;(!o||o==="loaded"||o==="complete")&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),l())},c.onerror=()=>{bt("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}const rS=16384,oS=45e3;let dr=null;typeof MozWebSocket<"u"?dr=MozWebSocket:typeof WebSocket<"u"&&(dr=WebSocket);class _n{constructor(n,l,c,o,h,f,g){this.connId=n,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ks(this.connId),this.stats_=Wh(l),this.connURL=_n.connectionURL_(l,f,g,o,c),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,c,o,h){const f={};return f[Xv]=Jh,typeof location<"u"&&location.hostname&&Wv.test(location.hostname)&&(f[Zv]=Jv),l&&(f[Kv]=l),c&&(f[$v]=c),o&&(f[Rh]=o),h&&(f[Pv]=h),iy(n,ey,f)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,rl.set("previous_websocket_failure",!0);try{let c;l2(),this.mySock=new dr(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){_n.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,c=navigator.userAgent.match(l);c&&c.length>1&&parseFloat(c[1])<4.4&&(n=!0)}return!n&&dr!==null&&!_n.forceDisallow_}static previouslyFailed(){return rl.isInMemoryStorage||rl.get("previous_websocket_failure")===!0}markConnectionHealthy(){rl.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const c=Ts(l);this.onMessage(c)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(L(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const c=this.extractFrameCount_(l);c!==null&&this.appendFrame_(c)}}send(n){this.resetKeepAlive();const l=rt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=Qv(l,rS);c.length>1&&this.sendString_(String(c.length));for(let o=0;o<c.length;o++)this.sendString_(c[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}_n.responsesRequiredToBeHealthy=2;_n.healthyTimeout=3e4;class As{static get ALL_TRANSPORTS(){return[aa,_n]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=_n&&_n.isAvailable();let c=l&&!_n.previouslyFailed();if(n.webSocketOnly&&(l||jt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[_n];else{const o=this.transports_=[];for(const h of As.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);As.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}As.globalTransportInitialized_=!1;const uS=6e4,hS=5e3,fS=10*1024,dS=100*1024,mh="t",Zp="d",mS="s",Jp="r",gS="e",Wp="o",$p="a",Pp="n",ev="p",pS="h";class vS{constructor(n,l,c,o,h,f,g,v,y,x){this.id=n,this.repoInfo_=l,this.applicationId_=c,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=v,this.onKill_=y,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ks("c:"+this.id+":"),this.transportManager_=new As(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,c)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=bs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(mh in n){const l=n[mh];l===$p?this.upgradeIfSecondaryHealthy_():l===Jp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Wp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=fs("t",n),c=fs("d",n);if(l==="c")this.onSecondaryControl_(c);else if(l==="d")this.pendingDataMessages.push(c);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ev,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$p,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=fs("t",n),c=fs("d",n);l==="c"?this.onControl_(c):l==="d"&&this.onDataMessage_(c)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=fs(mh,n);if(Zp in n){const c=n[Zp];if(l===pS){const o={...c};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Pp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===mS?this.onConnectionShutdown_(c):l===Jp?this.onReset_(c):l===gS?jh("Server Error: "+c):l===Wp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jh("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,c=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Jh!==c&&jt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,c),bs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ev,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(rl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class oy{put(n,l,c,o){}merge(n,l,c,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,c){}onDisconnectMerge(n,l,c){}onDisconnectCancel(n,l){}reportStats(n){}}class uy{constructor(n){this.allowedEvents_=n,this.listeners_={},L(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const c=[...this.listeners_[n]];for(let o=0;o<c.length;o++)c[o].callback.apply(c[o].context,l)}}on(n,l,c){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:c});const o=this.getInitialEvent(n);o&&l.apply(c,o)}off(n,l,c){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===l&&(!c||c===o[h].context)){o.splice(h,1);return}}validateEventType_(n){L(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class mr extends uy{static getInstance(){return new mr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ov()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return L(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const tv=32,nv=768;class Re{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let c=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[c]=this.pieces_[o],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function be(){return new Re("")}function le(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ki(a){return a.pieces_.length-a.pieceNum_}function ke(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Re(a.pieces_,n)}function Ph(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function yS(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function ws(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function hy(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Re(n,0)}function Fe(a,n){const l=[];for(let c=a.pieceNum_;c<a.pieces_.length;c++)l.push(a.pieces_[c]);if(n instanceof Re)for(let c=n.pieceNum_;c<n.pieces_.length;c++)l.push(n.pieces_[c]);else{const c=n.split("/");for(let o=0;o<c.length;o++)c[o].length>0&&l.push(c[o])}return new Re(l,0)}function re(a){return a.pieceNum_>=a.pieces_.length}function Mt(a,n){const l=le(a),c=le(n);if(l===null)return n;if(l===c)return Mt(ke(a),ke(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function _S(a,n){const l=ws(a,0),c=ws(n,0);for(let o=0;o<l.length&&o<c.length;o++){const h=fl(l[o],c[o]);if(h!==0)return h}return l.length===c.length?0:l.length<c.length?-1:1}function ef(a,n){if(ki(a)!==ki(n))return!1;for(let l=a.pieceNum_,c=n.pieceNum_;l<=a.pieces_.length;l++,c++)if(a.pieces_[l]!==n.pieces_[c])return!1;return!0}function fn(a,n){let l=a.pieceNum_,c=n.pieceNum_;if(ki(a)>ki(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[c])return!1;++l,++c}return!0}class bS{constructor(n,l){this.errorPrefix_=l,this.parts_=ws(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=wr(this.parts_[c]);fy(this)}}function SS(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=wr(n),fy(a)}function CS(a){const n=a.parts_.pop();a.byteLength_-=wr(n),a.parts_.length>0&&(a.byteLength_-=1)}function fy(a){if(a.byteLength_>nv)throw new Error(a.errorPrefix_+"has a key path longer than "+nv+" bytes ("+a.byteLength_+").");if(a.parts_.length>tv)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tv+") or object contains a cycle "+cl(a))}function cl(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class tf extends uy{static getInstance(){return new tf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const c=!document[n];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}getInitialEvent(n){return L(n==="visible","Unknown event type: "+n),[this.visible_]}}const ds=1e3,ES=300*1e3,iv=30*1e3,TS=1.3,xS=3e4,NS="server_kill",lv=3;class Wn extends oy{constructor(n,l,c,o,h,f,g,v){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=c,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=Wn.nextPersistentConnectionId_++,this.log_=ks("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ds,this.maxReconnectDelay_=ES,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&mr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,c){const o=++this.requestNumber_,h={r:o,a:n,b:l};this.log_(rt(h)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),c&&(this.requestCBHash_[o]=c)}get(n){this.initConnection_();const l=new Us,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const g=f.d;f.s==="ok"?l.resolve(g):l.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),l.promise}listen(n,l,c,o){this.initConnection_();const h=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+h),this.listens.has(f)||this.listens.set(f,new Map),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(f).has(h),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:l,query:n,tag:c};this.listens.get(f).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,c=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(c)})}sendListen_(n){const l=n.query,c=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+c+" for "+o);const h={p:c},f="q";n.tag&&(h.q=l._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(f,h,g=>{const v=g.d,y=g.s;Wn.warnOnListenWarnings_(v,l),(this.listens.get(c)&&this.listens.get(c).get(o))===n&&(this.log_("listen response",g),y!=="ok"&&this.removeListen_(c,o),n.onComplete&&n.onComplete(y,v))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&An(n,"w")){const c=ua(n,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',h=l._path.toString();jt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||h2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=u2(n)?"auth":"gauth",c={cred:n};this.authOverride_===null?c.noauth=!0:typeof this.authOverride_=="object"&&(c.authvar=this.authOverride_),this.sendRequest(l,c,o=>{const h=o.s,f=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,c=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,c)})}unlisten(n,l){const c=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+c+" "+o),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,o)&&this.connected_&&this.sendUnlisten_(c,o,n._queryObject,l)}sendUnlisten_(n,l,c,o){this.log_("Unlisten on "+n+" for "+l);const h={p:n},f="n";o&&(h.q=c,h.t=o),this.sendRequest(f,h)}onDisconnectPut(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:c})}onDisconnectMerge(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:c})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,c,o){const h={p:l,d:c};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(n,l,c,o){this.putInternal("p",n,l,c,o)}merge(n,l,c,o){this.putInternal("m",n,l,c,o)}putInternal(n,l,c,o,h){this.initConnection_();const f={p:l,d:c};h!==void 0&&(f.h=h),this.outstandingPuts_.push({action:n,request:f,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,c=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,c,h=>{this.log_(l+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,c=>{if(c.s!=="ok"){const h=c.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+rt(n));const l=n.r,c=this.requestCBHash_[l];c&&(delete this.requestCBHash_[l],c(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):jh("Unrecognized action received from server: "+rt(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>xS&&(this.reconnectDelay_=ds),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Wn.nextConnectionId_++,h=this.lastSessionId;let f=!1,g=null;const v=function(){g?g.close():(f=!0,c())},y=function(b){L(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(b)};this.realtime_={close:v,sendRequest:y};const x=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,S]=await Promise.all([this.authTokenProvider_.getToken(x),this.appCheckTokenProvider_.getToken(x)]);f?bt("getToken() completed but was canceled"):(bt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=S&&S.token,g=new vS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,c,z=>{jt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(NS)},h))}catch(b){this.log_("Failed to get token: "+b),f||(this.repoInfo_.nodeAdmin&&jt(b),v())}}}interrupt(n){bt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){bt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Op(this.interruptReasons_)&&(this.reconnectDelay_=ds,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let c;l?c=l.map(h=>Zh(h)).join("$"):c="default";const o=this.removeListen_(n,c);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const c=new Re(n).toString();let o;if(this.listens.has(c)){const h=this.listens.get(c);o=h.get(l),h.delete(l),h.size===0&&this.listens.delete(c)}else o=void 0;return o}onAuthRevoked_(n,l){bt("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lv&&(this.reconnectDelay_=iv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){bt("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+Gv.replace(/\./g,"-")]=1,Ov()?n["framework.cordova"]=1:i2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=mr.getInstance().currentlyOnline();return Op(this.interruptReasons_)&&n}}Wn.nextPersistentConnectionId_=0;Wn.nextConnectionId_=0;class ae{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ae(n,l)}}class Dr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const c=new ae(ha,n),o=new ae(ha,l);return this.compare(c,o)!==0}minPost(){return ae.MIN}}let ar;class dy extends Dr{static get __EMPTY_NODE(){return ar}static set __EMPTY_NODE(n){ar=n}compare(n,l){return fl(n.name,l.name)}isDefinedOn(n){throw pa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ae.MIN}maxPost(){return new ae(ol,ar)}makePost(n,l){return L(typeof n=="string","KeyIndex indexValue must always be a string."),new ae(n,ar)}toString(){return".key"}}const ra=new dy;class sr{constructor(n,l,c,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=l?c(n.key,l):1,o&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ft{constructor(n,l,c,o,h){this.key=n,this.value=l,this.color=c??ft.RED,this.left=o??Vt.EMPTY_NODE,this.right=h??Vt.EMPTY_NODE}copy(n,l,c,o,h){return new ft(n??this.key,l??this.value,c??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,c){let o=this;const h=c(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,l,c),null):h===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,c)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let c,o;if(c=this,l(n,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(n,l),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),l(n,c.key)===0){if(c.right.isEmpty())return Vt.EMPTY_NODE;o=c.right.min_(),c=c.copy(o.key,o.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(n,l))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ft.RED=!0;ft.BLACK=!1;class AS{copy(n,l,c,o,h){return this}insert(n,l,c){return new ft(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(n,l=Vt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Vt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,ft.BLACK,null,null))}remove(n){return new Vt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ft.BLACK,null,null))}get(n){let l,c=this.root_;for(;!c.isEmpty();){if(l=this.comparator_(n,c.key),l===0)return c.value;l<0?c=c.left:l>0&&(c=c.right)}return null}getPredecessorKey(n){let l,c=this.root_,o=null;for(;!c.isEmpty();)if(l=this.comparator_(n,c.key),l===0){if(c.left.isEmpty())return o?o.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}else l<0?c=c.left:l>0&&(o=c,c=c.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new sr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new sr(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new sr(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new sr(this.root_,null,this.comparator_,!0,n)}}Vt.EMPTY_NODE=new AS;function wS(a,n){return fl(a.name,n.name)}function nf(a,n){return fl(a,n)}let Oh;function DS(a){Oh=a}const my=function(a){return typeof a=="number"?"number:"+Fv(a):"string:"+a},gy=function(a){if(a.isLeafNode()){const n=a.val();L(typeof n=="string"||typeof n=="number"||typeof n=="object"&&An(n,".sv"),"Priority must be a string or number.")}else L(a===Oh||a.isEmpty(),"priority of unexpected type.");L(a===Oh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let av;class ht{static set __childrenNodeConstructor(n){av=n}static get __childrenNodeConstructor(){return av}constructor(n,l=ht.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),gy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new ht(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return re(n)?this:le(n)===".priority"?this.priorityNode_:ht.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:ht.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const c=le(n);return c===null?l:l.isEmpty()&&c!==".priority"?this:(L(c!==".priority"||ki(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(c,ht.__childrenNodeConstructor.EMPTY_NODE.updateChild(ke(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+my(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Fv(this.value_):n+=this.value_,this.lazyHash_=Yv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===ht.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof ht.__childrenNodeConstructor?-1:(L(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,c=typeof this.value_,o=ht.VALUE_TYPE_ORDER.indexOf(l),h=ht.VALUE_TYPE_ORDER.indexOf(c);return L(o>=0,"Unknown leaf type: "+l),L(h>=0,"Unknown leaf type: "+c),o===h?c==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];let py,vy;function MS(a){py=a}function jS(a){vy=a}class RS extends Dr{compare(n,l){const c=n.node.getPriority(),o=l.node.getPriority(),h=c.compareTo(o);return h===0?fl(n.name,l.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ae.MIN}maxPost(){return new ae(ol,new ht("[PRIORITY-POST]",vy))}makePost(n,l){const c=py(n);return new ae(l,new ht("[PRIORITY-POST]",c))}toString(){return".priority"}}const Xe=new RS;const OS=Math.log(2);class zS{constructor(n){const l=h=>parseInt(Math.log(h)/OS,10),c=h=>parseInt(Array(h+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=c(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const gr=function(a,n,l,c){a.sort(n);const o=function(v,y){const x=y-v;let b,S;if(x===0)return null;if(x===1)return b=a[v],S=l?l(b):b,new ft(S,b.node,ft.BLACK,null,null);{const z=parseInt(x/2,10)+v,U=o(v,z),Y=o(z+1,y);return b=a[z],S=l?l(b):b,new ft(S,b.node,ft.BLACK,U,Y)}},h=function(v){let y=null,x=null,b=a.length;const S=function(U,Y){const G=b-U,ie=b;b-=U;const Se=o(G+1,ie),$=a[G],ee=l?l($):$;z(new ft(ee,$.node,Y,null,Se))},z=function(U){y?(y.left=U,y=U):(x=U,y=U)};for(let U=0;U<v.count;++U){const Y=v.nextBitIsOne(),G=Math.pow(2,v.count-(U+1));Y?S(G,ft.BLACK):(S(G,ft.BLACK),S(G,ft.RED))}return x},f=new zS(a.length),g=h(f);return new Vt(c||n,g)};let gh;const la={};class Zn{static get Default(){return L(la&&Xe,"ChildrenNode.ts has not been loaded"),gh=gh||new Zn({".priority":la},{".priority":Xe}),gh}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=ua(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Vt?l:null}hasIndex(n){return An(this.indexSet_,n.toString())}addIndex(n,l){L(n!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let o=!1;const h=l.getIterator(ae.Wrap);let f=h.getNext();for(;f;)o=o||n.isDefinedOn(f.node),c.push(f),f=h.getNext();let g;o?g=gr(c,n.getCompare()):g=la;const v=n.toString(),y={...this.indexSet_};y[v]=n;const x={...this.indexes_};return x[v]=g,new Zn(x,y)}addToIndexes(n,l){const c=or(this.indexes_,(o,h)=>{const f=ua(this.indexSet_,h);if(L(f,"Missing index implementation for "+h),o===la)if(f.isDefinedOn(n.node)){const g=[],v=l.getIterator(ae.Wrap);let y=v.getNext();for(;y;)y.name!==n.name&&g.push(y),y=v.getNext();return g.push(n),gr(g,f.getCompare())}else return la;else{const g=l.get(n.name);let v=o;return g&&(v=v.remove(new ae(n.name,g))),v.insert(n,n.node)}});return new Zn(c,this.indexSet_)}removeFromIndexes(n,l){const c=or(this.indexes_,o=>{if(o===la)return o;{const h=l.get(n.name);return h?o.remove(new ae(n.name,h)):o}});return new Zn(c,this.indexSet_)}}let ms;class Z{static get EMPTY_NODE(){return ms||(ms=new Z(new Vt(nf),null,Zn.Default))}constructor(n,l,c){this.children_=n,this.priorityNode_=l,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&gy(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ms}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?ms:l}}getChild(n){const l=le(n);return l===null?this:this.getImmediateChild(l).getChild(ke(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(L(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const c=new ae(n,l);let o,h;l.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(c,this.children_)):(o=this.children_.insert(n,l),h=this.indexMap_.addToIndexes(c,this.children_));const f=o.isEmpty()?ms:this.priorityNode_;return new Z(o,f,h)}}updateChild(n,l){const c=le(n);if(c===null)return l;{L(le(n)!==".priority"||ki(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(c).updateChild(ke(n),l);return this.updateImmediateChild(c,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let c=0,o=0,h=!0;if(this.forEachChild(Xe,(f,g)=>{l[f]=g.val(n),c++,h&&Z.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):h=!1}),!n&&h&&o<2*c){const f=[];for(const g in l)f[g]=l[g];return f}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+my(this.getPriority().val())+":"),this.forEachChild(Xe,(l,c)=>{const o=c.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":Yv(n)}return this.lazyHash_}getPredecessorChildName(n,l,c){const o=this.resolveIndex_(c);if(o){const h=o.getPredecessorKey(new ae(n,l));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.minKey();return c&&c.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ae(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.maxKey();return c&&c.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ae(l,this.children_.get(l)):null}forEachChild(n,l){const c=this.resolveIndex_(n);return c?c.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ae.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ae.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Hs?-1:0}withIndex(n){if(n===ra||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===ra||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const c=this.getIterator(Xe),o=l.getIterator(Xe);let h=c.getNext(),f=o.getNext();for(;h&&f;){if(h.name!==f.name||!h.node.equals(f.node))return!1;h=c.getNext(),f=o.getNext()}return h===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===ra?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class US extends Z{constructor(){super(new Vt(nf),Z.EMPTY_NODE,Zn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const Hs=new US;Object.defineProperties(ae,{MIN:{value:new ae(ha,Z.EMPTY_NODE)},MAX:{value:new ae(ol,Hs)}});dy.__EMPTY_NODE=Z.EMPTY_NODE;ht.__childrenNodeConstructor=Z;DS(Hs);jS(Hs);const LS=!0;function ct(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),L(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new ht(l,ct(n))}if(!(a instanceof Array)&&LS){const l=[];let c=!1;if(St(a,(f,g)=>{if(f.substring(0,1)!=="."){const v=ct(g);v.isEmpty()||(c=c||!v.getPriority().isEmpty(),l.push(new ae(f,v)))}}),l.length===0)return Z.EMPTY_NODE;const h=gr(l,wS,f=>f.name,nf);if(c){const f=gr(l,Xe.getCompare());return new Z(h,ct(n),new Zn({".priority":f},{".priority":Xe}))}else return new Z(h,ct(n),Zn.Default)}else{let l=Z.EMPTY_NODE;return St(a,(c,o)=>{if(An(a,c)&&c.substring(0,1)!=="."){const h=ct(o);(h.isLeafNode()||!h.isEmpty())&&(l=l.updateImmediateChild(c,h))}}),l.updatePriority(ct(n))}}MS(ct);class BS extends Dr{constructor(n){super(),this.indexPath_=n,L(!re(n)&&le(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const c=this.extractChild(n.node),o=this.extractChild(l.node),h=c.compareTo(o);return h===0?fl(n.name,l.name):h}makePost(n,l){const c=ct(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,c);return new ae(l,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,Hs);return new ae(ol,n)}toString(){return ws(this.indexPath_,0).join("/")}}class kS extends Dr{compare(n,l){const c=n.node.compareTo(l.node);return c===0?fl(n.name,l.name):c}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ae.MIN}maxPost(){return ae.MAX}makePost(n,l){const c=ct(n);return new ae(l,c)}toString(){return".value"}}const HS=new kS;function yy(a){return{type:"value",snapshotNode:a}}function fa(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Ds(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function Ms(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function IS(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class lf{constructor(n){this.index_=n}updateChild(n,l,c,o,h,f){L(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(l);return g.getChild(o).equals(c.getChild(o))&&g.isEmpty()===c.isEmpty()||(f!=null&&(c.isEmpty()?n.hasChild(l)?f.trackChildChange(Ds(l,g)):L(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(fa(l,c)):f.trackChildChange(Ms(l,c,g))),n.isLeafNode()&&c.isEmpty())?n:n.updateImmediateChild(l,c).withIndex(this.index_)}updateFullNode(n,l,c){return c!=null&&(n.isLeafNode()||n.forEachChild(Xe,(o,h)=>{l.hasChild(o)||c.trackChildChange(Ds(o,h))}),l.isLeafNode()||l.forEachChild(Xe,(o,h)=>{if(n.hasChild(o)){const f=n.getImmediateChild(o);f.equals(h)||c.trackChildChange(Ms(o,h,f))}else c.trackChildChange(fa(o,h))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class js{constructor(n){this.indexedFilter_=new lf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=js.getStartPost_(n),this.endPost_=js.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,c=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&c}updateChild(n,l,c,o,h,f){return this.matches(new ae(l,c))||(c=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,c,o,h,f)}updateFullNode(n,l,c){l.isLeafNode()&&(l=Z.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const h=this;return l.forEachChild(Xe,(f,g)=>{h.matches(new ae(f,g))||(o=o.updateImmediateChild(f,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class VS{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=l=>{const c=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new js(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,c,o,h,f){return this.rangedFilter_.matches(new ae(l,c))||(c=Z.EMPTY_NODE),n.getImmediateChild(l).equals(c)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,c,o,h,f):this.fullLimitUpdateChild_(n,l,c,h,f)}updateFullNode(n,l,c){let o;if(l.isLeafNode()||l.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;h.hasNext()&&f<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),f++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let f=0;for(;h.hasNext();){const g=h.getNext();f<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?f++:o=o.updateImmediateChild(g.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,c,o,h){let f;if(this.reverse_){const b=this.index_.getCompare();f=(S,z)=>b(z,S)}else f=this.index_.getCompare();const g=n;L(g.numChildren()===this.limit_,"");const v=new ae(l,c),y=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),x=this.rangedFilter_.matches(v);if(g.hasChild(l)){const b=g.getImmediateChild(l);let S=o.getChildAfterChild(this.index_,y,this.reverse_);for(;S!=null&&(S.name===l||g.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const z=S==null?1:f(S,v);if(x&&!c.isEmpty()&&z>=0)return h?.trackChildChange(Ms(l,c,b)),g.updateImmediateChild(l,c);{h?.trackChildChange(Ds(l,b));const Y=g.updateImmediateChild(l,Z.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(h?.trackChildChange(fa(S.name,S.node)),Y.updateImmediateChild(S.name,S.node)):Y}}else return c.isEmpty()?n:x&&f(y,v)>=0?(h!=null&&(h.trackChildChange(Ds(y.name,y.node)),h.trackChildChange(fa(l,c))),g.updateImmediateChild(l,c).updateImmediateChild(y.name,Z.EMPTY_NODE)):n}}class af{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ol}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const n=new af;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function GS(a){return a.loadsAllData()?new lf(a.getIndex()):a.hasLimit()?new VS(a):new js(a)}function sv(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Xe?l="$priority":a.index_===HS?l="$value":a.index_===ra?l="$key":(L(a.index_ instanceof BS,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=rt(l),a.startSet_){const c=a.startAfterSet_?"startAfter":"startAt";n[c]=rt(a.indexStartValue_),a.startNameSet_&&(n[c]+=","+rt(a.indexStartName_))}if(a.endSet_){const c=a.endBeforeSet_?"endBefore":"endAt";n[c]=rt(a.indexEndValue_),a.endNameSet_&&(n[c]+=","+rt(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function cv(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Xe&&(n.i=a.index_.toString()),n}class pr extends oy{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(L(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,c,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=o,this.log_=ks("p:rest:"),this.listens_={}}listen(n,l,c,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const f=pr.getListenId_(n,c),g={};this.listens_[f]=g;const v=sv(n._queryParams);this.restRequest_(h+".json",v,(y,x)=>{let b=x;if(y===404&&(b=null,y=null),y===null&&this.onDataUpdate_(h,b,!1,c),ua(this.listens_,f)===g){let S;y?y===401?S="permission_denied":S="rest_error:"+y:S="ok",o(S,null)}})}unlisten(n,l){const c=pr.getListenId_(n,l);delete this.listens_[c]}get(n){const l=sv(n._queryParams),c=n._path.toString(),o=new Us;return this.restRequest_(c+".json",l,(h,f)=>{let g=f;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(c,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},c){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(l.auth=o.accessToken),h&&h.token&&(l.ac=h.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+f2(l);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(c&&g.readyState===4){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=Ts(g.responseText)}catch{jt("Failed to parse JSON response for "+f+": "+g.responseText)}c(null,v)}else g.status!==401&&g.status!==404&&jt("Got unsuccessful REST response for "+f+" Status: "+g.status),c(g.status);c=null}},g.open("GET",f,!0),g.send()})}}class qS{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function vr(){return{value:null,children:new Map}}function _y(a,n,l){if(re(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const c=le(n);a.children.has(c)||a.children.set(c,vr());const o=a.children.get(c);n=ke(n),_y(o,n,l)}}function zh(a,n,l){a.value!==null?l(n,a.value):YS(a,(c,o)=>{const h=new Re(n.toString()+"/"+c);zh(o,h,l)})}function YS(a,n){a.children.forEach((l,c)=>{n(c,l)})}class QS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&St(this.last_,(c,o)=>{l[c]=l[c]-o}),this.last_=n,l}}const rv=10*1e3,FS=30*1e3,XS=300*1e3;class KS{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new QS(n);const c=rv+(FS-rv)*Math.random();bs(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const n=this.statsListener_.get(),l={};let c=!1;St(n,(o,h)=>{h>0&&An(this.statsToReport_,o)&&(l[o]=h,c=!0)}),c&&this.server_.reportStats(l),bs(this.reportStats_.bind(this),Math.floor(Math.random()*2*XS))}}var bn;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bn||(bn={}));function sf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function cf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function rf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class yr{constructor(n,l,c){this.path=n,this.affectedTree=l,this.revert=c,this.type=bn.ACK_USER_WRITE,this.source=sf()}operationForChild(n){if(re(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Re(n));return new yr(be(),l,this.revert)}}else return L(le(this.path)===n,"operationForChild called for unrelated child."),new yr(ke(this.path),this.affectedTree,this.revert)}}class Rs{constructor(n,l){this.source=n,this.path=l,this.type=bn.LISTEN_COMPLETE}operationForChild(n){return re(this.path)?new Rs(this.source,be()):new Rs(this.source,ke(this.path))}}class ul{constructor(n,l,c){this.source=n,this.path=l,this.snap=c,this.type=bn.OVERWRITE}operationForChild(n){return re(this.path)?new ul(this.source,be(),this.snap.getImmediateChild(n)):new ul(this.source,ke(this.path),this.snap)}}class da{constructor(n,l,c){this.source=n,this.path=l,this.children=c,this.type=bn.MERGE}operationForChild(n){if(re(this.path)){const l=this.children.subtree(new Re(n));return l.isEmpty()?null:l.value?new ul(this.source,be(),l.value):new da(this.source,be(),l)}else return L(le(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new da(this.source,ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Hi{constructor(n,l,c){this.node_=n,this.fullyInitialized_=l,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(re(n))return this.isFullyInitialized()&&!this.filtered_;const l=le(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class ZS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function JS(a,n,l,c){const o=[],h=[];return n.forEach(f=>{f.type==="child_changed"&&a.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&h.push(IS(f.childName,f.snapshotNode))}),gs(a,o,"child_removed",n,c,l),gs(a,o,"child_added",n,c,l),gs(a,o,"child_moved",h,c,l),gs(a,o,"child_changed",n,c,l),gs(a,o,"value",n,c,l),o}function gs(a,n,l,c,o,h){const f=c.filter(g=>g.type===l);f.sort((g,v)=>$S(a,g,v)),f.forEach(g=>{const v=WS(a,g,h);o.forEach(y=>{y.respondsTo(g.type)&&n.push(y.createEvent(v,a.query_))})})}function WS(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function $S(a,n,l){if(n.childName==null||l.childName==null)throw pa("Should only compare child_ events.");const c=new ae(n.childName,n.snapshotNode),o=new ae(l.childName,l.snapshotNode);return a.index_.compare(c,o)}function Mr(a,n){return{eventCache:a,serverCache:n}}function Ss(a,n,l,c){return Mr(new Hi(n,l,c),a.serverCache)}function by(a,n,l,c){return Mr(a.eventCache,new Hi(n,l,c))}function _r(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function hl(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let ph;const PS=()=>(ph||(ph=new Vt(Bb)),ph);class Le{static fromObject(n){let l=new Le(null);return St(n,(c,o)=>{l=l.set(new Re(c),o)}),l}constructor(n,l=PS()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:be(),value:this.value};if(re(n))return null;{const c=le(n),o=this.children.get(c);if(o!==null){const h=o.findRootMostMatchingPathAndValue(ke(n),l);return h!=null?{path:Fe(new Re(c),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(re(n))return this;{const l=le(n),c=this.children.get(l);return c!==null?c.subtree(ke(n)):new Le(null)}}set(n,l){if(re(n))return new Le(l,this.children);{const c=le(n),h=(this.children.get(c)||new Le(null)).set(ke(n),l),f=this.children.insert(c,h);return new Le(this.value,f)}}remove(n){if(re(n))return this.children.isEmpty()?new Le(null):new Le(null,this.children);{const l=le(n),c=this.children.get(l);if(c){const o=c.remove(ke(n));let h;return o.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,o),this.value===null&&h.isEmpty()?new Le(null):new Le(this.value,h)}else return this}}get(n){if(re(n))return this.value;{const l=le(n),c=this.children.get(l);return c?c.get(ke(n)):null}}setTree(n,l){if(re(n))return l;{const c=le(n),h=(this.children.get(c)||new Le(null)).setTree(ke(n),l);let f;return h.isEmpty()?f=this.children.remove(c):f=this.children.insert(c,h),new Le(this.value,f)}}fold(n){return this.fold_(be(),n)}fold_(n,l){const c={};return this.children.inorderTraversal((o,h)=>{c[o]=h.fold_(Fe(n,o),l)}),l(n,this.value,c)}findOnPath(n,l){return this.findOnPath_(n,be(),l)}findOnPath_(n,l,c){const o=this.value?c(l,this.value):!1;if(o)return o;if(re(n))return null;{const h=le(n),f=this.children.get(h);return f?f.findOnPath_(ke(n),Fe(l,h),c):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,be(),l)}foreachOnPath_(n,l,c){if(re(n))return this;{this.value&&c(l,this.value);const o=le(n),h=this.children.get(o);return h?h.foreachOnPath_(ke(n),Fe(l,o),c):new Le(null)}}foreach(n){this.foreach_(be(),n)}foreach_(n,l){this.children.inorderTraversal((c,o)=>{o.foreach_(Fe(n,c),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,c)=>{c.value&&n(l,c.value)})}}class Sn{constructor(n){this.writeTree_=n}static empty(){return new Sn(new Le(null))}}function Cs(a,n,l){if(re(n))return new Sn(new Le(l));{const c=a.writeTree_.findRootMostValueAndPath(n);if(c!=null){const o=c.path;let h=c.value;const f=Mt(o,n);return h=h.updateChild(f,l),new Sn(a.writeTree_.set(o,h))}else{const o=new Le(l),h=a.writeTree_.setTree(n,o);return new Sn(h)}}}function Uh(a,n,l){let c=a;return St(l,(o,h)=>{c=Cs(c,Fe(n,o),h)}),c}function ov(a,n){if(re(n))return Sn.empty();{const l=a.writeTree_.setTree(n,new Le(null));return new Sn(l)}}function Lh(a,n){return dl(a,n)!=null}function dl(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(Mt(l.path,n)):null}function uv(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Xe,(c,o)=>{n.push(new ae(c,o))}):a.writeTree_.children.inorderTraversal((c,o)=>{o.value!=null&&n.push(new ae(c,o.value))}),n}function Li(a,n){if(re(n))return a;{const l=dl(a,n);return l!=null?new Sn(new Le(l)):new Sn(a.writeTree_.subtree(n))}}function Bh(a){return a.writeTree_.isEmpty()}function ma(a,n){return Sy(be(),a.writeTree_,n)}function Sy(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let c=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(L(h.value!==null,"Priority writes must always be leaf nodes"),c=h.value):l=Sy(Fe(a,o),h,l)}),!l.getChild(a).isEmpty()&&c!==null&&(l=l.updateChild(Fe(a,".priority"),c)),l}}function jr(a,n){return xy(n,a)}function e4(a,n,l,c,o){L(c>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:c,visible:o}),o&&(a.visibleWrites=Cs(a.visibleWrites,n,l)),a.lastWriteId=c}function t4(a,n,l,c){L(c>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:c,visible:!0}),a.visibleWrites=Uh(a.visibleWrites,n,l),a.lastWriteId=c}function n4(a,n){for(let l=0;l<a.allWrites.length;l++){const c=a.allWrites[l];if(c.writeId===n)return c}return null}function i4(a,n){const l=a.allWrites.findIndex(g=>g.writeId===n);L(l>=0,"removeWrite called with nonexistent writeId.");const c=a.allWrites[l];a.allWrites.splice(l,1);let o=c.visible,h=!1,f=a.allWrites.length-1;for(;o&&f>=0;){const g=a.allWrites[f];g.visible&&(f>=l&&l4(g,c.path)?o=!1:fn(c.path,g.path)&&(h=!0)),f--}if(o){if(h)return a4(a),!0;if(c.snap)a.visibleWrites=ov(a.visibleWrites,c.path);else{const g=c.children;St(g,v=>{a.visibleWrites=ov(a.visibleWrites,Fe(c.path,v))})}return!0}else return!1}function l4(a,n){if(a.snap)return fn(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&fn(Fe(a.path,l),n))return!0;return!1}function a4(a){a.visibleWrites=Cy(a.allWrites,s4,be()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function s4(a){return a.visible}function Cy(a,n,l){let c=Sn.empty();for(let o=0;o<a.length;++o){const h=a[o];if(n(h)){const f=h.path;let g;if(h.snap)fn(l,f)?(g=Mt(l,f),c=Cs(c,g,h.snap)):fn(f,l)&&(g=Mt(f,l),c=Cs(c,be(),h.snap.getChild(g)));else if(h.children){if(fn(l,f))g=Mt(l,f),c=Uh(c,g,h.children);else if(fn(f,l))if(g=Mt(f,l),re(g))c=Uh(c,be(),h.children);else{const v=ua(h.children,le(g));if(v){const y=v.getChild(ke(g));c=Cs(c,be(),y)}}}else throw pa("WriteRecord should have .snap or .children")}}return c}function Ey(a,n,l,c,o){if(!c&&!o){const h=dl(a.visibleWrites,n);if(h!=null)return h;{const f=Li(a.visibleWrites,n);if(Bh(f))return l;if(l==null&&!Lh(f,be()))return null;{const g=l||Z.EMPTY_NODE;return ma(f,g)}}}else{const h=Li(a.visibleWrites,n);if(!o&&Bh(h))return l;if(!o&&l==null&&!Lh(h,be()))return null;{const f=function(y){return(y.visible||o)&&(!c||!~c.indexOf(y.writeId))&&(fn(y.path,n)||fn(n,y.path))},g=Cy(a.allWrites,f,n),v=l||Z.EMPTY_NODE;return ma(g,v)}}}function c4(a,n,l){let c=Z.EMPTY_NODE;const o=dl(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Xe,(h,f)=>{c=c.updateImmediateChild(h,f)}),c;if(l){const h=Li(a.visibleWrites,n);return l.forEachChild(Xe,(f,g)=>{const v=ma(Li(h,new Re(f)),g);c=c.updateImmediateChild(f,v)}),uv(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}else{const h=Li(a.visibleWrites,n);return uv(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}}function r4(a,n,l,c,o){L(c||o,"Either existingEventSnap or existingServerSnap must exist");const h=Fe(n,l);if(Lh(a.visibleWrites,h))return null;{const f=Li(a.visibleWrites,h);return Bh(f)?o.getChild(l):ma(f,o.getChild(l))}}function o4(a,n,l,c){const o=Fe(n,l),h=dl(a.visibleWrites,o);if(h!=null)return h;if(c.isCompleteForChild(l)){const f=Li(a.visibleWrites,o);return ma(f,c.getNode().getImmediateChild(l))}else return null}function u4(a,n){return dl(a.visibleWrites,n)}function h4(a,n,l,c,o,h,f){let g;const v=Li(a.visibleWrites,n),y=dl(v,be());if(y!=null)g=y;else if(l!=null)g=ma(v,l);else return[];if(g=g.withIndex(f),!g.isEmpty()&&!g.isLeafNode()){const x=[],b=f.getCompare(),S=h?g.getReverseIteratorFrom(c,f):g.getIteratorFrom(c,f);let z=S.getNext();for(;z&&x.length<o;)b(z,c)!==0&&x.push(z),z=S.getNext();return x}else return[]}function f4(){return{visibleWrites:Sn.empty(),allWrites:[],lastWriteId:-1}}function br(a,n,l,c){return Ey(a.writeTree,a.treePath,n,l,c)}function of(a,n){return c4(a.writeTree,a.treePath,n)}function hv(a,n,l,c){return r4(a.writeTree,a.treePath,n,l,c)}function Sr(a,n){return u4(a.writeTree,Fe(a.treePath,n))}function d4(a,n,l,c,o,h){return h4(a.writeTree,a.treePath,n,l,c,o,h)}function uf(a,n,l){return o4(a.writeTree,a.treePath,n,l)}function Ty(a,n){return xy(Fe(a.treePath,n),a.writeTree)}function xy(a,n){return{treePath:a,writeTree:n}}class m4{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,c=n.childName;L(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),L(c!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(c);if(o){const h=o.type;if(l==="child_added"&&h==="child_removed")this.changeMap.set(c,Ms(c,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&h==="child_added")this.changeMap.delete(c);else if(l==="child_removed"&&h==="child_changed")this.changeMap.set(c,Ds(c,o.oldSnap));else if(l==="child_changed"&&h==="child_added")this.changeMap.set(c,fa(c,n.snapshotNode));else if(l==="child_changed"&&h==="child_changed")this.changeMap.set(c,Ms(c,n.snapshotNode,o.oldSnap));else throw pa("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(c,n)}getChanges(){return Array.from(this.changeMap.values())}}class g4{getCompleteChild(n){return null}getChildAfterChild(n,l,c){return null}}const Ny=new g4;class hf{constructor(n,l,c=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=c}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const c=this.optCompleteServerCache_!=null?new Hi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uf(this.writes_,n,c)}}getChildAfterChild(n,l,c){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hl(this.viewCache_),h=d4(this.writes_,o,l,1,c,n);return h.length===0?null:h[0]}}function p4(a){return{filter:a}}function v4(a,n){L(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),L(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function y4(a,n,l,c,o){const h=new m4;let f,g;if(l.type===bn.OVERWRITE){const y=l;y.source.fromUser?f=kh(a,n,y.path,y.snap,c,o,h):(L(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered()&&!re(y.path),f=Cr(a,n,y.path,y.snap,c,o,g,h))}else if(l.type===bn.MERGE){const y=l;y.source.fromUser?f=b4(a,n,y.path,y.children,c,o,h):(L(y.source.fromServer,"Unknown source."),g=y.source.tagged||n.serverCache.isFiltered(),f=Hh(a,n,y.path,y.children,c,o,g,h))}else if(l.type===bn.ACK_USER_WRITE){const y=l;y.revert?f=E4(a,n,y.path,c,o,h):f=S4(a,n,y.path,y.affectedTree,c,o,h)}else if(l.type===bn.LISTEN_COMPLETE)f=C4(a,n,l.path,c,h);else throw pa("Unknown operation type: "+l.type);const v=h.getChanges();return _4(n,f,v),{viewCache:f,changes:v}}function _4(a,n,l){const c=n.eventCache;if(c.isFullyInitialized()){const o=c.getNode().isLeafNode()||c.getNode().isEmpty(),h=_r(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!c.getNode().equals(h)||!c.getNode().getPriority().equals(h.getPriority()))&&l.push(yy(_r(n)))}}function Ay(a,n,l,c,o,h){const f=n.eventCache;if(Sr(c,l)!=null)return n;{let g,v;if(re(l))if(L(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const y=hl(n),x=y instanceof Z?y:Z.EMPTY_NODE,b=of(c,x);g=a.filter.updateFullNode(n.eventCache.getNode(),b,h)}else{const y=br(c,hl(n));g=a.filter.updateFullNode(n.eventCache.getNode(),y,h)}else{const y=le(l);if(y===".priority"){L(ki(l)===1,"Can't have a priority with additional path components");const x=f.getNode();v=n.serverCache.getNode();const b=hv(c,l,x,v);b!=null?g=a.filter.updatePriority(x,b):g=f.getNode()}else{const x=ke(l);let b;if(f.isCompleteForChild(y)){v=n.serverCache.getNode();const S=hv(c,l,f.getNode(),v);S!=null?b=f.getNode().getImmediateChild(y).updateChild(x,S):b=f.getNode().getImmediateChild(y)}else b=uf(c,y,n.serverCache);b!=null?g=a.filter.updateChild(f.getNode(),y,b,x,o,h):g=f.getNode()}}return Ss(n,g,f.isFullyInitialized()||re(l),a.filter.filtersNodes())}}function Cr(a,n,l,c,o,h,f,g){const v=n.serverCache;let y;const x=f?a.filter:a.filter.getIndexedFilter();if(re(l))y=x.updateFullNode(v.getNode(),c,null);else if(x.filtersNodes()&&!v.isFiltered()){const z=v.getNode().updateChild(l,c);y=x.updateFullNode(v.getNode(),z,null)}else{const z=le(l);if(!v.isCompleteForPath(l)&&ki(l)>1)return n;const U=ke(l),G=v.getNode().getImmediateChild(z).updateChild(U,c);z===".priority"?y=x.updatePriority(v.getNode(),G):y=x.updateChild(v.getNode(),z,G,U,Ny,null)}const b=by(n,y,v.isFullyInitialized()||re(l),x.filtersNodes()),S=new hf(o,b,h);return Ay(a,b,l,o,S,g)}function kh(a,n,l,c,o,h,f){const g=n.eventCache;let v,y;const x=new hf(o,n,h);if(re(l))y=a.filter.updateFullNode(n.eventCache.getNode(),c,f),v=Ss(n,y,!0,a.filter.filtersNodes());else{const b=le(l);if(b===".priority")y=a.filter.updatePriority(n.eventCache.getNode(),c),v=Ss(n,y,g.isFullyInitialized(),g.isFiltered());else{const S=ke(l),z=g.getNode().getImmediateChild(b);let U;if(re(S))U=c;else{const Y=x.getCompleteChild(b);Y!=null?Ph(S)===".priority"&&Y.getChild(hy(S)).isEmpty()?U=Y:U=Y.updateChild(S,c):U=Z.EMPTY_NODE}if(z.equals(U))v=n;else{const Y=a.filter.updateChild(g.getNode(),b,U,S,x,f);v=Ss(n,Y,g.isFullyInitialized(),a.filter.filtersNodes())}}}return v}function fv(a,n){return a.eventCache.isCompleteForChild(n)}function b4(a,n,l,c,o,h,f){let g=n;return c.foreach((v,y)=>{const x=Fe(l,v);fv(n,le(x))&&(g=kh(a,g,x,y,o,h,f))}),c.foreach((v,y)=>{const x=Fe(l,v);fv(n,le(x))||(g=kh(a,g,x,y,o,h,f))}),g}function dv(a,n,l){return l.foreach((c,o)=>{n=n.updateChild(c,o)}),n}function Hh(a,n,l,c,o,h,f,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let v=n,y;re(l)?y=c:y=new Le(null).setTree(l,c);const x=n.serverCache.getNode();return y.children.inorderTraversal((b,S)=>{if(x.hasChild(b)){const z=n.serverCache.getNode().getImmediateChild(b),U=dv(a,z,S);v=Cr(a,v,new Re(b),U,o,h,f,g)}}),y.children.inorderTraversal((b,S)=>{const z=!n.serverCache.isCompleteForChild(b)&&S.value===null;if(!x.hasChild(b)&&!z){const U=n.serverCache.getNode().getImmediateChild(b),Y=dv(a,U,S);v=Cr(a,v,new Re(b),Y,o,h,f,g)}}),v}function S4(a,n,l,c,o,h,f){if(Sr(o,l)!=null)return n;const g=n.serverCache.isFiltered(),v=n.serverCache;if(c.value!=null){if(re(l)&&v.isFullyInitialized()||v.isCompleteForPath(l))return Cr(a,n,l,v.getNode().getChild(l),o,h,g,f);if(re(l)){let y=new Le(null);return v.getNode().forEachChild(ra,(x,b)=>{y=y.set(new Re(x),b)}),Hh(a,n,l,y,o,h,g,f)}else return n}else{let y=new Le(null);return c.foreach((x,b)=>{const S=Fe(l,x);v.isCompleteForPath(S)&&(y=y.set(x,v.getNode().getChild(S)))}),Hh(a,n,l,y,o,h,g,f)}}function C4(a,n,l,c,o){const h=n.serverCache,f=by(n,h.getNode(),h.isFullyInitialized()||re(l),h.isFiltered());return Ay(a,f,l,c,Ny,o)}function E4(a,n,l,c,o,h){let f;if(Sr(c,l)!=null)return n;{const g=new hf(c,n,o),v=n.eventCache.getNode();let y;if(re(l)||le(l)===".priority"){let x;if(n.serverCache.isFullyInitialized())x=br(c,hl(n));else{const b=n.serverCache.getNode();L(b instanceof Z,"serverChildren would be complete if leaf node"),x=of(c,b)}x=x,y=a.filter.updateFullNode(v,x,h)}else{const x=le(l);let b=uf(c,x,n.serverCache);b==null&&n.serverCache.isCompleteForChild(x)&&(b=v.getImmediateChild(x)),b!=null?y=a.filter.updateChild(v,x,b,ke(l),g,h):n.eventCache.getNode().hasChild(x)?y=a.filter.updateChild(v,x,Z.EMPTY_NODE,ke(l),g,h):y=v,y.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=br(c,hl(n)),f.isLeafNode()&&(y=a.filter.updateFullNode(y,f,h)))}return f=n.serverCache.isFullyInitialized()||Sr(c,be())!=null,Ss(n,y,f,a.filter.filtersNodes())}}class T4{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const c=this.query_._queryParams,o=new lf(c.getIndex()),h=GS(c);this.processor_=p4(h);const f=l.serverCache,g=l.eventCache,v=o.updateFullNode(Z.EMPTY_NODE,f.getNode(),null),y=h.updateFullNode(Z.EMPTY_NODE,g.getNode(),null),x=new Hi(v,f.isFullyInitialized(),o.filtersNodes()),b=new Hi(y,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=Mr(b,x),this.eventGenerator_=new ZS(this.query_)}get query(){return this.query_}}function x4(a){return a.viewCache_.serverCache.getNode()}function N4(a){return _r(a.viewCache_)}function A4(a,n){const l=hl(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!re(n)&&!l.getImmediateChild(le(n)).isEmpty())?l.getChild(n):null}function mv(a){return a.eventRegistrations_.length===0}function w4(a,n){a.eventRegistrations_.push(n)}function gv(a,n,l){const c=[];if(l){L(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(h=>{const f=h.createCancelEvent(l,o);f&&c.push(f)})}if(n){let o=[];for(let h=0;h<a.eventRegistrations_.length;++h){const f=a.eventRegistrations_[h];if(!f.matches(n))o.push(f);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(h+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return c}function pv(a,n,l,c){n.type===bn.MERGE&&n.source.queryId!==null&&(L(hl(a.viewCache_),"We should always have a full cache before handling merges"),L(_r(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,h=y4(a.processor_,o,n,l,c);return v4(a.processor_,h.viewCache),L(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=h.viewCache,wy(a,h.changes,h.viewCache.eventCache.getNode(),null)}function D4(a,n){const l=a.viewCache_.eventCache,c=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Xe,(h,f)=>{c.push(fa(h,f))}),l.isFullyInitialized()&&c.push(yy(l.getNode())),wy(a,c,l.getNode(),n)}function wy(a,n,l,c){const o=c?[c]:a.eventRegistrations_;return JS(a.eventGenerator_,n,l,o)}let Er;class Dy{constructor(){this.views=new Map}}function M4(a){L(!Er,"__referenceConstructor has already been defined"),Er=a}function j4(){return L(Er,"Reference.ts has not been loaded"),Er}function R4(a){return a.views.size===0}function ff(a,n,l,c){const o=n.source.queryId;if(o!==null){const h=a.views.get(o);return L(h!=null,"SyncTree gave us an op for an invalid query."),pv(h,n,l,c)}else{let h=[];for(const f of a.views.values())h=h.concat(pv(f,n,l,c));return h}}function My(a,n,l,c,o){const h=n._queryIdentifier,f=a.views.get(h);if(!f){let g=br(l,o?c:null),v=!1;g?v=!0:c instanceof Z?(g=of(l,c),v=!1):(g=Z.EMPTY_NODE,v=!1);const y=Mr(new Hi(g,v,!1),new Hi(c,o,!1));return new T4(n,y)}return f}function O4(a,n,l,c,o,h){const f=My(a,n,c,o,h);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,f),w4(f,l),D4(f,l)}function z4(a,n,l,c){const o=n._queryIdentifier,h=[];let f=[];const g=Ii(a);if(o==="default")for(const[v,y]of a.views.entries())f=f.concat(gv(y,l,c)),mv(y)&&(a.views.delete(v),y.query._queryParams.loadsAllData()||h.push(y.query));else{const v=a.views.get(o);v&&(f=f.concat(gv(v,l,c)),mv(v)&&(a.views.delete(o),v.query._queryParams.loadsAllData()||h.push(v.query)))}return g&&!Ii(a)&&h.push(new(j4())(n._repo,n._path)),{removed:h,events:f}}function jy(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Bi(a,n){let l=null;for(const c of a.views.values())l=l||A4(c,n);return l}function Ry(a,n){if(n._queryParams.loadsAllData())return Rr(a);{const c=n._queryIdentifier;return a.views.get(c)}}function Oy(a,n){return Ry(a,n)!=null}function Ii(a){return Rr(a)!=null}function Rr(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Tr;function U4(a){L(!Tr,"__referenceConstructor has already been defined"),Tr=a}function L4(){return L(Tr,"Reference.ts has not been loaded"),Tr}let B4=1;class vv{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Le(null),this.pendingWriteTree_=f4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zy(a,n,l,c,o){return e4(a.pendingWriteTree_,n,l,c,o),o?_a(a,new ul(sf(),n,l)):[]}function k4(a,n,l,c){t4(a.pendingWriteTree_,n,l,c);const o=Le.fromObject(l);return _a(a,new da(sf(),n,o))}function Ri(a,n,l=!1){const c=n4(a.pendingWriteTree_,n);if(i4(a.pendingWriteTree_,n)){let h=new Le(null);return c.snap!=null?h=h.set(be(),!0):St(c.children,f=>{h=h.set(new Re(f),!0)}),_a(a,new yr(c.path,h,l))}else return[]}function Is(a,n,l){return _a(a,new ul(cf(),n,l))}function H4(a,n,l){const c=Le.fromObject(l);return _a(a,new da(cf(),n,c))}function I4(a,n){return _a(a,new Rs(cf(),n))}function V4(a,n,l){const c=mf(a,l);if(c){const o=gf(c),h=o.path,f=o.queryId,g=Mt(h,n),v=new Rs(rf(f),g);return pf(a,h,v)}else return[]}function xr(a,n,l,c,o=!1){const h=n._path,f=a.syncPointTree_.get(h);let g=[];if(f&&(n._queryIdentifier==="default"||Oy(f,n))){const v=z4(f,n,l,c);R4(f)&&(a.syncPointTree_=a.syncPointTree_.remove(h));const y=v.removed;if(g=v.events,!o){const x=y.findIndex(S=>S._queryParams.loadsAllData())!==-1,b=a.syncPointTree_.findOnPath(h,(S,z)=>Ii(z));if(x&&!b){const S=a.syncPointTree_.subtree(h);if(!S.isEmpty()){const z=Y4(S);for(let U=0;U<z.length;++U){const Y=z[U],G=Y.query,ie=ky(a,Y);a.listenProvider_.startListening(Es(G),Os(a,G),ie.hashFn,ie.onComplete)}}}!b&&y.length>0&&!c&&(x?a.listenProvider_.stopListening(Es(n),null):y.forEach(S=>{const z=a.queryToTagMap.get(Or(S));a.listenProvider_.stopListening(Es(S),z)}))}Q4(a,y)}return g}function Uy(a,n,l,c){const o=mf(a,c);if(o!=null){const h=gf(o),f=h.path,g=h.queryId,v=Mt(f,n),y=new ul(rf(g),v,l);return pf(a,f,y)}else return[]}function G4(a,n,l,c){const o=mf(a,c);if(o){const h=gf(o),f=h.path,g=h.queryId,v=Mt(f,n),y=Le.fromObject(l),x=new da(rf(g),v,y);return pf(a,f,x)}else return[]}function Ih(a,n,l,c=!1){const o=n._path;let h=null,f=!1;a.syncPointTree_.foreachOnPath(o,(S,z)=>{const U=Mt(S,o);h=h||Bi(z,U),f=f||Ii(z)});let g=a.syncPointTree_.get(o);g?(f=f||Ii(g),h=h||Bi(g,be())):(g=new Dy,a.syncPointTree_=a.syncPointTree_.set(o,g));let v;h!=null?v=!0:(v=!1,h=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,U)=>{const Y=Bi(U,be());Y&&(h=h.updateImmediateChild(z,Y))}));const y=Oy(g,n);if(!y&&!n._queryParams.loadsAllData()){const S=Or(n);L(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const z=F4();a.queryToTagMap.set(S,z),a.tagToQueryMap.set(z,S)}const x=jr(a.pendingWriteTree_,o);let b=O4(g,n,l,x,h,v);if(!y&&!f&&!c){const S=Ry(g,n);b=b.concat(X4(a,n,S))}return b}function df(a,n,l){const o=a.pendingWriteTree_,h=a.syncPointTree_.findOnPath(n,(f,g)=>{const v=Mt(f,n),y=Bi(g,v);if(y)return y});return Ey(o,n,h,l,!0)}function q4(a,n){const l=n._path;let c=null;a.syncPointTree_.foreachOnPath(l,(y,x)=>{const b=Mt(y,l);c=c||Bi(x,b)});let o=a.syncPointTree_.get(l);o?c=c||Bi(o,be()):(o=new Dy,a.syncPointTree_=a.syncPointTree_.set(l,o));const h=c!=null,f=h?new Hi(c,!0,!1):null,g=jr(a.pendingWriteTree_,n._path),v=My(o,n,g,h?f.getNode():Z.EMPTY_NODE,h);return N4(v)}function _a(a,n){return Ly(n,a.syncPointTree_,null,jr(a.pendingWriteTree_,be()))}function Ly(a,n,l,c){if(re(a.path))return By(a,n,l,c);{const o=n.get(be());l==null&&o!=null&&(l=Bi(o,be()));let h=[];const f=le(a.path),g=a.operationForChild(f),v=n.children.get(f);if(v&&g){const y=l?l.getImmediateChild(f):null,x=Ty(c,f);h=h.concat(Ly(g,v,y,x))}return o&&(h=h.concat(ff(o,a,c,l))),h}}function By(a,n,l,c){const o=n.get(be());l==null&&o!=null&&(l=Bi(o,be()));let h=[];return n.children.inorderTraversal((f,g)=>{const v=l?l.getImmediateChild(f):null,y=Ty(c,f),x=a.operationForChild(f);x&&(h=h.concat(By(x,g,v,y)))}),o&&(h=h.concat(ff(o,a,c,l))),h}function ky(a,n){const l=n.query,c=Os(a,l);return{hashFn:()=>(x4(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return c?V4(a,l._path,c):I4(a,l._path);{const h=Ib(o,l);return xr(a,l,null,h)}}}}function Os(a,n){const l=Or(n);return a.queryToTagMap.get(l)}function Or(a){return a._path.toString()+"$"+a._queryIdentifier}function mf(a,n){return a.tagToQueryMap.get(n)}function gf(a){const n=a.indexOf("$");return L(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Re(a.substr(0,n))}}function pf(a,n,l){const c=a.syncPointTree_.get(n);L(c,"Missing sync point for query tag that we're tracking");const o=jr(a.pendingWriteTree_,n);return ff(c,l,o,null)}function Y4(a){return a.fold((n,l,c)=>{if(l&&Ii(l))return[Rr(l)];{let o=[];return l&&(o=jy(l)),St(c,(h,f)=>{o=o.concat(f)}),o}})}function Es(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(L4())(a._repo,a._path):a}function Q4(a,n){for(let l=0;l<n.length;++l){const c=n[l];if(!c._queryParams.loadsAllData()){const o=Or(c),h=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(h)}}}function F4(){return B4++}function X4(a,n,l){const c=n._path,o=Os(a,n),h=ky(a,l),f=a.listenProvider_.startListening(Es(n),o,h.hashFn,h.onComplete),g=a.syncPointTree_.subtree(c);if(o)L(!Ii(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((y,x,b)=>{if(!re(y)&&x&&Ii(x))return[Rr(x).query];{let S=[];return x&&(S=S.concat(jy(x).map(z=>z.query))),St(b,(z,U)=>{S=S.concat(U)}),S}});for(let y=0;y<v.length;++y){const x=v[y];a.listenProvider_.stopListening(Es(x),Os(a,x))}}return f}class vf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new vf(l)}node(){return this.node_}}class yf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Fe(this.path_,n);return new yf(this.syncTree_,l)}node(){return df(this.syncTree_,this.path_)}}const K4=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},yv=function(a,n,l){if(!a||typeof a!="object")return a;if(L(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Z4(a[".sv"],n,l);if(typeof a[".sv"]=="object")return J4(a[".sv"],n);L(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Z4=function(a,n,l){if(a==="timestamp")return l.timestamp;L(!1,"Unexpected server value: "+a)},J4=function(a,n,l){a.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const c=a.increment;typeof c!="number"&&L(!1,"Unexpected increment value: "+c);const o=n.node();if(L(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return c;const f=o.getValue();return typeof f!="number"?c:f+c},Hy=function(a,n,l,c){return _f(n,new yf(l,a),c)},Iy=function(a,n,l){return _f(a,new vf(n),l)};function _f(a,n,l){const c=a.getPriority().val(),o=yv(c,n.getImmediateChild(".priority"),l);let h;if(a.isLeafNode()){const f=a,g=yv(f.getValue(),n,l);return g!==f.getValue()||o!==f.getPriority().val()?new ht(g,ct(o)):a}else{const f=a;return h=f,o!==f.getPriority().val()&&(h=h.updatePriority(new ht(o))),f.forEachChild(Xe,(g,v)=>{const y=_f(v,n.getImmediateChild(g),l);y!==v&&(h=h.updateImmediateChild(g,y))}),h}}class bf{constructor(n="",l=null,c={children:{},childCount:0}){this.name=n,this.parent=l,this.node=c}}function Sf(a,n){let l=n instanceof Re?n:new Re(n),c=a,o=le(l);for(;o!==null;){const h=ua(c.node.children,o)||{children:{},childCount:0};c=new bf(o,c,h),l=ke(l),o=le(l)}return c}function ba(a){return a.node.value}function Vy(a,n){a.node.value=n,Vh(a)}function Gy(a){return a.node.childCount>0}function W4(a){return ba(a)===void 0&&!Gy(a)}function zr(a,n){St(a.node.children,(l,c)=>{n(new bf(l,a,c))})}function qy(a,n,l,c){l&&n(a),zr(a,o=>{qy(o,n,!0)})}function $4(a,n,l){let c=a.parent;for(;c!==null;){if(n(c))return!0;c=c.parent}return!1}function Vs(a){return new Re(a.parent===null?a.name:Vs(a.parent)+"/"+a.name)}function Vh(a){a.parent!==null&&P4(a.parent,a.name,a)}function P4(a,n,l){const c=W4(l),o=An(a.node.children,n);c&&o?(delete a.node.children[n],a.node.childCount--,Vh(a)):!c&&!o&&(a.node.children[n]=l.node,a.node.childCount++,Vh(a))}const e3=/[\[\].#$\/\u0000-\u001F\u007F]/,t3=/[\[\].#$\u0000-\u001F\u007F]/,vh=10*1024*1024,Cf=function(a){return typeof a=="string"&&a.length!==0&&!e3.test(a)},Yy=function(a){return typeof a=="string"&&a.length!==0&&!t3.test(a)},n3=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),Yy(a)},i3=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Kh(a)||a&&typeof a=="object"&&An(a,".sv")},l3=function(a,n,l,c){Ur(Ar(a,"value"),n,l)},Ur=function(a,n,l){const c=l instanceof Re?new bS(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+cl(c));if(typeof n=="function")throw new Error(a+"contains a function "+cl(c)+" with contents = "+n.toString());if(Kh(n))throw new Error(a+"contains "+n.toString()+" "+cl(c));if(typeof n=="string"&&n.length>vh/3&&wr(n)>vh)throw new Error(a+"contains a string greater than "+vh+" utf8 bytes "+cl(c)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(St(n,(f,g)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(h=!0,!Cf(f)))throw new Error(a+" contains an invalid key ("+f+") "+cl(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SS(c,f),Ur(a,g,c),CS(c)}),o&&h)throw new Error(a+' contains ".value" child '+cl(c)+" in addition to actual children.")}},a3=function(a,n){let l,c;for(l=0;l<n.length;l++){c=n[l];const h=ws(c);for(let f=0;f<h.length;f++)if(!(h[f]===".priority"&&f===h.length-1)){if(!Cf(h[f]))throw new Error(a+"contains an invalid key ("+h[f]+") in path "+c.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(_S);let o=null;for(l=0;l<n.length;l++){if(c=n[l],o!==null&&fn(o,c))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+c.toString());o=c}},s3=function(a,n,l,c){const o=Ar(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];St(n,(f,g)=>{const v=new Re(f);if(Ur(o,g,Fe(l,v)),Ph(v)===".priority"&&!i3(g))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(v)}),a3(o,h)},Qy=function(a,n,l,c){if(!Yy(l))throw new Error(Ar(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},c3=function(a,n,l,c){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Qy(a,n,l)},Fy=function(a,n){if(le(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},r3=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!Cf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!n3(l))throw new Error(Ar(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class o3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lr(a,n){let l=null;for(let c=0;c<n.length;c++){const o=n[c],h=o.getPath();l!==null&&!ef(h,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:h}),l.events.push(o)}l&&a.eventLists_.push(l)}function Xy(a,n,l){Lr(a,l),Ky(a,c=>ef(c,n))}function dn(a,n,l){Lr(a,l),Ky(a,c=>fn(c,n)||fn(n,c))}function Ky(a,n){a.recursionDepth_++;let l=!0;for(let c=0;c<a.eventLists_.length;c++){const o=a.eventLists_[c];if(o){const h=o.path;n(h)?(u3(a.eventLists_[c]),a.eventLists_[c]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function u3(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const c=l.getEventRunner();_s&&bt("event: "+l.toString()),ya(c)}}}const h3="repo_interrupt",f3=25;class d3{constructor(n,l,c,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=c,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=vr(),this.transactionQueueTree_=new bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m3(a,n,l){if(a.stats_=Wh(a.repoInfo_),a.forceRestClient_||Yb())a.server_=new pr(a.repoInfo_,(c,o,h,f)=>{_v(a,c,o,h,f)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>bv(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(l)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}a.persistentConnection_=new Wn(a.repoInfo_,n,(c,o,h,f)=>{_v(a,c,o,h,f)},c=>{bv(a,c)},c=>{p3(a,c)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(c=>{a.server_.refreshAuthToken(c)}),a.appCheckProvider_.addTokenChangeListener(c=>{a.server_.refreshAppCheckToken(c.token)}),a.statsReporter_=Zb(a.repoInfo_,()=>new KS(a.stats_,a.server_)),a.infoData_=new qS,a.infoSyncTree_=new vv({startListening:(c,o,h,f)=>{let g=[];const v=a.infoData_.getNode(c._path);return v.isEmpty()||(g=Is(a.infoSyncTree_,c._path,v),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),Ef(a,"connected",!1),a.serverSyncTree_=new vv({startListening:(c,o,h,f)=>(a.server_.listen(c,h,o,(g,v)=>{const y=f(g,v);dn(a.eventQueue_,c._path,y)}),[]),stopListening:(c,o)=>{a.server_.unlisten(c,o)}})}function g3(a){const l=a.infoData_.getNode(new Re(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Br(a){return K4({timestamp:g3(a)})}function _v(a,n,l,c,o){a.dataUpdateCount++;const h=new Re(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let f=[];if(o)if(c){const v=or(l,y=>ct(y));f=G4(a.serverSyncTree_,h,v,o)}else{const v=ct(l);f=Uy(a.serverSyncTree_,h,v,o)}else if(c){const v=or(l,y=>ct(y));f=H4(a.serverSyncTree_,h,v)}else{const v=ct(l);f=Is(a.serverSyncTree_,h,v)}let g=h;f.length>0&&(g=ga(a,h)),dn(a.eventQueue_,g,f)}function bv(a,n){Ef(a,"connected",n),n===!1&&b3(a)}function p3(a,n){St(n,(l,c)=>{Ef(a,l,c)})}function Ef(a,n,l){const c=new Re("/.info/"+n),o=ct(l);a.infoData_.updateSnapshot(c,o);const h=Is(a.infoSyncTree_,c,o);dn(a.eventQueue_,c,h)}function Tf(a){return a.nextWriteId_++}function v3(a,n,l){const c=q4(a.serverSyncTree_,n);return c!=null?Promise.resolve(c):a.server_.get(n).then(o=>{const h=ct(o).withIndex(n._queryParams.getIndex());Ih(a.serverSyncTree_,n,l,!0);let f;if(n._queryParams.loadsAllData())f=Is(a.serverSyncTree_,n._path,h);else{const g=Os(a.serverSyncTree_,n);f=Uy(a.serverSyncTree_,n._path,h,g)}return dn(a.eventQueue_,n._path,f),xr(a.serverSyncTree_,n,l,null,!0),h},o=>(Gs(a,"get for query "+rt(n)+" failed: "+o),Promise.reject(new Error(o))))}function y3(a,n,l,c,o){Gs(a,"set",{path:n.toString(),value:l,priority:c});const h=Br(a),f=ct(l,c),g=df(a.serverSyncTree_,n),v=Iy(f,g,h),y=Tf(a),x=zy(a.serverSyncTree_,n,v,y,!0);Lr(a.eventQueue_,x),a.server_.put(n.toString(),f.val(!0),(S,z)=>{const U=S==="ok";U||jt("set at "+n+" failed: "+S);const Y=Ri(a.serverSyncTree_,y,!U);dn(a.eventQueue_,n,Y),Gh(a,o,S,z)});const b=Nf(a,n);ga(a,b),dn(a.eventQueue_,b,[])}function _3(a,n,l,c){Gs(a,"update",{path:n.toString(),value:l});let o=!0;const h=Br(a),f={};if(St(l,(g,v)=>{o=!1,f[g]=Hy(Fe(n,g),ct(v),a.serverSyncTree_,h)}),o)bt("update() called with empty data.  Don't do anything."),Gh(a,c,"ok",void 0);else{const g=Tf(a),v=k4(a.serverSyncTree_,n,f,g);Lr(a.eventQueue_,v),a.server_.merge(n.toString(),l,(y,x)=>{const b=y==="ok";b||jt("update at "+n+" failed: "+y);const S=Ri(a.serverSyncTree_,g,!b),z=S.length>0?ga(a,n):n;dn(a.eventQueue_,z,S),Gh(a,c,y,x)}),St(l,y=>{const x=Nf(a,Fe(n,y));ga(a,x)}),dn(a.eventQueue_,n,[])}}function b3(a){Gs(a,"onDisconnectEvents");const n=Br(a),l=vr();zh(a.onDisconnect_,be(),(o,h)=>{const f=Hy(o,h,a.serverSyncTree_,n);_y(l,o,f)});let c=[];zh(l,be(),(o,h)=>{c=c.concat(Is(a.serverSyncTree_,o,h));const f=Nf(a,o);ga(a,f)}),a.onDisconnect_=vr(),dn(a.eventQueue_,be(),c)}function S3(a,n,l){let c;le(n._path)===".info"?c=Ih(a.infoSyncTree_,n,l):c=Ih(a.serverSyncTree_,n,l),Xy(a.eventQueue_,n._path,c)}function C3(a,n,l){let c;le(n._path)===".info"?c=xr(a.infoSyncTree_,n,l):c=xr(a.serverSyncTree_,n,l),Xy(a.eventQueue_,n._path,c)}function E3(a){a.persistentConnection_&&a.persistentConnection_.interrupt(h3)}function Gs(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),bt(l,...n)}function Gh(a,n,l,c){n&&ya(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let h=o;c&&(h+=": "+c);const f=new Error(h);f.code=o,n(f)}})}function Zy(a,n,l){return df(a.serverSyncTree_,n,l)||Z.EMPTY_NODE}function xf(a,n=a.transactionQueueTree_){if(n||kr(a,n),ba(n)){const l=Wy(a,n);L(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&T3(a,Vs(n),l)}else Gy(n)&&zr(n,l=>{xf(a,l)})}function T3(a,n,l){const c=l.map(y=>y.currentWriteId),o=Zy(a,n,c);let h=o;const f=o.hash();for(let y=0;y<l.length;y++){const x=l[y];L(x.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const b=Mt(n,x.path);h=h.updateChild(b,x.currentOutputSnapshotRaw)}const g=h.val(!0),v=n;a.server_.put(v.toString(),g,y=>{Gs(a,"transaction put response",{path:v.toString(),status:y});let x=[];if(y==="ok"){const b=[];for(let S=0;S<l.length;S++)l[S].status=2,x=x.concat(Ri(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&b.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();kr(a,Sf(a.transactionQueueTree_,n)),xf(a,a.transactionQueueTree_),dn(a.eventQueue_,n,x);for(let S=0;S<b.length;S++)ya(b[S])}else{if(y==="datastale")for(let b=0;b<l.length;b++)l[b].status===3?l[b].status=4:l[b].status=0;else{jt("transaction at "+v.toString()+" failed: "+y);for(let b=0;b<l.length;b++)l[b].status=4,l[b].abortReason=y}ga(a,n)}},f)}function ga(a,n){const l=Jy(a,n),c=Vs(l),o=Wy(a,l);return x3(a,o,c),c}function x3(a,n,l){if(n.length===0)return;const c=[];let o=[];const f=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const v=n[g],y=Mt(l,v.path);let x=!1,b;if(L(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)x=!0,b=v.abortReason,o=o.concat(Ri(a.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=f3)x=!0,b="maxretry",o=o.concat(Ri(a.serverSyncTree_,v.currentWriteId,!0));else{const S=Zy(a,v.path,f);v.currentInputSnapshot=S;const z=n[g].update(S.val());if(z!==void 0){Ur("transaction failed: Data returned ",z,v.path);let U=ct(z);typeof z=="object"&&z!=null&&An(z,".priority")||(U=U.updatePriority(S.getPriority()));const G=v.currentWriteId,ie=Br(a),Se=Iy(U,S,ie);v.currentOutputSnapshotRaw=U,v.currentOutputSnapshotResolved=Se,v.currentWriteId=Tf(a),f.splice(f.indexOf(G),1),o=o.concat(zy(a.serverSyncTree_,v.path,Se,v.currentWriteId,v.applyLocally)),o=o.concat(Ri(a.serverSyncTree_,G,!0))}else x=!0,b="nodata",o=o.concat(Ri(a.serverSyncTree_,v.currentWriteId,!0))}dn(a.eventQueue_,l,o),o=[],x&&(n[g].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(b==="nodata"?c.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):c.push(()=>n[g].onComplete(new Error(b),!1,null))))}kr(a,a.transactionQueueTree_);for(let g=0;g<c.length;g++)ya(c[g]);xf(a,a.transactionQueueTree_)}function Jy(a,n){let l,c=a.transactionQueueTree_;for(l=le(n);l!==null&&ba(c)===void 0;)c=Sf(c,l),n=ke(n),l=le(n);return c}function Wy(a,n){const l=[];return $y(a,n,l),l.sort((c,o)=>c.order-o.order),l}function $y(a,n,l){const c=ba(n);if(c)for(let o=0;o<c.length;o++)l.push(c[o]);zr(n,o=>{$y(a,o,l)})}function kr(a,n){const l=ba(n);if(l){let c=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[c]=l[o],c++);l.length=c,Vy(n,l.length>0?l:void 0)}zr(n,c=>{kr(a,c)})}function Nf(a,n){const l=Vs(Jy(a,n)),c=Sf(a.transactionQueueTree_,n);return $4(c,o=>{yh(a,o)}),yh(a,c),qy(c,o=>{yh(a,o)}),l}function yh(a,n){const l=ba(n);if(l){const c=[];let o=[],h=-1;for(let f=0;f<l.length;f++)l[f].status===3||(l[f].status===1?(L(h===f-1,"All SENT items should be at beginning of queue."),h=f,l[f].status=3,l[f].abortReason="set"):(L(l[f].status===0,"Unexpected transaction status in abort"),l[f].unwatcher(),o=o.concat(Ri(a.serverSyncTree_,l[f].currentWriteId,!0)),l[f].onComplete&&c.push(l[f].onComplete.bind(null,new Error("set"),!1,null))));h===-1?Vy(n,void 0):l.length=h+1,dn(a.eventQueue_,Vs(n),o);for(let f=0;f<c.length;f++)ya(c[f])}}function N3(a){let n="";const l=a.split("/");for(let c=0;c<l.length;c++)if(l[c].length>0){let o=l[c];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function A3(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const c=l.split("=");c.length===2?n[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):jt(`Invalid query segment '${l}' in query '${a}'`)}return n}const Sv=function(a,n){const l=w3(a),c=l.namespace;l.domain==="firebase.com"&&Pn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||c==="undefined")&&l.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Ub();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new ny(l.host,l.secure,c,o,n,"",c!==l.subdomain),path:new Re(l.pathString)}},w3=function(a){let n="",l="",c="",o="",h="",f=!0,g="https",v=443;if(typeof a=="string"){let y=a.indexOf("//");y>=0&&(g=a.substring(0,y-1),a=a.substring(y+2));let x=a.indexOf("/");x===-1&&(x=a.length);let b=a.indexOf("?");b===-1&&(b=a.length),n=a.substring(0,Math.min(x,b)),x<b&&(o=N3(a.substring(x,b)));const S=A3(a.substring(Math.min(a.length,b)));y=n.indexOf(":"),y>=0?(f=g==="https"||g==="wss",v=parseInt(n.substring(y+1),10)):y=n.length;const z=n.slice(0,y);if(z.toLowerCase()==="localhost")l="localhost";else if(z.split(".").length<=2)l=z;else{const U=n.indexOf(".");c=n.substring(0,U).toLowerCase(),l=n.substring(U+1),h=c}"ns"in S&&(h=S.ns)}return{host:n,port:v,domain:l,subdomain:c,secure:f,scheme:g,pathString:o,namespace:h}};class D3{constructor(n,l,c,o){this.eventType=n,this.eventRegistration=l,this.snapshot=c,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+rt(this.snapshot.exportVal())}}class M3{constructor(n,l,c){this.eventRegistration=n,this.error=l,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Py{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Af{constructor(n,l,c,o){this._repo=n,this._path=l,this._queryParams=c,this._orderByCalled=o}get key(){return re(this._path)?null:Ph(this._path)}get ref(){return new ei(this._repo,this._path)}get _queryIdentifier(){const n=cv(this._queryParams),l=Zh(n);return l==="{}"?"default":l}get _queryObject(){return cv(this._queryParams)}isEqual(n){if(n=va(n),!(n instanceof Af))return!1;const l=this._repo===n._repo,c=ef(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&c&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+yS(this._path)}}class ei extends Af{constructor(n,l){super(n,l,new af,!1)}get parent(){const n=hy(this._path);return n===null?null:new ei(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class zs{constructor(n,l,c){this._node=n,this.ref=l,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Re(n),c=qh(this.ref,n);return new zs(this._node.getChild(l),c,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(c,o)=>n(new zs(o,qh(this.ref,c),Xe)))}hasChild(n){const l=new Re(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ke(a,n){return a=va(a),a._checkNotDeleted("ref"),n!==void 0?qh(a._root,n):a._root}function qh(a,n){return a=va(a),le(a._path)===null?c3("child","path",n):Qy("child","path",n),new ei(a._repo,Fe(a._path,n))}function wf(a){return Fy("remove",a._path),Jn(a,null)}function Jn(a,n){a=va(a),Fy("set",a._path),l3("set",n,a._path);const l=new Us;return y3(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function Df(a,n){s3("update",n,a._path);const l=new Us;return _3(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function vs(a){a=va(a);const n=new Py(()=>{}),l=new Hr(n);return v3(a._repo,a,l).then(c=>new zs(c,new ei(a._repo,a._path),a._queryParams.getIndex()))}class Hr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const c=l._queryParams.getIndex();return new D3("value",this,new zs(n.snapshotNode,new ei(l._repo,l._path),c))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new M3(this,n,l):null}matches(n){return n instanceof Hr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function j3(a,n,l,c,o){const h=new Py(l,void 0),f=new Hr(h);return S3(a._repo,a,f),()=>C3(a._repo,a,f)}function Mf(a,n,l,c){return j3(a,"value",n)}M4(ei);U4(ei);const R3="FIREBASE_DATABASE_EMULATOR_HOST",Yh={};let O3=!1;function z3(a,n,l,c){const o=n.lastIndexOf(":"),h=n.substring(0,o),f=Fh(h);a.repoInfo_=new ny(n,f,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),c&&(a.authTokenProvider_=c)}function U3(a,n,l,c,o){let h=c||a.options.databaseURL;h===void 0&&(a.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bt("Using default host for project ",a.options.projectId),h=`${a.options.projectId}-default-rtdb.firebaseio.com`);let f=Sv(h,o),g=f.repoInfo,v;typeof process<"u"&&qp&&(v=qp[R3]),v?(h=`http://${v}?ns=${g.namespace}`,f=Sv(h,o),g=f.repoInfo):f.repoInfo.secure;const y=new Fb(a.name,a.options,n);r3("Invalid Firebase Database URL",f),re(f.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");const x=B3(g,a,y,new Qb(a,l));return new k3(x,a)}function L3(a,n){const l=Yh[n];(!l||l[a.key]!==a)&&Pn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),E3(a),delete l[a.key]}function B3(a,n,l,c){let o=Yh[n.name];o||(o={},Yh[n.name]=o);let h=o[a.toURLString()];return h&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new d3(a,O3,l,c),o[a.toURLString()]=h,h}class k3{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(m3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ei(this._repo,be())),this._rootInternal}_delete(){return this._rootInternal!==null&&(L3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Pn("Cannot call "+n+" on a deleted database.")}}function H3(a=pb(),n){const l=hb(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const c=J1("database");c&&I3(l,...c)}return l}function I3(a,n,l,c={}){a=va(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,h=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&ur(c,h.repoInfo_.emulatorOptions))return;Pn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(h.repoInfo_.nodeAdmin)c.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new cr(cr.OWNER);else if(c.mockUserToken){const g=typeof c.mockUserToken=="string"?c.mockUserToken:$1(c.mockUserToken,a.app.options.projectId);f=new cr(g)}Fh(n)&&(W1(n),t2("Database",!0)),z3(h,o,c,f)}function V3(a){Db(gb),fr(new xs("database",(n,{instanceIdentifier:l})=>{const c=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return U3(c,o,h,l)},"PUBLIC").setMultipleInstances(!0)),sa(Yp,Qp,a),sa(Yp,Qp,"esm2020")}Wn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Wn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};V3();const G3={apiKey:"AIzaSyD_a5ykUzFClrzJalmql4vs_6TPE5WYLqQ",authDomain:"ai-demo-64219.firebaseapp.com",projectId:"ai-demo-64219",storageBucket:"ai-demo-64219.firebasestorage.app",messagingSenderId:"14008379823",appId:"1:14008379823:web:1350b9cb75cef1d783275a",databaseURL:"https://ai-demo-64219-default-rtdb.asia-southeast1.firebasedatabase.app"},q3=Hv(G3),Ze=H3(q3),e_=[{id:"v001",url:"https://www.youtube.com/watch?v=XqZsoesa55w",title:"Baby Shark Dance - Pinkfong",thumbnail:"https://img.youtube.com/vi/XqZsoesa55w/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Pinkfong"},{id:"v002",url:"https://www.youtube.com/watch?v=e_04ZrNroTo",title:"Wheels on the Bus - Cocomelon",thumbnail:"https://img.youtube.com/vi/e_04ZrNroTo/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Cocomelon"},{id:"v003",url:"https://www.youtube.com/watch?v=75NQK-Sm1YY",title:"Baby Bus - Five Little Ducks",thumbnail:"https://img.youtube.com/vi/75NQK-Sm1YY/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"BabyBus"},{id:"v004",url:"https://www.youtube.com/watch?v=_UR-l3QI2nE",title:"ABC Song - Hc bng ch ci",thumbnail:"https://img.youtube.com/vi/_UR-l3QI2nE/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v005",url:"https://www.youtube.com/watch?v=ZanHgPprl-0",title:"Phonics Song - Hc pht m",thumbnail:"https://img.youtube.com/vi/ZanHgPprl-0/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v006",url:"https://www.youtube.com/watch?v=L0MK7qz13bU",title:"Numbers Song - Hc m s",thumbnail:"https://img.youtube.com/vi/L0MK7qz13bU/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v007",url:"https://www.youtube.com/watch?v=QkHQ0CYwjaI",title:"Counting 1-100 - m s",thumbnail:"https://img.youtube.com/vi/QkHQ0CYwjaI/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Jack Hartmann"},{id:"v008",url:"https://www.youtube.com/watch?v=teMdjJ3w9iM",title:"Five Little Monkeys - Hc m",thumbnail:"https://img.youtube.com/vi/teMdjJ3w9iM/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Super Simple Songs"}],t_=[{id:"c001",name:"Pinkfong",channelId:"UCcdwLMPsaU2ezNSJU1nFoBQ",ageGroup:"0-3",category:"music"},{id:"c002",name:"Cocomelon",channelId:"UCbCmjCuTUZos6Inko4u57UQ",ageGroup:"0-3",category:"music"},{id:"c003",name:"Super Simple Songs",channelId:"UCLsooMJoIpl_7ux2jvdPB-Q",ageGroup:"3-6",category:"english"}],n_=[{id:"parent",name:"Ph huynh",type:"parent",avatar:""},{id:"user001",name:"B Bi",type:"child",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:["music","entertainment"]},{id:"user002",name:"B Bo",type:"child",avatar:"",ageGroup:"3-6",dailyLimit:90,allowedCategories:["music","english","math"]}],jf={dailyLimit:60,parentPin:"1234"},oa=a=>a?Object.keys(a).map(n=>({...a[n],id:n})):[],Y3=async()=>{try{return(await vs(Ke(Ze,"videos"))).exists()||(console.log("Initializing database with default data..."),await i_()),await Ir()}catch(a){return console.error("Firebase init error:",a),{videos:e_,channels:t_,users:n_,settings:jf}}},i_=async()=>{const a={};e_.forEach(c=>{a[c.id]=c});const n={};t_.forEach(c=>{n[c.id]=c});const l={};n_.forEach(c=>{l[c.id]=c}),await Jn(Ke(Ze,"videos"),a),await Jn(Ke(Ze,"channels"),n),await Jn(Ke(Ze,"users"),l),await Jn(Ke(Ze,"settings"),jf)},Ir=async()=>{const[a,n,l,c]=await Promise.all([vs(Ke(Ze,"videos")),vs(Ke(Ze,"channels")),vs(Ke(Ze,"users")),vs(Ke(Ze,"settings"))]);return{videos:oa(a.val()),channels:oa(n.val()),users:oa(l.val()),settings:c.val()||jf}},Cv=async a=>{const n=a.id||`v${Date.now()}`,l={...a,id:n,addedAt:Date.now()};return await Jn(Ke(Ze,`videos/${n}`),l),l},Q3=async(a,n)=>{await Df(Ke(Ze,`videos/${a}`),n)},F3=async a=>{await wf(Ke(Ze,`videos/${a}`))},X3=async a=>{const n=a.id||`c${Date.now()}`,l={...a,id:n};return await Jn(Ke(Ze,`channels/${n}`),l),l},K3=async a=>{await wf(Ke(Ze,`channels/${a}`))},Z3=async a=>{const n=a.id||`u${Date.now()}`,l={...a,id:n,createdAt:Date.now()};return await Jn(Ke(Ze,`users/${n}`),l),l},J3=async(a,n)=>{await Df(Ke(Ze,`users/${a}`),n)},W3=async a=>{await wf(Ke(Ze,`users/${a}`))},$3=async a=>{await Df(Ke(Ze,"settings"),a)},P3=a=>Mf(Ke(Ze,"videos"),n=>{a(oa(n.val()))}),eC=a=>Mf(Ke(Ze,"users"),n=>{a(oa(n.val()))}),tC=a=>Mf(Ke(Ze,"channels"),n=>{a(oa(n.val()))}),nC=async()=>(await i_(),await Ir()),iC=async()=>{const a=await Ir(),n=new Blob([JSON.stringify({...a,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),l=URL.createObjectURL(n),c=document.createElement("a");c.href=l,c.download=`kid_video_${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(l)},lC=async a=>{if(a.videos){const n={};a.videos.forEach(l=>{n[l.id]=l}),await Jn(Ke(Ze,"videos"),n)}return await Ir()},Nr=a=>{if(!a)return null;if(a.length===11&&/^[a-zA-Z0-9_-]+$/.test(a))return a;const n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,l=a.match(n);return l&&l[7].length===11?l[7]:null},hn=[{id:"math",name:"Ton hc",icon:"",color:"#ff6b6b"},{id:"english",name:"Anh vn",icon:"",color:"#4ecdc4"},{id:"communication",name:"Giao tip",icon:"",color:"#45b7d1"},{id:"thinking",name:"T duy",icon:"",color:"#96ceb4"},{id:"entertainment",name:"Gii tr",icon:"",color:"#ffeaa7"},{id:"learning",name:"Hc tp",icon:"",color:"#dfe6e9"},{id:"music",name:"m nhc",icon:"",color:"#fd79a8"},{id:"science",name:"Khoa hc",icon:"",color:"#a29bfe"}],ti=L1(H1((a,n)=>({videos:[],channels:[],users:[],settings:{categories:hn,dailyLimit:60},currentVideo:null,currentUser:null,selectedAgeGroup:"all",selectedCategory:"all",searchQuery:"",parentMode:!1,watchHistory:[],favorites:[],dailyLimit:60,todayWatchTime:0,unavailableVideos:[],isLoading:!1,error:null,setVideos:l=>a({videos:l}),setUsers:l=>a({users:l}),setChannels:l=>a({channels:l}),initializeData:async()=>{a({isLoading:!0,error:null});try{const l=await Y3();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[],settings:{...n().settings,...l.settings},dailyLimit:l.settings?.dailyLimit||60,isLoading:!1})}catch(l){console.error("Failed to initialize:",l),a({error:l.message,isLoading:!1})}},markVideoUnavailable:l=>{const{unavailableVideos:c}=n();c.includes(l)||a({unavailableVideos:[...c,l]})},clearUnavailableVideos:()=>a({unavailableVideos:[]}),isVideoAvailable:l=>!n().unavailableVideos.includes(l),login:l=>{const o=n().users.find(h=>h.id===l);return o?(a({currentUser:o,dailyLimit:o.dailyLimit||60}),!0):!1},logout:()=>a({currentUser:null,parentMode:!1}),addVideo:async l=>{const c=await Cv(l);return a(o=>({videos:[...o.videos,c]})),c},updateVideo:async(l,c)=>{await Q3(l,c),a(o=>({videos:o.videos.map(h=>h.id===l?{...h,...c}:h)}))},deleteVideo:async l=>{await F3(l),a(c=>({videos:c.videos.filter(o=>o.id!==l)}))},addVideoFromURL:async(l,c="entertainment",o="all")=>{const h=Nr(l);if(!h)throw new Error("URL YouTube khng hp l");if(n().videos.find(x=>Nr(x.url)===h))throw new Error("Video ny  c trong danh sch");const g=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${h}&format=json`);if(!g.ok)throw new Error("Video khng tn ti hoc khng kh dng");const v=await g.json(),y=await Cv({url:`https://www.youtube.com/watch?v=${h}`,title:v.title,thumbnail:`https://img.youtube.com/vi/${h}/mqdefault.jpg`,channel:v.author_name,category:c,ageGroup:o});return a(x=>({videos:[...x.videos,y]})),y},addChannel:async l=>{const c=await X3(l);return a(o=>({channels:[...o.channels,c]})),c},deleteChannel:async l=>{await K3(l),a(c=>({channels:c.channels.filter(o=>o.id!==l)}))},addUser:async l=>{const c=await Z3(l);return a(o=>({users:[...o.users,c]})),c},updateUser:async(l,c)=>{await J3(l,c),a(o=>({users:o.users.map(h=>h.id===l?{...h,...c}:h),currentUser:o.currentUser?.id===l?{...o.currentUser,...c}:o.currentUser}))},deleteUser:async l=>{await W3(l),a(c=>({users:c.users.filter(o=>o.id!==l)}))},setCurrentVideo:l=>a({currentVideo:l}),setAgeGroup:l=>a({selectedAgeGroup:l}),setCategory:l=>a({selectedCategory:l}),setSearchQuery:l=>a({searchQuery:l}),toggleParentMode:l=>n().parentMode?(a({parentMode:!1}),!0):l==="bypass"?(a({parentMode:!0}),!0):!1,addToHistory:l=>a(c=>({watchHistory:[{...l,watchedAt:Date.now()},...c.watchHistory.filter(o=>o.id!==l.id).slice(0,49)]})),toggleFavorite:l=>a(c=>({favorites:c.favorites.includes(l)?c.favorites.filter(o=>o!==l):[...c.favorites,l]})),addWatchTime:l=>a(c=>({todayWatchTime:c.todayWatchTime+l})),resetDailyWatchTime:()=>a({todayWatchTime:0}),setDailyLimit:async l=>{await $3({dailyLimit:l}),a({dailyLimit:l})},getFilteredVideos:()=>{const l=n();let c=l.videos.filter(o=>!l.unavailableVideos.includes(o.id));if(l.selectedAgeGroup!=="all"&&(c=c.filter(o=>o.ageGroup===l.selectedAgeGroup||o.ageGroup==="all")),l.selectedCategory!=="all"&&(c=c.filter(o=>o.category===l.selectedCategory)),l.searchQuery){const o=l.searchQuery.toLowerCase();c=c.filter(h=>h.title?.toLowerCase().includes(o)||h.channel?.toLowerCase().includes(o))}return c},exportData:async()=>await iC(),importData:async l=>{const c=await lC(l);a({videos:c.videos,channels:c.channels,users:c.users})},resetToDefaults:async()=>{const l=await nC();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[]})}}),{name:"kid-video-storage",partialize:a=>({currentUser:a.currentUser,watchHistory:a.watchHistory,favorites:a.favorites,todayWatchTime:a.todayWatchTime,unavailableVideos:a.unavailableVideos})})),Oi=Nr,aC=a=>{const n=Nr(a);return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:null};function sC(a,n){const[l,c]=I.useState(a);return I.useEffect(()=>{const o=setTimeout(()=>{c(a)},n);return()=>clearTimeout(o)},[a,n]),l}function cC(){const{searchQuery:a,setSearchQuery:n,searchYouTube:l,youtubeSearchLoading:c,clearYouTubeSearch:o,parentMode:h}=ti(),[f,g]=I.useState(!1),[v,y]=I.useState(a),x=sC(v,300);I.useEffect(()=>{n(x)},[x,n]);const b=I.useCallback(()=>{v.trim()&&l(v.trim())},[v,l]),S=U=>{U.key==="Enter"&&b()},z=()=>{y(""),n(""),o()};return d.jsxs(ge.div,{className:"search-bar",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:`search-container ${f?"focused":""}`,children:[d.jsx("input",{type:"text",placeholder:" Tm video yu thch...",value:v,onChange:U=>y(U.target.value),onFocus:()=>g(!0),onBlur:()=>g(!1),onKeyDown:S,className:"search-input"}),v&&d.jsx(ge.button,{className:"clear-btn",onClick:z,initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},title:"Xa tm kim",children:""}),d.jsx(ge.button,{className:`search-btn ${h?"youtube-search":""} ${c?"loading":""}`,onClick:b,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!v.trim()||c,title:h?"Tm trn YouTube":"Tm video",children:c?d.jsx("span",{className:"search-spinner",children:""}):d.jsxs(d.Fragment,{children:[d.jsx(Eh,{className:"search-icon-btn"}),d.jsx("span",{className:"btn-text",children:h?"YouTube":"Tm"})]})})]}),h&&v&&d.jsxs("div",{className:"search-hint",children:[" Nhn Enter hoc nt ",d.jsx(Nv,{style:{color:"#ff0000"}}),"  tm video mi t YouTube"]})]})}function rC(){const{youtubeSearchResults:a,youtubeSearchQuery:n,youtubeSearchLoading:l,youtubeNextPageToken:c,youtubeTotalResults:o,showYoutubeResults:h,loadMoreYouTubeResults:f,clearYouTubeSearch:g,addVideoFromYouTube:v,addVideoFromURL:y,setCurrentVideo:x,parentMode:b}=ti(),[S,z]=I.useState(null),[U,Y]=I.useState([]),[G,ie]=I.useState(!1),[Se,$]=I.useState(!1),[ee,xe]=I.useState(null),[oe,Ue]=I.useState("entertainment"),[we,Ct]=I.useState("all"),[Pe,Oe]=I.useState(""),[P,Ve]=I.useState(""),[qe,et]=I.useState(!1),M=B=>{x({id:B.videoId||Oi(B.url),url:B.url,title:B.title,thumbnail:B.thumbnail,channel:B.channel})},k=B=>{xe(B),ie(!0)},F=async()=>{if(ee){z(ee.videoId);try{await v(ee,oe,we),Y(B=>[...B,ee.videoId]),ie(!1),xe(null)}catch(B){console.error("Failed to add video:",B)}finally{z(null)}}},Ce=async()=>{if(!Pe.trim()){Ve("Vui lng nhp URL video");return}if(!Oi(Pe)){Ve("URL YouTube khng hp l");return}et(!0),Ve("");try{await y(Pe,oe,we),$(!1),Oe(""),Ve("")}catch(J){Ve(J.message||"Khng th thm video")}finally{et(!1)}},pe=[{id:"all",name:"Tt c",icon:""},{id:"0-3",name:"0-3 tui",icon:""},{id:"3-6",name:"3-6 tui",icon:""},{id:"6-9",name:"6-9 tui",icon:""}];return!h&&!b?null:d.jsxs(d.Fragment,{children:[b&&d.jsx(ge.div,{className:"add-video-section",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:d.jsxs("button",{className:"add-by-url-btn",onClick:()=>$(!0),children:[d.jsx(A1,{})," Thm video t YouTube URL"]})}),h&&a.length>0&&d.jsxs(ge.div,{className:"search-results-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[d.jsxs("div",{className:"search-results-header",children:[d.jsxs("div",{className:"search-results-info",children:[d.jsxs("h3",{children:[' Kt qu tm kim: "',n,'"']}),d.jsxs("span",{className:"results-count",children:[a.length," video"]})]}),d.jsx("button",{className:"close-results-btn",onClick:g,children:d.jsx(ch,{})})]}),d.jsx("div",{className:"search-results-grid",children:d.jsx(Kn,{children:a.map((B,J)=>d.jsxs(ge.div,{className:"search-result-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:J*.05},children:[d.jsxs("div",{className:"result-thumbnail",onClick:()=>M(B),children:[d.jsx("img",{src:B.thumbnail,alt:B.title,loading:"lazy"}),d.jsx("div",{className:"play-overlay",children:d.jsx(Ch,{})})]}),d.jsxs("div",{className:"result-info",children:[d.jsx("h4",{className:"result-title",title:B.title,children:B.title}),d.jsx("p",{className:"result-channel",children:B.channel})]}),d.jsxs("div",{className:"result-actions",children:[d.jsxs("button",{className:"play-btn",onClick:()=>M(B),title:"Xem video",children:[d.jsx(Ch,{})," Xem"]}),b&&d.jsx("button",{className:`add-btn ${U.includes(B.videoId)?"added":""}`,onClick:()=>k(B),disabled:S===B.videoId||U.includes(B.videoId),title:U.includes(B.videoId)?" thm":"Thm vo danh sch",children:S===B.videoId?d.jsx(sh,{className:"spinning"}):U.includes(B.videoId)?d.jsxs(d.Fragment,{children:[d.jsx(Sh,{}),"  thm"]}):d.jsxs(d.Fragment,{children:[d.jsx(yn,{})," Thm"]})})]})]},B.videoId||J))})}),c&&d.jsx("div",{className:"load-more-container",children:d.jsx("button",{className:"load-more-btn",onClick:f,disabled:l,children:l?d.jsxs(d.Fragment,{children:[d.jsx(sh,{className:"spinning"})," ang ti..."]}):d.jsxs(d.Fragment,{children:[d.jsx(C1,{})," Xem thm video"]})})}),d.jsx(Kn,{children:G&&ee&&d.jsx(ge.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ie(!1),children:d.jsxs(ge.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:B=>B.stopPropagation(),children:[d.jsxs("div",{className:"add-modal-header",children:[d.jsx("h3",{children:" Thm video vo danh sch"}),d.jsx("button",{className:"close-modal-btn",onClick:()=>ie(!1),children:d.jsx(ch,{})})]}),d.jsxs("div",{className:"add-modal-content",children:[d.jsxs("div",{className:"video-preview",children:[d.jsx("img",{src:ee.thumbnail,alt:ee.title}),d.jsxs("div",{className:"video-preview-info",children:[d.jsx("h4",{children:ee.title}),d.jsx("p",{children:ee.channel})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" Danh mc:"}),d.jsx("div",{className:"category-select",children:hn.map(B=>d.jsxs("button",{className:`category-option ${oe===B.id?"selected":""}`,onClick:()=>Ue(B.id),style:{"--cat-color":B.color},children:[B.icon," ",B.name]},B.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"  tui:"}),d.jsx("div",{className:"age-select",children:pe.map(B=>d.jsxs("button",{className:`age-option ${we===B.id?"selected":""}`,onClick:()=>Ct(B.id),children:[B.icon," ",B.name]},B.id))})]})]}),d.jsxs("div",{className:"add-modal-footer",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>ie(!1),children:"Hy"}),d.jsxs("button",{className:"confirm-btn",onClick:F,children:[d.jsx(yn,{})," Thm video"]})]})]})})})]}),d.jsx(Kn,{children:Se&&d.jsx(ge.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>$(!1),children:d.jsxs(ge.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:B=>B.stopPropagation(),children:[d.jsxs("div",{className:"add-modal-header",children:[d.jsx("h3",{children:" Thm video t YouTube URL"}),d.jsx("button",{className:"close-modal-btn",onClick:()=>$(!1),children:d.jsx(ch,{})})]}),d.jsxs("div",{className:"add-modal-content",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" URL YouTube:"}),d.jsx("input",{type:"text",className:"url-input",placeholder:"https://www.youtube.com/watch?v=... hoc Video ID",value:Pe,onChange:B=>{Oe(B.target.value),Ve("")}}),P&&d.jsx("p",{className:"url-error",children:P}),d.jsx("p",{className:"url-hint",children:"Paste link YouTube hoc ch Video ID (v d: dQw4w9WgXcQ)"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" Danh mc:"}),d.jsx("div",{className:"category-select",children:hn.map(B=>d.jsxs("button",{className:`category-option ${oe===B.id?"selected":""}`,onClick:()=>Ue(B.id),style:{"--cat-color":B.color},children:[B.icon," ",B.name]},B.id))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"  tui:"}),d.jsx("div",{className:"age-select",children:pe.map(B=>d.jsxs("button",{className:`age-option ${we===B.id?"selected":""}`,onClick:()=>Ct(B.id),children:[B.icon," ",B.name]},B.id))})]})]}),d.jsxs("div",{className:"add-modal-footer",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>$(!1),children:"Hy"}),d.jsx("button",{className:"confirm-btn",onClick:Ce,disabled:qe,children:qe?d.jsxs(d.Fragment,{children:[d.jsx(sh,{className:"spinning"})," ang xc thc..."]}):d.jsxs(d.Fragment,{children:[d.jsx(yn,{})," Thm video"]})})]})]})})})]})}function oC(){const{selectedCategory:a,setCategory:n,currentUser:l}=ti(),c=I.useMemo(()=>{const o=l?.allowedCategories||[];if(o.length===0)return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...hn];const h=hn.filter(f=>o.includes(f.id));return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...h]},[l?.allowedCategories]);return d.jsx("div",{className:"category-filter",children:d.jsx("div",{className:"category-scroll",children:c.map((o,h)=>d.jsxs(ge.button,{className:`category-btn ${a===o.id?"active":""}`,style:{"--cat-color":o.color},onClick:()=>n(o.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:h*.05},whileHover:{scale:1.08,y:-3},whileTap:{scale:.95},children:[d.jsx("span",{className:"category-icon",children:o.icon}),d.jsx("span",{className:"category-name",children:o.name})]},o.id))})})}function uC({video:a,index:n}){const{setCurrentVideo:l,favorites:c,markVideoUnavailable:o}=ti(),[h,f]=I.useState(!1),g=c.includes(a.id),v={"0-3":"linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%)","3-6":"linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)","6-9":"linear-gradient(135deg, #84FAB0 0%, #8FD3F4 100%)",all:"linear-gradient(135deg, #FFE66D 0%, #FF9A3D 100%)"},y=hn.find(S=>S.id===a.category),x=()=>{f(!0)},b="data:image/svg+xml,"+encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 180">
      <rect fill="#1A3A32" width="320" height="180"/>
      <text x="160" y="90" fill="#00D4AA" font-size="48" text-anchor="middle" dominant-baseline="middle"></text>
    </svg>
  `);return d.jsxs(ge.div,{className:"video-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.05,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(a),children:[d.jsxs("div",{className:"thumbnail-container",children:[d.jsx("img",{src:h?b:a.thumbnail,alt:a.title,className:"thumbnail",loading:"lazy",onError:x}),d.jsx("div",{className:"play-overlay",children:d.jsx(ge.div,{className:"play-button",whileHover:{scale:1.15},whileTap:{scale:.9},children:d.jsx(Ch,{})})}),g&&d.jsx("div",{className:"favorite-indicator",children:d.jsx(N1,{color:"#FF6B9D"})}),y&&d.jsx("div",{className:"category-tag",style:{background:y.color},children:y.icon}),d.jsx("div",{className:"age-tag",style:{background:v[a.ageGroup]||v.all},children:a.ageGroup==="all"?" Tt c":` ${a.ageGroup}`})]}),d.jsxs("div",{className:"video-info",children:[d.jsx("h3",{className:"video-title",children:a.title}),d.jsxs("p",{className:"channel-name",children:[" ",a.channel]})]})]})}function hC(){const{getFilteredVideos:a,searchQuery:n,selectedAgeGroup:l}=ti(),c=a();return c.length===0?d.jsxs(ge.div,{className:"empty-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[d.jsx("div",{className:"empty-icon",children:""}),d.jsx("h3",{children:"Khng tm thy video"}),d.jsx("p",{children:n?`Khng c video no ph hp vi "${n}"`:"Cha c video no trong danh sch"})]}):d.jsxs("div",{className:"video-grid-container",children:[d.jsxs("div",{className:"results-info",children:[d.jsxs("span",{className:"results-count",children:[" ",c.length," video"]}),l!=="all"&&d.jsxs("span",{className:"filter-info",children:[" Lc theo: ",l," tui"]})]}),d.jsx(ge.div,{className:"video-grid",initial:{opacity:0},animate:{opacity:1},children:c.map((o,h)=>d.jsx(uC,{video:o,index:h},o.id))})]})}const fC=15e3;function dC(){const{currentVideo:a,setCurrentVideo:n,favorites:l,toggleFavorite:c,addToHistory:o,addWatchTime:h,markVideoUnavailable:f,getFilteredVideos:g,videos:v,selectedAgeGroup:y,selectedCategory:x,searchQuery:b,unavailableVideos:S}=ti(),[z,U]=I.useState(!1),Y=I.useRef(null),[G,ie]=I.useState(!0),[Se,$]=I.useState(!1),[ee,xe]=I.useState(0),oe=I.useRef(null),Ue=I.useRef(!1),we=I.useRef(null),Ct=a&&l.includes(a.id),Pe=I.useMemo(()=>g?.()||[],[g,v,y,x,b,S]),Oe=I.useMemo(()=>a?Pe.findIndex(H=>H.id===a.id):-1,[a,Pe]),P=Oe>0,Ve=Oe<Pe.length-1&&Oe!==-1,qe=I.useCallback(()=>{if(P){const H=Pe[Oe-1];n(H)}},[P,Pe,Oe,n]),et=I.useCallback(()=>{if(Ve){const H=Pe[Oe+1];n(H)}},[Ve,Pe,Oe,n]);I.useEffect(()=>{const H=W=>{if(W.origin==="https://www.youtube.com")try{const Ee=typeof W.data=="string"?JSON.parse(W.data):W.data;Ee.event==="onError"&&(console.log("YouTube error detected via postMessage:",Ee),ie(!1),$(!0),a&&f?.(a.id)),Ee.event==="onStateChange"&&(console.log("YouTube state change:",Ee.info),Ee.info!==-1&&(Ue.current=!0,ie(!1),oe.current&&clearTimeout(oe.current))),Ee.event==="onReady"&&(console.log("YouTube player ready"),Ue.current=!0,ie(!1),oe.current&&clearTimeout(oe.current))}catch{}};return window.addEventListener("message",H),()=>window.removeEventListener("message",H)},[a,f]),I.useEffect(()=>(a&&G&&!Se&&(Ue.current=!1,oe.current&&clearTimeout(oe.current),oe.current=setTimeout(()=>{!Ue.current&&G&&!Se&&(console.log("Video load timeout - no response from YouTube"),ie(!1),$(!0),a&&f?.(a.id))},fC)),()=>{oe.current&&clearTimeout(oe.current)}),[a,G,Se,f]),I.useEffect(()=>{a&&(ie(!0),$(!1),xe(0),Ue.current=!1,o(a))},[a]);const M=I.useCallback(()=>{document.fullscreenElement&&document.exitFullscreen().catch(()=>{});try{screen.orientation?.unlock?.()}catch{}oe.current&&clearTimeout(oe.current),n(null),U(!1),ie(!0),$(!1),xe(0),Ue.current=!1},[n]),k=I.useCallback(async()=>{if(z){try{document.fullscreenElement&&await document.exitFullscreen();try{screen.orientation?.unlock?.()}catch{}}catch{}U(!1)}else{try{const H=Y.current||document.documentElement;H.requestFullscreen?await H.requestFullscreen():H.webkitRequestFullscreen&&await H.webkitRequestFullscreen();try{await screen.orientation?.lock?.("landscape")}catch{}}catch(H){console.log("Fullscreen not supported:",H)}U(!0)}},[z]);I.useEffect(()=>{const H=()=>{if(!document.fullscreenElement){U(!1);try{screen.orientation?.unlock?.()}catch{}}};return document.addEventListener("fullscreenchange",H),document.addEventListener("webkitfullscreenchange",H),()=>{document.removeEventListener("fullscreenchange",H),document.removeEventListener("webkitfullscreenchange",H)}},[]);const F=I.useCallback(()=>{console.log("Iframe loaded for video:",a?.id),Ue.current=!0,setTimeout(()=>{Se||ie(!1)},1e3),oe.current&&clearTimeout(oe.current)},[a,Se]),Ce=I.useCallback(()=>{console.log("Iframe error for video:",a?.id),ie(!1),$(!0),a&&f?.(a.id)},[a,f]),pe=I.useCallback(()=>{a&&f?.(a.id);const H=g?.()||[],W=H.findIndex(Gt=>Gt.id===a?.id),Ee=H[W+1]||H[0];Ee&&Ee.id!==a?.id?n(Ee):M()},[a,f,g,n,M]);if(I.useCallback(()=>{xe(H=>H+1),$(!1),ie(!0),videoLoadedRef.current=!1},[]),!a)return null;const B=Oi(a.url),J=B?`https://www.youtube.com/embed/${B}?autoplay=1&rel=0&modestbranding=1&controls=1&disablekb=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}`:a.url;return d.jsx(Kn,{children:d.jsx(ge.div,{className:`video-player-overlay ${z?"fullscreen":""}`,ref:Y,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:d.jsxs(ge.div,{className:"video-player-container",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},children:[d.jsxs("div",{className:"video-player-header",children:[d.jsx("h2",{className:"video-title",children:a.title}),d.jsxs("div",{className:"video-controls",children:[d.jsx("button",{className:"control-btn favorite-btn",onClick:()=>c(a.id),title:Ct?"B yu thch":"Thm yu thch",children:Ct?"":""}),d.jsx("button",{className:"control-btn expand-btn",onClick:k,title:z?"Thu nh":"Phng to (xoay ngang)",children:""}),d.jsx("button",{className:"control-btn close-btn",onClick:M,title:"ng video",children:""})]})]}),d.jsxs("div",{className:"video-wrapper",children:[G&&!Se&&d.jsxs("div",{className:"video-loading",children:[d.jsx("div",{className:"loading-icon",children:""}),d.jsxs("p",{className:"loading-text",children:["ang ti video",d.jsx("span",{className:"loading-dots"})]})]}),Se?d.jsxs("div",{className:"video-error",children:[d.jsx("div",{className:"error-icon",children:""}),d.jsx("h3",{children:"Video khng kh dng"}),d.jsx("p",{children:"Video ny  b xa hoc khng cho php nhng."}),d.jsx("p",{className:"error-suggestion",children:"Hy chn video khc  xem nh!"}),d.jsxs("div",{className:"error-actions",children:[d.jsx("button",{className:"skip-btn primary",onClick:pe,children:" Xem video tip theo"}),d.jsx("button",{className:"close-error-btn",onClick:M,children:" ng"})]})]}):d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"youtube-block-overlay top-overlay"}),d.jsx("div",{className:"youtube-block-overlay bottom-right-overlay"}),d.jsx("div",{className:"youtube-block-overlay channel-overlay"}),d.jsx("div",{className:"youtube-block-overlay info-cards-overlay"}),d.jsx("iframe",{ref:we,src:J,title:a.title,width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-presentation",onLoad:F,onError:Ce,style:{opacity:G?0:1,transition:"opacity 0.3s ease"}},`${a.id}-${ee}`)]})]}),d.jsxs("div",{className:"video-info",children:[d.jsxs("div",{className:"video-nav-controls",children:[d.jsxs("button",{className:`nav-btn prev-btn ${P?"":"disabled"}`,onClick:qe,disabled:!P,title:"Video trc",children:[d.jsx(E1,{}),d.jsx("span",{className:"nav-text",children:"Trc"})]}),d.jsxs("span",{className:"video-position",children:[Oe+1," / ",Pe.length]}),d.jsxs("button",{className:`nav-btn next-btn ${Ve?"":"disabled"}`,onClick:et,disabled:!Ve,title:"Video sau",children:[d.jsx("span",{className:"nav-text",children:"Sau"}),d.jsx(T1,{})]})]}),d.jsxs("div",{className:"video-meta",children:[d.jsxs("span",{className:"channel-name",children:[" ",a.channel]}),d.jsx("span",{className:"age-badge",children:a.ageGroup==="all"?" Mi la tui":` ${a.ageGroup} tui`})]})]})]})})})}var ps=xv();const _h=()=>{const a=["+","-",""],n=a[Math.floor(Math.random()*a.length)];let l,c,o;switch(n){case"+":l=Math.floor(Math.random()*20)+1,c=Math.floor(Math.random()*20)+1,o=l+c;break;case"-":l=Math.floor(Math.random()*20)+10,c=Math.floor(Math.random()*l),o=l-c;break;case"":l=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1,o=l*c;break;default:l=1,c=1,o=2}return{question:`${l} ${n} ${c} = ?`,answer:o.toString()}},Ev=["","","","","","","","","","","","","","","","","","","","","","","",""],l_=async a=>{const n=Oi(a);if(!n)return{valid:!1,error:"URL khng hp l"};try{const l=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${n}&format=json`);if(l.ok){const c=await l.json();return{valid:!0,title:c.title,channel:c.author_name,thumbnail:`https://img.youtube.com/vi/${n}/mqdefault.jpg`}}else{if(l.status===404)return{valid:!1,error:"Video khng tn ti hoc  b xa"};if(l.status===401)return{valid:!1,error:"Video b hn ch, khng th nhng"}}return{valid:!1,error:"Khng th kim tra video"}}catch(l){return console.log("Validation failed:",l),{valid:!1,error:"Li kt ni, khng th kim tra video"}}},mC=async a=>{const n=await l_(a);return n.valid?{title:n.title,channel:n.channel,thumbnail:n.thumbnail}:null},Tv=async(a,n,l=null)=>{try{const c=`https://www.youtube.com/feeds/videos.xml?channel_id=${a}`,o=`https://api.allorigins.win/raw?url=${encodeURIComponent(c)}`,h=await fetch(o);if(!h.ok)throw new Error("Failed to fetch");const f=await h.text(),y=new DOMParser().parseFromString(f,"text/xml").querySelectorAll("entry"),x=[];return y.forEach((b,S)=>{if(S>=50)return;const z=b.querySelector("yt\\:videoId, videoId")?.textContent,U=b.querySelector("title")?.textContent,Y=b.querySelector("published")?.textContent;z&&U&&x.push({id:z,videoId:z,title:U,thumbnail:`https://img.youtube.com/vi/${z}/mqdefault.jpg`,url:`https://www.youtube.com/watch?v=${z}`,channel:n,publishedAt:Y})}),{videos:x,hasMore:!1}}catch(c){return console.error("Error fetching channel videos:",c),{videos:[],hasMore:!1}}},gC="/api/youtube-search",bh=async(a,n="",l=1)=>{const c=n?`${a} ${n}`:a;try{console.log("Searching YouTube:",c);const o=await fetch(gC,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c}),signal:AbortSignal.timeout(15e3)});if(!o.ok)throw new Error(`API error: ${o.status}`);const h=await o.json();return h.videos&&h.videos.length>0?(console.log("Found:",h.videos.length,"videos"),{videos:h.videos,hasMore:h.videos.length>=5,totalResults:h.totalResults||h.videos.length}):(console.log("No videos found"),{videos:[],hasMore:!1})}catch(o){return console.error("YouTube search error:",o.message),{videos:[],hasMore:!1}}};function pC({inHeader:a=!1}){const{parentMode:n,toggleParentMode:l,videos:c,channels:o,users:h,addVideo:f,updateVideo:g,deleteVideo:v,addChannel:y,deleteChannel:x,addUser:b,updateUser:S,deleteUser:z,dailyLimit:U,setDailyLimit:Y,resetToDefaults:G,initializeData:ie}=ti(),[Se,$]=I.useState(!1),[ee,xe]=I.useState(""),[oe,Ue]=I.useState(""),[we,Ct]=I.useState("videos"),[Pe,Oe]=I.useState(!1),[P,Ve]=I.useState({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),[qe,et]=I.useState({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),[M,k]=I.useState({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),[F,Ce]=I.useState(!1),[pe,B]=I.useState(()=>_h()),[J,H]=I.useState(null),[W,Ee]=I.useState(null),[Gt,ve]=I.useState(""),[At,qt]=I.useState("url"),[Et,ni]=I.useState(""),[Rt,ii]=I.useState(""),[tt,mt]=I.useState([]),[Tt,wn]=I.useState([]),[Yt,Pt]=I.useState(!1),[ml,gl]=I.useState(!1),[Vr,li]=I.useState(1),[wt,Cn]=I.useState(!1),[ai,Sa]=I.useState(!1),Vi=h.filter(E=>E.type==="child"),Gr=()=>{const E={videos:c,channels:o,users:h,settings:{dailyLimit:U},exportedAt:new Date().toISOString()},X=new Blob([JSON.stringify(E,null,2)],{type:"application/json"}),de=URL.createObjectURL(X),ue=document.createElement("a");ue.href=de,ue.download=`kid_video_backup_${new Date().toISOString().split("T")[0]}.json`,ue.click(),URL.revokeObjectURL(de),ve("  xut d liu thnh cng!"),setTimeout(()=>ve(""),3e3)},qs=E=>{const X=E.target.files[0];if(!X)return;const de=new FileReader;de.onload=async ue=>{try{const Je=JSON.parse(ue.target.result);if(Je.videos&&Array.isArray(Je.videos))for(const Qt of Je.videos)c.find(Ot=>Ot.id===Qt.id)||f(Qt);if(Je.channels&&Array.isArray(Je.channels))for(const Qt of Je.channels)o.find(Ot=>Ot.id===Qt.id)||y(Qt);if(Je.users&&Array.isArray(Je.users))for(const Qt of Je.users)h.find(Ot=>Ot.id===Qt.id)||b(Qt);ve("  nhp d liu thnh cng!"),setTimeout(()=>ve(""),3e3)}catch{ve(" File khng hp l"),setTimeout(()=>ve(""),3e3)}},de.readAsText(X),E.target.value=""};I.useEffect(()=>{const X=setTimeout(async()=>{if(P.url&&Oi(P.url)){gl(!0);const de=await mC(P.url);de&&Ve(ue=>({...ue,title:ue.title||de.title,channel:ue.channel||de.channel})),gl(!1)}},500);return()=>clearTimeout(X)},[P.url]),I.useEffect(()=>{(async()=>{if(Et&&At==="search"){Pt(!0),mt([]),li(1),Cn(!1);const X=o.find(de=>de.id===Et);if(X){const de=await Tv(X.channelId,X.name);mt(de.videos),Cn(de.hasMore)}Pt(!1)}})()},[Et,At,o]);const pl=async()=>{if(At==="keyword"){if(!Rt.trim()){mt([]);return}Pt(!0),li(1);const ue=await bh(Rt,"",1);mt(ue.videos),Cn(ue.hasMore),Pt(!1);return}if(!Rt.trim()){if(Et){Pt(!0),li(1);const ue=o.find(Je=>Je.id===Et);if(ue){const Je=await Tv(ue.channelId,ue.name);mt(Je.videos),Cn(Je.hasMore)}Pt(!1)}return}Pt(!0),li(1);const X=o.find(ue=>ue.id===Et)?.name||"",de=await bh(Rt,X,1);mt(de.videos),Cn(de.hasMore),Pt(!1)},Ys=async()=>{if(ai||!wt)return;Sa(!0);const E=Vr+1,de=(At==="keyword"?null:o.find(Je=>Je.id===Et))?.name||"",ue=await bh(Rt||"",de,E);if(ue.videos.length>0){const Je=new Set(tt.map(Ot=>Ot.videoId)),Qt=ue.videos.filter(Ot=>!Je.has(Ot.videoId));mt(Ot=>[...Ot,...Qt]),li(E),Cn(ue.hasMore)}else Cn(!1);Sa(!1)},si=E=>{wn(X=>X.find(ue=>ue.videoId===E.videoId)?X.filter(ue=>ue.videoId!==E.videoId):[...X,E])},xt=E=>Tt.some(X=>X.videoId===E),mn=E=>c.some(X=>Oi(X.url)===E),Nt=async()=>{if(Tt.length===0)return;const E=Et?o.find(X=>X.id===Et):null;try{for(const X of Tt)await f({url:X.url,title:X.title,channel:X.channel||E?.name||"YouTube",thumbnail:X.thumbnail,ageGroup:E?.ageGroup||"all",category:E?.category||"entertainment"});ve(`  thm ${Tt.length} video!`),setTimeout(()=>ve(""),2e3),wn([]),mt([]),ii(""),Oe(!1),qt("url")}catch{ve(" Li khi lu!")}},qr=()=>{if(n){l();return}B(_h()),$(!0),xe(""),Ue("")},Qs=()=>{ee===pe.answer?(l("bypass"),$(!1),xe(""),Ue("")):(Ue("Sai ri! Th li nh "),B(_h()),xe(""))},Yr=async()=>{if(!P.url||!P.title)return;ve(" ang kim tra video...");const E=await l_(P.url);if(!E.valid){ve(` ${E.error}`),setTimeout(()=>ve(""),3e3);return}const X=aC(P.url);try{await f({...P,thumbnail:X||"https://via.placeholder.com/320x180?text=Video"}),ve("  lu video!"),setTimeout(()=>ve(""),2e3)}catch{ve(" Li khi lu!")}Ve({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),Oe(!1),qt("url"),mt([]),wn([])},vl=async()=>{if(!(!qe.name||!qe.channelId)){try{await y(qe),ve("  lu knh!"),setTimeout(()=>ve(""),2e3)}catch{ve(" Li khi lu!")}et({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),Oe(!1)}},yl=async()=>{if(M.name){try{await b(M),ve("  thm b!"),setTimeout(()=>ve(""),2e3)}catch{ve(" Li khi lu!")}k({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),Oe(!1)}},_l=async()=>{if(J){try{await S(J.id,J),ve("  cp nht!"),setTimeout(()=>ve(""),2e3)}catch{ve(" Li khi lu!")}H(null)}},Dn=async()=>{if(W){try{await g(W.id,{title:W.title,channel:W.channel,ageGroup:W.ageGroup,category:W.category}),ve("  cp nht video!"),setTimeout(()=>ve(""),2e3)}catch{ve(" Li khi lu!")}Ee(null)}},Gi=E=>{if(J){const X=J.allowedCategories||[],de=X.includes(E)?X.filter(ue=>ue!==E):[...X,E];H({...J,allowedCategories:de})}else{const X=M.allowedCategories||[],de=X.includes(E)?X.filter(ue=>ue!==E):[...X,E];k({...M,allowedCategories:de})}},ci=()=>{Oe(!1),qt("url"),mt([]),wn([]),ii(""),ni(""),li(1),Cn(!1)};return d.jsxs(d.Fragment,{children:[d.jsxs(ge.button,{className:`parent-mode-btn ${a?"in-header":""}`,onClick:qr,whileHover:{scale:1.05},whileTap:{scale:.95},title:n?"Thot ch  ph huynh":"Ch  ph huynh",children:[d.jsx(j1,{}),a&&d.jsx("span",{className:"btn-label",children:"Ph huynh"})]}),ps.createPortal(d.jsx(Kn,{children:Se&&d.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>$(!1),children:d.jsxs(ge.div,{className:"pin-modal math-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:E=>E.stopPropagation(),children:[d.jsx("h3",{children:" Gii bi ton  vo"}),d.jsx("p",{className:"pin-hint",children:"Ch ngi ln mi gii c nhanh!"}),d.jsx("div",{className:"math-question",children:pe.question}),d.jsx("input",{type:"number",value:ee,onChange:E=>xe(E.target.value),placeholder:"Nhp p n...",className:"pin-input math-input",onKeyDown:E=>E.key==="Enter"&&Qs(),autoFocus:!0}),oe&&d.jsx("p",{className:"pin-error",children:oe}),d.jsxs("div",{className:"pin-actions",children:[d.jsx("button",{className:"cancel-btn",onClick:()=>$(!1),children:"Hy"}),d.jsx("button",{className:"submit-btn",onClick:Qs,children:"Tr li"})]})]})})}),document.body),ps.createPortal(d.jsx(Kn,{children:n&&d.jsxs(d.Fragment,{children:[d.jsx(ge.div,{className:"panel-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l()}),d.jsxs(ge.div,{className:"parent-panel",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[d.jsxs("div",{className:"panel-header",children:[d.jsx("h3",{children:" Ch  ph huynh"}),d.jsxs("div",{className:"panel-header-actions",children:[d.jsx("button",{className:"settings-btn",onClick:()=>Ce(!F),title:"Ci t",children:""}),d.jsx("button",{className:"close-panel-btn",onClick:()=>l(),title:"ng",children:""})]})]}),F&&d.jsxs("div",{className:"settings-section",children:[d.jsx("h4",{children:" Ci t"}),d.jsxs("div",{className:"setting-group",children:[d.jsx("label",{children:" Sao lu d liu:"}),d.jsx("p",{className:"storage-note",style:{marginTop:0},children:"D liu lu trong trnh duyt. Dng Xut/Nhp  chia s gia cc thit b."}),d.jsxs("div",{className:"storage-actions",children:[d.jsxs("button",{className:"export-btn",onClick:Gr,children:[d.jsx(x1,{})," Xut d liu"]}),d.jsxs("label",{className:"import-btn",children:[d.jsx(M1,{})," Nhp d liu",d.jsx("input",{type:"file",accept:".json",onChange:qs,hidden:!0})]})]})]}),d.jsxs("div",{className:"setting-item",children:[d.jsx("label",{children:"Gii hn xem/ngy (pht):"}),d.jsx("input",{type:"number",value:U,onChange:E=>Y(Number(E.target.value)),min:"10",max:"180"})]}),d.jsx("button",{className:"reset-btn",onClick:G,children:" Khi phc mc nh"})]}),d.jsxs("div",{className:"panel-tabs",children:[d.jsxs("button",{className:`tab-btn ${we==="videos"?"active":""}`,onClick:()=>Ct("videos"),children:[d.jsx(Nv,{})," ",d.jsx("span",{className:"tab-text",children:"Video"})," ",d.jsxs("span",{className:"tab-count",children:["(",c.length,")"]})]}),d.jsxs("button",{className:`tab-btn ${we==="channels"?"active":""}`,onClick:()=>Ct("channels"),children:[d.jsx(D1,{})," ",d.jsx("span",{className:"tab-text",children:"Knh"})," ",d.jsxs("span",{className:"tab-count",children:["(",o.length,")"]})]}),d.jsxs("button",{className:`tab-btn ${we==="users"?"active":""}`,onClick:()=>Ct("users"),children:[d.jsx(R1,{})," ",d.jsx("span",{className:"tab-text",children:"B"})," ",d.jsxs("span",{className:"tab-count",children:["(",Vi.length,")"]})]})]}),Gt&&d.jsx("div",{className:"save-message",children:Gt}),d.jsxs("div",{className:"panel-content",children:[we==="videos"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"add-btn",onClick:()=>Oe(!0),children:[d.jsx(yn,{})," Thm video"]}),d.jsx("div",{className:"item-list",children:c.map(E=>d.jsxs("div",{className:"list-item",children:[d.jsx("img",{src:E.thumbnail,alt:E.title,className:"item-thumb"}),d.jsxs("div",{className:"item-info",children:[d.jsx("span",{className:"item-title",children:E.title}),d.jsxs("span",{className:"item-meta",children:[E.channel,"  ",E.ageGroup,"  ",hn.find(X=>X.id===E.category)?.icon||""]})]}),d.jsx("button",{className:"edit-btn",onClick:()=>Ee(E),children:""}),d.jsx("button",{className:"delete-btn",onClick:()=>v(E.id),children:""})]},E.id))})]}),we==="channels"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"add-btn",onClick:()=>Oe(!0),children:[d.jsx(yn,{})," Thm knh"]}),d.jsx("div",{className:"item-list",children:o.map(E=>d.jsxs("div",{className:"list-item",children:[d.jsx("div",{className:"channel-icon",children:""}),d.jsxs("div",{className:"item-info",children:[d.jsx("span",{className:"item-title",children:E.name}),d.jsxs("span",{className:"item-meta",children:[E.ageGroup," tui"]})]}),d.jsx("button",{className:"delete-btn",onClick:()=>x(E.id),children:""})]},E.id))})]}),we==="users"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{className:"add-btn",onClick:()=>{H(null),Oe(!0)},children:[d.jsx(yn,{})," Thm b"]}),d.jsx("div",{className:"item-list",children:Vi.map(E=>d.jsxs("div",{className:"list-item",children:[d.jsx("div",{className:"channel-icon",children:E.avatar}),d.jsxs("div",{className:"item-info",children:[d.jsx("span",{className:"item-title",children:E.name}),d.jsxs("span",{className:"item-meta",children:[E.ageGroup," tui  ",E.dailyLimit,"p/ngy"]})]}),d.jsx("button",{className:"edit-btn",onClick:()=>H(E),children:""}),d.jsx("button",{className:"delete-btn",onClick:()=>z(E.id),children:""})]},E.id))})]})]})]})]})}),document.body),ps.createPortal(d.jsx(Kn,{children:J&&d.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>H(null),children:d.jsxs(ge.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),children:[d.jsx("button",{className:"close-modal",onClick:()=>H(null),children:""}),d.jsxs("div",{className:"modal-scroll-content",children:[d.jsxs("h3",{children:[" Chnh sa: ",J.name]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tn:"}),d.jsx("input",{type:"text",value:J.name,onChange:E=>H({...J,name:E.target.value})})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Avatar:"}),d.jsx("div",{className:"avatar-picker",children:Ev.map(E=>d.jsx("button",{className:`avatar-btn ${J.avatar===E?"active":""}`,onClick:()=>H({...J,avatar:E}),children:E},E))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:J.ageGroup||"0-3",onChange:E=>H({...J,ageGroup:E.target.value}),children:[d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Gii hn xem/ngy (pht):"}),d.jsx("input",{type:"number",value:J.dailyLimit,onChange:E=>H({...J,dailyLimit:Number(E.target.value)}),min:"10",max:"180"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch  c php xem:"}),d.jsx("div",{className:"category-picker",children:hn.map(E=>d.jsxs("button",{className:`category-chip ${(J.allowedCategories||[]).includes(E.id)?"active":""}`,style:{"--cat-color":E.color},onClick:()=>Gi(E.id),children:[E.icon," ",E.name]},E.id))})]}),d.jsx("button",{className:"submit-btn save-btn",onClick:_l,children:" Lu thay i"})]})]})})}),document.body),ps.createPortal(d.jsx(Kn,{children:W&&d.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Ee(null),children:d.jsxs(ge.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),children:[d.jsx("button",{className:"close-modal",onClick:()=>Ee(null),children:""}),d.jsxs("div",{className:"modal-scroll-content",children:[d.jsx("h3",{children:" Chnh sa video"}),d.jsx("div",{className:"video-preview",style:{marginBottom:"16px"},children:d.jsx("img",{src:W.thumbnail,alt:W.title,className:"preview-thumb",style:{width:"100%",borderRadius:"12px"}})}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tiu :"}),d.jsx("input",{type:"text",value:W.title,onChange:E=>Ee({...W,title:E.target.value})})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Knh:"}),d.jsx("input",{type:"text",value:W.channel,onChange:E=>Ee({...W,channel:E.target.value})})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:W.ageGroup||"all",onChange:E=>Ee({...W,ageGroup:E.target.value}),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:W.category||"entertainment",onChange:E=>Ee({...W,category:E.target.value}),children:hn.map(E=>d.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),d.jsx("button",{className:"submit-btn save-btn",onClick:Dn,children:" Lu thay i"})]})]})})}),document.body),ps.createPortal(d.jsx(Kn,{children:Pe&&d.jsx(ge.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:ci,children:d.jsxs(ge.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:E=>E.stopPropagation(),children:[d.jsx("button",{className:"close-modal",onClick:ci,children:""}),d.jsxs("div",{className:"modal-scroll-content",children:[we==="videos"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:" Thm video mi"}),d.jsxs("div",{className:"mode-toggle",children:[d.jsx("button",{className:`mode-btn ${At==="url"?"active":""}`,onClick:()=>{qt("url"),mt([]),wn([])},children:" Nhp URL"}),d.jsx("button",{className:`mode-btn ${At==="keyword"?"active":""}`,onClick:()=>{qt("keyword"),mt([]),wn([]),ni("")},children:" Tm video"}),o.length>0&&d.jsx("button",{className:`mode-btn ${At==="search"?"active":""}`,onClick:()=>qt("search"),children:" Tm t knh"})]}),At==="keyword"&&d.jsxs("div",{className:"keyword-search-section",children:[d.jsxs("div",{className:"search-box",children:[d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(Eh,{className:"search-icon"}),d.jsx("input",{type:"text",value:Rt,onChange:E=>ii(E.target.value),placeholder:"Nhp t kha tm kim...",onKeyDown:E=>E.key==="Enter"&&pl(),autoFocus:!0})]}),d.jsx("button",{className:"search-btn",onClick:pl,disabled:Yt||!Rt.trim(),children:Yt?"":""})]}),Yt&&d.jsxs("div",{className:"search-loading",children:[d.jsx("span",{className:"loading-spinner-small",children:""}),d.jsx("span",{children:"ang tm kim video..."})]}),!Yt&&tt.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"search-results-header",children:[d.jsxs("span",{children:[" ",tt.length," video"]}),Tt.length>0&&d.jsxs("span",{className:"selected-count",children:["  chn: ",Tt.length]})]}),d.jsx("div",{className:"search-results",children:tt.map(E=>{const X=mn(E.videoId),de=xt(E.videoId);return d.jsxs("div",{className:`search-result-item ${de?"selected":""} ${X?"in-library":""}`,onClick:()=>!X&&si(E),children:[d.jsxs("div",{className:"result-thumb-wrapper",children:[d.jsx("img",{src:E.thumbnail,alt:E.title,className:"result-thumb"}),de&&d.jsx("div",{className:"check-overlay",children:d.jsx(Sh,{})}),X&&d.jsx("div",{className:"in-library-badge",children:"  c"})]}),d.jsxs("div",{className:"result-info",children:[d.jsx("span",{className:"result-title",children:E.title}),d.jsx("span",{className:"result-channel",children:E.channel})]})]},E.videoId)})}),tt.length>=5&&d.jsx("button",{className:"load-more-btn",onClick:Ys,disabled:ai,children:ai?" ang ti...":" Tm thm video"}),Tt.length>0&&d.jsxs("button",{className:"submit-btn add-selected-btn",onClick:Nt,children:[d.jsx(yn,{})," Thm ",Tt.length," video  chn"]})]}),!Yt&&tt.length===0&&Rt.trim()&&d.jsxs("div",{className:"no-results",children:[d.jsx("p",{children:" Khng tm thy video"}),d.jsx("small",{children:"Th tm kim vi t kha khc"})]}),!Rt.trim()&&tt.length===0&&d.jsx("div",{className:"search-hint-box",children:d.jsx("p",{children:" Nhp t kha v nhn Enter hoc nt   tm video"})})]}),At==="search"&&o.length>0&&d.jsxs("div",{className:"channel-search-section",children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Chn knh:"}),d.jsxs("select",{value:Et,onChange:E=>{ni(E.target.value),mt([]),wn([]),ii("")},children:[d.jsx("option",{value:"",children:"-- Chn knh --"}),o.map(E=>d.jsx("option",{value:E.id,children:E.name},E.id))]})]}),Et&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"search-box",children:[d.jsxs("div",{className:"search-input-wrapper",children:[d.jsx(Eh,{className:"search-icon"}),d.jsx("input",{type:"text",value:Rt,onChange:E=>ii(E.target.value),placeholder:"Tm video trong knh...",onKeyDown:E=>E.key==="Enter"&&pl()})]}),d.jsx("button",{className:"search-btn",onClick:pl,disabled:Yt,children:Yt?"":""})]}),Yt&&d.jsxs("div",{className:"search-loading",children:[d.jsx("span",{className:"loading-spinner-small",children:""}),d.jsx("span",{children:"ang ti video t knh..."})]}),!Yt&&tt.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"search-results-header",children:[d.jsxs("span",{children:[" ",tt.length," video"]}),Tt.length>0&&d.jsxs("span",{className:"selected-count",children:["  chn: ",Tt.length]})]}),d.jsx("div",{className:"search-results",children:tt.map(E=>{const X=mn(E.videoId),de=xt(E.videoId);return d.jsxs("div",{className:`search-result-item ${de?"selected":""} ${X?"in-library":""}`,onClick:()=>!X&&si(E),children:[d.jsxs("div",{className:"result-thumb-wrapper",children:[d.jsx("img",{src:E.thumbnail,alt:E.title,className:"result-thumb"}),de&&d.jsx("div",{className:"check-overlay",children:d.jsx(Sh,{})}),X&&d.jsx("div",{className:"in-library-badge",children:"  c"})]}),d.jsxs("div",{className:"result-info",children:[d.jsx("span",{className:"result-title",children:E.title}),d.jsx("span",{className:"result-channel",children:E.channel})]})]},E.videoId)})}),tt.length>=5&&d.jsx("button",{className:"load-more-btn",onClick:Ys,disabled:ai,children:ai?" ang ti...":" Tm thm video"}),Tt.length>0&&d.jsxs("button",{className:"submit-btn add-selected-btn",onClick:Nt,children:[d.jsx(yn,{})," Thm ",Tt.length," video  chn"]})]}),!Yt&&tt.length===0&&Et&&d.jsxs("div",{className:"no-results",children:[d.jsx("p",{children:" Khng tm thy video"}),d.jsx("small",{children:"Th tm kim vi t kha khc hoc kim tra Channel ID"})]})]})]}),At==="url"&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"URL YouTube:"}),d.jsxs("div",{className:"input-with-icon",children:[d.jsx("input",{type:"url",value:P.url,onChange:E=>Ve({...P,url:E.target.value}),placeholder:"https://www.youtube.com/watch?v=..."}),ml&&d.jsx("span",{className:"loading-spinner",children:""})]})]}),P.url&&Oi(P.url)&&d.jsx("div",{className:"video-preview",children:d.jsx("img",{src:`https://img.youtube.com/vi/${Oi(P.url)}/mqdefault.jpg`,alt:"Preview",className:"preview-thumb"})}),d.jsxs("div",{className:"form-group",children:[d.jsxs("label",{children:["Tiu : ",ml&&d.jsx("span",{className:"auto-fill-hint",children:"(ang ti...)"})]}),d.jsx("input",{type:"text",value:P.title,onChange:E=>Ve({...P,title:E.target.value}),placeholder:"Tn video..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Knh:"}),d.jsx("input",{type:"text",value:P.channel,onChange:E=>Ve({...P,channel:E.target.value}),placeholder:"Tn knh..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:P.ageGroup,onChange:E=>Ve({...P,ageGroup:E.target.value}),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:P.category||"entertainment",onChange:E=>Ve({...P,category:E.target.value}),children:hn.map(E=>d.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),d.jsxs("button",{className:"submit-btn",onClick:Yr,children:[d.jsx(yn,{})," Thm video"]})]})]}),we==="channels"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:" Thm knh mi"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tn knh:"}),d.jsx("input",{type:"text",value:qe.name,onChange:E=>et({...qe,name:E.target.value}),placeholder:"Tn knh..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Channel ID:"}),d.jsx("input",{type:"text",value:qe.channelId,onChange:E=>et({...qe,channelId:E.target.value}),placeholder:"UCxxxxxx..."}),d.jsx("small",{className:"form-hint",children:"Ly t URL knh YouTube: youtube.com/channel/[Channel ID]"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:qe.ageGroup,onChange:E=>et({...qe,ageGroup:E.target.value}),children:[d.jsx("option",{value:"all",children:"Mi la tui"}),d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch :"}),d.jsx("select",{value:qe.category||"entertainment",onChange:E=>et({...qe,category:E.target.value}),children:hn.map(E=>d.jsxs("option",{value:E.id,children:[E.icon," ",E.name]},E.id))})]}),d.jsxs("button",{className:"submit-btn",onClick:vl,children:[d.jsx(yn,{})," Thm knh"]})]}),we==="users"&&d.jsxs(d.Fragment,{children:[d.jsx("h3",{children:" Thm b mi"}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Tn:"}),d.jsx("input",{type:"text",value:M.name,onChange:E=>k({...M,name:E.target.value}),placeholder:"Tn b..."})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Avatar:"}),d.jsx("div",{className:"avatar-picker",children:Ev.map(E=>d.jsx("button",{className:`avatar-btn ${M.avatar===E?"active":""}`,onClick:()=>k({...M,avatar:E}),children:E},E))})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:" tui:"}),d.jsxs("select",{value:M.ageGroup,onChange:E=>k({...M,ageGroup:E.target.value}),children:[d.jsx("option",{value:"0-3",children:"0-3 tui"}),d.jsx("option",{value:"3-6",children:"3-6 tui"}),d.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Gii hn xem/ngy (pht):"}),d.jsx("input",{type:"number",value:M.dailyLimit,onChange:E=>k({...M,dailyLimit:Number(E.target.value)}),min:"10",max:"180"})]}),d.jsxs("div",{className:"form-group",children:[d.jsx("label",{children:"Ch  c php xem:"}),d.jsx("div",{className:"category-picker",children:hn.map(E=>d.jsxs("button",{className:`category-chip ${(M.allowedCategories||[]).includes(E.id)?"active":""}`,style:{"--cat-color":E.color},onClick:()=>Gi(E.id),children:[E.icon," ",E.name]},E.id))})]}),d.jsxs("button",{className:"submit-btn",onClick:yl,children:[d.jsx(yn,{})," Thm b"]})]})]})]})})}),document.body)]})}function vC(){const{users:a,login:n,initializeData:l,isLoading:c}=ti();I.useEffect(()=>{l()},[]);const o=a.filter(h=>h.type==="child");return c?d.jsx("div",{className:"login-screen",children:d.jsxs("div",{className:"loading-container",children:[d.jsx("div",{className:"loading-spinner large"}),d.jsx("p",{children:"ang ti..."})]})}):d.jsx("div",{className:"login-screen",children:d.jsxs(ge.div,{className:"login-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[d.jsxs("div",{className:"login-header",children:[d.jsx("h1",{children:" Kid Video"}),d.jsx("p",{children:"Chn ti khon ca b"})]}),d.jsx("div",{className:"user-grid",children:o.map((h,f)=>d.jsxs(ge.button,{className:"user-card",onClick:()=>n(h.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:f*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:[d.jsx("div",{className:"user-avatar",children:h.avatar}),d.jsx("span",{className:"user-name",children:h.name}),d.jsxs("span",{className:"user-age",children:[h.ageGroup," tui"]})]},h.id))}),d.jsx("div",{className:"login-footer",children:d.jsx("p",{children:" Video an ton cho b yu"})})]})})}function yC(){const{currentUser:a,todayWatchTime:n,dailyLimit:l,logout:c,initializeData:o,setVideos:h,setUsers:f,setChannels:g}=ti(),v=Math.min(n/l*100,100);return I.useEffect(()=>{o();const y=P3(S=>{console.log("Videos synced:",S.length),h(S)}),x=eC(S=>{console.log("Users synced:",S.length),f(S)}),b=tC(S=>{console.log("Channels synced:",S.length),g(S)});return()=>{y(),x(),b()}},[]),a?d.jsxs("div",{className:"app",children:[d.jsxs(ge.header,{className:"header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[d.jsxs("div",{className:"header-content",children:[d.jsx(ge.h1,{className:"app-title",whileHover:{scale:1.05},children:" Kid Video"}),d.jsx("p",{className:"app-subtitle",children:"Video an ton cho b yu"})]}),d.jsxs("div",{className:"user-info",children:[d.jsxs("span",{className:"current-user",children:[d.jsx("span",{className:"user-avatar-small",children:a.avatar}),d.jsx("span",{className:"user-name-small",children:a.name})]}),d.jsxs("button",{className:"logout-btn",onClick:c,children:[d.jsx(w1,{})," i b"]}),d.jsx(pC,{inHeader:!0})]}),d.jsxs("div",{className:"watch-time-indicator",children:[d.jsx("span",{className:"watch-time-label",children:" Thi gian xem hm nay"}),d.jsx("div",{className:"watch-time-bar",children:d.jsx(ge.div,{className:"watch-time-progress",initial:{width:0},animate:{width:`${v}%`},style:{background:v>80?"#ff6b6b":v>50?"#ffa502":"#84fab0"}})}),d.jsxs("span",{className:"watch-time-text",children:[n,"/",l," pht"]})]})]}),d.jsxs("main",{className:"main-content",children:[d.jsxs(ge.div,{className:"controls",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[d.jsx(cC,{}),d.jsx(oC,{})]}),d.jsx(rC,{}),d.jsx(hC,{})]}),d.jsx(dC,{}),d.jsx("footer",{className:"footer",children:d.jsx("p",{children:" An ton & Thn thin vi tr em"})})]}):d.jsx(vC,{})}S1.createRoot(document.getElementById("root")).render(d.jsx(I.StrictMode,{children:d.jsx(yC,{})}));
