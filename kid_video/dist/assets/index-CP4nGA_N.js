import{r as p1,R as tr,a as V,j as m,m as _e,A as xi}from"./motion-DRm28CPu.js";import{r as Nv}from"./vendor-DX_WDAl5.js";import{G as ut}from"./icons-k-IPNWRF.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const f of h.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&c(f)}).observe(document,{childList:!0,subtree:!0});function l(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(o){if(o.ep)return;o.ep=!0;const h=l(o);fetch(o.href,h)}})();var th={exports:{}},as={},nh={exports:{}},ih={};var Np;function v1(){return Np||(Np=1,(function(a){function n(D,H){var G=D.length;D.push(H);e:for(;0<G;){var ge=G-1>>>1,be=D[ge];if(0<o(be,H))D[ge]=H,D[G]=be,G=ge;else break e}}function l(D){return D.length===0?null:D[0]}function c(D){if(D.length===0)return null;var H=D[0],G=D.pop();if(G!==H){D[0]=G;e:for(var ge=0,be=D.length,U=be>>>1;ge<U;){var ee=2*(ge+1)-1,de=D[ee],J=ee+1,Ze=D[J];if(0>o(de,G))J<be&&0>o(Ze,de)?(D[ge]=Ze,D[J]=G,ge=J):(D[ge]=de,D[ee]=G,ge=ee);else if(J<be&&0>o(Ze,G))D[ge]=Ze,D[J]=G,ge=J;else break e}}return H}function o(D,H){var G=D.sortIndex-H.sortIndex;return G!==0?G:D.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var v=[],_=[],E=1,y=null,S=3,z=!1,L=!1,Q=!1,I=!1,P=typeof setTimeout=="function"?setTimeout:null,Ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function X(D){for(var H=l(_);H!==null;){if(H.callback===null)c(_);else if(H.startTime<=D)c(_),H.sortIndex=H.expirationTime,n(v,H);else break;H=l(_)}}function me(D){if(Q=!1,X(D),!L)if(l(v)!==null)L=!0,xe||(xe=!0,Le());else{var H=l(_);H!==null&&Ae(me,H.startTime-D)}}var xe=!1,Ce=-1,Ge=5,Gt=-1;function Ve(){return I?!0:!(a.unstable_now()-Gt<Ge)}function fe(){if(I=!1,xe){var D=a.unstable_now();Gt=D;var H=!0;try{e:{L=!1,Q&&(Q=!1,Ne(Ce),Ce=-1),z=!0;var G=S;try{t:{for(X(D),y=l(v);y!==null&&!(y.expirationTime>D&&Ve());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,S=y.priorityLevel;var be=ge(y.expirationTime<=D);if(D=a.unstable_now(),typeof be=="function"){y.callback=be,X(D),H=!0;break t}y===l(v)&&c(v),X(D)}else c(v);y=l(v)}if(y!==null)H=!0;else{var U=l(_);U!==null&&Ae(me,U.startTime-D),H=!1}}break e}finally{y=null,S=G,z=!1}H=void 0}}finally{H?Le():xe=!1}}}var Le;if(typeof ie=="function")Le=function(){ie(fe)};else if(typeof MessageChannel<"u"){var Be=new MessageChannel,ht=Be.port2;Be.port1.onmessage=fe,Le=function(){ht.postMessage(null)}}else Le=function(){P(fe,0)};function Ae(D,H){Ce=P(function(){D(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(D){D.callback=null},a.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<D?Math.floor(1e3/D):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(D){switch(S){case 1:case 2:case 3:var H=3;break;default:H=S}var G=S;S=H;try{return D()}finally{S=G}},a.unstable_requestPaint=function(){I=!0},a.unstable_runWithPriority=function(D,H){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var G=S;S=D;try{return H()}finally{S=G}},a.unstable_scheduleCallback=function(D,H,G){var ge=a.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ge+G:ge):G=ge,D){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=G+be,D={id:E++,callback:H,priorityLevel:D,startTime:G,expirationTime:be,sortIndex:-1},G>ge?(D.sortIndex=G,n(_,D),l(v)===null&&D===l(_)&&(Q?(Ne(Ce),Ce=-1):Q=!0,Ae(me,G-ge))):(D.sortIndex=be,n(v,D),L||z||(L=!0,xe||(xe=!0,Le()))),D},a.unstable_shouldYield=Ve,a.unstable_wrapCallback=function(D){var H=S;return function(){var G=S;S=H;try{return D.apply(this,arguments)}finally{S=G}}}})(ih)),ih}var xp;function _1(){return xp||(xp=1,nh.exports=v1()),nh.exports}var Ap;function y1(){if(Ap)return as;Ap=1;var a=_1(),n=p1(),l=Nv();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(c(188))}function _(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(c(188));return t!==e?null:e}for(var i=e,s=t;;){var r=i.return;if(r===null)break;var u=r.alternate;if(u===null){if(s=r.return,s!==null){i=s;continue}break}if(r.child===u.child){for(u=r.child;u;){if(u===i)return v(r),e;if(u===s)return v(r),t;u=u.sibling}throw Error(c(188))}if(i.return!==s.return)i=r,s=u;else{for(var d=!1,p=r.child;p;){if(p===i){d=!0,i=r,s=u;break}if(p===s){d=!0,s=r,i=u;break}p=p.sibling}if(!d){for(p=u.child;p;){if(p===i){d=!0,i=u,s=r;break}if(p===s){d=!0,s=u,i=r;break}p=p.sibling}if(!d)throw Error(c(189))}}if(i.alternate!==s)throw Error(c(190))}if(i.tag!==3)throw Error(c(188));return i.stateNode.current===i?e:t}function E(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=E(e),t!==null)return t;e=e.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Ce=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),Gt=Symbol.for("react.activity"),Ve=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Be=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Be?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case P:return"Profiler";case I:return"StrictMode";case me:return"Suspense";case xe:return"SuspenseList";case Gt:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case L:return"Portal";case ie:return e.displayName||"Context";case Ne:return(e._context.displayName||"Context")+".Consumer";case X:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ce:return t=e.displayName||null,t!==null?t:ht(e.type)||"Memo";case Ge:t=e._payload,e=e._init;try{return ht(e(t))}catch{}}return null}var Ae=Array.isArray,D=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},ge=[],be=-1;function U(e){return{current:e}}function ee(e){0>be||(e.current=ge[be],ge[be]=null,be--)}function de(e,t){be++,ge[be]=e.current,e.current=t}var J=U(null),Ze=U(null),Tt=U(null),ft=U(null);function ei(e,t){switch(de(Tt,t),de(Ze,e),de(J,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Kg(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Kg(t),e=Zg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}ee(J),de(J,e)}function dt(){ee(J),ee(Ze),ee(Tt)}function An(e){e.memoizedState!==null&&de(ft,e);var t=J.current,i=Zg(t,e.type);t!==i&&(de(Ze,e),de(J,i))}function mt(e){Ze.current===e&&(ee(J),ee(Ze)),ft.current===e&&(ee(ft),ts._currentValue=G)}var gt,Nt;function xt(e){if(gt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);gt=t&&t[1]||"",Nt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gt+e+Nt}var jt=!1;function Wt(e,t){if(!e||jt)return"";jt=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(M){var w=M}Reflect.construct(e,[],j)}else{try{j.call()}catch(M){w=M}e.call(j.prototype)}}else{try{throw Error()}catch(M){w=M}(j=e())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(M){if(M&&w&&typeof M.stack=="string")return[M.stack,w.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=s.DetermineComponentFrameRoot(),d=u[0],p=u[1];if(d&&p){var b=d.split(`
`),A=p.split(`
`);for(r=s=0;s<b.length&&!b[s].includes("DetermineComponentFrameRoot");)s++;for(;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;if(s===b.length||r===A.length)for(s=b.length-1,r=A.length-1;1<=s&&0<=r&&b[s]!==A[r];)r--;for(;1<=s&&0<=r;s--,r--)if(b[s]!==A[r]){if(s!==1||r!==1)do if(s--,r--,0>r||b[s]!==A[r]){var O=`
`+b[s].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=s&&0<=r);break}}}finally{jt=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?xt(i):""}function Ls(e,t){switch(e.tag){case 26:case 27:case 5:return xt(e.type);case 16:return xt("Lazy");case 13:return e.child!==t&&t!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Wt(e.type,!1);case 11:return Wt(e.type.render,!1);case 1:return Wt(e.type,!0);case 31:return xt("Activity");default:return""}}function ha(e){try{var t="",i=null;do t+=Ls(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var fa=Object.prototype.hasOwnProperty,bn=a.unstable_scheduleCallback,da=a.unstable_cancelCallback,Sn=a.unstable_shouldYield,Li=a.unstable_requestPaint,Et=a.unstable_now,Bs=a.unstable_getCurrentPriorityLevel,Hs=a.unstable_ImmediatePriority,Is=a.unstable_UserBlockingPriority,wn=a.unstable_NormalPriority,ks=a.unstable_LowPriority,ma=a.unstable_IdlePriority,Vs=a.log,Gs=a.unstable_setDisableYieldValue,ti=null,At=null;function hn(e){if(typeof Vs=="function"&&Gs(e),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(ti,e)}catch{}}var wt=Math.clz32?Math.clz32:Gr,kr=Math.log,Vr=Math.LN2;function Gr(e){return e>>>=0,e===0?32:31-(kr(e)/Vr|0)|0}var Bi=256,Hi=262144,N=4194304;function Y(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ce(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var r=0,u=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=s&134217727;return p!==0?(s=p&~u,s!==0?r=Y(s):(d&=p,d!==0?r=Y(d):i||(i=p&~e,i!==0&&(r=Y(i))))):(p=s&~u,p!==0?r=Y(p):d!==0?r=Y(d):i||(i=s&~e,i!==0&&(r=Y(i)))),r===0?0:t!==0&&t!==r&&(t&u)===0&&(u=r&-r,i=t&-t,u>=i||u===32&&(i&4194048)!==0)?t:r}function re(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Je(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qt(){var e=N;return N<<=1,(N&62914560)===0&&(N=4194304),e}function Dt(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function ga(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ly(e,t,i,s,r,u){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,b=e.expirationTimes,A=e.hiddenUpdates;for(i=d&~i;0<i;){var O=31-wt(i),j=1<<O;p[O]=0,b[O]=-1;var w=A[O];if(w!==null)for(A[O]=null,O=0;O<w.length;O++){var M=w[O];M!==null&&(M.lane&=-536870913)}i&=~j}s!==0&&Mf(e,s,0),u!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=u&~(d&~t))}function Mf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-wt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Of(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-wt(i),r=1<<s;r&t|e[s]&t&&(e[s]|=t),i&=~r}}function Rf(e,t){var i=t&-t;return i=(i&42)!==0?1:qr(i),(i&(e.suspendedLanes|t))!==0?0:i}function qr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yr(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function jf(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:_p(e.type))}function zf(e,t){var i=H.p;try{return H.p=e,t()}finally{H.p=i}}var ni=Math.random().toString(36).slice(2),pt="__reactFiber$"+ni,zt="__reactProps$"+ni,ul="__reactContainer$"+ni,Qr="__reactEvents$"+ni,ay="__reactListeners$"+ni,sy="__reactHandles$"+ni,Uf="__reactResources$"+ni,pa="__reactMarker$"+ni;function Fr(e){delete e[pt],delete e[zt],delete e[Qr],delete e[ay],delete e[sy]}function hl(e){var t=e[pt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[ul]||i[pt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=np(e);e!==null;){if(i=e[pt])return i;e=np(e)}return t}e=i,i=e.parentNode}return null}function fl(e){if(e=e[pt]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function va(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function dl(e){var t=e[Uf];return t||(t=e[Uf]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function st(e){e[pa]=!0}var Lf=new Set,Bf={};function Ii(e,t){ml(e,t),ml(e+"Capture",t)}function ml(e,t){for(Bf[e]=t,e=0;e<t.length;e++)Lf.add(t[e])}var cy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hf={},If={};function ry(e){return fa.call(If,e)?!0:fa.call(Hf,e)?!1:cy.test(e)?If[e]=!0:(Hf[e]=!0,!1)}function qs(e,t,i){if(ry(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ys(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Dn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function oy(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var r=s.get,u=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(d){i=""+d,u.call(this,d)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){if(!e._valueTracker){var t=kf(e)?"checked":"value";e._valueTracker=oy(e,t,""+e[t])}}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=kf(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Qs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var uy=/[\n"\\]/g;function Pt(e){return e.replace(uy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Kr(e,t,i,s,r,u,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?Zr(e,d,$t(t)):i!=null?Zr(e,d,$t(i)):s!=null&&e.removeAttribute("value"),r==null&&u!=null&&(e.defaultChecked=!!u),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+$t(p):e.removeAttribute("name")}function Gf(e,t,i,s,r,u,d,p){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||i!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Xr(e);return}i=i!=null?""+$t(i):"",t=t!=null?""+$t(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=p?e.checked:!!s,e.defaultChecked=!!s,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),Xr(e)}function Zr(e,t,i){t==="number"&&Qs(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function gl(e,t,i,s){if(e=e.options,t){t={};for(var r=0;r<i.length;r++)t["$"+i[r]]=!0;for(i=0;i<e.length;i++)r=t.hasOwnProperty("$"+e[i].value),e[i].selected!==r&&(e[i].selected=r),r&&s&&(e[i].defaultSelected=!0)}else{for(i=""+$t(i),t=null,r=0;r<e.length;r++){if(e[r].value===i){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function qf(e,t,i){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+$t(i):""}function Yf(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(c(92));if(Ae(s)){if(1<s.length)throw Error(c(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=$t(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Xr(e)}function pl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var hy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qf(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||hy.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function Ff(e,t,i){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&i[r]!==s&&Qf(e,r,s)}else for(var u in t)t.hasOwnProperty(u)&&Qf(e,u,t[u])}function Jr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(e){return dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Mn(){}var Wr=null;function $r(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vl=null,_l=null;function Xf(e){var t=fl(e);if(t&&(e=t.stateNode)){var i=e[zt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Kr(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Pt(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var r=s[zt]||null;if(!r)throw Error(c(90));Kr(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Vf(s)}break e;case"textarea":qf(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&gl(e,!!i.multiple,t,!1)}}}var Pr=!1;function Kf(e,t,i){if(Pr)return e(t,i);Pr=!0;try{var s=e(t);return s}finally{if(Pr=!1,(vl!==null||_l!==null)&&(jc(),vl&&(t=vl,e=_l,_l=vl=null,Xf(t),e)))for(t=0;t<e.length;t++)Xf(e[t])}}function _a(e,t){var i=e.stateNode;if(i===null)return null;var s=i[zt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(c(231,t,typeof i));return i}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),eo=!1;if(On)try{var ya={};Object.defineProperty(ya,"passive",{get:function(){eo=!0}}),window.addEventListener("test",ya,ya),window.removeEventListener("test",ya,ya)}catch{eo=!1}var ii=null,to=null,Xs=null;function Zf(){if(Xs)return Xs;var e,t=to,i=t.length,s,r="value"in ii?ii.value:ii.textContent,u=r.length;for(e=0;e<i&&t[e]===r[e];e++);var d=i-e;for(s=1;s<=d&&t[i-s]===r[u-s];s++);return Xs=r.slice(e,1<s?1-s:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zs(){return!0}function Jf(){return!1}function Ut(e){function t(i,s,r,u,d){this._reactName=i,this._targetInst=r,this.type=s,this.nativeEvent=u,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(u):u[p]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Zs:Jf,this.isPropagationStopped=Jf,this}return y(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Zs)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Zs)},persist:function(){},isPersistent:Zs}),t}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=Ut(ki),ba=y({},ki,{view:0,detail:0}),my=Ut(ba),no,io,Sa,Ws=y({},ba,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ao,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(no=e.screenX-Sa.screenX,io=e.screenY-Sa.screenY):io=no=0,Sa=e),no)},movementY:function(e){return"movementY"in e?e.movementY:io}}),Wf=Ut(Ws),gy=y({},Ws,{dataTransfer:0}),py=Ut(gy),vy=y({},ba,{relatedTarget:0}),lo=Ut(vy),_y=y({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),yy=Ut(_y),by=y({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sy=Ut(by),Cy=y({},ki,{data:0}),$f=Ut(Cy),Ey={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ty={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ny={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ny[e])?!!t[e]:!1}function ao(){return xy}var Ay=y({},ba,{key:function(e){if(e.key){var t=Ey[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ty[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ao,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wy=Ut(Ay),Dy=y({},Ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pf=Ut(Dy),My=y({},ba,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ao}),Oy=Ut(My),Ry=y({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),jy=Ut(Ry),zy=y({},Ws,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=Ut(zy),Ly=y({},ki,{newState:0,oldState:0}),By=Ut(Ly),Hy=[9,13,27,32],so=On&&"CompositionEvent"in window,Ca=null;On&&"documentMode"in document&&(Ca=document.documentMode);var Iy=On&&"TextEvent"in window&&!Ca,ed=On&&(!so||Ca&&8<Ca&&11>=Ca),td=" ",nd=!1;function id(e,t){switch(e){case"keyup":return Hy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ld(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var yl=!1;function ky(e,t){switch(e){case"compositionend":return ld(t);case"keypress":return t.which!==32?null:(nd=!0,td);case"textInput":return e=t.data,e===td&&nd?null:e;default:return null}}function Vy(e,t){if(yl)return e==="compositionend"||!so&&id(e,t)?(e=Zf(),Xs=to=ii=null,yl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ed&&t.locale!=="ko"?null:t.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Gy[e.type]:t==="textarea"}function sd(e,t,i,s){vl?_l?_l.push(s):_l=[s]:vl=s,t=kc(t,"onChange"),0<t.length&&(i=new Js("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Ea=null,Ta=null;function qy(e){Gg(e,0)}function $s(e){var t=va(e);if(Vf(t))return e}function cd(e,t){if(e==="change")return t}var rd=!1;if(On){var co;if(On){var ro="oninput"in document;if(!ro){var od=document.createElement("div");od.setAttribute("oninput","return;"),ro=typeof od.oninput=="function"}co=ro}else co=!1;rd=co&&(!document.documentMode||9<document.documentMode)}function ud(){Ea&&(Ea.detachEvent("onpropertychange",hd),Ta=Ea=null)}function hd(e){if(e.propertyName==="value"&&$s(Ta)){var t=[];sd(t,Ta,e,$r(e)),Kf(qy,t)}}function Yy(e,t,i){e==="focusin"?(ud(),Ea=t,Ta=i,Ea.attachEvent("onpropertychange",hd)):e==="focusout"&&ud()}function Qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $s(Ta)}function Fy(e,t){if(e==="click")return $s(t)}function Xy(e,t){if(e==="input"||e==="change")return $s(t)}function Ky(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Ky;function Na(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var r=i[s];if(!fa.call(t,r)||!Yt(e[r],t[r]))return!1}return!0}function fd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dd(e,t){var i=fd(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=fd(i)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function gd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Qs(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Qs(e.document)}return t}function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Zy=On&&"documentMode"in document&&11>=document.documentMode,bl=null,uo=null,xa=null,ho=!1;function pd(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ho||bl==null||bl!==Qs(s)||(s=bl,"selectionStart"in s&&oo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xa&&Na(xa,s)||(xa=s,s=kc(uo,"onSelect"),0<s.length&&(t=new Js("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=bl)))}function Vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Sl={animationend:Vi("Animation","AnimationEnd"),animationiteration:Vi("Animation","AnimationIteration"),animationstart:Vi("Animation","AnimationStart"),transitionrun:Vi("Transition","TransitionRun"),transitionstart:Vi("Transition","TransitionStart"),transitioncancel:Vi("Transition","TransitionCancel"),transitionend:Vi("Transition","TransitionEnd")},fo={},vd={};On&&(vd=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Gi(e){if(fo[e])return fo[e];if(!Sl[e])return e;var t=Sl[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in vd)return fo[e]=t[i];return e}var _d=Gi("animationend"),yd=Gi("animationiteration"),bd=Gi("animationstart"),Jy=Gi("transitionrun"),Wy=Gi("transitionstart"),$y=Gi("transitioncancel"),Sd=Gi("transitionend"),Cd=new Map,mo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");mo.push("scrollEnd");function fn(e,t){Cd.set(e,t),Ii(t,[e])}var Ps=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},en=[],Cl=0,go=0;function ec(){for(var e=Cl,t=go=Cl=0;t<e;){var i=en[t];en[t++]=null;var s=en[t];en[t++]=null;var r=en[t];en[t++]=null;var u=en[t];if(en[t++]=null,s!==null&&r!==null){var d=s.pending;d===null?r.next=r:(r.next=d.next,d.next=r),s.pending=r}u!==0&&Ed(i,r,u)}}function tc(e,t,i,s){en[Cl++]=e,en[Cl++]=t,en[Cl++]=i,en[Cl++]=s,go|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function po(e,t,i,s){return tc(e,t,i,s),nc(e)}function qi(e,t){return tc(e,null,null,t),nc(e)}function Ed(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var r=!1,u=e.return;u!==null;)u.childLanes|=i,s=u.alternate,s!==null&&(s.childLanes|=i),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(r=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,r&&t!==null&&(r=31-wt(i),e=u.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=i|536870912),u):null}function nc(e){if(50<Ka)throw Ka=0,Nu=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var El={};function Py(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qt(e,t,i,s){return new Py(e,t,i,s)}function vo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var i=e.alternate;return i===null?(i=Qt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Td(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ic(e,t,i,s,r,u){var d=0;if(s=e,typeof e=="function")vo(e)&&(d=1);else if(typeof e=="string")d=l1(e,i,J.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Gt:return e=Qt(31,i,t,r),e.elementType=Gt,e.lanes=u,e;case Q:return Yi(i.children,r,u,t);case I:d=8,r|=24;break;case P:return e=Qt(12,i,t,r|2),e.elementType=P,e.lanes=u,e;case me:return e=Qt(13,i,t,r),e.elementType=me,e.lanes=u,e;case xe:return e=Qt(19,i,t,r),e.elementType=xe,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ie:d=10;break e;case Ne:d=9;break e;case X:d=11;break e;case Ce:d=14;break e;case Ge:d=16,s=null;break e}d=29,i=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=Qt(d,i,t,r),t.elementType=e,t.type=s,t.lanes=u,t}function Yi(e,t,i,s){return e=Qt(7,e,s,t),e.lanes=i,e}function _o(e,t,i){return e=Qt(6,e,null,t),e.lanes=i,e}function Nd(e){var t=Qt(18,null,null,0);return t.stateNode=e,t}function yo(e,t,i){return t=Qt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xd=new WeakMap;function tn(e,t){if(typeof e=="object"&&e!==null){var i=xd.get(e);return i!==void 0?i:(t={value:e,source:t,stack:ha(t)},xd.set(e,t),t)}return{value:e,source:t,stack:ha(t)}}var Tl=[],Nl=0,lc=null,Aa=0,nn=[],ln=0,li=null,Cn=1,En="";function jn(e,t){Tl[Nl++]=Aa,Tl[Nl++]=lc,lc=e,Aa=t}function Ad(e,t,i){nn[ln++]=Cn,nn[ln++]=En,nn[ln++]=li,li=e;var s=Cn;e=En;var r=32-wt(s)-1;s&=~(1<<r),i+=1;var u=32-wt(t)+r;if(30<u){var d=r-r%5;u=(s&(1<<d)-1).toString(32),s>>=d,r-=d,Cn=1<<32-wt(t)+r|i<<r|s,En=u+e}else Cn=1<<u|i<<r|s,En=e}function bo(e){e.return!==null&&(jn(e,1),Ad(e,1,0))}function So(e){for(;e===lc;)lc=Tl[--Nl],Tl[Nl]=null,Aa=Tl[--Nl],Tl[Nl]=null;for(;e===li;)li=nn[--ln],nn[ln]=null,En=nn[--ln],nn[ln]=null,Cn=nn[--ln],nn[ln]=null}function wd(e,t){nn[ln++]=Cn,nn[ln++]=En,nn[ln++]=li,Cn=t.id,En=t.overflow,li=e}var vt=null,He=null,he=!1,ai=null,an=!1,Co=Error(c(519));function si(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw wa(tn(t,e)),Co}function Dd(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[pt]=e,t[zt]=s,i){case"dialog":ae("cancel",t),ae("close",t);break;case"iframe":case"object":case"embed":ae("load",t);break;case"video":case"audio":for(i=0;i<Ja.length;i++)ae(Ja[i],t);break;case"source":ae("error",t);break;case"img":case"image":case"link":ae("error",t),ae("load",t);break;case"details":ae("toggle",t);break;case"input":ae("invalid",t),Gf(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ae("invalid",t);break;case"textarea":ae("invalid",t),Yf(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||Fg(t.textContent,i)?(s.popover!=null&&(ae("beforetoggle",t),ae("toggle",t)),s.onScroll!=null&&ae("scroll",t),s.onScrollEnd!=null&&ae("scrollend",t),s.onClick!=null&&(t.onclick=Mn),t=!0):t=!1,t||si(e,!0)}function Md(e){for(vt=e.return;vt;)switch(vt.tag){case 5:case 31:case 13:an=!1;return;case 27:case 3:an=!0;return;default:vt=vt.return}}function xl(e){if(e!==vt)return!1;if(!he)return Md(e),he=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ku(e.type,e.memoizedProps)),i=!i),i&&He&&si(e),Md(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));He=tp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));He=tp(e)}else t===27?(t=He,bi(e.type)?(e=Qu,Qu=null,He=e):He=t):He=vt?cn(e.stateNode.nextSibling):null;return!0}function Qi(){He=vt=null,he=!1}function Eo(){var e=ai;return e!==null&&(It===null?It=e:It.push.apply(It,e),ai=null),e}function wa(e){ai===null?ai=[e]:ai.push(e)}var To=U(null),Fi=null,zn=null;function ci(e,t,i){de(To,t._currentValue),t._currentValue=i}function Un(e){e._currentValue=To.current,ee(To)}function No(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function xo(e,t,i,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var u=r.dependencies;if(u!==null){var d=r.child;u=u.firstContext;e:for(;u!==null;){var p=u;u=r;for(var b=0;b<t.length;b++)if(p.context===t[b]){u.lanes|=i,p=u.alternate,p!==null&&(p.lanes|=i),No(u.return,i,e),s||(d=null);break e}u=p.next}}else if(r.tag===18){if(d=r.return,d===null)throw Error(c(341));d.lanes|=i,u=d.alternate,u!==null&&(u.lanes|=i),No(d,i,e),d=null}else d=r.child;if(d!==null)d.return=r;else for(d=r;d!==null;){if(d===e){d=null;break}if(r=d.sibling,r!==null){r.return=d.return,d=r;break}d=d.return}r=d}}function Al(e,t,i,s){e=null;for(var r=t,u=!1;r!==null;){if(!u){if((r.flags&524288)!==0)u=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var d=r.alternate;if(d===null)throw Error(c(387));if(d=d.memoizedProps,d!==null){var p=r.type;Yt(r.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(r===ft.current){if(d=r.alternate,d===null)throw Error(c(387));d.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(ts):e=[ts])}r=r.return}e!==null&&xo(t,e,i,s),t.flags|=262144}function ac(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){Fi=e,zn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function _t(e){return Od(Fi,e)}function sc(e,t){return Fi===null&&Xi(e),Od(e,t)}function Od(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},zn===null){if(e===null)throw Error(c(308));zn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else zn=zn.next=t;return i}var e0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},t0=a.unstable_scheduleCallback,n0=a.unstable_NormalPriority,Pe={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ao(){return{controller:new e0,data:new Map,refCount:0}}function Da(e){e.refCount--,e.refCount===0&&t0(n0,function(){e.controller.abort()})}var Ma=null,wo=0,wl=0,Dl=null;function i0(e,t){if(Ma===null){var i=Ma=[];wo=0,wl=Ou(),Dl={status:"pending",value:void 0,then:function(s){i.push(s)}}}return wo++,t.then(Rd,Rd),t}function Rd(){if(--wo===0&&Ma!==null){Dl!==null&&(Dl.status="fulfilled");var e=Ma;Ma=null,wl=0,Dl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function l0(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(r){i.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<i.length;r++)(0,i[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<i.length;r++)(0,i[r])(void 0)}),s}var jd=D.S;D.S=function(e,t){pg=Et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&i0(e,t),jd!==null&&jd(e,t)};var Ki=U(null);function Do(){var e=Ki.current;return e!==null?e:Re.pooledCache}function cc(e,t){t===null?de(Ki,Ki.current):de(Ki,t.pool)}function zd(){var e=Do();return e===null?null:{parent:Pe._currentValue,pool:e}}var Ml=Error(c(460)),Mo=Error(c(474)),rc=Error(c(542)),oc={then:function(){}};function Ud(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ld(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Mn,Mn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e;default:if(typeof t.status=="string")t.then(Mn,Mn);else{if(e=Re,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Hd(e),e}throw Ji=t,Ml}}function Zi(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ji=i,Ml):i}}var Ji=null;function Bd(){if(Ji===null)throw Error(c(459));var e=Ji;return Ji=null,e}function Hd(e){if(e===Ml||e===rc)throw Error(c(483))}var Ol=null,Oa=0;function uc(e){var t=Oa;return Oa+=1,Ol===null&&(Ol=[]),Ld(Ol,e,t)}function Ra(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function hc(e,t){throw t.$$typeof===S?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Id(e){function t(T,C){if(e){var x=T.deletions;x===null?(T.deletions=[C],T.flags|=16):x.push(C)}}function i(T,C){if(!e)return null;for(;C!==null;)t(T,C),C=C.sibling;return null}function s(T){for(var C=new Map;T!==null;)T.key!==null?C.set(T.key,T):C.set(T.index,T),T=T.sibling;return C}function r(T,C){return T=Rn(T,C),T.index=0,T.sibling=null,T}function u(T,C,x){return T.index=x,e?(x=T.alternate,x!==null?(x=x.index,x<C?(T.flags|=67108866,C):x):(T.flags|=67108866,C)):(T.flags|=1048576,C)}function d(T){return e&&T.alternate===null&&(T.flags|=67108866),T}function p(T,C,x,R){return C===null||C.tag!==6?(C=_o(x,T.mode,R),C.return=T,C):(C=r(C,x),C.return=T,C)}function b(T,C,x,R){var F=x.type;return F===Q?O(T,C,x.props.children,R,x.key):C!==null&&(C.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ge&&Zi(F)===C.type)?(C=r(C,x.props),Ra(C,x),C.return=T,C):(C=ic(x.type,x.key,x.props,null,T.mode,R),Ra(C,x),C.return=T,C)}function A(T,C,x,R){return C===null||C.tag!==4||C.stateNode.containerInfo!==x.containerInfo||C.stateNode.implementation!==x.implementation?(C=yo(x,T.mode,R),C.return=T,C):(C=r(C,x.children||[]),C.return=T,C)}function O(T,C,x,R,F){return C===null||C.tag!==7?(C=Yi(x,T.mode,R,F),C.return=T,C):(C=r(C,x),C.return=T,C)}function j(T,C,x){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=_o(""+C,T.mode,x),C.return=T,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return x=ic(C.type,C.key,C.props,null,T.mode,x),Ra(x,C),x.return=T,x;case L:return C=yo(C,T.mode,x),C.return=T,C;case Ge:return C=Zi(C),j(T,C,x)}if(Ae(C)||Le(C))return C=Yi(C,T.mode,x,null),C.return=T,C;if(typeof C.then=="function")return j(T,uc(C),x);if(C.$$typeof===ie)return j(T,sc(T,C),x);hc(T,C)}return null}function w(T,C,x,R){var F=C!==null?C.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return F!==null?null:p(T,C,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case z:return x.key===F?b(T,C,x,R):null;case L:return x.key===F?A(T,C,x,R):null;case Ge:return x=Zi(x),w(T,C,x,R)}if(Ae(x)||Le(x))return F!==null?null:O(T,C,x,R,null);if(typeof x.then=="function")return w(T,C,uc(x),R);if(x.$$typeof===ie)return w(T,C,sc(T,x),R);hc(T,x)}return null}function M(T,C,x,R,F){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return T=T.get(x)||null,p(C,T,""+R,F);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case z:return T=T.get(R.key===null?x:R.key)||null,b(C,T,R,F);case L:return T=T.get(R.key===null?x:R.key)||null,A(C,T,R,F);case Ge:return R=Zi(R),M(T,C,x,R,F)}if(Ae(R)||Le(R))return T=T.get(x)||null,O(C,T,R,F,null);if(typeof R.then=="function")return M(T,C,x,uc(R),F);if(R.$$typeof===ie)return M(T,C,x,sc(C,R),F);hc(C,R)}return null}function k(T,C,x,R){for(var F=null,pe=null,q=C,$=C=0,ue=null;q!==null&&$<x.length;$++){q.index>$?(ue=q,q=null):ue=q.sibling;var ve=w(T,q,x[$],R);if(ve===null){q===null&&(q=ue);break}e&&q&&ve.alternate===null&&t(T,q),C=u(ve,C,$),pe===null?F=ve:pe.sibling=ve,pe=ve,q=ue}if($===x.length)return i(T,q),he&&jn(T,$),F;if(q===null){for(;$<x.length;$++)q=j(T,x[$],R),q!==null&&(C=u(q,C,$),pe===null?F=q:pe.sibling=q,pe=q);return he&&jn(T,$),F}for(q=s(q);$<x.length;$++)ue=M(q,T,$,x[$],R),ue!==null&&(e&&ue.alternate!==null&&q.delete(ue.key===null?$:ue.key),C=u(ue,C,$),pe===null?F=ue:pe.sibling=ue,pe=ue);return e&&q.forEach(function(Ni){return t(T,Ni)}),he&&jn(T,$),F}function K(T,C,x,R){if(x==null)throw Error(c(151));for(var F=null,pe=null,q=C,$=C=0,ue=null,ve=x.next();q!==null&&!ve.done;$++,ve=x.next()){q.index>$?(ue=q,q=null):ue=q.sibling;var Ni=w(T,q,ve.value,R);if(Ni===null){q===null&&(q=ue);break}e&&q&&Ni.alternate===null&&t(T,q),C=u(Ni,C,$),pe===null?F=Ni:pe.sibling=Ni,pe=Ni,q=ue}if(ve.done)return i(T,q),he&&jn(T,$),F;if(q===null){for(;!ve.done;$++,ve=x.next())ve=j(T,ve.value,R),ve!==null&&(C=u(ve,C,$),pe===null?F=ve:pe.sibling=ve,pe=ve);return he&&jn(T,$),F}for(q=s(q);!ve.done;$++,ve=x.next())ve=M(q,T,$,ve.value,R),ve!==null&&(e&&ve.alternate!==null&&q.delete(ve.key===null?$:ve.key),C=u(ve,C,$),pe===null?F=ve:pe.sibling=ve,pe=ve);return e&&q.forEach(function(g1){return t(T,g1)}),he&&jn(T,$),F}function Me(T,C,x,R){if(typeof x=="object"&&x!==null&&x.type===Q&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case z:e:{for(var F=x.key;C!==null;){if(C.key===F){if(F=x.type,F===Q){if(C.tag===7){i(T,C.sibling),R=r(C,x.props.children),R.return=T,T=R;break e}}else if(C.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Ge&&Zi(F)===C.type){i(T,C.sibling),R=r(C,x.props),Ra(R,x),R.return=T,T=R;break e}i(T,C);break}else t(T,C);C=C.sibling}x.type===Q?(R=Yi(x.props.children,T.mode,R,x.key),R.return=T,T=R):(R=ic(x.type,x.key,x.props,null,T.mode,R),Ra(R,x),R.return=T,T=R)}return d(T);case L:e:{for(F=x.key;C!==null;){if(C.key===F)if(C.tag===4&&C.stateNode.containerInfo===x.containerInfo&&C.stateNode.implementation===x.implementation){i(T,C.sibling),R=r(C,x.children||[]),R.return=T,T=R;break e}else{i(T,C);break}else t(T,C);C=C.sibling}R=yo(x,T.mode,R),R.return=T,T=R}return d(T);case Ge:return x=Zi(x),Me(T,C,x,R)}if(Ae(x))return k(T,C,x,R);if(Le(x)){if(F=Le(x),typeof F!="function")throw Error(c(150));return x=F.call(x),K(T,C,x,R)}if(typeof x.then=="function")return Me(T,C,uc(x),R);if(x.$$typeof===ie)return Me(T,C,sc(T,x),R);hc(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,C!==null&&C.tag===6?(i(T,C.sibling),R=r(C,x),R.return=T,T=R):(i(T,C),R=_o(x,T.mode,R),R.return=T,T=R),d(T)):i(T,C)}return function(T,C,x,R){try{Oa=0;var F=Me(T,C,x,R);return Ol=null,F}catch(q){if(q===Ml||q===rc)throw q;var pe=Qt(29,q,null,T.mode);return pe.lanes=R,pe.return=T,pe}}}var Wi=Id(!0),kd=Id(!1),ri=!1;function Oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ui(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Se&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=nc(e),Ed(e,null,i),t}return tc(e,s,t,i),nc(e)}function ja(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Of(e,i)}}function jo(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var r=null,u=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};u===null?r=u=d:u=u.next=d,i=i.next}while(i!==null);u===null?r=u=t:u=u.next=t}else r=u=t;i={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:u,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var zo=!1;function za(){if(zo){var e=Dl;if(e!==null)throw e}}function Ua(e,t,i,s){zo=!1;var r=e.updateQueue;ri=!1;var u=r.firstBaseUpdate,d=r.lastBaseUpdate,p=r.shared.pending;if(p!==null){r.shared.pending=null;var b=p,A=b.next;b.next=null,d===null?u=A:d.next=A,d=b;var O=e.alternate;O!==null&&(O=O.updateQueue,p=O.lastBaseUpdate,p!==d&&(p===null?O.firstBaseUpdate=A:p.next=A,O.lastBaseUpdate=b))}if(u!==null){var j=r.baseState;d=0,O=A=b=null,p=u;do{var w=p.lane&-536870913,M=w!==p.lane;if(M?(oe&w)===w:(s&w)===w){w!==0&&w===wl&&(zo=!0),O!==null&&(O=O.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var k=e,K=p;w=t;var Me=i;switch(K.tag){case 1:if(k=K.payload,typeof k=="function"){j=k.call(Me,j,w);break e}j=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=K.payload,w=typeof k=="function"?k.call(Me,j,w):k,w==null)break e;j=y({},j,w);break e;case 2:ri=!0}}w=p.callback,w!==null&&(e.flags|=64,M&&(e.flags|=8192),M=r.callbacks,M===null?r.callbacks=[w]:M.push(w))}else M={lane:w,tag:p.tag,payload:p.payload,callback:p.callback,next:null},O===null?(A=O=M,b=j):O=O.next=M,d|=w;if(p=p.next,p===null){if(p=r.shared.pending,p===null)break;M=p,p=M.next,M.next=null,r.lastBaseUpdate=M,r.shared.pending=null}}while(!0);O===null&&(b=j),r.baseState=b,r.firstBaseUpdate=A,r.lastBaseUpdate=O,u===null&&(r.shared.lanes=0),gi|=d,e.lanes=d,e.memoizedState=j}}function Vd(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Gd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)Vd(i[e],t)}var Rl=U(null),fc=U(0);function qd(e,t){e=Yn,de(fc,e),de(Rl,t),Yn=e|t.baseLanes}function Uo(){de(fc,Yn),de(Rl,Rl.current)}function Lo(){Yn=fc.current,ee(Rl),ee(fc)}var Ft=U(null),sn=null;function hi(e){var t=e.alternate;de(We,We.current&1),de(Ft,e),sn===null&&(t===null||Rl.current!==null||t.memoizedState!==null)&&(sn=e)}function Bo(e){de(We,We.current),de(Ft,e),sn===null&&(sn=e)}function Yd(e){e.tag===22?(de(We,We.current),de(Ft,e),sn===null&&(sn=e)):fi()}function fi(){de(We,We.current),de(Ft,Ft.current)}function Xt(e){ee(Ft),sn===e&&(sn=null),ee(We)}var We=U(0);function dc(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||qu(i)||Yu(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ln=0,W=null,we=null,et=null,mc=!1,jl=!1,$i=!1,gc=0,La=0,zl=null,a0=0;function qe(){throw Error(c(321))}function Ho(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Yt(e[i],t[i]))return!1;return!0}function Io(e,t,i,s,r,u){return Ln=u,W=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=e===null||e.memoizedState===null?Am:eu,$i=!1,u=i(s,r),$i=!1,jl&&(u=Fd(t,i,s,r)),Qd(e),u}function Qd(e){D.H=Ia;var t=we!==null&&we.next!==null;if(Ln=0,et=we=W=null,mc=!1,La=0,zl=null,t)throw Error(c(300));e===null||tt||(e=e.dependencies,e!==null&&ac(e)&&(tt=!0))}function Fd(e,t,i,s){W=e;var r=0;do{if(jl&&(zl=null),La=0,jl=!1,25<=r)throw Error(c(301));if(r+=1,et=we=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}D.H=wm,u=t(i,s)}while(jl);return u}function s0(){var e=D.H,t=e.useState()[0];return t=typeof t.then=="function"?Ba(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(W.flags|=1024),t}function ko(){var e=gc!==0;return gc=0,e}function Vo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function Go(e){if(mc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}mc=!1}Ln=0,et=we=W=null,jl=!1,La=gc=0,zl=null}function Mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?W.memoizedState=et=e:et=et.next=e,et}function $e(){if(we===null){var e=W.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=et===null?W.memoizedState:et.next;if(t!==null)et=t,we=e;else{if(e===null)throw W.alternate===null?Error(c(467)):Error(c(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},et===null?W.memoizedState=et=e:et=et.next=e}return et}function pc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ba(e){var t=La;return La+=1,zl===null&&(zl=[]),e=Ld(zl,e,t),t=W,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,D.H=t===null||t.memoizedState===null?Am:eu),e}function vc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ba(e);if(e.$$typeof===ie)return _t(e)}throw Error(c(438,String(e)))}function qo(e){var t=null,i=W.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=W.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=pc(),W.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=Ve;return t.index++,i}function Bn(e,t){return typeof t=="function"?t(e):t}function _c(e){var t=$e();return Yo(t,we,e)}function Yo(e,t,i){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=i;var r=e.baseQueue,u=s.pending;if(u!==null){if(r!==null){var d=r.next;r.next=u.next,u.next=d}t.baseQueue=r=u,s.pending=null}if(u=e.baseState,r===null)e.memoizedState=u;else{t=r.next;var p=d=null,b=null,A=t,O=!1;do{var j=A.lane&-536870913;if(j!==A.lane?(oe&j)===j:(Ln&j)===j){var w=A.revertLane;if(w===0)b!==null&&(b=b.next={lane:0,revertLane:0,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),j===wl&&(O=!0);else if((Ln&w)===w){A=A.next,w===wl&&(O=!0);continue}else j={lane:0,revertLane:A.revertLane,gesture:null,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=j,d=u):b=b.next=j,W.lanes|=w,gi|=w;j=A.action,$i&&i(u,j),u=A.hasEagerState?A.eagerState:i(u,j)}else w={lane:j,revertLane:A.revertLane,gesture:A.gesture,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null},b===null?(p=b=w,d=u):b=b.next=w,W.lanes|=j,gi|=j;A=A.next}while(A!==null&&A!==t);if(b===null?d=u:b.next=p,!Yt(u,e.memoizedState)&&(tt=!0,O&&(i=Dl,i!==null)))throw i;e.memoizedState=u,e.baseState=d,e.baseQueue=b,s.lastRenderedState=u}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Qo(e){var t=$e(),i=t.queue;if(i===null)throw Error(c(311));i.lastRenderedReducer=e;var s=i.dispatch,r=i.pending,u=t.memoizedState;if(r!==null){i.pending=null;var d=r=r.next;do u=e(u,d.action),d=d.next;while(d!==r);Yt(u,t.memoizedState)||(tt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),i.lastRenderedState=u}return[u,s]}function Xd(e,t,i){var s=W,r=$e(),u=he;if(u){if(i===void 0)throw Error(c(407));i=i()}else i=t();var d=!Yt((we||r).memoizedState,i);if(d&&(r.memoizedState=i,tt=!0),r=r.queue,Ko(Jd.bind(null,s,r,e),[e]),r.getSnapshot!==t||d||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,Ul(9,{destroy:void 0},Zd.bind(null,s,r,i,t),null),Re===null)throw Error(c(349));u||(Ln&127)!==0||Kd(s,t,i)}return i}function Kd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=W.updateQueue,t===null?(t=pc(),W.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function Zd(e,t,i,s){t.value=i,t.getSnapshot=s,Wd(t)&&$d(e)}function Jd(e,t,i){return i(function(){Wd(t)&&$d(e)})}function Wd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Yt(e,i)}catch{return!0}}function $d(e){var t=qi(e,2);t!==null&&kt(t,e,2)}function Fo(e){var t=Mt();if(typeof e=="function"){var i=e;if(e=i(),$i){hn(!0);try{i()}finally{hn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:e},t}function Pd(e,t,i,s){return e.baseState=i,Yo(e,we,typeof s=="function"?s:Bn)}function c0(e,t,i,s,r){if(Sc(e))throw Error(c(485));if(e=t.action,e!==null){var u={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){u.listeners.push(d)}};D.T!==null?i(!0):u.isTransition=!1,s(u),i=t.pending,i===null?(u.next=t.pending=u,em(t,u)):(u.next=i.next,t.pending=i.next=u)}}function em(e,t){var i=t.action,s=t.payload,r=e.state;if(t.isTransition){var u=D.T,d={};D.T=d;try{var p=i(r,s),b=D.S;b!==null&&b(d,p),tm(e,t,p)}catch(A){Xo(e,t,A)}finally{u!==null&&d.types!==null&&(u.types=d.types),D.T=u}}else try{u=i(r,s),tm(e,t,u)}catch(A){Xo(e,t,A)}}function tm(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){nm(e,t,s)},function(s){return Xo(e,t,s)}):nm(e,t,i)}function nm(e,t,i){t.status="fulfilled",t.value=i,im(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,em(e,i)))}function Xo(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,im(t),t=t.next;while(t!==s)}e.action=null}function im(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lm(e,t){return t}function am(e,t){if(he){var i=Re.formState;if(i!==null){e:{var s=W;if(he){if(He){t:{for(var r=He,u=an;r.nodeType!==8;){if(!u){r=null;break t}if(r=cn(r.nextSibling),r===null){r=null;break t}}u=r.data,r=u==="F!"||u==="F"?r:null}if(r){He=cn(r.nextSibling),s=r.data==="F!";break e}}si(s)}s=!1}s&&(t=i[0])}}return i=Mt(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:t},i.queue=s,i=Tm.bind(null,W,s),s.dispatch=i,s=Fo(!1),u=Po.bind(null,W,!1,s.queue),s=Mt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,i=c0.bind(null,W,r,u,i),r.dispatch=i,s.memoizedState=e,[t,i,!1]}function sm(e){var t=$e();return cm(t,we,e)}function cm(e,t,i){if(t=Yo(e,t,lm)[0],e=_c(Bn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ba(t)}catch(d){throw d===Ml?rc:d}else s=t;t=$e();var r=t.queue,u=r.dispatch;return i!==t.memoizedState&&(W.flags|=2048,Ul(9,{destroy:void 0},r0.bind(null,r,i),null)),[s,u,e]}function r0(e,t){e.action=t}function rm(e){var t=$e(),i=we;if(i!==null)return cm(t,i,e);$e(),t=t.memoizedState,i=$e();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function Ul(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=W.updateQueue,t===null&&(t=pc(),W.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function om(){return $e().memoizedState}function yc(e,t,i,s){var r=Mt();W.flags|=e,r.memoizedState=Ul(1|t,{destroy:void 0},i,s===void 0?null:s)}function bc(e,t,i,s){var r=$e();s=s===void 0?null:s;var u=r.memoizedState.inst;we!==null&&s!==null&&Ho(s,we.memoizedState.deps)?r.memoizedState=Ul(t,u,i,s):(W.flags|=e,r.memoizedState=Ul(1|t,u,i,s))}function um(e,t){yc(8390656,8,e,t)}function Ko(e,t){bc(2048,8,e,t)}function o0(e){W.flags|=4;var t=W.updateQueue;if(t===null)t=pc(),W.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function hm(e){var t=$e().memoizedState;return o0({ref:t,nextImpl:e}),function(){if((Se&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function fm(e,t){return bc(4,2,e,t)}function dm(e,t){return bc(4,4,e,t)}function mm(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gm(e,t,i){i=i!=null?i.concat([e]):null,bc(4,4,mm.bind(null,t,e),i)}function Zo(){}function pm(e,t){var i=$e();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&Ho(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function vm(e,t){var i=$e();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&Ho(t,s[1]))return s[0];if(s=e(),$i){hn(!0);try{e()}finally{hn(!1)}}return i.memoizedState=[s,t],s}function Jo(e,t,i){return i===void 0||(Ln&1073741824)!==0&&(oe&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=_g(),W.lanes|=e,gi|=e,i)}function _m(e,t,i,s){return Yt(i,t)?i:Rl.current!==null?(e=Jo(e,i,s),Yt(e,t)||(tt=!0),e):(Ln&42)===0||(Ln&1073741824)!==0&&(oe&261930)===0?(tt=!0,e.memoizedState=i):(e=_g(),W.lanes|=e,gi|=e,t)}function ym(e,t,i,s,r){var u=H.p;H.p=u!==0&&8>u?u:8;var d=D.T,p={};D.T=p,Po(e,!1,t,i);try{var b=r(),A=D.S;if(A!==null&&A(p,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var O=l0(b,s);Ha(e,t,O,Jt(e))}else Ha(e,t,s,Jt(e))}catch(j){Ha(e,t,{then:function(){},status:"rejected",reason:j},Jt())}finally{H.p=u,d!==null&&p.types!==null&&(d.types=p.types),D.T=d}}function u0(){}function Wo(e,t,i,s){if(e.tag!==5)throw Error(c(476));var r=bm(e).queue;ym(e,r,t,G,i===null?u0:function(){return Sm(e),i(s)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:G},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Sm(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Ha(e,t.next.queue,{},Jt())}function $o(){return _t(ts)}function Cm(){return $e().memoizedState}function Em(){return $e().memoizedState}function h0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Jt();e=oi(i);var s=ui(t,e,i);s!==null&&(kt(s,t,i),ja(s,t,i)),t={cache:Ao()},e.payload=t;return}t=t.return}}function f0(e,t,i){var s=Jt();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Sc(e)?Nm(t,i):(i=po(e,t,i,s),i!==null&&(kt(i,e,s),xm(i,t,s)))}function Tm(e,t,i){var s=Jt();Ha(e,t,i,s)}function Ha(e,t,i,s){var r={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Sc(e))Nm(t,r);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var d=t.lastRenderedState,p=u(d,i);if(r.hasEagerState=!0,r.eagerState=p,Yt(p,d))return tc(e,t,r,0),Re===null&&ec(),!1}catch{}if(i=po(e,t,r,s),i!==null)return kt(i,e,s),xm(i,t,s),!0}return!1}function Po(e,t,i,s){if(s={lane:2,revertLane:Ou(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Sc(e)){if(t)throw Error(c(479))}else t=po(e,i,s,2),t!==null&&kt(t,e,2)}function Sc(e){var t=e.alternate;return e===W||t!==null&&t===W}function Nm(e,t){jl=mc=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function xm(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Of(e,i)}}var Ia={readContext:_t,use:vc,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Ia.useEffectEvent=qe;var Am={readContext:_t,use:vc,useCallback:function(e,t){return Mt().memoizedState=[e,t===void 0?null:t],e},useContext:_t,useEffect:um,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,yc(4194308,4,mm.bind(null,t,e),i)},useLayoutEffect:function(e,t){return yc(4194308,4,e,t)},useInsertionEffect:function(e,t){yc(4,2,e,t)},useMemo:function(e,t){var i=Mt();t=t===void 0?null:t;var s=e();if($i){hn(!0);try{e()}finally{hn(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=Mt();if(i!==void 0){var r=i(t);if($i){hn(!0);try{i(t)}finally{hn(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=f0.bind(null,W,e),[s.memoizedState,e]},useRef:function(e){var t=Mt();return e={current:e},t.memoizedState=e},useState:function(e){e=Fo(e);var t=e.queue,i=Tm.bind(null,W,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:Zo,useDeferredValue:function(e,t){var i=Mt();return Jo(i,e,t)},useTransition:function(){var e=Fo(!1);return e=ym.bind(null,W,e.queue,!0,!1),Mt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=W,r=Mt();if(he){if(i===void 0)throw Error(c(407));i=i()}else{if(i=t(),Re===null)throw Error(c(349));(oe&127)!==0||Kd(s,t,i)}r.memoizedState=i;var u={value:i,getSnapshot:t};return r.queue=u,um(Jd.bind(null,s,u,e),[e]),s.flags|=2048,Ul(9,{destroy:void 0},Zd.bind(null,s,u,i,t),null),i},useId:function(){var e=Mt(),t=Re.identifierPrefix;if(he){var i=En,s=Cn;i=(s&~(1<<32-wt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=gc++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=a0++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:$o,useFormState:am,useActionState:am,useOptimistic:function(e){var t=Mt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Po.bind(null,W,!0,i),i.dispatch=t,[e,t]},useMemoCache:qo,useCacheRefresh:function(){return Mt().memoizedState=h0.bind(null,W)},useEffectEvent:function(e){var t=Mt(),i={impl:e};return t.memoizedState=i,function(){if((Se&2)!==0)throw Error(c(440));return i.impl.apply(void 0,arguments)}}},eu={readContext:_t,use:vc,useCallback:pm,useContext:_t,useEffect:Ko,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:vm,useReducer:_c,useRef:om,useState:function(){return _c(Bn)},useDebugValue:Zo,useDeferredValue:function(e,t){var i=$e();return _m(i,we.memoizedState,e,t)},useTransition:function(){var e=_c(Bn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Ba(e),t]},useSyncExternalStore:Xd,useId:Cm,useHostTransitionStatus:$o,useFormState:sm,useActionState:sm,useOptimistic:function(e,t){var i=$e();return Pd(i,we,e,t)},useMemoCache:qo,useCacheRefresh:Em};eu.useEffectEvent=hm;var wm={readContext:_t,use:vc,useCallback:pm,useContext:_t,useEffect:Ko,useImperativeHandle:gm,useInsertionEffect:fm,useLayoutEffect:dm,useMemo:vm,useReducer:Qo,useRef:om,useState:function(){return Qo(Bn)},useDebugValue:Zo,useDeferredValue:function(e,t){var i=$e();return we===null?Jo(i,e,t):_m(i,we.memoizedState,e,t)},useTransition:function(){var e=Qo(Bn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:Ba(e),t]},useSyncExternalStore:Xd,useId:Cm,useHostTransitionStatus:$o,useFormState:rm,useActionState:rm,useOptimistic:function(e,t){var i=$e();return we!==null?Pd(i,we,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:qo,useCacheRefresh:Em};wm.useEffectEvent=hm;function tu(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:y({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var nu={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Jt(),r=oi(s);r.payload=t,i!=null&&(r.callback=i),t=ui(e,r,s),t!==null&&(kt(t,e,s),ja(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Jt(),r=oi(s);r.tag=1,r.payload=t,i!=null&&(r.callback=i),t=ui(e,r,s),t!==null&&(kt(t,e,s),ja(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Jt(),s=oi(i);s.tag=2,t!=null&&(s.callback=t),t=ui(e,s,i),t!==null&&(kt(t,e,i),ja(t,e,i))}};function Dm(e,t,i,s,r,u,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,u,d):t.prototype&&t.prototype.isPureReactComponent?!Na(i,s)||!Na(r,u):!0}function Mm(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&nu.enqueueReplaceState(t,t.state,null)}function Pi(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=y({},i));for(var r in e)i[r]===void 0&&(i[r]=e[r])}return i}function Om(e){Ps(e)}function Rm(e){console.error(e)}function jm(e){Ps(e)}function Cc(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function zm(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function iu(e,t,i){return i=oi(i),i.tag=3,i.payload={element:null},i.callback=function(){Cc(e,t)},i}function Um(e){return e=oi(e),e.tag=3,e}function Lm(e,t,i,s){var r=i.type.getDerivedStateFromError;if(typeof r=="function"){var u=s.value;e.payload=function(){return r(u)},e.callback=function(){zm(t,i,s)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){zm(t,i,s),typeof r!="function"&&(pi===null?pi=new Set([this]):pi.add(this));var p=s.stack;this.componentDidCatch(s.value,{componentStack:p!==null?p:""})})}function d0(e,t,i,s,r){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&Al(t,i,r,!0),i=Ft.current,i!==null){switch(i.tag){case 31:case 13:return sn===null?zc():i.alternate===null&&Ye===0&&(Ye=3),i.flags&=-257,i.flags|=65536,i.lanes=r,s===oc?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),wu(e,s,r)),!1;case 22:return i.flags|=65536,s===oc?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),wu(e,s,r)),!1}throw Error(c(435,i.tag))}return wu(e,s,r),zc(),!1}if(he)return t=Ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Co&&(e=Error(c(422),{cause:s}),wa(tn(e,i)))):(s!==Co&&(t=Error(c(423),{cause:s}),wa(tn(t,i))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=tn(s,i),r=iu(e.stateNode,s,r),jo(e,r),Ye!==4&&(Ye=2)),!1;var u=Error(c(520),{cause:s});if(u=tn(u,i),Xa===null?Xa=[u]:Xa.push(u),Ye!==4&&(Ye=2),t===null)return!0;s=tn(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=r&-r,i.lanes|=e,e=iu(i.stateNode,s,e),jo(i,e),!1;case 1:if(t=i.type,u=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(pi===null||!pi.has(u))))return i.flags|=65536,r&=-r,i.lanes|=r,r=Um(r),Lm(r,e,i,s),jo(i,r),!1}i=i.return}while(i!==null);return!1}var lu=Error(c(461)),tt=!1;function yt(e,t,i,s){t.child=e===null?kd(t,null,i,s):Wi(t,e.child,i,s)}function Bm(e,t,i,s,r){i=i.render;var u=t.ref;if("ref"in s){var d={};for(var p in s)p!=="ref"&&(d[p]=s[p])}else d=s;return Xi(t),s=Io(e,t,i,d,u,r),p=ko(),e!==null&&!tt?(Vo(e,t,r),Hn(e,t,r)):(he&&p&&bo(t),t.flags|=1,yt(e,t,s,r),t.child)}function Hm(e,t,i,s,r){if(e===null){var u=i.type;return typeof u=="function"&&!vo(u)&&u.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=u,Im(e,t,u,s,r)):(e=ic(i.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!fu(e,r)){var d=u.memoizedProps;if(i=i.compare,i=i!==null?i:Na,i(d,s)&&e.ref===t.ref)return Hn(e,t,r)}return t.flags|=1,e=Rn(u,s),e.ref=t.ref,e.return=t,t.child=e}function Im(e,t,i,s,r){if(e!==null){var u=e.memoizedProps;if(Na(u,s)&&e.ref===t.ref)if(tt=!1,t.pendingProps=s=u,fu(e,r))(e.flags&131072)!==0&&(tt=!0);else return t.lanes=e.lanes,Hn(e,t,r)}return au(e,t,i,s,r)}function km(e,t,i,s){var r=s.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|i:i,e!==null){for(s=t.child=e.child,r=0;s!==null;)r=r|s.lanes|s.childLanes,s=s.sibling;s=r&~u}else s=0,t.child=null;return Vm(e,t,u,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&cc(t,u!==null?u.cachePool:null),u!==null?qd(t,u):Uo(),Yd(t);else return s=t.lanes=536870912,Vm(e,t,u!==null?u.baseLanes|i:i,i,s)}else u!==null?(cc(t,u.cachePool),qd(t,u),fi(),t.memoizedState=null):(e!==null&&cc(t,null),Uo(),fi());return yt(e,t,r,i),t.child}function ka(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vm(e,t,i,s,r){var u=Do();return u=u===null?null:{parent:Pe._currentValue,pool:u},t.memoizedState={baseLanes:i,cachePool:u},e!==null&&cc(t,null),Uo(),Yd(t),e!==null&&Al(e,t,s,!0),t.childLanes=r,null}function Ec(e,t){return t=Nc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Gm(e,t,i){return Wi(t,e.child,null,i),e=Ec(t,t.pendingProps),e.flags|=2,Xt(t),t.memoizedState=null,e}function m0(e,t,i){var s=t.pendingProps,r=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(he){if(s.mode==="hidden")return e=Ec(t,s),t.lanes=536870912,ka(null,e);if(Bo(t),(e=He)?(e=ep(e,an),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:Cn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},i=Nd(e),i.return=t,t.child=i,vt=t,He=null)):e=null,e===null)throw si(t);return t.lanes=536870912,null}return Ec(t,s)}var u=e.memoizedState;if(u!==null){var d=u.dehydrated;if(Bo(t),r)if(t.flags&256)t.flags&=-257,t=Gm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(tt||Al(e,t,i,!1),r=(i&e.childLanes)!==0,tt||r){if(s=Re,s!==null&&(d=Rf(s,i),d!==0&&d!==u.retryLane))throw u.retryLane=d,qi(e,d),kt(s,e,d),lu;zc(),t=Gm(e,t,i)}else e=u.treeContext,He=cn(d.nextSibling),vt=t,he=!0,ai=null,an=!1,e!==null&&wd(t,e),t=Ec(t,s),t.flags|=4096;return t}return e=Rn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Tc(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(c(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function au(e,t,i,s,r){return Xi(t),i=Io(e,t,i,s,void 0,r),s=ko(),e!==null&&!tt?(Vo(e,t,r),Hn(e,t,r)):(he&&s&&bo(t),t.flags|=1,yt(e,t,i,r),t.child)}function qm(e,t,i,s,r,u){return Xi(t),t.updateQueue=null,i=Fd(t,s,i,r),Qd(e),s=ko(),e!==null&&!tt?(Vo(e,t,u),Hn(e,t,u)):(he&&s&&bo(t),t.flags|=1,yt(e,t,i,u),t.child)}function Ym(e,t,i,s,r){if(Xi(t),t.stateNode===null){var u=El,d=i.contextType;typeof d=="object"&&d!==null&&(u=_t(d)),u=new i(s,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=nu,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=s,u.state=t.memoizedState,u.refs={},Oo(t),d=i.contextType,u.context=typeof d=="object"&&d!==null?_t(d):El,u.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(tu(t,i,d,s),u.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(d=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),d!==u.state&&nu.enqueueReplaceState(u,u.state,null),Ua(t,s,u,r),za(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){u=t.stateNode;var p=t.memoizedProps,b=Pi(i,p);u.props=b;var A=u.context,O=i.contextType;d=El,typeof O=="object"&&O!==null&&(d=_t(O));var j=i.getDerivedStateFromProps;O=typeof j=="function"||typeof u.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,O||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(p||A!==d)&&Mm(t,u,s,d),ri=!1;var w=t.memoizedState;u.state=w,Ua(t,s,u,r),za(),A=t.memoizedState,p||w!==A||ri?(typeof j=="function"&&(tu(t,i,j,s),A=t.memoizedState),(b=ri||Dm(t,i,b,s,w,A,d))?(O||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=A),u.props=s,u.state=A,u.context=d,s=b):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{u=t.stateNode,Ro(e,t),d=t.memoizedProps,O=Pi(i,d),u.props=O,j=t.pendingProps,w=u.context,A=i.contextType,b=El,typeof A=="object"&&A!==null&&(b=_t(A)),p=i.getDerivedStateFromProps,(A=typeof p=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==j||w!==b)&&Mm(t,u,s,b),ri=!1,w=t.memoizedState,u.state=w,Ua(t,s,u,r),za();var M=t.memoizedState;d!==j||w!==M||ri||e!==null&&e.dependencies!==null&&ac(e.dependencies)?(typeof p=="function"&&(tu(t,i,p,s),M=t.memoizedState),(O=ri||Dm(t,i,O,s,w,M,b)||e!==null&&e.dependencies!==null&&ac(e.dependencies))?(A||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(s,M,b),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(s,M,b)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=M),u.props=s,u.state=M,u.context=b,s=O):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&w===e.memoizedState||(t.flags|=1024),s=!1)}return u=s,Tc(e,t),s=(t.flags&128)!==0,u||s?(u=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&s?(t.child=Wi(t,e.child,null,r),t.child=Wi(t,null,i,r)):yt(e,t,i,r),t.memoizedState=u.state,e=t.child):e=Hn(e,t,r),e}function Qm(e,t,i,s){return Qi(),t.flags|=256,yt(e,t,i,s),t.child}var su={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cu(e){return{baseLanes:e,cachePool:zd()}}function ru(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Zt),e}function Fm(e,t,i){var s=t.pendingProps,r=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(We.current&2)!==0),d&&(r=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(he){if(r?hi(t):fi(),(e=He)?(e=ep(e,an),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:Cn,overflow:En}:null,retryLane:536870912,hydrationErrors:null},i=Nd(e),i.return=t,t.child=i,vt=t,He=null)):e=null,e===null)throw si(t);return Yu(e)?t.lanes=32:t.lanes=536870912,null}var p=s.children;return s=s.fallback,r?(fi(),r=t.mode,p=Nc({mode:"hidden",children:p},r),s=Yi(s,r,i,null),p.return=t,s.return=t,p.sibling=s,t.child=p,s=t.child,s.memoizedState=cu(i),s.childLanes=ru(e,d,i),t.memoizedState=su,ka(null,s)):(hi(t),ou(t,p))}var b=e.memoizedState;if(b!==null&&(p=b.dehydrated,p!==null)){if(u)t.flags&256?(hi(t),t.flags&=-257,t=uu(e,t,i)):t.memoizedState!==null?(fi(),t.child=e.child,t.flags|=128,t=null):(fi(),p=s.fallback,r=t.mode,s=Nc({mode:"visible",children:s.children},r),p=Yi(p,r,i,null),p.flags|=2,s.return=t,p.return=t,s.sibling=p,t.child=s,Wi(t,e.child,null,i),s=t.child,s.memoizedState=cu(i),s.childLanes=ru(e,d,i),t.memoizedState=su,t=ka(null,s));else if(hi(t),Yu(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var A=d.dgst;d=A,s=Error(c(419)),s.stack="",s.digest=d,wa({value:s,source:null,stack:null}),t=uu(e,t,i)}else if(tt||Al(e,t,i,!1),d=(i&e.childLanes)!==0,tt||d){if(d=Re,d!==null&&(s=Rf(d,i),s!==0&&s!==b.retryLane))throw b.retryLane=s,qi(e,s),kt(d,e,s),lu;qu(p)||zc(),t=uu(e,t,i)}else qu(p)?(t.flags|=192,t.child=e.child,t=null):(e=b.treeContext,He=cn(p.nextSibling),vt=t,he=!0,ai=null,an=!1,e!==null&&wd(t,e),t=ou(t,s.children),t.flags|=4096);return t}return r?(fi(),p=s.fallback,r=t.mode,b=e.child,A=b.sibling,s=Rn(b,{mode:"hidden",children:s.children}),s.subtreeFlags=b.subtreeFlags&65011712,A!==null?p=Rn(A,p):(p=Yi(p,r,i,null),p.flags|=2),p.return=t,s.return=t,s.sibling=p,t.child=s,ka(null,s),s=t.child,p=e.child.memoizedState,p===null?p=cu(i):(r=p.cachePool,r!==null?(b=Pe._currentValue,r=r.parent!==b?{parent:b,pool:b}:r):r=zd(),p={baseLanes:p.baseLanes|i,cachePool:r}),s.memoizedState=p,s.childLanes=ru(e,d,i),t.memoizedState=su,ka(e.child,s)):(hi(t),i=e.child,e=i.sibling,i=Rn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function ou(e,t){return t=Nc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Nc(e,t){return e=Qt(22,e,null,t),e.lanes=0,e}function uu(e,t,i){return Wi(t,e.child,null,i),e=ou(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Xm(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),No(e.return,t,i)}function hu(e,t,i,s,r,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:r,treeForkCount:u}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=s,d.tail=i,d.tailMode=r,d.treeForkCount=u)}function Km(e,t,i){var s=t.pendingProps,r=s.revealOrder,u=s.tail;s=s.children;var d=We.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,de(We,d),yt(e,t,s,i),s=he?Aa:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xm(e,i,t);else if(e.tag===19)Xm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(i=t.child,r=null;i!==null;)e=i.alternate,e!==null&&dc(e)===null&&(r=i),i=i.sibling;i=r,i===null?(r=t.child,t.child=null):(r=i.sibling,i.sibling=null),hu(t,!1,r,i,u,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&dc(e)===null){t.child=r;break}e=r.sibling,r.sibling=i,i=r,r=e}hu(t,!0,i,null,u,s);break;case"together":hu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Hn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),gi|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(Al(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,i=Rn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Rn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function fu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ac(e)))}function g0(e,t,i){switch(t.tag){case 3:ei(t,t.stateNode.containerInfo),ci(t,Pe,e.memoizedState.cache),Qi();break;case 27:case 5:An(t);break;case 4:ei(t,t.stateNode.containerInfo);break;case 10:ci(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Bo(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(hi(t),t.flags|=128,null):(i&t.child.childLanes)!==0?Fm(e,t,i):(hi(t),e=Hn(e,t,i),e!==null?e.sibling:null);hi(t);break;case 19:var r=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(Al(e,t,i,!1),s=(i&t.childLanes)!==0),r){if(s)return Km(e,t,i);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),de(We,We.current),s)break;return null;case 22:return t.lanes=0,km(e,t,i,t.pendingProps);case 24:ci(t,Pe,e.memoizedState.cache)}return Hn(e,t,i)}function Zm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)tt=!0;else{if(!fu(e,i)&&(t.flags&128)===0)return tt=!1,g0(e,t,i);tt=(e.flags&131072)!==0}else tt=!1,he&&(t.flags&1048576)!==0&&Ad(t,Aa,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=Zi(t.elementType),t.type=e,typeof e=="function")vo(e)?(s=Pi(e,s),t.tag=1,t=Ym(null,t,e,s,i)):(t.tag=0,t=au(null,t,e,s,i));else{if(e!=null){var r=e.$$typeof;if(r===X){t.tag=11,t=Bm(null,t,e,s,i);break e}else if(r===Ce){t.tag=14,t=Hm(null,t,e,s,i);break e}}throw t=ht(e)||e,Error(c(306,t,""))}}return t;case 0:return au(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,r=Pi(s,t.pendingProps),Ym(e,t,s,r,i);case 3:e:{if(ei(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var u=t.memoizedState;r=u.element,Ro(e,t),Ua(t,s,null,i);var d=t.memoizedState;if(s=d.cache,ci(t,Pe,s),s!==u.cache&&xo(t,[Pe],i,!0),za(),s=d.element,u.isDehydrated)if(u={element:s,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Qm(e,t,s,i);break e}else if(s!==r){r=tn(Error(c(424)),t),wa(r),t=Qm(e,t,s,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,He=cn(e.firstChild),vt=t,he=!0,ai=null,an=!0,i=kd(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Qi(),s===r){t=Hn(e,t,i);break e}yt(e,t,s,i)}t=t.child}return t;case 26:return Tc(e,t),e===null?(i=sp(t.type,null,t.pendingProps,null))?t.memoizedState=i:he||(i=t.type,e=t.pendingProps,s=Vc(Tt.current).createElement(i),s[pt]=t,s[zt]=e,bt(s,i,e),st(s),t.stateNode=s):t.memoizedState=sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return An(t),e===null&&he&&(s=t.stateNode=ip(t.type,t.pendingProps,Tt.current),vt=t,an=!0,r=He,bi(t.type)?(Qu=r,He=cn(s.firstChild)):He=r),yt(e,t,t.pendingProps.children,i),Tc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&he&&((r=s=He)&&(s=Q0(s,t.type,t.pendingProps,an),s!==null?(t.stateNode=s,vt=t,He=cn(s.firstChild),an=!1,r=!0):r=!1),r||si(t)),An(t),r=t.type,u=t.pendingProps,d=e!==null?e.memoizedProps:null,s=u.children,ku(r,u)?s=null:d!==null&&ku(r,d)&&(t.flags|=32),t.memoizedState!==null&&(r=Io(e,t,s0,null,null,i),ts._currentValue=r),Tc(e,t),yt(e,t,s,i),t.child;case 6:return e===null&&he&&((e=i=He)&&(i=F0(i,t.pendingProps,an),i!==null?(t.stateNode=i,vt=t,He=null,e=!0):e=!1),e||si(t)),null;case 13:return Fm(e,t,i);case 4:return ei(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wi(t,null,s,i):yt(e,t,s,i),t.child;case 11:return Bm(e,t,t.type,t.pendingProps,i);case 7:return yt(e,t,t.pendingProps,i),t.child;case 8:return yt(e,t,t.pendingProps.children,i),t.child;case 12:return yt(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,ci(t,t.type,s.value),yt(e,t,s.children,i),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,Xi(t),r=_t(r),s=s(r),t.flags|=1,yt(e,t,s,i),t.child;case 14:return Hm(e,t,t.type,t.pendingProps,i);case 15:return Im(e,t,t.type,t.pendingProps,i);case 19:return Km(e,t,i);case 31:return m0(e,t,i);case 22:return km(e,t,i,t.pendingProps);case 24:return Xi(t),s=_t(Pe),e===null?(r=Do(),r===null&&(r=Re,u=Ao(),r.pooledCache=u,u.refCount++,u!==null&&(r.pooledCacheLanes|=i),r=u),t.memoizedState={parent:s,cache:r},Oo(t),ci(t,Pe,r)):((e.lanes&i)!==0&&(Ro(e,t),Ua(t,null,null,i),za()),r=e.memoizedState,u=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),ci(t,Pe,s)):(s=u.cache,ci(t,Pe,s),s!==r.cache&&xo(t,[Pe],i,!0))),yt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function In(e){e.flags|=4}function du(e,t,i,s,r){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(r&335544128)===r)if(e.stateNode.complete)e.flags|=8192;else if(Cg())e.flags|=8192;else throw Ji=oc,Mo}else e.flags&=-16777217}function Jm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!hp(t))if(Cg())e.flags|=8192;else throw Ji=oc,Mo}function xc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?qt():536870912,e.lanes|=t,Il|=t)}function Va(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)i|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function p0(e,t,i){var s=t.pendingProps;switch(So(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ie(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Un(Pe),dt(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(xl(t)?In(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Eo())),Ie(t),null;case 26:var r=t.type,u=t.memoizedState;return e===null?(In(t),u!==null?(Ie(t),Jm(t,u)):(Ie(t),du(t,r,null,s,i))):u?u!==e.memoizedState?(In(t),Ie(t),Jm(t,u)):(Ie(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&In(t),Ie(t),du(t,r,e,s,i)),null;case 27:if(mt(t),i=Tt.current,r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ie(t),null}e=J.current,xl(t)?Dd(t):(e=ip(r,s,i),t.stateNode=e,In(t))}return Ie(t),null;case 5:if(mt(t),r=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ie(t),null}if(u=J.current,xl(t))Dd(t);else{var d=Vc(Tt.current);switch(u){case 1:u=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:u=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":u=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":u=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":u=d.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof s.is=="string"?d.createElement("select",{is:s.is}):d.createElement("select"),s.multiple?u.multiple=!0:s.size&&(u.size=s.size);break;default:u=typeof s.is=="string"?d.createElement(r,{is:s.is}):d.createElement(r)}}u[pt]=t,u[zt]=s;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)u.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=u;e:switch(bt(u,r,s),r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&In(t)}}return Ie(t),du(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&In(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=Tt.current,xl(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,r=vt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[pt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||Fg(e.nodeValue,i)),e||si(t,!0)}else e=Vc(e).createTextNode(s),e[pt]=t,t.stateNode=e}return Ie(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=xl(t),i!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[pt]=t}else Qi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),e=!1}else i=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Xt(t),t):(Xt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ie(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=xl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(c(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(c(317));r[pt]=t}else Qi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ie(t),r=!1}else r=Eo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(Xt(t),t):(Xt(t),null)}return Xt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==r&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),xc(t,t.updateQueue),Ie(t),null);case 4:return dt(),e===null&&Uu(t.stateNode.containerInfo),Ie(t),null;case 10:return Un(t.type),Ie(t),null;case 19:if(ee(We),s=t.memoizedState,s===null)return Ie(t),null;if(r=(t.flags&128)!==0,u=s.rendering,u===null)if(r)Va(s,!1);else{if(Ye!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=dc(e),u!==null){for(t.flags|=128,Va(s,!1),e=u.updateQueue,t.updateQueue=e,xc(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Td(i,e),i=i.sibling;return de(We,We.current&1|2),he&&jn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Et()>Oc&&(t.flags|=128,r=!0,Va(s,!1),t.lanes=4194304)}else{if(!r)if(e=dc(u),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,xc(t,e),Va(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!he)return Ie(t),null}else 2*Et()-s.renderingStartTime>Oc&&i!==536870912&&(t.flags|=128,r=!0,Va(s,!1),t.lanes=4194304);s.isBackwards?(u.sibling=t.child,t.child=u):(e=s.last,e!==null?e.sibling=u:t.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,i=We.current,de(We,r?i&1|2:i&1),he&&jn(t,s.treeForkCount),e):(Ie(t),null);case 22:case 23:return Xt(t),Lo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),i=t.updateQueue,i!==null&&xc(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&ee(Ki),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),Un(Pe),Ie(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function v0(e,t){switch(So(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(Pe),dt(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return mt(t),null;case 31:if(t.memoizedState!==null){if(Xt(t),t.alternate===null)throw Error(c(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Xt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));Qi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(We),null;case 4:return dt(),null;case 10:return Un(t.type),null;case 22:case 23:return Xt(t),Lo(),e!==null&&ee(Ki),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Un(Pe),null;case 25:return null;default:return null}}function Wm(e,t){switch(So(t),t.tag){case 3:Un(Pe),dt();break;case 26:case 27:case 5:mt(t);break;case 4:dt();break;case 31:t.memoizedState!==null&&Xt(t);break;case 13:Xt(t);break;case 19:ee(We);break;case 10:Un(t.type);break;case 22:case 23:Xt(t),Lo(),e!==null&&ee(Ki);break;case 24:Un(Pe)}}function Ga(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var r=s.next;i=r;do{if((i.tag&e)===e){s=void 0;var u=i.create,d=i.inst;s=u(),d.destroy=s}i=i.next}while(i!==r)}}catch(p){Te(t,t.return,p)}}function di(e,t,i){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var u=r.next;s=u;do{if((s.tag&e)===e){var d=s.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,r=t;var b=i,A=p;try{A()}catch(O){Te(r,b,O)}}}s=s.next}while(s!==u)}}catch(O){Te(t,t.return,O)}}function $m(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Gd(t,i)}catch(s){Te(e,e.return,s)}}}function Pm(e,t,i){i.props=Pi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){Te(e,t,s)}}function qa(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(r){Te(e,t,r)}}function Tn(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(r){Te(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(r){Te(e,t,r)}else i.current=null}function eg(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(r){Te(e,e.return,r)}}function mu(e,t,i){try{var s=e.stateNode;I0(s,e.type,i,t),s[zt]=t}catch(r){Te(e,e.return,r)}}function tg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bi(e.type)||e.tag===4}function gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Mn));else if(s!==4&&(s===27&&bi(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(pu(e,t,i),e=e.sibling;e!==null;)pu(e,t,i),e=e.sibling}function Ac(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&bi(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Ac(e,t,i),e=e.sibling;e!==null;)Ac(e,t,i),e=e.sibling}function ng(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);bt(t,s,i),t[pt]=e,t[zt]=i}catch(u){Te(e,e.return,u)}}var kn=!1,nt=!1,vu=!1,ig=typeof WeakSet=="function"?WeakSet:Set,ct=null;function _0(e,t){if(e=e.containerInfo,Hu=Kc,e=gd(e),oo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var r=s.anchorOffset,u=s.focusNode;s=s.focusOffset;try{i.nodeType,u.nodeType}catch{i=null;break e}var d=0,p=-1,b=-1,A=0,O=0,j=e,w=null;t:for(;;){for(var M;j!==i||r!==0&&j.nodeType!==3||(p=d+r),j!==u||s!==0&&j.nodeType!==3||(b=d+s),j.nodeType===3&&(d+=j.nodeValue.length),(M=j.firstChild)!==null;)w=j,j=M;for(;;){if(j===e)break t;if(w===i&&++A===r&&(p=d),w===u&&++O===s&&(b=d),(M=j.nextSibling)!==null)break;j=w,w=j.parentNode}j=M}i=p===-1||b===-1?null:{start:p,end:b}}else i=null}i=i||{start:0,end:0}}else i=null;for(Iu={focusedElem:e,selectionRange:i},Kc=!1,ct=t;ct!==null;)if(t=ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ct=e;else for(;ct!==null;){switch(t=ct,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)r=e[i],r.ref.impl=r.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,i=t,r=u.memoizedProps,u=u.memoizedState,s=i.stateNode;try{var k=Pi(i.type,r);e=s.getSnapshotBeforeUpdate(k,u),s.__reactInternalSnapshotBeforeUpdate=e}catch(K){Te(i,i.return,K)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)Gu(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Gu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,ct=e;break}ct=t.return}}function lg(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Gn(e,i),s&4&&Ga(5,i);break;case 1:if(Gn(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){Te(i,i.return,d)}else{var r=Pi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){Te(i,i.return,d)}}s&64&&$m(i),s&512&&qa(i,i.return);break;case 3:if(Gn(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Gd(e,t)}catch(d){Te(i,i.return,d)}}break;case 27:t===null&&s&4&&ng(i);case 26:case 5:Gn(e,i),t===null&&s&4&&eg(i),s&512&&qa(i,i.return);break;case 12:Gn(e,i);break;case 31:Gn(e,i),s&4&&cg(e,i);break;case 13:Gn(e,i),s&4&&rg(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=A0.bind(null,i),X0(e,i))));break;case 22:if(s=i.memoizedState!==null||kn,!s){t=t!==null&&t.memoizedState!==null||nt,r=kn;var u=nt;kn=s,(nt=t)&&!u?qn(e,i,(i.subtreeFlags&8772)!==0):Gn(e,i),kn=r,nt=u}break;case 30:break;default:Gn(e,i)}}function ag(e){var t=e.alternate;t!==null&&(e.alternate=null,ag(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Fr(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ke=null,Lt=!1;function Vn(e,t,i){for(i=i.child;i!==null;)sg(e,t,i),i=i.sibling}function sg(e,t,i){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(ti,i)}catch{}switch(i.tag){case 26:nt||Tn(i,t),Vn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:nt||Tn(i,t);var s=ke,r=Lt;bi(i.type)&&(ke=i.stateNode,Lt=!1),Vn(e,t,i),$a(i.stateNode),ke=s,Lt=r;break;case 5:nt||Tn(i,t);case 6:if(s=ke,r=Lt,ke=null,Vn(e,t,i),ke=s,Lt=r,ke!==null)if(Lt)try{(ke.nodeType===9?ke.body:ke.nodeName==="HTML"?ke.ownerDocument.body:ke).removeChild(i.stateNode)}catch(u){Te(i,t,u)}else try{ke.removeChild(i.stateNode)}catch(u){Te(i,t,u)}break;case 18:ke!==null&&(Lt?(e=ke,$g(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Xl(e)):$g(ke,i.stateNode));break;case 4:s=ke,r=Lt,ke=i.stateNode.containerInfo,Lt=!0,Vn(e,t,i),ke=s,Lt=r;break;case 0:case 11:case 14:case 15:di(2,i,t),nt||di(4,i,t),Vn(e,t,i);break;case 1:nt||(Tn(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&Pm(i,t,s)),Vn(e,t,i);break;case 21:Vn(e,t,i);break;case 22:nt=(s=nt)||i.memoizedState!==null,Vn(e,t,i),nt=s;break;default:Vn(e,t,i)}}function cg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xl(e)}catch(i){Te(t,t.return,i)}}}function rg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xl(e)}catch(i){Te(t,t.return,i)}}function y0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ig),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ig),t;default:throw Error(c(435,e.tag))}}function wc(e,t){var i=y0(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var r=w0.bind(null,e,s);s.then(r,r)}})}function Bt(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var r=i[s],u=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(bi(p.type)){ke=p.stateNode,Lt=!1;break e}break;case 5:ke=p.stateNode,Lt=!1;break e;case 3:case 4:ke=p.stateNode.containerInfo,Lt=!0;break e}p=p.return}if(ke===null)throw Error(c(160));sg(u,d,r),ke=null,Lt=!1,u=r.alternate,u!==null&&(u.return=null),r.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)og(t,e),t=t.sibling}var dn=null;function og(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Bt(t,e),Ht(e),s&4&&(di(3,e,e.return),Ga(3,e),di(5,e,e.return));break;case 1:Bt(t,e),Ht(e),s&512&&(nt||i===null||Tn(i,i.return)),s&64&&kn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var r=dn;if(Bt(t,e),Ht(e),s&512&&(nt||i===null||Tn(i,i.return)),s&4){var u=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":u=r.getElementsByTagName("title")[0],(!u||u[pa]||u[pt]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=r.createElement(s),r.head.insertBefore(u,r.querySelector("head > title"))),bt(u,s,i),u[pt]=e,st(u),s=u;break e;case"link":var d=op("link","href",r).get(s+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(u=d[p],u.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&u.getAttribute("rel")===(i.rel==null?null:i.rel)&&u.getAttribute("title")===(i.title==null?null:i.title)&&u.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}u=r.createElement(s),bt(u,s,i),r.head.appendChild(u);break;case"meta":if(d=op("meta","content",r).get(s+(i.content||""))){for(p=0;p<d.length;p++)if(u=d[p],u.getAttribute("content")===(i.content==null?null:""+i.content)&&u.getAttribute("name")===(i.name==null?null:i.name)&&u.getAttribute("property")===(i.property==null?null:i.property)&&u.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&u.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}u=r.createElement(s),bt(u,s,i),r.head.appendChild(u);break;default:throw Error(c(468,s))}u[pt]=e,st(u),s=u}e.stateNode=s}else up(r,e.type,e.stateNode);else e.stateNode=rp(r,s,e.memoizedProps);else u!==s?(u===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):u.count--,s===null?up(r,e.type,e.stateNode):rp(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&mu(e,e.memoizedProps,i.memoizedProps)}break;case 27:Bt(t,e),Ht(e),s&512&&(nt||i===null||Tn(i,i.return)),i!==null&&s&4&&mu(e,e.memoizedProps,i.memoizedProps);break;case 5:if(Bt(t,e),Ht(e),s&512&&(nt||i===null||Tn(i,i.return)),e.flags&32){r=e.stateNode;try{pl(r,"")}catch(k){Te(e,e.return,k)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,mu(e,r,i!==null?i.memoizedProps:r)),s&1024&&(vu=!0);break;case 6:if(Bt(t,e),Ht(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(k){Te(e,e.return,k)}}break;case 3:if(Yc=null,r=dn,dn=Gc(t.containerInfo),Bt(t,e),dn=r,Ht(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{Xl(t.containerInfo)}catch(k){Te(e,e.return,k)}vu&&(vu=!1,ug(e));break;case 4:s=dn,dn=Gc(e.stateNode.containerInfo),Bt(t,e),Ht(e),dn=s;break;case 12:Bt(t,e),Ht(e);break;case 31:Bt(t,e),Ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wc(e,s)));break;case 13:Bt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Mc=Et()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wc(e,s)));break;case 22:r=e.memoizedState!==null;var b=i!==null&&i.memoizedState!==null,A=kn,O=nt;if(kn=A||r,nt=O||b,Bt(t,e),nt=O,kn=A,Ht(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(i===null||b||kn||nt||el(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){b=i=t;try{if(u=b.stateNode,r)d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=b.stateNode;var j=b.memoizedProps.style,w=j!=null&&j.hasOwnProperty("display")?j.display:null;p.style.display=w==null||typeof w=="boolean"?"":(""+w).trim()}}catch(k){Te(b,b.return,k)}}}else if(t.tag===6){if(i===null){b=t;try{b.stateNode.nodeValue=r?"":b.memoizedProps}catch(k){Te(b,b.return,k)}}}else if(t.tag===18){if(i===null){b=t;try{var M=b.stateNode;r?Pg(M,!0):Pg(b.stateNode,!1)}catch(k){Te(b,b.return,k)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,wc(e,i))));break;case 19:Bt(t,e),Ht(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,wc(e,s)));break;case 30:break;case 21:break;default:Bt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(tg(s)){i=s;break}s=s.return}if(i==null)throw Error(c(160));switch(i.tag){case 27:var r=i.stateNode,u=gu(e);Ac(e,u,r);break;case 5:var d=i.stateNode;i.flags&32&&(pl(d,""),i.flags&=-33);var p=gu(e);Ac(e,p,d);break;case 3:case 4:var b=i.stateNode.containerInfo,A=gu(e);pu(e,A,b);break;default:throw Error(c(161))}}catch(O){Te(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ug(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ug(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)lg(e,t.alternate,t),t=t.sibling}function el(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:di(4,t,t.return),el(t);break;case 1:Tn(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&Pm(t,t.return,i),el(t);break;case 27:$a(t.stateNode);case 26:case 5:Tn(t,t.return),el(t);break;case 22:t.memoizedState===null&&el(t);break;case 30:el(t);break;default:el(t)}e=e.sibling}}function qn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,u=t,d=u.flags;switch(u.tag){case 0:case 11:case 15:qn(r,u,i),Ga(4,u);break;case 1:if(qn(r,u,i),s=u,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(A){Te(s,s.return,A)}if(s=u,r=s.updateQueue,r!==null){var p=s.stateNode;try{var b=r.shared.hiddenCallbacks;if(b!==null)for(r.shared.hiddenCallbacks=null,r=0;r<b.length;r++)Vd(b[r],p)}catch(A){Te(s,s.return,A)}}i&&d&64&&$m(u),qa(u,u.return);break;case 27:ng(u);case 26:case 5:qn(r,u,i),i&&s===null&&d&4&&eg(u),qa(u,u.return);break;case 12:qn(r,u,i);break;case 31:qn(r,u,i),i&&d&4&&cg(r,u);break;case 13:qn(r,u,i),i&&d&4&&rg(r,u);break;case 22:u.memoizedState===null&&qn(r,u,i),qa(u,u.return);break;case 30:break;default:qn(r,u,i)}t=t.sibling}}function _u(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Da(i))}function yu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e))}function mn(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)hg(e,t,i,s),t=t.sibling}function hg(e,t,i,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:mn(e,t,i,s),r&2048&&Ga(9,t);break;case 1:mn(e,t,i,s);break;case 3:mn(e,t,i,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Da(e)));break;case 12:if(r&2048){mn(e,t,i,s),e=t.stateNode;try{var u=t.memoizedProps,d=u.id,p=u.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Te(t,t.return,b)}}else mn(e,t,i,s);break;case 31:mn(e,t,i,s);break;case 13:mn(e,t,i,s);break;case 23:break;case 22:u=t.stateNode,d=t.alternate,t.memoizedState!==null?u._visibility&2?mn(e,t,i,s):Ya(e,t):u._visibility&2?mn(e,t,i,s):(u._visibility|=2,Ll(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),r&2048&&_u(d,t);break;case 24:mn(e,t,i,s),r&2048&&yu(t.alternate,t);break;default:mn(e,t,i,s)}}function Ll(e,t,i,s,r){for(r=r&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,d=t,p=i,b=s,A=d.flags;switch(d.tag){case 0:case 11:case 15:Ll(u,d,p,b,r),Ga(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&2?Ll(u,d,p,b,r):Ya(u,d):(O._visibility|=2,Ll(u,d,p,b,r)),r&&A&2048&&_u(d.alternate,d);break;case 24:Ll(u,d,p,b,r),r&&A&2048&&yu(d.alternate,d);break;default:Ll(u,d,p,b,r)}t=t.sibling}}function Ya(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,r=s.flags;switch(s.tag){case 22:Ya(i,s),r&2048&&_u(s.alternate,s);break;case 24:Ya(i,s),r&2048&&yu(s.alternate,s);break;default:Ya(i,s)}t=t.sibling}}var Qa=8192;function Bl(e,t,i){if(e.subtreeFlags&Qa)for(e=e.child;e!==null;)fg(e,t,i),e=e.sibling}function fg(e,t,i){switch(e.tag){case 26:Bl(e,t,i),e.flags&Qa&&e.memoizedState!==null&&a1(i,dn,e.memoizedState,e.memoizedProps);break;case 5:Bl(e,t,i);break;case 3:case 4:var s=dn;dn=Gc(e.stateNode.containerInfo),Bl(e,t,i),dn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Qa,Qa=16777216,Bl(e,t,i),Qa=s):Bl(e,t,i));break;default:Bl(e,t,i)}}function dg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Fa(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ct=s,gg(s,e)}dg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mg(e),e=e.sibling}function mg(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&di(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dc(e)):Fa(e);break;default:Fa(e)}}function Dc(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];ct=s,gg(s,e)}dg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:di(8,t,t.return),Dc(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Dc(t));break;default:Dc(t)}e=e.sibling}}function gg(e,t){for(;ct!==null;){var i=ct;switch(i.tag){case 0:case 11:case 15:di(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Da(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,ct=s;else e:for(i=e;ct!==null;){s=ct;var r=s.sibling,u=s.return;if(ag(s),s===i){ct=null;break e}if(r!==null){r.return=u,ct=r;break e}ct=u}}}var b0={getCacheForType:function(e){var t=_t(Pe),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return _t(Pe).controller.signal}},S0=typeof WeakMap=="function"?WeakMap:Map,Se=0,Re=null,le=null,oe=0,Ee=0,Kt=null,mi=!1,Hl=!1,bu=!1,Yn=0,Ye=0,gi=0,tl=0,Su=0,Zt=0,Il=0,Xa=null,It=null,Cu=!1,Mc=0,pg=0,Oc=1/0,Rc=null,pi=null,it=0,vi=null,kl=null,Qn=0,Eu=0,Tu=null,vg=null,Ka=0,Nu=null;function Jt(){return(Se&2)!==0&&oe!==0?oe&-oe:D.T!==null?Ou():jf()}function _g(){if(Zt===0)if((oe&536870912)===0||he){var e=Hi;Hi<<=1,(Hi&3932160)===0&&(Hi=262144),Zt=e}else Zt=536870912;return e=Ft.current,e!==null&&(e.flags|=32),Zt}function kt(e,t,i){(e===Re&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)&&(Vl(e,0),_i(e,oe,Zt,!1)),ga(e,i),((Se&2)===0||e!==Re)&&(e===Re&&((Se&2)===0&&(tl|=i),Ye===4&&_i(e,oe,Zt,!1)),Nn(e))}function yg(e,t,i){if((Se&6)!==0)throw Error(c(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||re(e,t),r=s?T0(e,t):Au(e,t,!0),u=s;do{if(r===0){Hl&&!s&&_i(e,t,0,!1);break}else{if(i=e.current.alternate,u&&!C0(i)){r=Au(e,t,!1),u=!1;continue}if(r===2){if(u=t,e.errorRecoveryDisabledLanes&u)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;r=Xa;var b=p.current.memoizedState.isDehydrated;if(b&&(Vl(p,d).flags|=256),d=Au(p,d,!1),d!==2){if(bu&&!b){p.errorRecoveryDisabledLanes|=u,tl|=u,r=4;break e}u=It,It=r,u!==null&&(It===null?It=u:It.push.apply(It,u))}r=d}if(u=!1,r!==2)continue}}if(r===1){Vl(e,0),_i(e,t,0,!0);break}e:{switch(s=e,u=r,u){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:_i(s,t,Zt,!mi);break e;case 2:It=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(r=Mc+300-Et(),10<r)){if(_i(s,t,Zt,!mi),ce(s,0,!0)!==0)break e;Qn=t,s.timeoutHandle=Jg(bg.bind(null,s,i,It,Rc,Cu,t,Zt,tl,Il,mi,u,"Throttled",-0,0),r);break e}bg(s,i,It,Rc,Cu,t,Zt,tl,Il,mi,u,null,-0,0)}}break}while(!0);Nn(e)}function bg(e,t,i,s,r,u,d,p,b,A,O,j,w,M){if(e.timeoutHandle=-1,j=t.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mn},fg(t,u,j);var k=(u&62914560)===u?Mc-Et():(u&4194048)===u?pg-Et():0;if(k=s1(j,k),k!==null){Qn=u,e.cancelPendingCommit=k(wg.bind(null,e,t,u,i,s,r,d,p,b,O,j,null,w,M)),_i(e,u,d,!A);return}}wg(e,t,u,i,s,r,d,p,b)}function C0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var r=i[s],u=r.getSnapshot;r=r.value;try{if(!Yt(u(),r))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _i(e,t,i,s){t&=~Su,t&=~tl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var u=31-wt(r),d=1<<u;s[u]=-1,r&=~d}i!==0&&Mf(e,i,t)}function jc(){return(Se&6)===0?(Za(0),!1):!0}function xu(){if(le!==null){if(Ee===0)var e=le.return;else e=le,zn=Fi=null,Go(e),Ol=null,Oa=0,e=le;for(;e!==null;)Wm(e.alternate,e),e=e.return;le=null}}function Vl(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,G0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Qn=0,xu(),Re=e,le=i=Rn(e.current,null),oe=t,Ee=0,Kt=null,mi=!1,Hl=re(e,t),bu=!1,Il=Zt=Su=tl=gi=Ye=0,It=Xa=null,Cu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-wt(s),u=1<<r;t|=e[r],s&=~u}return Yn=t,ec(),i}function Sg(e,t){W=null,D.H=Ia,t===Ml||t===rc?(t=Bd(),Ee=3):t===Mo?(t=Bd(),Ee=4):Ee=t===lu?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Kt=t,le===null&&(Ye=1,Cc(e,tn(t,e.current)))}function Cg(){var e=Ft.current;return e===null?!0:(oe&4194048)===oe?sn===null:(oe&62914560)===oe||(oe&536870912)!==0?e===sn:!1}function Eg(){var e=D.H;return D.H=Ia,e===null?Ia:e}function Tg(){var e=D.A;return D.A=b0,e}function zc(){Ye=4,mi||(oe&4194048)!==oe&&Ft.current!==null||(Hl=!0),(gi&134217727)===0&&(tl&134217727)===0||Re===null||_i(Re,oe,Zt,!1)}function Au(e,t,i){var s=Se;Se|=2;var r=Eg(),u=Tg();(Re!==e||oe!==t)&&(Rc=null,Vl(e,t)),t=!1;var d=Ye;e:do try{if(Ee!==0&&le!==null){var p=le,b=Kt;switch(Ee){case 8:xu(),d=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var A=Ee;if(Ee=0,Kt=null,Gl(e,p,b,A),i&&Hl){d=0;break e}break;default:A=Ee,Ee=0,Kt=null,Gl(e,p,b,A)}}E0(),d=Ye;break}catch(O){Sg(e,O)}while(!0);return t&&e.shellSuspendCounter++,zn=Fi=null,Se=s,D.H=r,D.A=u,le===null&&(Re=null,oe=0,ec()),d}function E0(){for(;le!==null;)Ng(le)}function T0(e,t){var i=Se;Se|=2;var s=Eg(),r=Tg();Re!==e||oe!==t?(Rc=null,Oc=Et()+500,Vl(e,t)):Hl=re(e,t);e:do try{if(Ee!==0&&le!==null){t=le;var u=Kt;t:switch(Ee){case 1:Ee=0,Kt=null,Gl(e,t,u,1);break;case 2:case 9:if(Ud(u)){Ee=0,Kt=null,xg(t);break}t=function(){Ee!==2&&Ee!==9||Re!==e||(Ee=7),Nn(e)},u.then(t,t);break e;case 3:Ee=7;break e;case 4:Ee=5;break e;case 7:Ud(u)?(Ee=0,Kt=null,xg(t)):(Ee=0,Kt=null,Gl(e,t,u,7));break;case 5:var d=null;switch(le.tag){case 26:d=le.memoizedState;case 5:case 27:var p=le;if(d?hp(d):p.stateNode.complete){Ee=0,Kt=null;var b=p.sibling;if(b!==null)le=b;else{var A=p.return;A!==null?(le=A,Uc(A)):le=null}break t}}Ee=0,Kt=null,Gl(e,t,u,5);break;case 6:Ee=0,Kt=null,Gl(e,t,u,6);break;case 8:xu(),Ye=6;break e;default:throw Error(c(462))}}N0();break}catch(O){Sg(e,O)}while(!0);return zn=Fi=null,D.H=s,D.A=r,Se=i,le!==null?0:(Re=null,oe=0,ec(),Ye)}function N0(){for(;le!==null&&!Sn();)Ng(le)}function Ng(e){var t=Zm(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?Uc(e):le=t}function xg(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=qm(i,t,t.pendingProps,t.type,void 0,oe);break;case 11:t=qm(i,t,t.pendingProps,t.type.render,t.ref,oe);break;case 5:Go(t);default:Wm(i,t),t=le=Td(t,Yn),t=Zm(i,t,Yn)}e.memoizedProps=e.pendingProps,t===null?Uc(e):le=t}function Gl(e,t,i,s){zn=Fi=null,Go(t),Ol=null,Oa=0;var r=t.return;try{if(d0(e,r,t,i,oe)){Ye=1,Cc(e,tn(i,e.current)),le=null;return}}catch(u){if(r!==null)throw le=r,u;Ye=1,Cc(e,tn(i,e.current)),le=null;return}t.flags&32768?(he||s===1?e=!0:Hl||(oe&536870912)!==0?e=!1:(mi=e=!0,(s===2||s===9||s===3||s===6)&&(s=Ft.current,s!==null&&s.tag===13&&(s.flags|=16384))),Ag(t,e)):Uc(t)}function Uc(e){var t=e;do{if((t.flags&32768)!==0){Ag(t,mi);return}e=t.return;var i=p0(t.alternate,t,Yn);if(i!==null){le=i;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);Ye===0&&(Ye=5)}function Ag(e,t){do{var i=v0(e.alternate,e);if(i!==null){i.flags&=32767,le=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){le=e;return}le=e=i}while(e!==null);Ye=6,le=null}function wg(e,t,i,s,r,u,d,p,b){e.cancelPendingCommit=null;do Lc();while(it!==0);if((Se&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(u=t.lanes|t.childLanes,u|=go,ly(e,i,u,d,p,b),e===Re&&(le=Re=null,oe=0),kl=t,vi=e,Qn=i,Eu=u,Tu=r,vg=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,D0(wn,function(){return jg(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=D.T,D.T=null,r=H.p,H.p=2,d=Se,Se|=4;try{_0(e,t,i)}finally{Se=d,H.p=r,D.T=s}}it=1,Dg(),Mg(),Og()}}function Dg(){if(it===1){it=0;var e=vi,t=kl,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=D.T,D.T=null;var s=H.p;H.p=2;var r=Se;Se|=4;try{og(t,e);var u=Iu,d=gd(e.containerInfo),p=u.focusedElem,b=u.selectionRange;if(d!==p&&p&&p.ownerDocument&&md(p.ownerDocument.documentElement,p)){if(b!==null&&oo(p)){var A=b.start,O=b.end;if(O===void 0&&(O=A),"selectionStart"in p)p.selectionStart=A,p.selectionEnd=Math.min(O,p.value.length);else{var j=p.ownerDocument||document,w=j&&j.defaultView||window;if(w.getSelection){var M=w.getSelection(),k=p.textContent.length,K=Math.min(b.start,k),Me=b.end===void 0?K:Math.min(b.end,k);!M.extend&&K>Me&&(d=Me,Me=K,K=d);var T=dd(p,K),C=dd(p,Me);if(T&&C&&(M.rangeCount!==1||M.anchorNode!==T.node||M.anchorOffset!==T.offset||M.focusNode!==C.node||M.focusOffset!==C.offset)){var x=j.createRange();x.setStart(T.node,T.offset),M.removeAllRanges(),K>Me?(M.addRange(x),M.extend(C.node,C.offset)):(x.setEnd(C.node,C.offset),M.addRange(x))}}}}for(j=[],M=p;M=M.parentNode;)M.nodeType===1&&j.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<j.length;p++){var R=j[p];R.element.scrollLeft=R.left,R.element.scrollTop=R.top}}Kc=!!Hu,Iu=Hu=null}finally{Se=r,H.p=s,D.T=i}}e.current=t,it=2}}function Mg(){if(it===2){it=0;var e=vi,t=kl,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=D.T,D.T=null;var s=H.p;H.p=2;var r=Se;Se|=4;try{lg(e,t.alternate,t)}finally{Se=r,H.p=s,D.T=i}}it=3}}function Og(){if(it===4||it===3){it=0,Li();var e=vi,t=kl,i=Qn,s=vg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?it=5:(it=0,kl=vi=null,Rg(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(pi=null),Yr(i),t=t.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(ti,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=D.T,r=H.p,H.p=2,D.T=null;try{for(var u=e.onRecoverableError,d=0;d<s.length;d++){var p=s[d];u(p.value,{componentStack:p.stack})}}finally{D.T=t,H.p=r}}(Qn&3)!==0&&Lc(),Nn(e),r=e.pendingLanes,(i&261930)!==0&&(r&42)!==0?e===Nu?Ka++:(Ka=0,Nu=e):Ka=0,Za(0)}}function Rg(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Da(t)))}function Lc(){return Dg(),Mg(),Og(),jg()}function jg(){if(it!==5)return!1;var e=vi,t=Eu;Eu=0;var i=Yr(Qn),s=D.T,r=H.p;try{H.p=32>i?32:i,D.T=null,i=Tu,Tu=null;var u=vi,d=Qn;if(it=0,kl=vi=null,Qn=0,(Se&6)!==0)throw Error(c(331));var p=Se;if(Se|=4,mg(u.current),hg(u,u.current,d,i),Se=p,Za(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(ti,u)}catch{}return!0}finally{H.p=r,D.T=s,Rg(e,t)}}function zg(e,t,i){t=tn(i,t),t=iu(e.stateNode,t,2),e=ui(e,t,2),e!==null&&(ga(e,2),Nn(e))}function Te(e,t,i){if(e.tag===3)zg(e,e,i);else for(;t!==null;){if(t.tag===3){zg(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(pi===null||!pi.has(s))){e=tn(i,e),i=Um(2),s=ui(t,i,2),s!==null&&(Lm(i,s,t,e),ga(s,2),Nn(s));break}}t=t.return}}function wu(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new S0;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(i)||(bu=!0,r.add(i),e=x0.bind(null,e,t,i),t.then(e,e))}function x0(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Re===e&&(oe&i)===i&&(Ye===4||Ye===3&&(oe&62914560)===oe&&300>Et()-Mc?(Se&2)===0&&Vl(e,0):Su|=i,Il===oe&&(Il=0)),Nn(e)}function Ug(e,t){t===0&&(t=qt()),e=qi(e,t),e!==null&&(ga(e,t),Nn(e))}function A0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Ug(e,i)}function w0(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(i=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),Ug(e,i)}function D0(e,t){return bn(e,t)}var Bc=null,ql=null,Du=!1,Hc=!1,Mu=!1,yi=0;function Nn(e){e!==ql&&e.next===null&&(ql===null?Bc=ql=e:ql=ql.next=e),Hc=!0,Du||(Du=!0,O0())}function Za(e,t){if(!Mu&&Hc){Mu=!0;do for(var i=!1,s=Bc;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var u=0;else{var d=s.suspendedLanes,p=s.pingedLanes;u=(1<<31-wt(42|e)+1)-1,u&=r&~(d&~p),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(i=!0,Ig(s,u))}else u=oe,u=ce(s,s===Re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(u&3)===0||re(s,u)||(i=!0,Ig(s,u));s=s.next}while(i);Mu=!1}}function M0(){Lg()}function Lg(){Hc=Du=!1;var e=0;yi!==0&&V0()&&(e=yi);for(var t=Et(),i=null,s=Bc;s!==null;){var r=s.next,u=Bg(s,t);u===0?(s.next=null,i===null?Bc=r:i.next=r,r===null&&(ql=i)):(i=s,(e!==0||(u&3)!==0)&&(Hc=!0)),s=r}it!==0&&it!==5||Za(e),yi!==0&&(yi=0)}function Bg(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var d=31-wt(u),p=1<<d,b=r[d];b===-1?((p&i)===0||(p&s)!==0)&&(r[d]=Je(p,t)):b<=t&&(e.expiredLanes|=p),u&=~p}if(t=Re,i=oe,i=ce(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(Ee===2||Ee===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&da(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||re(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&da(s),Yr(i)){case 2:case 8:i=Is;break;case 32:i=wn;break;case 268435456:i=ma;break;default:i=wn}return s=Hg.bind(null,e),i=bn(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&da(s),e.callbackPriority=2,e.callbackNode=null,2}function Hg(e,t){if(it!==0&&it!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Lc()&&e.callbackNode!==i)return null;var s=oe;return s=ce(e,e===Re?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(yg(e,s,t),Bg(e,Et()),e.callbackNode!=null&&e.callbackNode===i?Hg.bind(null,e):null)}function Ig(e,t){if(Lc())return null;yg(e,t,!0)}function O0(){q0(function(){(Se&6)!==0?bn(Hs,M0):Lg()})}function Ou(){if(yi===0){var e=wl;e===0&&(e=Bi,Bi<<=1,(Bi&261888)===0&&(Bi=256)),yi=e}return yi}function kg(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Fs(""+e)}function Vg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function R0(e,t,i,s,r){if(t==="submit"&&i&&i.stateNode===r){var u=kg((r[zt]||null).action),d=s.submitter;d&&(t=(t=d[zt]||null)?kg(t.formAction):d.getAttribute("formAction"),t!==null&&(u=t,d=null));var p=new Js("action","action",null,s,r);e.push({event:p,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(yi!==0){var b=d?Vg(r,d):new FormData(r);Wo(i,{pending:!0,data:b,method:r.method,action:u},null,b)}}else typeof u=="function"&&(p.preventDefault(),b=d?Vg(r,d):new FormData(r),Wo(i,{pending:!0,data:b,method:r.method,action:u},u,b))},currentTarget:r}]})}}for(var Ru=0;Ru<mo.length;Ru++){var ju=mo[Ru],j0=ju.toLowerCase(),z0=ju[0].toUpperCase()+ju.slice(1);fn(j0,"on"+z0)}fn(_d,"onAnimationEnd"),fn(yd,"onAnimationIteration"),fn(bd,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(Jy,"onTransitionRun"),fn(Wy,"onTransitionStart"),fn($y,"onTransitionCancel"),fn(Sd,"onTransitionEnd"),ml("onMouseEnter",["mouseout","mouseover"]),ml("onMouseLeave",["mouseout","mouseover"]),ml("onPointerEnter",["pointerout","pointerover"]),ml("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function Gg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],r=s.event;s=s.listeners;e:{var u=void 0;if(t)for(var d=s.length-1;0<=d;d--){var p=s[d],b=p.instance,A=p.currentTarget;if(p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(O){Ps(O)}r.currentTarget=null,u=b}else for(d=0;d<s.length;d++){if(p=s[d],b=p.instance,A=p.currentTarget,p=p.listener,b!==u&&r.isPropagationStopped())break e;u=p,r.currentTarget=A;try{u(r)}catch(O){Ps(O)}r.currentTarget=null,u=b}}}}function ae(e,t){var i=t[Qr];i===void 0&&(i=t[Qr]=new Set);var s=e+"__bubble";i.has(s)||(qg(t,e,2,!1),i.add(s))}function zu(e,t,i){var s=0;t&&(s|=4),qg(i,e,s,t)}var Ic="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Ic]){e[Ic]=!0,Lf.forEach(function(i){i!=="selectionchange"&&(U0.has(i)||zu(i,!1,e),zu(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ic]||(t[Ic]=!0,zu("selectionchange",!1,t))}}function qg(e,t,i,s){switch(_p(t)){case 2:var r=o1;break;case 8:r=u1;break;default:r=Ju}i=r.bind(null,t,i,e),r=void 0,!eo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,i,{capture:!0,passive:r}):e.addEventListener(t,i,!0):r!==void 0?e.addEventListener(t,i,{passive:r}):e.addEventListener(t,i,!1)}function Lu(e,t,i,s,r){var u=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var d=s.tag;if(d===3||d===4){var p=s.stateNode.containerInfo;if(p===r)break;if(d===4)for(d=s.return;d!==null;){var b=d.tag;if((b===3||b===4)&&d.stateNode.containerInfo===r)return;d=d.return}for(;p!==null;){if(d=hl(p),d===null)return;if(b=d.tag,b===5||b===6||b===26||b===27){s=u=d;continue e}p=p.parentNode}}s=s.return}Kf(function(){var A=u,O=$r(i),j=[];e:{var w=Cd.get(e);if(w!==void 0){var M=Js,k=e;switch(e){case"keypress":if(Ks(i)===0)break e;case"keydown":case"keyup":M=wy;break;case"focusin":k="focus",M=lo;break;case"focusout":k="blur",M=lo;break;case"beforeblur":case"afterblur":M=lo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Wf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=py;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Oy;break;case _d:case yd:case bd:M=yy;break;case Sd:M=jy;break;case"scroll":case"scrollend":M=my;break;case"wheel":M=Uy;break;case"copy":case"cut":case"paste":M=Sy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Pf;break;case"toggle":case"beforetoggle":M=By}var K=(t&4)!==0,Me=!K&&(e==="scroll"||e==="scrollend"),T=K?w!==null?w+"Capture":null:w;K=[];for(var C=A,x;C!==null;){var R=C;if(x=R.stateNode,R=R.tag,R!==5&&R!==26&&R!==27||x===null||T===null||(R=_a(C,T),R!=null&&K.push(Wa(C,R,x))),Me)break;C=C.return}0<K.length&&(w=new M(w,k,null,i,O),j.push({event:w,listeners:K}))}}if((t&7)===0){e:{if(w=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",w&&i!==Wr&&(k=i.relatedTarget||i.fromElement)&&(hl(k)||k[ul]))break e;if((M||w)&&(w=O.window===O?O:(w=O.ownerDocument)?w.defaultView||w.parentWindow:window,M?(k=i.relatedTarget||i.toElement,M=A,k=k?hl(k):null,k!==null&&(Me=h(k),K=k.tag,k!==Me||K!==5&&K!==27&&K!==6)&&(k=null)):(M=null,k=A),M!==k)){if(K=Wf,R="onMouseLeave",T="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(K=Pf,R="onPointerLeave",T="onPointerEnter",C="pointer"),Me=M==null?w:va(M),x=k==null?w:va(k),w=new K(R,C+"leave",M,i,O),w.target=Me,w.relatedTarget=x,R=null,hl(O)===A&&(K=new K(T,C+"enter",k,i,O),K.target=x,K.relatedTarget=Me,R=K),Me=R,M&&k)t:{for(K=L0,T=M,C=k,x=0,R=T;R;R=K(R))x++;R=0;for(var F=C;F;F=K(F))R++;for(;0<x-R;)T=K(T),x--;for(;0<R-x;)C=K(C),R--;for(;x--;){if(T===C||C!==null&&T===C.alternate){K=T;break t}T=K(T),C=K(C)}K=null}else K=null;M!==null&&Yg(j,w,M,K,!1),k!==null&&Me!==null&&Yg(j,Me,k,K,!0)}}e:{if(w=A?va(A):window,M=w.nodeName&&w.nodeName.toLowerCase(),M==="select"||M==="input"&&w.type==="file")var pe=cd;else if(ad(w))if(rd)pe=Xy;else{pe=Qy;var q=Yy}else M=w.nodeName,!M||M.toLowerCase()!=="input"||w.type!=="checkbox"&&w.type!=="radio"?A&&Jr(A.elementType)&&(pe=cd):pe=Fy;if(pe&&(pe=pe(e,A))){sd(j,pe,i,O);break e}q&&q(e,w,A),e==="focusout"&&A&&w.type==="number"&&A.memoizedProps.value!=null&&Zr(w,"number",w.value)}switch(q=A?va(A):window,e){case"focusin":(ad(q)||q.contentEditable==="true")&&(bl=q,uo=A,xa=null);break;case"focusout":xa=uo=bl=null;break;case"mousedown":ho=!0;break;case"contextmenu":case"mouseup":case"dragend":ho=!1,pd(j,i,O);break;case"selectionchange":if(Zy)break;case"keydown":case"keyup":pd(j,i,O)}var $;if(so)e:{switch(e){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else yl?id(e,i)&&(ue="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(ue="onCompositionStart");ue&&(ed&&i.locale!=="ko"&&(yl||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&yl&&($=Zf()):(ii=O,to="value"in ii?ii.value:ii.textContent,yl=!0)),q=kc(A,ue),0<q.length&&(ue=new $f(ue,e,null,i,O),j.push({event:ue,listeners:q}),$?ue.data=$:($=ld(i),$!==null&&(ue.data=$)))),($=Iy?ky(e,i):Vy(e,i))&&(ue=kc(A,"onBeforeInput"),0<ue.length&&(q=new $f("onBeforeInput","beforeinput",null,i,O),j.push({event:q,listeners:ue}),q.data=$)),R0(j,e,A,i,O)}Gg(j,t)})}function Wa(e,t,i){return{instance:e,listener:t,currentTarget:i}}function kc(e,t){for(var i=t+"Capture",s=[];e!==null;){var r=e,u=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||u===null||(r=_a(e,i),r!=null&&s.unshift(Wa(e,r,u)),r=_a(e,t),r!=null&&s.push(Wa(e,r,u))),e.tag===3)return s;e=e.return}return[]}function L0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Yg(e,t,i,s,r){for(var u=t._reactName,d=[];i!==null&&i!==s;){var p=i,b=p.alternate,A=p.stateNode;if(p=p.tag,b!==null&&b===s)break;p!==5&&p!==26&&p!==27||A===null||(b=A,r?(A=_a(i,u),A!=null&&d.unshift(Wa(i,A,b))):r||(A=_a(i,u),A!=null&&d.push(Wa(i,A,b)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var B0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(B0,`
`).replace(H0,"")}function Fg(e,t){return t=Qg(t),Qg(e)===t}function De(e,t,i,s,r,u){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||pl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&pl(e,""+s);break;case"className":Ys(e,"class",s);break;case"tabIndex":Ys(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ys(e,i,s);break;case"style":Ff(e,s,u);break;case"data":if(t!=="object"){Ys(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Fs(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(i==="formAction"?(t!=="input"&&De(e,t,"name",r.name,r,null),De(e,t,"formEncType",r.formEncType,r,null),De(e,t,"formMethod",r.formMethod,r,null),De(e,t,"formTarget",r.formTarget,r,null)):(De(e,t,"encType",r.encType,r,null),De(e,t,"method",r.method,r,null),De(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Fs(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=Mn);break;case"onScroll":s!=null&&ae("scroll",e);break;case"onScrollEnd":s!=null&&ae("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Fs(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":ae("beforetoggle",e),ae("toggle",e),qs(e,"popover",s);break;case"xlinkActuate":Dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":qs(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=fy.get(i)||i,qs(e,i,s))}}function Bu(e,t,i,s,r,u){switch(i){case"style":Ff(e,s,u);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(i=s.__html,i!=null){if(r.children!=null)throw Error(c(60));e.innerHTML=i}}break;case"children":typeof s=="string"?pl(e,s):(typeof s=="number"||typeof s=="bigint")&&pl(e,""+s);break;case"onScroll":s!=null&&ae("scroll",e);break;case"onScrollEnd":s!=null&&ae("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Mn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bf.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(r=i.endsWith("Capture"),t=i.slice(2,r?i.length-7:void 0),u=e[zt]||null,u=u!=null?u[i]:null,typeof u=="function"&&e.removeEventListener(t,u,r),typeof s=="function")){typeof u!="function"&&u!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,r);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):qs(e,i,s)}}}function bt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ae("error",e),ae("load",e);var s=!1,r=!1,u;for(u in i)if(i.hasOwnProperty(u)){var d=i[u];if(d!=null)switch(u){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:De(e,t,u,d,i,null)}}r&&De(e,t,"srcSet",i.srcSet,i,null),s&&De(e,t,"src",i.src,i,null);return;case"input":ae("invalid",e);var p=u=d=r=null,b=null,A=null;for(s in i)if(i.hasOwnProperty(s)){var O=i[s];if(O!=null)switch(s){case"name":r=O;break;case"type":d=O;break;case"checked":b=O;break;case"defaultChecked":A=O;break;case"value":u=O;break;case"defaultValue":p=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(c(137,t));break;default:De(e,t,s,O,i,null)}}Gf(e,u,p,b,A,d,r,!1);return;case"select":ae("invalid",e),s=d=u=null;for(r in i)if(i.hasOwnProperty(r)&&(p=i[r],p!=null))switch(r){case"value":u=p;break;case"defaultValue":d=p;break;case"multiple":s=p;default:De(e,t,r,p,i,null)}t=u,i=d,e.multiple=!!s,t!=null?gl(e,!!s,t,!1):i!=null&&gl(e,!!s,i,!0);return;case"textarea":ae("invalid",e),u=r=s=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":s=p;break;case"defaultValue":r=p;break;case"children":u=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(c(91));break;default:De(e,t,d,p,i,null)}Yf(e,s,r,u);return;case"option":for(b in i)i.hasOwnProperty(b)&&(s=i[b],s!=null)&&(b==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":De(e,t,b,s,i,null));return;case"dialog":ae("beforetoggle",e),ae("toggle",e),ae("cancel",e),ae("close",e);break;case"iframe":case"object":ae("load",e);break;case"video":case"audio":for(s=0;s<Ja.length;s++)ae(Ja[s],e);break;case"image":ae("error",e),ae("load",e);break;case"details":ae("toggle",e);break;case"embed":case"source":case"link":ae("error",e),ae("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(A in i)if(i.hasOwnProperty(A)&&(s=i[A],s!=null))switch(A){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:De(e,t,A,s,i,null)}return;default:if(Jr(t)){for(O in i)i.hasOwnProperty(O)&&(s=i[O],s!==void 0&&Bu(e,t,O,s,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(s=i[p],s!=null&&De(e,t,p,s,i,null))}function I0(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,u=null,d=null,p=null,b=null,A=null,O=null;for(M in i){var j=i[M];if(i.hasOwnProperty(M)&&j!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":b=j;default:s.hasOwnProperty(M)||De(e,t,M,null,s,j)}}for(var w in s){var M=s[w];if(j=i[w],s.hasOwnProperty(w)&&(M!=null||j!=null))switch(w){case"type":u=M;break;case"name":r=M;break;case"checked":A=M;break;case"defaultChecked":O=M;break;case"value":d=M;break;case"defaultValue":p=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(c(137,t));break;default:M!==j&&De(e,t,w,M,s,j)}}Kr(e,d,p,b,A,O,u,r);return;case"select":M=d=p=w=null;for(u in i)if(b=i[u],i.hasOwnProperty(u)&&b!=null)switch(u){case"value":break;case"multiple":M=b;default:s.hasOwnProperty(u)||De(e,t,u,null,s,b)}for(r in s)if(u=s[r],b=i[r],s.hasOwnProperty(r)&&(u!=null||b!=null))switch(r){case"value":w=u;break;case"defaultValue":p=u;break;case"multiple":d=u;default:u!==b&&De(e,t,r,u,s,b)}t=p,i=d,s=M,w!=null?gl(e,!!i,w,!1):!!s!=!!i&&(t!=null?gl(e,!!i,t,!0):gl(e,!!i,i?[]:"",!1));return;case"textarea":M=w=null;for(p in i)if(r=i[p],i.hasOwnProperty(p)&&r!=null&&!s.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:De(e,t,p,null,s,r)}for(d in s)if(r=s[d],u=i[d],s.hasOwnProperty(d)&&(r!=null||u!=null))switch(d){case"value":w=r;break;case"defaultValue":M=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(c(91));break;default:r!==u&&De(e,t,d,r,s,u)}qf(e,w,M);return;case"option":for(var k in i)w=i[k],i.hasOwnProperty(k)&&w!=null&&!s.hasOwnProperty(k)&&(k==="selected"?e.selected=!1:De(e,t,k,null,s,w));for(b in s)w=s[b],M=i[b],s.hasOwnProperty(b)&&w!==M&&(w!=null||M!=null)&&(b==="selected"?e.selected=w&&typeof w!="function"&&typeof w!="symbol":De(e,t,b,w,s,M));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var K in i)w=i[K],i.hasOwnProperty(K)&&w!=null&&!s.hasOwnProperty(K)&&De(e,t,K,null,s,w);for(A in s)if(w=s[A],M=i[A],s.hasOwnProperty(A)&&w!==M&&(w!=null||M!=null))switch(A){case"children":case"dangerouslySetInnerHTML":if(w!=null)throw Error(c(137,t));break;default:De(e,t,A,w,s,M)}return;default:if(Jr(t)){for(var Me in i)w=i[Me],i.hasOwnProperty(Me)&&w!==void 0&&!s.hasOwnProperty(Me)&&Bu(e,t,Me,void 0,s,w);for(O in s)w=s[O],M=i[O],!s.hasOwnProperty(O)||w===M||w===void 0&&M===void 0||Bu(e,t,O,w,s,M);return}}for(var T in i)w=i[T],i.hasOwnProperty(T)&&w!=null&&!s.hasOwnProperty(T)&&De(e,t,T,null,s,w);for(j in s)w=s[j],M=i[j],!s.hasOwnProperty(j)||w===M||w==null&&M==null||De(e,t,j,w,s,M)}function Xg(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function k0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var r=i[s],u=r.transferSize,d=r.initiatorType,p=r.duration;if(u&&p&&Xg(d)){for(d=0,p=r.responseEnd,s+=1;s<i.length;s++){var b=i[s],A=b.startTime;if(A>p)break;var O=b.transferSize,j=b.initiatorType;O&&Xg(j)&&(b=b.responseEnd,d+=O*(b<p?1:(p-A)/(b-A)))}if(--s,t+=8*(u+d)/(r.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Hu=null,Iu=null;function Vc(e){return e.nodeType===9?e:e.ownerDocument}function Kg(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ku(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vu=null;function V0(){var e=window.event;return e&&e.type==="popstate"?e===Vu?!1:(Vu=e,!0):(Vu=null,!1)}var Jg=typeof setTimeout=="function"?setTimeout:void 0,G0=typeof clearTimeout=="function"?clearTimeout:void 0,Wg=typeof Promise=="function"?Promise:void 0,q0=typeof queueMicrotask=="function"?queueMicrotask:typeof Wg<"u"?function(e){return Wg.resolve(null).then(e).catch(Y0)}:Jg;function Y0(e){setTimeout(function(){throw e})}function bi(e){return e==="head"}function $g(e,t){var i=t,s=0;do{var r=i.nextSibling;if(e.removeChild(i),r&&r.nodeType===8)if(i=r.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(r),Xl(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")$a(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,$a(i);for(var u=i.firstChild;u;){var d=u.nextSibling,p=u.nodeName;u[pa]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&u.rel.toLowerCase()==="stylesheet"||i.removeChild(u),u=d}}else i==="body"&&$a(e.ownerDocument.body);i=r}while(i);Xl(t)}function Pg(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function Gu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Gu(i),Fr(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function Q0(e,t,i,s){for(;e.nodeType===1;){var r=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[pa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=cn(e.nextSibling),e===null)break}return null}function F0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=cn(e.nextSibling),e===null))return null;return e}function ep(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=cn(e.nextSibling),e===null))return null;return e}function qu(e){return e.data==="$?"||e.data==="$~"}function Yu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function X0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function cn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qu=null;function tp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return cn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function np(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function ip(e,t,i){switch(t=Vc(i),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function $a(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Fr(e)}var rn=new Map,lp=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Fn=H.d;H.d={f:K0,r:Z0,D:J0,C:W0,L:$0,m:P0,X:t1,S:e1,M:n1};function K0(){var e=Fn.f(),t=jc();return e||t}function Z0(e){var t=fl(e);t!==null&&t.tag===5&&t.type==="form"?Sm(t):Fn.r(e)}var Yl=typeof document>"u"?null:document;function ap(e,t,i){var s=Yl;if(s&&typeof t=="string"&&t){var r=Pt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof i=="string"&&(r+='[crossorigin="'+i+'"]'),lp.has(r)||(lp.add(r),e={rel:e,crossOrigin:i,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),bt(t,"link",e),st(t),s.head.appendChild(t)))}}function J0(e){Fn.D(e),ap("dns-prefetch",e,null)}function W0(e,t){Fn.C(e,t),ap("preconnect",e,t)}function $0(e,t,i){Fn.L(e,t,i);var s=Yl;if(s&&e&&t){var r='link[rel="preload"][as="'+Pt(t)+'"]';t==="image"&&i&&i.imageSrcSet?(r+='[imagesrcset="'+Pt(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(r+='[imagesizes="'+Pt(i.imageSizes)+'"]')):r+='[href="'+Pt(e)+'"]';var u=r;switch(t){case"style":u=Ql(e);break;case"script":u=Fl(e)}rn.has(u)||(e=y({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),rn.set(u,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(Pa(u))||t==="script"&&s.querySelector(es(u))||(t=s.createElement("link"),bt(t,"link",e),st(t),s.head.appendChild(t)))}}function P0(e,t){Fn.m(e,t);var i=Yl;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+Pt(s)+'"][href="'+Pt(e)+'"]',u=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=Fl(e)}if(!rn.has(u)&&(e=y({rel:"modulepreload",href:e},t),rn.set(u,e),i.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(es(u)))return}s=i.createElement("link"),bt(s,"link",e),st(s),i.head.appendChild(s)}}}function e1(e,t,i){Fn.S(e,t,i);var s=Yl;if(s&&e){var r=dl(s).hoistableStyles,u=Ql(e);t=t||"default";var d=r.get(u);if(!d){var p={loading:0,preload:null};if(d=s.querySelector(Pa(u)))p.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":t},i),(i=rn.get(u))&&Fu(e,i);var b=d=s.createElement("link");st(b),bt(b,"link",e),b._p=new Promise(function(A,O){b.onload=A,b.onerror=O}),b.addEventListener("load",function(){p.loading|=1}),b.addEventListener("error",function(){p.loading|=2}),p.loading|=4,qc(d,t,s)}d={type:"stylesheet",instance:d,count:1,state:p},r.set(u,d)}}}function t1(e,t){Fn.X(e,t);var i=Yl;if(i&&e){var s=dl(i).hoistableScripts,r=Fl(e),u=s.get(r);u||(u=i.querySelector(es(r)),u||(e=y({src:e,async:!0},t),(t=rn.get(r))&&Xu(e,t),u=i.createElement("script"),st(u),bt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function n1(e,t){Fn.M(e,t);var i=Yl;if(i&&e){var s=dl(i).hoistableScripts,r=Fl(e),u=s.get(r);u||(u=i.querySelector(es(r)),u||(e=y({src:e,async:!0,type:"module"},t),(t=rn.get(r))&&Xu(e,t),u=i.createElement("script"),st(u),bt(u,"link",e),i.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},s.set(r,u))}}function sp(e,t,i,s){var r=(r=Tt.current)?Gc(r):null;if(!r)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Ql(i.href),i=dl(r).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Ql(i.href);var u=dl(r).hoistableStyles,d=u.get(e);if(d||(r=r.ownerDocument||r,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=r.querySelector(Pa(e)))&&!u._p&&(d.instance=u,d.state.loading=5),rn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},rn.set(e,i),u||i1(r,e,i,d.state))),t&&s===null)throw Error(c(528,""));return d}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Fl(i),i=dl(r).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function Ql(e){return'href="'+Pt(e)+'"'}function Pa(e){return'link[rel="stylesheet"]['+e+"]"}function cp(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function i1(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),bt(t,"link",i),st(t),e.head.appendChild(t))}function Fl(e){return'[src="'+Pt(e)+'"]'}function es(e){return"script[async]"+e}function rp(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+Pt(i.href)+'"]');if(s)return t.instance=s,st(s),s;var r=y({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),st(s),bt(s,"style",r),qc(s,i.precedence,e),t.instance=s;case"stylesheet":r=Ql(i.href);var u=e.querySelector(Pa(r));if(u)return t.state.loading|=4,t.instance=u,st(u),u;s=cp(i),(r=rn.get(r))&&Fu(s,r),u=(e.ownerDocument||e).createElement("link"),st(u);var d=u;return d._p=new Promise(function(p,b){d.onload=p,d.onerror=b}),bt(u,"link",s),t.state.loading|=4,qc(u,i.precedence,e),t.instance=u;case"script":return u=Fl(i.src),(r=e.querySelector(es(u)))?(t.instance=r,st(r),r):(s=i,(r=rn.get(u))&&(s=y({},i),Xu(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),st(r),bt(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,qc(s,i.precedence,e));return t.instance}function qc(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,u=r,d=0;d<s.length;d++){var p=s[d];if(p.dataset.precedence===t)u=p;else if(u!==r)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function Fu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Xu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Yc=null;function op(e,t,i){if(Yc===null){var s=new Map,r=Yc=new Map;r.set(i,s)}else r=Yc,s=r.get(i),s||(s=new Map,r.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),r=0;r<i.length;r++){var u=i[r];if(!(u[pa]||u[pt]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var d=u.getAttribute(t)||"";d=e+d;var p=s.get(d);p?p.push(u):s.set(d,[u])}}return s}function up(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function l1(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function hp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a1(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var r=Ql(s.href),u=t.querySelector(Pa(r));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Qc.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=u,st(u);return}u=t.ownerDocument||t,s=cp(s),(r=rn.get(r))&&Fu(s,r),u=u.createElement("link"),st(u);var d=u;d._p=new Promise(function(p,b){d.onload=p,d.onerror=b}),bt(u,"link",s),i.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=Qc.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var Ku=0;function s1(e,t){return e.stylesheets&&e.count===0&&Xc(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&Ku===0&&(Ku=62500*k0());var r=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Xc(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>Ku?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(r)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Fc=null;function Xc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Fc=new Map,t.forEach(c1,e),Fc=null,Qc.call(e))}function c1(e,t){if(!(t.state.loading&4)){var i=Fc.get(e);if(i)var s=i.get(null);else{i=new Map,Fc.set(e,i);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<r.length;u++){var d=r[u];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),s=d)}s&&i.set(null,s)}r=t.instance,d=r.getAttribute("data-precedence"),u=i.get(d)||s,u===s&&i.set(null,r),i.set(d,r),this.count++,s=Qc.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),u?u.parentNode.insertBefore(r,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var ts={$$typeof:ie,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function r1(e,t,i,s,r,u,d,p,b){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=u,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function fp(e,t,i,s,r,u,d,p,b,A,O,j){return e=new r1(e,t,i,d,b,A,O,j,p),t=1,u===!0&&(t|=24),u=Qt(3,null,null,t),e.current=u,u.stateNode=e,t=Ao(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:s,isDehydrated:i,cache:t},Oo(u),e}function dp(e){return e?(e=El,e):El}function mp(e,t,i,s,r,u){r=dp(r),s.context===null?s.context=r:s.pendingContext=r,s=oi(t),s.payload={element:i},u=u===void 0?null:u,u!==null&&(s.callback=u),i=ui(e,s,t),i!==null&&(kt(i,e,t),ja(i,e,t))}function gp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function Zu(e,t){gp(e,t),(e=e.alternate)&&gp(e,t)}function pp(e){if(e.tag===13||e.tag===31){var t=qi(e,67108864);t!==null&&kt(t,e,67108864),Zu(e,67108864)}}function vp(e){if(e.tag===13||e.tag===31){var t=Jt();t=qr(t);var i=qi(e,t);i!==null&&kt(i,e,t),Zu(e,t)}}var Kc=!0;function o1(e,t,i,s){var r=D.T;D.T=null;var u=H.p;try{H.p=2,Ju(e,t,i,s)}finally{H.p=u,D.T=r}}function u1(e,t,i,s){var r=D.T;D.T=null;var u=H.p;try{H.p=8,Ju(e,t,i,s)}finally{H.p=u,D.T=r}}function Ju(e,t,i,s){if(Kc){var r=Wu(s);if(r===null)Lu(e,t,s,Zc,i),yp(e,s);else if(f1(r,e,t,i,s))s.stopPropagation();else if(yp(e,s),t&4&&-1<h1.indexOf(e)){for(;r!==null;){var u=fl(r);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var d=Y(u.pendingLanes);if(d!==0){var p=u;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var b=1<<31-wt(d);p.entanglements[1]|=b,d&=~b}Nn(u),(Se&6)===0&&(Oc=Et()+500,Za(0))}}break;case 31:case 13:p=qi(u,2),p!==null&&kt(p,u,2),jc(),Zu(u,2)}if(u=Wu(s),u===null&&Lu(e,t,s,Zc,i),u===r)break;r=u}r!==null&&s.stopPropagation()}else Lu(e,t,s,null,i)}}function Wu(e){return e=$r(e),$u(e)}var Zc=null;function $u(e){if(Zc=null,e=hl(e),e!==null){var t=h(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=f(t),e!==null)return e;e=null}else if(i===31){if(e=g(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Zc=e,null}function _p(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bs()){case Hs:return 2;case Is:return 8;case wn:case ks:return 32;case ma:return 268435456;default:return 32}default:return 32}}var Pu=!1,Si=null,Ci=null,Ei=null,ns=new Map,is=new Map,Ti=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yp(e,t){switch(e){case"focusin":case"focusout":Si=null;break;case"dragenter":case"dragleave":Ci=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":ns.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":is.delete(t.pointerId)}}function ls(e,t,i,s,r,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:u,targetContainers:[r]},t!==null&&(t=fl(t),t!==null&&pp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function f1(e,t,i,s,r){switch(t){case"focusin":return Si=ls(Si,e,t,i,s,r),!0;case"dragenter":return Ci=ls(Ci,e,t,i,s,r),!0;case"mouseover":return Ei=ls(Ei,e,t,i,s,r),!0;case"pointerover":var u=r.pointerId;return ns.set(u,ls(ns.get(u)||null,e,t,i,s,r)),!0;case"gotpointercapture":return u=r.pointerId,is.set(u,ls(is.get(u)||null,e,t,i,s,r)),!0}return!1}function bp(e){var t=hl(e.target);if(t!==null){var i=h(t);if(i!==null){if(t=i.tag,t===13){if(t=f(i),t!==null){e.blockedOn=t,zf(e.priority,function(){vp(i)});return}}else if(t===31){if(t=g(i),t!==null){e.blockedOn=t,zf(e.priority,function(){vp(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Jc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Wu(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);Wr=s,i.target.dispatchEvent(s),Wr=null}else return t=fl(i),t!==null&&pp(t),e.blockedOn=i,!1;t.shift()}return!0}function Sp(e,t,i){Jc(e)&&i.delete(t)}function d1(){Pu=!1,Si!==null&&Jc(Si)&&(Si=null),Ci!==null&&Jc(Ci)&&(Ci=null),Ei!==null&&Jc(Ei)&&(Ei=null),ns.forEach(Sp),is.forEach(Sp)}function Wc(e,t){e.blockedOn===t&&(e.blockedOn=null,Pu||(Pu=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,d1)))}var $c=null;function Cp(e){$c!==e&&($c=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){$c===e&&($c=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if($u(s||i)===null)continue;break}var u=fl(i);u!==null&&(e.splice(t,3),t-=3,Wo(u,{pending:!0,data:r,method:i.method,action:s},s,r))}}))}function Xl(e){function t(b){return Wc(b,e)}Si!==null&&Wc(Si,e),Ci!==null&&Wc(Ci,e),Ei!==null&&Wc(Ei,e),ns.forEach(t),is.forEach(t);for(var i=0;i<Ti.length;i++){var s=Ti[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ti.length&&(i=Ti[0],i.blockedOn===null);)bp(i),i.blockedOn===null&&Ti.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var r=i[s],u=i[s+1],d=r[zt]||null;if(typeof u=="function")d||Cp(i);else if(d){var p=null;if(u&&u.hasAttribute("formAction")){if(r=u,d=u[zt]||null)p=d.formAction;else if($u(r)!==null)continue}else p=d.action;typeof p=="function"?i[s+1]=p:(i.splice(s,3),s-=3),Cp(i)}}}function Ep(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(d){return r=d})},focusReset:"manual",scroll:"manual"})}function t(){r!==null&&(r(),r=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),r!==null&&(r(),r=null)}}}function eh(e){this._internalRoot=e}Pc.prototype.render=eh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var i=t.current,s=Jt();mp(i,s,e,t,null,null)},Pc.prototype.unmount=eh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mp(e.current,2,null,e,null,null),jc(),t[ul]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=jf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Ti.length&&t!==0&&t<Ti[i].priority;i++);Ti.splice(i,0,e),i===0&&bp(e)}};var Tp=n.version;if(Tp!=="19.2.4")throw Error(c(527,Tp,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=_(t),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var m1={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var er=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!er.isDisabled&&er.supportsFiber)try{ti=er.inject(m1),At=er}catch{}}return as.createRoot=function(e,t){if(!o(e))throw Error(c(299));var i=!1,s="",r=Om,u=Rm,d=jm;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=fp(e,1,!1,null,null,i,s,null,r,u,d,Ep),e[ul]=t.current,Uu(e),new eh(t)},as.hydrateRoot=function(e,t,i){if(!o(e))throw Error(c(299));var s=!1,r="",u=Om,d=Rm,p=jm,b=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(u=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(b=i.formState)),t=fp(e,1,!0,t,i??null,s,r,b,u,d,p,Ep),t.context=dp(null),i=t.current,s=Jt(),s=qr(s),r=oi(s),r.callback=null,ui(i,r,s),i=s,t.current.lanes=i,ga(t,i),Nn(t),e[ul]=t.current,Uu(e),new Pc(t)},as.version="19.2.4",as}var wp;function b1(){if(wp)return th.exports;wp=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(n){console.error(n)}}return a(),th.exports=y1(),th.exports}var S1=b1();function _h(a){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(a)}function yh(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(a)}function C1(a){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(a)}function E1(a){return ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(a)}function T1(a){return ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(a)}function N1(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function x1(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(a)}function A1(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"},child:[]}]})(a)}function bh(a){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(a)}function gn(a){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(a)}function Sh(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(a)}function w1(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(a)}function lh(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(a)}function ar(a){return ut({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(a)}function D1(a){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M592 0H48A48 48 0 0 0 0 48v320a48 48 0 0 0 48 48h240v32H112a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16H352v-32h240a48 48 0 0 0 48-48V48a48 48 0 0 0-48-48zm-16 352H64V64h512z"},child:[]}]})(a)}function M1(a){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(a)}function O1(a){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(a)}function R1(a){return ut({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(a)}const Dp=a=>{let n;const l=new Set,c=(_,E)=>{const y=typeof _=="function"?_(n):_;if(!Object.is(y,n)){const S=n;n=E??(typeof y!="object"||y===null)?y:Object.assign({},n,y),l.forEach(z=>z(n,S))}},o=()=>n,g={setState:c,getState:o,getInitialState:()=>v,subscribe:_=>(l.add(_),()=>l.delete(_))},v=n=a(c,o,g);return g},j1=(a=>a?Dp(a):Dp),z1=a=>a;function U1(a,n=z1){const l=tr.useSyncExternalStore(a.subscribe,tr.useCallback(()=>n(a.getState()),[a,n]),tr.useCallback(()=>n(a.getInitialState()),[a,n]));return tr.useDebugValue(l),l}const Mp=a=>{const n=j1(a),l=c=>U1(n,c);return Object.assign(l,n),l},L1=(a=>a?Mp(a):Mp);function B1(a,n){let l;try{l=a()}catch{return}return{getItem:o=>{var h;const f=v=>v===null?null:JSON.parse(v,void 0),g=(h=l.getItem(o))!=null?h:null;return g instanceof Promise?g.then(f):f(g)},setItem:(o,h)=>l.setItem(o,JSON.stringify(h,void 0)),removeItem:o=>l.removeItem(o)}}const Ch=a=>n=>{try{const l=a(n);return l instanceof Promise?l:{then(c){return Ch(c)(l)},catch(c){return this}}}catch(l){return{then(c){return this},catch(c){return Ch(c)(l)}}}},H1=(a,n)=>(l,c,o)=>{let h={storage:B1(()=>localStorage),partialize:I=>I,version:0,merge:(I,P)=>({...P,...I}),...n},f=!1,g=0;const v=new Set,_=new Set;let E=h.storage;if(!E)return a((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${h.name}', the given storage is currently unavailable.`),l(...I)},c,o);const y=()=>{const I=h.partialize({...c()});return E.setItem(h.name,{state:I,version:h.version})},S=o.setState;o.setState=(I,P)=>(S(I,P),y());const z=a((...I)=>(l(...I),y()),c,o);o.getInitialState=()=>z;let L;const Q=()=>{var I,P;if(!E)return;const Ne=++g;f=!1,v.forEach(X=>{var me;return X((me=c())!=null?me:z)});const ie=((P=h.onRehydrateStorage)==null?void 0:P.call(h,(I=c())!=null?I:z))||void 0;return Ch(E.getItem.bind(E))(h.name).then(X=>{if(X)if(typeof X.version=="number"&&X.version!==h.version){if(h.migrate){const me=h.migrate(X.state,X.version);return me instanceof Promise?me.then(xe=>[!0,xe]):[!0,me]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,X.state];return[!1,void 0]}).then(X=>{var me;if(Ne!==g)return;const[xe,Ce]=X;if(L=h.merge(Ce,(me=c())!=null?me:z),l(L,!0),xe)return y()}).then(()=>{Ne===g&&(ie?.(L,void 0),L=c(),f=!0,_.forEach(X=>X(L)))}).catch(X=>{Ne===g&&ie?.(void 0,X)})};return o.persist={setOptions:I=>{h={...h,...I},I.storage&&(E=I.storage)},clearStorage:()=>{E?.removeItem(h.name)},getOptions:()=>h,rehydrate:()=>Q(),hasHydrated:()=>f,onHydrate:I=>(v.add(I),()=>{v.delete(I)}),onFinishHydration:I=>(_.add(I),()=>{_.delete(I)})},h.skipHydration||Q(),L||z},I1=H1,k1=()=>{};var Op={};const xv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const B=function(a,n){if(!a)throw sa(n)},sa=function(a){return new Error("Firebase Database ("+xv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+a)};const Av=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):(o&64512)===55296&&c+1<a.length&&(a.charCodeAt(c+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++c)&1023),n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},V1=function(a){const n=[];let l=0,c=0;for(;l<a.length;){const o=a[l++];if(o<128)n[c++]=String.fromCharCode(o);else if(o>191&&o<224){const h=a[l++];n[c++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=a[l++],f=a[l++],g=a[l++],v=((o&7)<<18|(h&63)<<12|(f&63)<<6|g&63)-65536;n[c++]=String.fromCharCode(55296+(v>>10)),n[c++]=String.fromCharCode(56320+(v&1023))}else{const h=a[l++],f=a[l++];n[c++]=String.fromCharCode((o&15)<<12|(h&63)<<6|f&63)}}return n.join("")},qh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,n){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,c=[];for(let o=0;o<a.length;o+=3){const h=a[o],f=o+1<a.length,g=f?a[o+1]:0,v=o+2<a.length,_=v?a[o+2]:0,E=h>>2,y=(h&3)<<4|g>>4;let S=(g&15)<<2|_>>6,z=_&63;v||(z=64,f||(S=64)),c.push(l[E],l[y],l[S],l[z])}return c.join("")},encodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(a):this.encodeByteArray(Av(a),n)},decodeString(a,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(a):V1(this.decodeStringToByteArray(a,n))},decodeStringToByteArray(a,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,c=[];for(let o=0;o<a.length;){const h=l[a.charAt(o++)],g=o<a.length?l[a.charAt(o)]:0;++o;const _=o<a.length?l[a.charAt(o)]:64;++o;const y=o<a.length?l[a.charAt(o)]:64;if(++o,h==null||g==null||_==null||y==null)throw new G1;const S=h<<2|g>>4;if(c.push(S),_!==64){const z=g<<4&240|_>>2;if(c.push(z),y!==64){const L=_<<6&192|y;c.push(L)}}}return c},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class G1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wv=function(a){const n=Av(a);return qh.encodeByteArray(n,!0)},cr=function(a){return wv(a).replace(/\./g,"")},Eh=function(a){try{return qh.decodeString(a,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function q1(a){return Dv(void 0,a)}function Dv(a,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:a===void 0&&(a={});break;case Array:a=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!Y1(l)||(a[l]=Dv(a[l],n[l]));return a}function Y1(a){return a!=="__proto__"}function Q1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const F1=()=>Q1().__FIREBASE_DEFAULTS__,X1=()=>{if(typeof process>"u"||typeof Op>"u")return;const a=Op.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},K1=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=a&&Eh(a[1]);return n&&JSON.parse(n)},Mv=()=>{try{return k1()||F1()||X1()||K1()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Z1=a=>Mv()?.emulatorHosts?.[a],J1=a=>{const n=Z1(a);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const c=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),c]:[n.substring(0,l),c]},Ov=()=>Mv()?.config;class ws{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,c)=>{l?this.reject(l):this.resolve(c),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,c))}}}function Yh(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W1(a){return(await fetch(a,{credentials:"include"})).ok}function $1(a,n){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},c=n||"demo-project",o=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${c}`,aud:c,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[cr(JSON.stringify(l)),cr(JSON.stringify(f)),""].join(".")}const hs={};function P1(){const a={prod:[],emulator:[]};for(const n of Object.keys(hs))hs[n]?a.emulator.push(n):a.prod.push(n);return a}function e2(a){let n=document.getElementById(a),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",a),l=!0),{created:l,element:n}}let Rp=!1;function t2(a,n){if(typeof window>"u"||typeof document>"u"||!Yh(window.location.host)||hs[a]===n||hs[a]||Rp)return;hs[a]=n;function l(S){return`__firebase__banner__${S}`}const c="__firebase__banner",h=P1().prod.length>0;function f(){const S=document.getElementById(c);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function v(S,z){S.setAttribute("width","24"),S.setAttribute("id",z),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Rp=!0,f()},S}function E(S,z){S.setAttribute("id",z),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function y(){const S=e2(c),z=l("text"),L=document.getElementById(z)||document.createElement("span"),Q=l("learnmore"),I=document.getElementById(Q)||document.createElement("a"),P=l("preprendIcon"),Ne=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;g(ie),E(I,Q);const X=_();v(Ne,P),ie.append(Ne,L,I,X),document.body.appendChild(ie)}h?(L.innerText="Preview backend disconnected.",Ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function n2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Rv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(n2())}function i2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l2(){return xv.NODE_ADMIN===!0}function a2(){try{return typeof indexedDB=="object"}catch{return!1}}function s2(){return new Promise((a,n)=>{try{let l=!0;const c="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(c);o.onsuccess=()=>{o.result.close(),l||self.indexedDB.deleteDatabase(c),a(!0)},o.onupgradeneeded=()=>{l=!1},o.onerror=()=>{n(o.error?.message||"")}}catch(l){n(l)}})}const c2="FirebaseError";class Ds extends Error{constructor(n,l,c){super(l),this.code=n,this.customData=c,this.name=c2,Object.setPrototypeOf(this,Ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jv.prototype.create)}}class jv{constructor(n,l,c){this.service=n,this.serviceName=l,this.errors=c}create(n,...l){const c=l[0]||{},o=`${this.service}/${n}`,h=this.errors[n],f=h?r2(h,c):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Ds(o,g,c)}}function r2(a,n){return a.replace(o2,(l,c)=>{const o=n[c];return o!=null?String(o):`<${c}?>`})}const o2=/\{\$([^}]+)}/g;function vs(a){return JSON.parse(a)}function at(a){return JSON.stringify(a)}const zv=function(a){let n={},l={},c={},o="";try{const h=a.split(".");n=vs(Eh(h[0])||""),l=vs(Eh(h[1])||""),o=h[2],c=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:c,signature:o}},u2=function(a){const n=zv(a),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},h2=function(a){const n=zv(a).claims;return typeof n=="object"&&n.admin===!0};function xn(a,n){return Object.prototype.hasOwnProperty.call(a,n)}function ea(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]}function jp(a){for(const n in a)if(Object.prototype.hasOwnProperty.call(a,n))return!1;return!0}function rr(a,n,l){const c={};for(const o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=n.call(l,a[o],o,a));return c}function or(a,n){if(a===n)return!0;const l=Object.keys(a),c=Object.keys(n);for(const o of l){if(!c.includes(o))return!1;const h=a[o],f=n[o];if(zp(h)&&zp(f)){if(!or(h,f))return!1}else if(h!==f)return!1}for(const o of c)if(!l.includes(o))return!1;return!0}function zp(a){return a!==null&&typeof a=="object"}function f2(a){const n=[];for(const[l,c]of Object.entries(a))Array.isArray(c)?c.forEach(o=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(o))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(c));return n.length?"&"+n.join("&"):""}class d2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const c=this.W_;if(typeof n=="string")for(let y=0;y<16;y++)c[y]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let y=0;y<16;y++)c[y]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let y=16;y<80;y++){const S=c[y-3]^c[y-8]^c[y-14]^c[y-16];c[y]=(S<<1|S>>>31)&4294967295}let o=this.chain_[0],h=this.chain_[1],f=this.chain_[2],g=this.chain_[3],v=this.chain_[4],_,E;for(let y=0;y<80;y++){y<40?y<20?(_=g^h&(f^g),E=1518500249):(_=h^f^g,E=1859775393):y<60?(_=h&f|g&(h|f),E=2400959708):(_=h^f^g,E=3395469782);const S=(o<<5|o>>>27)+_+v+E+c[y]&4294967295;v=g,g=f,f=(h<<30|h>>>2)&4294967295,h=o,o=S}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+g&4294967295,this.chain_[4]=this.chain_[4]+v&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const c=l-this.blockSize;let o=0;const h=this.buf_;let f=this.inbuf_;for(;o<l;){if(f===0)for(;o<=c;)this.compress_(n,o),o+=this.blockSize;if(typeof n=="string"){for(;o<l;)if(h[f]=n.charCodeAt(o),++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}else for(;o<l;)if(h[f]=n[o],++f,++o,f===this.blockSize){this.compress_(h),f=0;break}}this.inbuf_=f,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=l&255,l/=256;this.compress_(this.buf_);let c=0;for(let o=0;o<5;o++)for(let h=24;h>=0;h-=8)n[c]=this.chain_[o]>>h&255,++c;return n}}function xr(a,n){return`${a} failed: ${n} argument `}const m2=function(a){const n=[];let l=0;for(let c=0;c<a.length;c++){let o=a.charCodeAt(c);if(o>=55296&&o<=56319){const h=o-55296;c++,B(c<a.length,"Surrogate pair missing trail surrogate.");const f=a.charCodeAt(c)-56320;o=65536+(h<<10)+f}o<128?n[l++]=o:o<2048?(n[l++]=o>>6|192,n[l++]=o&63|128):o<65536?(n[l++]=o>>12|224,n[l++]=o>>6&63|128,n[l++]=o&63|128):(n[l++]=o>>18|240,n[l++]=o>>12&63|128,n[l++]=o>>6&63|128,n[l++]=o&63|128)}return n},Ar=function(a){let n=0;for(let l=0;l<a.length;l++){const c=a.charCodeAt(l);c<128?n++:c<2048?n+=2:c>=55296&&c<=56319?(n+=4,l++):n+=3}return n};function ca(a){return a&&a._delegate?a._delegate:a}class _s{constructor(n,l,c){this.name=n,this.instanceFactory=l,this.type=c,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const nl="[DEFAULT]";class g2{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const c=new ws;if(this.instancesDeferred.set(l,c),this.isInitialized(l)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:l});o&&c.resolve(o)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),c=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(o){if(c)return null;throw o}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(v2(n))try{this.getOrInitializeService({instanceIdentifier:nl})}catch{}for(const[l,c]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(l);try{const h=this.getOrInitializeService({instanceIdentifier:o});c.resolve(h)}catch{}}}}clearInstance(n=nl){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=nl){return this.instances.has(n)}getOptions(n=nl){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,c=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(c))throw Error(`${this.name}(${c}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:c,options:l});for(const[h,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);c===g&&f.resolve(o)}return o}onInit(n,l){const c=this.normalizeInstanceIdentifier(l),o=this.onInitCallbacks.get(c)??new Set;o.add(n),this.onInitCallbacks.set(c,o);const h=this.instances.get(c);return h&&n(h,c),()=>{o.delete(n)}}invokeOnInitCallbacks(n,l){const c=this.onInitCallbacks.get(l);if(c)for(const o of c)try{o(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let c=this.instances.get(n);if(!c&&this.component&&(c=this.component.instanceFactory(this.container,{instanceIdentifier:p2(n),options:l}),this.instances.set(n,c),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(c,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,c)}catch{}return c||null}normalizeInstanceIdentifier(n=nl){return this.component?this.component.multipleInstances?n:nl:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p2(a){return a===nl?void 0:a}function v2(a){return a.instantiationMode==="EAGER"}class _2{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new g2(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var ze;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(ze||(ze={}));const y2={debug:ze.DEBUG,verbose:ze.VERBOSE,info:ze.INFO,warn:ze.WARN,error:ze.ERROR,silent:ze.SILENT},b2=ze.INFO,S2={[ze.DEBUG]:"log",[ze.VERBOSE]:"log",[ze.INFO]:"info",[ze.WARN]:"warn",[ze.ERROR]:"error"},C2=(a,n,...l)=>{if(n<a.logLevel)return;const c=new Date().toISOString(),o=S2[n];if(o)console[o](`[${c}]  ${a.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class Uv{constructor(n){this.name=n,this._logLevel=b2,this._logHandler=C2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in ze))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?y2[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,ze.DEBUG,...n),this._logHandler(this,ze.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,ze.VERBOSE,...n),this._logHandler(this,ze.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,ze.INFO,...n),this._logHandler(this,ze.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,ze.WARN,...n),this._logHandler(this,ze.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,ze.ERROR,...n),this._logHandler(this,ze.ERROR,...n)}}const E2=(a,n)=>n.some(l=>a instanceof l);let Up,Lp;function T2(){return Up||(Up=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N2(){return Lp||(Lp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Lv=new WeakMap,Th=new WeakMap,Bv=new WeakMap,ah=new WeakMap,Qh=new WeakMap;function x2(a){const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("success",h),a.removeEventListener("error",f)},h=()=>{l(Di(a.result)),o()},f=()=>{c(a.error),o()};a.addEventListener("success",h),a.addEventListener("error",f)});return n.then(l=>{l instanceof IDBCursor&&Lv.set(l,a)}).catch(()=>{}),Qh.set(n,a),n}function A2(a){if(Th.has(a))return;const n=new Promise((l,c)=>{const o=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",f),a.removeEventListener("abort",f)},h=()=>{l(),o()},f=()=>{c(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",h),a.addEventListener("error",f),a.addEventListener("abort",f)});Th.set(a,n)}let Nh={get(a,n,l){if(a instanceof IDBTransaction){if(n==="done")return Th.get(a);if(n==="objectStoreNames")return a.objectStoreNames||Bv.get(a);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return Di(a[n])},set(a,n,l){return a[n]=l,!0},has(a,n){return a instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in a}};function w2(a){Nh=a(Nh)}function D2(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const c=a.call(sh(this),n,...l);return Bv.set(c,n.sort?n.sort():[n]),Di(c)}:N2().includes(a)?function(...n){return a.apply(sh(this),n),Di(Lv.get(this))}:function(...n){return Di(a.apply(sh(this),n))}}function M2(a){return typeof a=="function"?D2(a):(a instanceof IDBTransaction&&A2(a),E2(a,T2())?new Proxy(a,Nh):a)}function Di(a){if(a instanceof IDBRequest)return x2(a);if(ah.has(a))return ah.get(a);const n=M2(a);return n!==a&&(ah.set(a,n),Qh.set(n,a)),n}const sh=a=>Qh.get(a);function O2(a,n,{blocked:l,upgrade:c,blocking:o,terminated:h}={}){const f=indexedDB.open(a,n),g=Di(f);return c&&f.addEventListener("upgradeneeded",v=>{c(Di(f.result),v.oldVersion,v.newVersion,Di(f.transaction),v)}),l&&f.addEventListener("blocked",v=>l(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),o&&v.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const R2=["get","getKey","getAll","getAllKeys","count"],j2=["put","add","delete","clear"],ch=new Map;function Bp(a,n){if(!(a instanceof IDBDatabase&&!(n in a)&&typeof n=="string"))return;if(ch.get(n))return ch.get(n);const l=n.replace(/FromIndex$/,""),c=n!==l,o=j2.includes(l);if(!(l in(c?IDBIndex:IDBObjectStore).prototype)||!(o||R2.includes(l)))return;const h=async function(f,...g){const v=this.transaction(f,o?"readwrite":"readonly");let _=v.store;return c&&(_=_.index(g.shift())),(await Promise.all([_[l](...g),o&&v.done]))[0]};return ch.set(n,h),h}w2(a=>({...a,get:(n,l,c)=>Bp(n,l)||a.get(n,l,c),has:(n,l)=>!!Bp(n,l)||a.has(n,l)}));class z2{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(U2(l)){const c=l.getImmediate();return`${c.library}/${c.version}`}else return null}).filter(l=>l).join(" ")}}function U2(a){return a.getComponent()?.type==="VERSION"}const xh="@firebase/app",Hp="0.14.7";const Jn=new Uv("@firebase/app"),L2="@firebase/app-compat",B2="@firebase/analytics-compat",H2="@firebase/analytics",I2="@firebase/app-check-compat",k2="@firebase/app-check",V2="@firebase/auth",G2="@firebase/auth-compat",q2="@firebase/database",Y2="@firebase/data-connect",Q2="@firebase/database-compat",F2="@firebase/functions",X2="@firebase/functions-compat",K2="@firebase/installations",Z2="@firebase/installations-compat",J2="@firebase/messaging",W2="@firebase/messaging-compat",$2="@firebase/performance",P2="@firebase/performance-compat",eb="@firebase/remote-config",tb="@firebase/remote-config-compat",nb="@firebase/storage",ib="@firebase/storage-compat",lb="@firebase/firestore",ab="@firebase/ai",sb="@firebase/firestore-compat",cb="firebase",rb="12.8.0";const Ah="[DEFAULT]",ob={[xh]:"fire-core",[L2]:"fire-core-compat",[H2]:"fire-analytics",[B2]:"fire-analytics-compat",[k2]:"fire-app-check",[I2]:"fire-app-check-compat",[V2]:"fire-auth",[G2]:"fire-auth-compat",[q2]:"fire-rtdb",[Y2]:"fire-data-connect",[Q2]:"fire-rtdb-compat",[F2]:"fire-fn",[X2]:"fire-fn-compat",[K2]:"fire-iid",[Z2]:"fire-iid-compat",[J2]:"fire-fcm",[W2]:"fire-fcm-compat",[$2]:"fire-perf",[P2]:"fire-perf-compat",[eb]:"fire-rc",[tb]:"fire-rc-compat",[nb]:"fire-gcs",[ib]:"fire-gcs-compat",[lb]:"fire-fst",[sb]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[cb]:"fire-js-all"};const ur=new Map,ub=new Map,wh=new Map;function Ip(a,n){try{a.container.addComponent(n)}catch(l){Jn.debug(`Component ${n.name} failed to register with FirebaseApp ${a.name}`,l)}}function hr(a){const n=a.name;if(wh.has(n))return Jn.debug(`There were multiple attempts to register component ${n}.`),!1;wh.set(n,a);for(const l of ur.values())Ip(l,a);for(const l of ub.values())Ip(l,a);return!0}function hb(a,n){const l=a.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),a.container.getProvider(n)}function fb(a){return a==null?!1:a.settings!==void 0}const db={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new jv("app","Firebase",db);class mb{constructor(n,l,c){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=c,this.container.addComponent(new _s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}const gb=rb;function Hv(a,n={}){let l=a;typeof n!="object"&&(n={name:n});const c={name:Ah,automaticDataCollectionEnabled:!0,...n},o=c.name;if(typeof o!="string"||!o)throw Mi.create("bad-app-name",{appName:String(o)});if(l||(l=Ov()),!l)throw Mi.create("no-options");const h=ur.get(o);if(h){if(or(l,h.options)&&or(c,h.config))return h;throw Mi.create("duplicate-app",{appName:o})}const f=new _2(o);for(const v of wh.values())f.addComponent(v);const g=new mb(l,c,f);return ur.set(o,g),g}function pb(a=Ah){const n=ur.get(a);if(!n&&a===Ah&&Ov())return Hv();if(!n)throw Mi.create("no-app",{appName:a});return n}function Jl(a,n,l){let c=ob[a]??a;l&&(c+=`-${l}`);const o=c.match(/\s|\//),h=n.match(/\s|\//);if(o||h){const f=[`Unable to register library "${c}" with version "${n}":`];o&&f.push(`library name "${c}" contains illegal characters (whitespace or "/")`),o&&h&&f.push("and"),h&&f.push(`version name "${n}" contains illegal characters (whitespace or "/")`),Jn.warn(f.join(" "));return}hr(new _s(`${c}-version`,()=>({library:c,version:n}),"VERSION"))}const vb="firebase-heartbeat-database",_b=1,ys="firebase-heartbeat-store";let rh=null;function Iv(){return rh||(rh=O2(vb,_b,{upgrade:(a,n)=>{switch(n){case 0:try{a.createObjectStore(ys)}catch(l){console.warn(l)}}}}).catch(a=>{throw Mi.create("idb-open",{originalErrorMessage:a.message})})),rh}async function yb(a){try{const l=(await Iv()).transaction(ys),c=await l.objectStore(ys).get(kv(a));return await l.done,c}catch(n){if(n instanceof Ds)Jn.warn(n.message);else{const l=Mi.create("idb-get",{originalErrorMessage:n?.message});Jn.warn(l.message)}}}async function kp(a,n){try{const c=(await Iv()).transaction(ys,"readwrite");await c.objectStore(ys).put(n,kv(a)),await c.done}catch(l){if(l instanceof Ds)Jn.warn(l.message);else{const c=Mi.create("idb-set",{originalErrorMessage:l?.message});Jn.warn(c.message)}}}function kv(a){return`${a.name}!${a.options.appId}`}const bb=1024,Sb=30;class Cb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Tb(l),this._heartbeatsCachePromise=this._storage.read().then(c=>(this._heartbeatsCache=c,c))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vp();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(o=>o.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>Sb){const o=Nb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Jn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vp(),{heartbeatsToSend:l,unsentEntries:c}=Eb(this._heartbeatsCache.heartbeats),o=cr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Jn.warn(n),""}}}function Vp(){return new Date().toISOString().substring(0,10)}function Eb(a,n=bb){const l=[];let c=a.slice();for(const o of a){const h=l.find(f=>f.agent===o.agent);if(h){if(h.dates.push(o.date),Gp(l)>n){h.dates.pop();break}}else if(l.push({agent:o.agent,dates:[o.date]}),Gp(l)>n){l.pop();break}c=c.slice(1)}return{heartbeatsToSend:l,unsentEntries:c}}class Tb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a2()?s2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await yb(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return kp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const c=await this.read();return kp(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...n.heartbeats]})}else return}}function Gp(a){return cr(JSON.stringify({version:2,heartbeats:a})).length}function Nb(a){if(a.length===0)return-1;let n=0,l=a[0].date;for(let c=1;c<a.length;c++)a[c].date<l&&(l=a[c].date,n=c);return n}function xb(a){hr(new _s("platform-logger",n=>new z2(n),"PRIVATE")),hr(new _s("heartbeat",n=>new Cb(n),"PRIVATE")),Jl(xh,Hp,a),Jl(xh,Hp,"esm2020"),Jl("fire-js","")}xb("");var Ab="firebase",wb="12.8.0";Jl(Ab,wb,"app");var qp={};const Yp="@firebase/database",Qp="1.1.0";let Vv="";function Db(a){Vv=a}class Mb{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),at(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:vs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class Ob{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return xn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const Gv=function(a){try{if(typeof window<"u"&&typeof window[a]<"u"){const n=window[a];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new Mb(n)}}catch{}return new Ob},ll=Gv("localStorage"),Rb=Gv("sessionStorage");const Wl=new Uv("@firebase/database"),jb=(function(){let a=1;return function(){return a++}})(),qv=function(a){const n=m2(a),l=new d2;l.update(n);const c=l.digest();return qh.encodeByteArray(c)},Ms=function(...a){let n="";for(let l=0;l<a.length;l++){const c=a[l];Array.isArray(c)||c&&typeof c=="object"&&typeof c.length=="number"?n+=Ms.apply(null,c):typeof c=="object"?n+=at(c):n+=c,n+=" "}return n};let fs=null,Fp=!0;const zb=function(a,n){B(!0,"Can't turn on custom loggers persistently."),Wl.logLevel=ze.VERBOSE,fs=Wl.log.bind(Wl)},St=function(...a){if(Fp===!0&&(Fp=!1,fs===null&&Rb.get("logging_enabled")===!0&&zb()),fs){const n=Ms.apply(null,a);fs(n)}},Os=function(a){return function(...n){St(a,...n)}},Dh=function(...a){const n="FIREBASE INTERNAL ERROR: "+Ms(...a);Wl.error(n)},Wn=function(...a){const n=`FIREBASE FATAL ERROR: ${Ms(...a)}`;throw Wl.error(n),new Error(n)},Rt=function(...a){const n="FIREBASE WARNING: "+Ms(...a);Wl.warn(n)},Ub=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Fh=function(a){return typeof a=="number"&&(a!==a||a===Number.POSITIVE_INFINITY||a===Number.NEGATIVE_INFINITY)},Lb=function(a){if(document.readyState==="complete")a();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,a())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},ta="[MIN_NAME]",al="[MAX_NAME]",rl=function(a,n){if(a===n)return 0;if(a===ta||n===al)return-1;if(n===ta||a===al)return 1;{const l=Xp(a),c=Xp(n);return l!==null?c!==null?l-c===0?a.length-n.length:l-c:-1:c!==null?1:a<n?-1:1}},Bb=function(a,n){return a===n?0:a<n?-1:1},ss=function(a,n){if(n&&a in n)return n[a];throw new Error("Missing required key ("+a+") in object: "+at(n))},Xh=function(a){if(typeof a!="object"||a===null)return at(a);const n=[];for(const c in a)n.push(c);n.sort();let l="{";for(let c=0;c<n.length;c++)c!==0&&(l+=","),l+=at(n[c]),l+=":",l+=Xh(a[n[c]]);return l+="}",l},Yv=function(a,n){const l=a.length;if(l<=n)return[a];const c=[];for(let o=0;o<l;o+=n)o+n>l?c.push(a.substring(o,l)):c.push(a.substring(o,o+n));return c};function Ct(a,n){for(const l in a)a.hasOwnProperty(l)&&n(l,a[l])}const Qv=function(a){B(!Fh(a),"Invalid JSON number");const n=11,l=52,c=(1<<n-1)-1;let o,h,f,g,v;a===0?(h=0,f=0,o=1/a===-1/0?1:0):(o=a<0,a=Math.abs(a),a>=Math.pow(2,1-c)?(g=Math.min(Math.floor(Math.log(a)/Math.LN2),c),h=g+c,f=Math.round(a*Math.pow(2,l-g)-Math.pow(2,l))):(h=0,f=Math.round(a/Math.pow(2,1-c-l))));const _=[];for(v=l;v;v-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(v=n;v;v-=1)_.push(h%2?1:0),h=Math.floor(h/2);_.push(o?1:0),_.reverse();const E=_.join("");let y="";for(v=0;v<64;v+=8){let S=parseInt(E.substr(v,8),2).toString(16);S.length===1&&(S="0"+S),y=y+S}return y.toLowerCase()},Hb=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Ib=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function kb(a,n){let l="Unknown Error";a==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":a==="permission_denied"?l="Client doesn't have permission to access the desired data.":a==="unavailable"&&(l="The service is unavailable");const c=new Error(a+" at "+n._path.toString()+": "+l);return c.code=a.toUpperCase(),c}const Vb=new RegExp("^-?(0*)\\d{1,10}$"),Gb=-2147483648,qb=2147483647,Xp=function(a){if(Vb.test(a)){const n=Number(a);if(n>=Gb&&n<=qb)return n}return null},ra=function(a){try{a()}catch(n){setTimeout(()=>{const l=n.stack||"";throw Rt("Exception was thrown by user callback.",l),n},Math.floor(0))}},Yb=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ds=function(a,n){const l=setTimeout(a,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class Qb{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,fb(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(c=>this.appCheck=c)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,c)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){Rt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Fb{constructor(n,l,c){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=c,this.auth_=null,this.auth_=c.getImmediate({optional:!0}),this.auth_||c.onInit(o=>this.auth_=o)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(St("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,c)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,c):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rt(n)}}class sr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}sr.OWNER="owner";const Kh="5",Fv="v",Xv="s",Kv="r",Zv="f",Jv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wv="ls",$v="p",Mh="ac",Pv="websocket",e_="long_polling";class t_{constructor(n,l,c,o,h=!1,f="",g=!1,v=!1,_=null){this.secure=l,this.namespace=c,this.webSocketOnly=o,this.nodeAdmin=h,this.persistenceKey=f,this.includeNamespaceInQueryParams=g,this.isUsingEmulator=v,this.emulatorOptions=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ll.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ll.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function Xb(a){return a.host!==a.internalHost||a.isCustomHost()||a.includeNamespaceInQueryParams}function n_(a,n,l){B(typeof n=="string","typeof type must == string"),B(typeof l=="object","typeof params must == object");let c;if(n===Pv)c=(a.secure?"wss://":"ws://")+a.internalHost+"/.ws?";else if(n===e_)c=(a.secure?"https://":"http://")+a.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);Xb(a)&&(l.ns=a.namespace);const o=[];return Ct(l,(h,f)=>{o.push(h+"="+f)}),c+o.join("&")}class Kb{constructor(){this.counters_={}}incrementCounter(n,l=1){xn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return q1(this.counters_)}}const oh={},uh={};function Zh(a){const n=a.toString();return oh[n]||(oh[n]=new Kb),oh[n]}function Zb(a,n){const l=a.toString();return uh[l]||(uh[l]=n()),uh[l]}class Jb{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const c=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<c.length;++o)c[o]&&ra(()=>{this.onMessage_(c[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Kp="start",Wb="close",$b="pLPCommand",Pb="pRTLPCB",i_="id",l_="pw",a_="ser",eS="cb",tS="seg",nS="ts",iS="d",lS="dframe",s_=1870,c_=30,aS=s_-c_,sS=25e3,cS=3e4;class Zl{constructor(n,l,c,o,h,f,g){this.connId=n,this.repoInfo=l,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.transportSessionId=f,this.lastSessionId=g,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Os(n),this.stats_=Zh(l),this.urlFn=v=>(this.appCheckToken&&(v[Mh]=this.appCheckToken),n_(l,e_,v))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new Jb(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(cS)),Lb(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Jh((...h)=>{const[f,g,v,_,E]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===Kp)this.id=g,this.password=v;else if(f===Wb)g?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(g,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...h)=>{const[f,g]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(f,g)},()=>{this.onClosed_()},this.urlFn);const c={};c[Kp]="t",c[a_]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(c[eS]=this.scriptTagHolder.uniqueCallbackIdentifier),c[Fv]=Kh,this.transportSessionId&&(c[Xv]=this.transportSessionId),this.lastSessionId&&(c[Wv]=this.lastSessionId),this.applicationId&&(c[$v]=this.applicationId),this.appCheckToken&&(c[Mh]=this.appCheckToken),typeof location<"u"&&location.hostname&&Jv.test(location.hostname)&&(c[Kv]=Zv);const o=this.urlFn(c);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Zl.forceAllow_=!0}static forceDisallow(){Zl.forceDisallow_=!0}static isAvailable(){return Zl.forceAllow_?!0:!Zl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Hb()&&!Ib()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=at(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=wv(l),o=Yv(c,aS);for(let h=0;h<o.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[h]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const c={};c[lS]="t",c[i_]=n,c[l_]=l,this.myDisconnFrame.src=this.urlFn(c),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=at(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class Jh{constructor(n,l,c,o){this.onDisconnect=c,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=jb(),window[$b+this.uniqueCallbackIdentifier]=n,window[Pb+this.uniqueCallbackIdentifier]=l,this.myIFrame=Jh.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(g){St("frame writing exception"),g.stack&&St(g.stack),St(g)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||St("No IE domain setting required")}catch{const c=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+c+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[i_]=this.myID,n[l_]=this.myPW,n[a_]=this.currentSerial;let l=this.urlFn(n),c="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+c_+c.length<=s_;){const f=this.pendingSegs.shift();c=c+"&"+tS+o+"="+f.seg+"&"+nS+o+"="+f.ts+"&"+iS+o+"="+f.d,o++}return l=l+c,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,c){this.pendingSegs.push({seg:n,ts:l,d:c}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const c=()=>{this.outstandingRequests.delete(l),this.newRequest_()},o=setTimeout(c,Math.floor(sS)),h=()=>{clearTimeout(o),c()};this.addTag(n,h)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const c=this.myIFrame.doc.createElement("script");c.type="text/javascript",c.async=!0,c.src=n,c.onload=c.onreadystatechange=function(){const o=c.readyState;(!o||o==="loaded"||o==="complete")&&(c.onload=c.onreadystatechange=null,c.parentNode&&c.parentNode.removeChild(c),l())},c.onerror=()=>{St("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(c)}catch{}},Math.floor(1))}}const rS=16384,oS=45e3;let fr=null;typeof MozWebSocket<"u"?fr=MozWebSocket:typeof WebSocket<"u"&&(fr=WebSocket);class pn{constructor(n,l,c,o,h,f,g){this.connId=n,this.applicationId=c,this.appCheckToken=o,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Os(this.connId),this.stats_=Zh(l),this.connURL=pn.connectionURL_(l,f,g,o,c),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,c,o,h){const f={};return f[Fv]=Kh,typeof location<"u"&&location.hostname&&Jv.test(location.hostname)&&(f[Kv]=Zv),l&&(f[Xv]=l),c&&(f[Wv]=c),o&&(f[Mh]=o),h&&(f[$v]=h),n_(n,Pv,f)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ll.set("previous_websocket_failure",!0);try{let c;l2(),this.mySock=new fr(this.connURL,[],c)}catch(c){this.log_("Error instantiating WebSocket.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=c=>{this.handleIncomingFrame(c)},this.mySock.onerror=c=>{this.log_("WebSocket error.  Closing connection.");const o=c.message||c.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,c=navigator.userAgent.match(l);c&&c.length>1&&parseFloat(c[1])<4.4&&(n=!0)}return!n&&fr!==null&&!pn.forceDisallow_}static previouslyFailed(){return ll.isInMemoryStorage||ll.get("previous_websocket_failure")===!0}markConnectionHealthy(){ll.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const c=vs(l);this.onMessage(c)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(B(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const c=this.extractFrameCount_(l);c!==null&&this.appendFrame_(c)}}send(n){this.resetKeepAlive();const l=at(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const c=Yv(l,rS);c.length>1&&this.sendString_(String(c.length));for(let o=0;o<c.length;o++)this.sendString_(c[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(oS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;class bs{static get ALL_TRANSPORTS(){return[Zl,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=pn&&pn.isAvailable();let c=l&&!pn.previouslyFailed();if(n.webSocketOnly&&(l||Rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),c=!0),c)this.transports_=[pn];else{const o=this.transports_=[];for(const h of bs.ALL_TRANSPORTS)h&&h.isAvailable()&&o.push(h);bs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}bs.globalTransportInitialized_=!1;const uS=6e4,hS=5e3,fS=10*1024,dS=100*1024,hh="t",Zp="d",mS="s",Jp="r",gS="e",Wp="o",$p="a",Pp="n",ev="p",pS="h";class vS{constructor(n,l,c,o,h,f,g,v,_,E){this.id=n,this.repoInfo_=l,this.applicationId_=c,this.appCheckToken_=o,this.authToken_=h,this.onMessage_=f,this.onReady_=g,this.onDisconnect_=v,this.onKill_=_,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Os("c:"+this.id+":"),this.transportManager_=new bs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),c=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,c)},Math.floor(0));const o=n.healthyTimeout||0;o>0&&(this.healthyTimeout_=ds(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>fS?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(hh in n){const l=n[hh];l===$p?this.upgradeIfSecondaryHealthy_():l===Jp?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===Wp&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=ss("t",n),c=ss("d",n);if(l==="c")this.onSecondaryControl_(c);else if(l==="d")this.pendingDataMessages.push(c);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ev,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$p,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Pp,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=ss("t",n),c=ss("d",n);l==="c"?this.onControl_(c):l==="d"&&this.onDataMessage_(c)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=ss(hh,n);if(Zp in n){const c=n[Zp];if(l===pS){const o={...c};this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(l===Pp){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===mS?this.onConnectionShutdown_(c):l===Jp?this.onReset_(c):l===gS?Dh("Server Error: "+c):l===Wp?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Dh("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,c=n.v,o=n.h;this.sessionId=n.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),Kh!==c&&Rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),c=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,c),ds(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(uS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ds(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(hS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ev,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ll.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class r_{put(n,l,c,o){}merge(n,l,c,o){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,c){}onDisconnectMerge(n,l,c){}onDisconnectCancel(n,l){}reportStats(n){}}class o_{constructor(n){this.allowedEvents_=n,this.listeners_={},B(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const c=[...this.listeners_[n]];for(let o=0;o<c.length;o++)c[o].callback.apply(c[o].context,l)}}on(n,l,c){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:c});const o=this.getInitialEvent(n);o&&l.apply(c,o)}off(n,l,c){this.validateEventType_(n);const o=this.listeners_[n]||[];for(let h=0;h<o.length;h++)if(o[h].callback===l&&(!c||c===o[h].context)){o.splice(h,1);return}}validateEventType_(n){B(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class dr extends o_{static getInstance(){return new dr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Rv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return B(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const tv=32,nv=768;class Oe{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let c=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[c]=this.pieces_[o],c++);this.pieces_.length=c,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function ye(){return new Oe("")}function te(a){return a.pieceNum_>=a.pieces_.length?null:a.pieces_[a.pieceNum_]}function ji(a){return a.pieces_.length-a.pieceNum_}function Ue(a){let n=a.pieceNum_;return n<a.pieces_.length&&n++,new Oe(a.pieces_,n)}function Wh(a){return a.pieceNum_<a.pieces_.length?a.pieces_[a.pieces_.length-1]:null}function _S(a){let n="";for(let l=a.pieceNum_;l<a.pieces_.length;l++)a.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(a.pieces_[l])));return n||"/"}function Ss(a,n=0){return a.pieces_.slice(a.pieceNum_+n)}function u_(a){if(a.pieceNum_>=a.pieces_.length)return null;const n=[];for(let l=a.pieceNum_;l<a.pieces_.length-1;l++)n.push(a.pieces_[l]);return new Oe(n,0)}function Qe(a,n){const l=[];for(let c=a.pieceNum_;c<a.pieces_.length;c++)l.push(a.pieces_[c]);if(n instanceof Oe)for(let c=n.pieceNum_;c<n.pieces_.length;c++)l.push(n.pieces_[c]);else{const c=n.split("/");for(let o=0;o<c.length;o++)c[o].length>0&&l.push(c[o])}return new Oe(l,0)}function se(a){return a.pieceNum_>=a.pieces_.length}function Ot(a,n){const l=te(a),c=te(n);if(l===null)return n;if(l===c)return Ot(Ue(a),Ue(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+a+")")}function yS(a,n){const l=Ss(a,0),c=Ss(n,0);for(let o=0;o<l.length&&o<c.length;o++){const h=rl(l[o],c[o]);if(h!==0)return h}return l.length===c.length?0:l.length<c.length?-1:1}function $h(a,n){if(ji(a)!==ji(n))return!1;for(let l=a.pieceNum_,c=n.pieceNum_;l<=a.pieces_.length;l++,c++)if(a.pieces_[l]!==n.pieces_[c])return!1;return!0}function on(a,n){let l=a.pieceNum_,c=n.pieceNum_;if(ji(a)>ji(n))return!1;for(;l<a.pieces_.length;){if(a.pieces_[l]!==n.pieces_[c])return!1;++l,++c}return!0}class bS{constructor(n,l){this.errorPrefix_=l,this.parts_=Ss(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let c=0;c<this.parts_.length;c++)this.byteLength_+=Ar(this.parts_[c]);h_(this)}}function SS(a,n){a.parts_.length>0&&(a.byteLength_+=1),a.parts_.push(n),a.byteLength_+=Ar(n),h_(a)}function CS(a){const n=a.parts_.pop();a.byteLength_-=Ar(n),a.parts_.length>0&&(a.byteLength_-=1)}function h_(a){if(a.byteLength_>nv)throw new Error(a.errorPrefix_+"has a key path longer than "+nv+" bytes ("+a.byteLength_+").");if(a.parts_.length>tv)throw new Error(a.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+tv+") or object contains a cycle "+il(a))}function il(a){return a.parts_.length===0?"":"in property '"+a.parts_.join(".")+"'"}class Ph extends o_{static getInstance(){return new Ph}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const c=!document[n];c!==this.visible_&&(this.visible_=c,this.trigger("visible",c))},!1)}getInitialEvent(n){return B(n==="visible","Unknown event type: "+n),[this.visible_]}}const cs=1e3,ES=300*1e3,iv=30*1e3,TS=1.3,NS=3e4,xS="server_kill",lv=3;class Zn extends r_{constructor(n,l,c,o,h,f,g,v){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=c,this.onConnectStatus_=o,this.onServerInfoUpdate_=h,this.authTokenProvider_=f,this.appCheckTokenProvider_=g,this.authOverride_=v,this.id=Zn.nextPersistentConnectionId_++,this.log_=Os("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=cs,this.maxReconnectDelay_=ES,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ph.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&dr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,c){const o=++this.requestNumber_,h={r:o,a:n,b:l};this.log_(at(h)),B(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),c&&(this.requestCBHash_[o]=c)}get(n){this.initConnection_();const l=new ws,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:f=>{const g=f.d;f.s==="ok"?l.resolve(g):l.reject(g)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),l.promise}listen(n,l,c,o){this.initConnection_();const h=n._queryIdentifier,f=n._path.toString();this.log_("Listen called for "+f+" "+h),this.listens.has(f)||this.listens.set(f,new Map),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),B(!this.listens.get(f).has(h),"listen() called twice for same path/queryId.");const g={onComplete:o,hashFn:l,query:n,tag:c};this.listens.get(f).set(h,g),this.connected_&&this.sendListen_(g)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,c=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(c)})}sendListen_(n){const l=n.query,c=l._path.toString(),o=l._queryIdentifier;this.log_("Listen on "+c+" for "+o);const h={p:c},f="q";n.tag&&(h.q=l._queryObject,h.t=n.tag),h.h=n.hashFn(),this.sendRequest(f,h,g=>{const v=g.d,_=g.s;Zn.warnOnListenWarnings_(v,l),(this.listens.get(c)&&this.listens.get(c).get(o))===n&&(this.log_("listen response",g),_!=="ok"&&this.removeListen_(c,o),n.onComplete&&n.onComplete(_,v))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&xn(n,"w")){const c=ea(n,"w");if(Array.isArray(c)&&~c.indexOf("no_index")){const o='".indexOn": "'+l._queryParams.getIndex().toString()+'"',h=l._path.toString();Rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||h2(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=iv)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=u2(n)?"auth":"gauth",c={cred:n};this.authOverride_===null?c.noauth=!0:typeof this.authOverride_=="object"&&(c.authvar=this.authOverride_),this.sendRequest(l,c,o=>{const h=o.s,f=o.d||"error";this.authToken_===n&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,c=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,c)})}unlisten(n,l){const c=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+c+" "+o),B(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(c,o)&&this.connected_&&this.sendUnlisten_(c,o,n._queryObject,l)}sendUnlisten_(n,l,c,o){this.log_("Unlisten on "+n+" for "+l);const h={p:n},f="n";o&&(h.q=c,h.t=o),this.sendRequest(f,h)}onDisconnectPut(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:c})}onDisconnectMerge(n,l,c){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,c):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:c})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,c,o){const h={p:l,d:c};this.log_("onDisconnect "+n,h),this.sendRequest(n,h,f=>{o&&setTimeout(()=>{o(f.s,f.d)},Math.floor(0))})}put(n,l,c,o){this.putInternal("p",n,l,c,o)}merge(n,l,c,o){this.putInternal("m",n,l,c,o)}putInternal(n,l,c,o,h){this.initConnection_();const f={p:l,d:c};h!==void 0&&(f.h=h),this.outstandingPuts_.push({action:n,request:f,onComplete:o}),this.outstandingPutCount_++;const g=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(g):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,c=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,c,h=>{this.log_(l+" response",h),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(h.s,h.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,c=>{if(c.s!=="ok"){const h=c.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+at(n));const l=n.r,c=this.requestCBHash_[l];c&&(delete this.requestCBHash_[l],c(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Dh("Unrecognized action received from server: "+at(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){B(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>NS&&(this.reconnectDelay_=cs),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*TS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),c=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+Zn.nextConnectionId_++,h=this.lastSessionId;let f=!1,g=null;const v=function(){g?g.close():(f=!0,c())},_=function(y){B(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(y)};this.realtime_={close:v,sendRequest:_};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[y,S]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);f?St("getToken() completed but was canceled"):(St("getToken() completed. Creating connection."),this.authToken_=y&&y.accessToken,this.appCheckToken_=S&&S.token,g=new vS(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,c,z=>{Rt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(xS)},h))}catch(y){this.log_("Failed to get token: "+y),f||(this.repoInfo_.nodeAdmin&&Rt(y),v())}}}interrupt(n){St("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){St("Resuming connection for reason: "+n),delete this.interruptReasons_[n],jp(this.interruptReasons_)&&(this.reconnectDelay_=cs,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let c;l?c=l.map(h=>Xh(h)).join("$"):c="default";const o=this.removeListen_(n,c);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,l){const c=new Oe(n).toString();let o;if(this.listens.has(c)){const h=this.listens.get(c);o=h.get(l),h.delete(l),h.size===0&&this.listens.delete(c)}else o=void 0;return o}onAuthRevoked_(n,l){St("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lv&&(this.reconnectDelay_=iv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){St("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+Vv.replace(/\./g,"-")]=1,Rv()?n["framework.cordova"]=1:i2()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=dr.getInstance().currentlyOnline();return jp(this.interruptReasons_)&&n}}Zn.nextPersistentConnectionId_=0;Zn.nextConnectionId_=0;class ne{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ne(n,l)}}class wr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const c=new ne(ta,n),o=new ne(ta,l);return this.compare(c,o)!==0}minPost(){return ne.MIN}}let nr;class f_ extends wr{static get __EMPTY_NODE(){return nr}static set __EMPTY_NODE(n){nr=n}compare(n,l){return rl(n.name,l.name)}isDefinedOn(n){throw sa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ne.MIN}maxPost(){return new ne(al,nr)}makePost(n,l){return B(typeof n=="string","KeyIndex indexValue must always be a string."),new ne(n,nr)}toString(){return".key"}}const $l=new f_;class ir{constructor(n,l,c,o,h=null){this.isReverse_=o,this.resultGenerator_=h,this.nodeStack_=[];let f=1;for(;!n.isEmpty();)if(n=n,f=l?c(n.key,l):1,o&&(f*=-1),f<0)this.isReverse_?n=n.left:n=n.right;else if(f===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class ot{constructor(n,l,c,o,h){this.key=n,this.value=l,this.color=c??ot.RED,this.left=o??Vt.EMPTY_NODE,this.right=h??Vt.EMPTY_NODE}copy(n,l,c,o,h){return new ot(n??this.key,l??this.value,c??this.color,o??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,c){let o=this;const h=c(n,o.key);return h<0?o=o.copy(null,null,null,o.left.insert(n,l,c),null):h===0?o=o.copy(null,l,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,l,c)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Vt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let c,o;if(c=this,l(n,c.key)<0)!c.left.isEmpty()&&!c.left.isRed_()&&!c.left.left.isRed_()&&(c=c.moveRedLeft_()),c=c.copy(null,null,null,c.left.remove(n,l),null);else{if(c.left.isRed_()&&(c=c.rotateRight_()),!c.right.isEmpty()&&!c.right.isRed_()&&!c.right.left.isRed_()&&(c=c.moveRedRight_()),l(n,c.key)===0){if(c.right.isEmpty())return Vt.EMPTY_NODE;o=c.right.min_(),c=c.copy(o.key,o.value,null,null,c.right.removeMin_())}c=c.copy(null,null,null,null,c.right.remove(n,l))}return c.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}ot.RED=!0;ot.BLACK=!1;class AS{copy(n,l,c,o,h){return this}insert(n,l,c){return new ot(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Vt{constructor(n,l=Vt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Vt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,ot.BLACK,null,null))}remove(n){return new Vt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,ot.BLACK,null,null))}get(n){let l,c=this.root_;for(;!c.isEmpty();){if(l=this.comparator_(n,c.key),l===0)return c.value;l<0?c=c.left:l>0&&(c=c.right)}return null}getPredecessorKey(n){let l,c=this.root_,o=null;for(;!c.isEmpty();)if(l=this.comparator_(n,c.key),l===0){if(c.left.isEmpty())return o?o.key:null;for(c=c.left;!c.right.isEmpty();)c=c.right;return c.key}else l<0?c=c.left:l>0&&(o=c,c=c.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new ir(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new ir(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new ir(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new ir(this.root_,null,this.comparator_,!0,n)}}Vt.EMPTY_NODE=new AS;function wS(a,n){return rl(a.name,n.name)}function ef(a,n){return rl(a,n)}let Oh;function DS(a){Oh=a}const d_=function(a){return typeof a=="number"?"number:"+Qv(a):"string:"+a},m_=function(a){if(a.isLeafNode()){const n=a.val();B(typeof n=="string"||typeof n=="number"||typeof n=="object"&&xn(n,".sv"),"Priority must be a string or number.")}else B(a===Oh||a.isEmpty(),"priority of unexpected type.");B(a===Oh||a.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let av;class rt{static set __childrenNodeConstructor(n){av=n}static get __childrenNodeConstructor(){return av}constructor(n,l=rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,B(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),m_(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new rt(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return se(n)?this:te(n)===".priority"?this.priorityNode_:rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const c=te(n);return c===null?l:l.isEmpty()&&c!==".priority"?this:(B(c!==".priority"||ji(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(c,rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ue(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+d_(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=Qv(this.value_):n+=this.value_,this.lazyHash_=qv(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===rt.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof rt.__childrenNodeConstructor?-1:(B(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,c=typeof this.value_,o=rt.VALUE_TYPE_ORDER.indexOf(l),h=rt.VALUE_TYPE_ORDER.indexOf(c);return B(o>=0,"Unknown leaf type: "+l),B(h>=0,"Unknown leaf type: "+c),o===h?c==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:h-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];let g_,p_;function MS(a){g_=a}function OS(a){p_=a}class RS extends wr{compare(n,l){const c=n.node.getPriority(),o=l.node.getPriority(),h=c.compareTo(o);return h===0?rl(n.name,l.name):h}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(al,new rt("[PRIORITY-POST]",p_))}makePost(n,l){const c=g_(n);return new ne(l,new rt("[PRIORITY-POST]",c))}toString(){return".priority"}}const Fe=new RS;const jS=Math.log(2);class zS{constructor(n){const l=h=>parseInt(Math.log(h)/jS,10),c=h=>parseInt(Array(h+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const o=c(this.count);this.bits_=n+1&o}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const mr=function(a,n,l,c){a.sort(n);const o=function(v,_){const E=_-v;let y,S;if(E===0)return null;if(E===1)return y=a[v],S=l?l(y):y,new ot(S,y.node,ot.BLACK,null,null);{const z=parseInt(E/2,10)+v,L=o(v,z),Q=o(z+1,_);return y=a[z],S=l?l(y):y,new ot(S,y.node,ot.BLACK,L,Q)}},h=function(v){let _=null,E=null,y=a.length;const S=function(L,Q){const I=y-L,P=y;y-=L;const Ne=o(I+1,P),ie=a[I],X=l?l(ie):ie;z(new ot(X,ie.node,Q,null,Ne))},z=function(L){_?(_.left=L,_=L):(E=L,_=L)};for(let L=0;L<v.count;++L){const Q=v.nextBitIsOne(),I=Math.pow(2,v.count-(L+1));Q?S(I,ot.BLACK):(S(I,ot.BLACK),S(I,ot.RED))}return E},f=new zS(a.length),g=h(f);return new Vt(c||n,g)};let fh;const Kl={};class Xn{static get Default(){return B(Kl&&Fe,"ChildrenNode.ts has not been loaded"),fh=fh||new Xn({".priority":Kl},{".priority":Fe}),fh}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=ea(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Vt?l:null}hasIndex(n){return xn(this.indexSet_,n.toString())}addIndex(n,l){B(n!==$l,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const c=[];let o=!1;const h=l.getIterator(ne.Wrap);let f=h.getNext();for(;f;)o=o||n.isDefinedOn(f.node),c.push(f),f=h.getNext();let g;o?g=mr(c,n.getCompare()):g=Kl;const v=n.toString(),_={...this.indexSet_};_[v]=n;const E={...this.indexes_};return E[v]=g,new Xn(E,_)}addToIndexes(n,l){const c=rr(this.indexes_,(o,h)=>{const f=ea(this.indexSet_,h);if(B(f,"Missing index implementation for "+h),o===Kl)if(f.isDefinedOn(n.node)){const g=[],v=l.getIterator(ne.Wrap);let _=v.getNext();for(;_;)_.name!==n.name&&g.push(_),_=v.getNext();return g.push(n),mr(g,f.getCompare())}else return Kl;else{const g=l.get(n.name);let v=o;return g&&(v=v.remove(new ne(n.name,g))),v.insert(n,n.node)}});return new Xn(c,this.indexSet_)}removeFromIndexes(n,l){const c=rr(this.indexes_,o=>{if(o===Kl)return o;{const h=l.get(n.name);return h?o.remove(new ne(n.name,h)):o}});return new Xn(c,this.indexSet_)}}let rs;class Z{static get EMPTY_NODE(){return rs||(rs=new Z(new Vt(ef),null,Xn.Default))}constructor(n,l,c){this.children_=n,this.priorityNode_=l,this.indexMap_=c,this.lazyHash_=null,this.priorityNode_&&m_(this.priorityNode_),this.children_.isEmpty()&&B(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rs}updatePriority(n){return this.children_.isEmpty()?this:new Z(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?rs:l}}getChild(n){const l=te(n);return l===null?this:this.getImmediateChild(l).getChild(Ue(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(B(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const c=new ne(n,l);let o,h;l.isEmpty()?(o=this.children_.remove(n),h=this.indexMap_.removeFromIndexes(c,this.children_)):(o=this.children_.insert(n,l),h=this.indexMap_.addToIndexes(c,this.children_));const f=o.isEmpty()?rs:this.priorityNode_;return new Z(o,f,h)}}updateChild(n,l){const c=te(n);if(c===null)return l;{B(te(n)!==".priority"||ji(n)===1,".priority must be the last token in a path");const o=this.getImmediateChild(c).updateChild(Ue(n),l);return this.updateImmediateChild(c,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let c=0,o=0,h=!0;if(this.forEachChild(Fe,(f,g)=>{l[f]=g.val(n),c++,h&&Z.INTEGER_REGEXP_.test(f)?o=Math.max(o,Number(f)):h=!1}),!n&&h&&o<2*c){const f=[];for(const g in l)f[g]=l[g];return f}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+d_(this.getPriority().val())+":"),this.forEachChild(Fe,(l,c)=>{const o=c.hash();o!==""&&(n+=":"+l+":"+o)}),this.lazyHash_=n===""?"":qv(n)}return this.lazyHash_}getPredecessorChildName(n,l,c){const o=this.resolveIndex_(c);if(o){const h=o.getPredecessorKey(new ne(n,l));return h?h.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.minKey();return c&&c.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ne(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const c=l.maxKey();return c&&c.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ne(l,this.children_.get(l)):null}forEachChild(n,l){const c=this.resolveIndex_(n);return c?c.inorderTraversal(o=>l(o.name,o.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getIteratorFrom(n,o=>o);{const o=this.children_.getIteratorFrom(n.name,ne.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)<0;)o.getNext(),h=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const c=this.resolveIndex_(l);if(c)return c.getReverseIteratorFrom(n,o=>o);{const o=this.children_.getReverseIteratorFrom(n.name,ne.Wrap);let h=o.peek();for(;h!=null&&l.compare(h,n)>0;)o.getNext(),h=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Rs?-1:0}withIndex(n){if(n===$l||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new Z(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===$l||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const c=this.getIterator(Fe),o=l.getIterator(Fe);let h=c.getNext(),f=o.getNext();for(;h&&f;){if(h.name!==f.name||!h.node.equals(f.node))return!1;h=c.getNext(),f=o.getNext()}return h===null&&f===null}else return!1;else return!1}}resolveIndex_(n){return n===$l?null:this.indexMap_.get(n.toString())}}Z.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class US extends Z{constructor(){super(new Vt(ef),Z.EMPTY_NODE,Xn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return Z.EMPTY_NODE}isEmpty(){return!1}}const Rs=new US;Object.defineProperties(ne,{MIN:{value:new ne(ta,Z.EMPTY_NODE)},MAX:{value:new ne(al,Rs)}});f_.__EMPTY_NODE=Z.EMPTY_NODE;rt.__childrenNodeConstructor=Z;DS(Rs);OS(Rs);const LS=!0;function lt(a,n=null){if(a===null)return Z.EMPTY_NODE;if(typeof a=="object"&&".priority"in a&&(n=a[".priority"]),B(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof a=="object"&&".value"in a&&a[".value"]!==null&&(a=a[".value"]),typeof a!="object"||".sv"in a){const l=a;return new rt(l,lt(n))}if(!(a instanceof Array)&&LS){const l=[];let c=!1;if(Ct(a,(f,g)=>{if(f.substring(0,1)!=="."){const v=lt(g);v.isEmpty()||(c=c||!v.getPriority().isEmpty(),l.push(new ne(f,v)))}}),l.length===0)return Z.EMPTY_NODE;const h=mr(l,wS,f=>f.name,ef);if(c){const f=mr(l,Fe.getCompare());return new Z(h,lt(n),new Xn({".priority":f},{".priority":Fe}))}else return new Z(h,lt(n),Xn.Default)}else{let l=Z.EMPTY_NODE;return Ct(a,(c,o)=>{if(xn(a,c)&&c.substring(0,1)!=="."){const h=lt(o);(h.isLeafNode()||!h.isEmpty())&&(l=l.updateImmediateChild(c,h))}}),l.updatePriority(lt(n))}}MS(lt);class BS extends wr{constructor(n){super(),this.indexPath_=n,B(!se(n)&&te(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const c=this.extractChild(n.node),o=this.extractChild(l.node),h=c.compareTo(o);return h===0?rl(n.name,l.name):h}makePost(n,l){const c=lt(n),o=Z.EMPTY_NODE.updateChild(this.indexPath_,c);return new ne(l,o)}maxPost(){const n=Z.EMPTY_NODE.updateChild(this.indexPath_,Rs);return new ne(al,n)}toString(){return Ss(this.indexPath_,0).join("/")}}class HS extends wr{compare(n,l){const c=n.node.compareTo(l.node);return c===0?rl(n.name,l.name):c}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(n,l){const c=lt(n);return new ne(l,c)}toString(){return".value"}}const IS=new HS;function v_(a){return{type:"value",snapshotNode:a}}function na(a,n){return{type:"child_added",snapshotNode:n,childName:a}}function Cs(a,n){return{type:"child_removed",snapshotNode:n,childName:a}}function Es(a,n,l){return{type:"child_changed",snapshotNode:n,childName:a,oldSnap:l}}function kS(a,n){return{type:"child_moved",snapshotNode:n,childName:a}}class tf{constructor(n){this.index_=n}updateChild(n,l,c,o,h,f){B(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const g=n.getImmediateChild(l);return g.getChild(o).equals(c.getChild(o))&&g.isEmpty()===c.isEmpty()||(f!=null&&(c.isEmpty()?n.hasChild(l)?f.trackChildChange(Cs(l,g)):B(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):g.isEmpty()?f.trackChildChange(na(l,c)):f.trackChildChange(Es(l,c,g))),n.isLeafNode()&&c.isEmpty())?n:n.updateImmediateChild(l,c).withIndex(this.index_)}updateFullNode(n,l,c){return c!=null&&(n.isLeafNode()||n.forEachChild(Fe,(o,h)=>{l.hasChild(o)||c.trackChildChange(Cs(o,h))}),l.isLeafNode()||l.forEachChild(Fe,(o,h)=>{if(n.hasChild(o)){const f=n.getImmediateChild(o);f.equals(h)||c.trackChildChange(Es(o,h,f))}else c.trackChildChange(na(o,h))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?Z.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Ts{constructor(n){this.indexedFilter_=new tf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Ts.getStartPost_(n),this.endPost_=Ts.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,c=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&c}updateChild(n,l,c,o,h,f){return this.matches(new ne(l,c))||(c=Z.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,c,o,h,f)}updateFullNode(n,l,c){l.isLeafNode()&&(l=Z.EMPTY_NODE);let o=l.withIndex(this.index_);o=o.updatePriority(Z.EMPTY_NODE);const h=this;return l.forEachChild(Fe,(f,g)=>{h.matches(new ne(f,g))||(o=o.updateImmediateChild(f,Z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class VS{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const c=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?c<=0:c<0},this.withinEndPost=l=>{const c=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?c<=0:c<0},this.rangedFilter_=new Ts(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,c,o,h,f){return this.rangedFilter_.matches(new ne(l,c))||(c=Z.EMPTY_NODE),n.getImmediateChild(l).equals(c)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,c,o,h,f):this.fullLimitUpdateChild_(n,l,c,h,f)}updateFullNode(n,l,c){let o;if(l.isLeafNode()||l.isEmpty())o=Z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){o=Z.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;h.hasNext()&&f<this.limit_;){const g=h.getNext();if(this.withinDirectionalStart(g))if(this.withinDirectionalEnd(g))o=o.updateImmediateChild(g.name,g.node),f++;else break;else continue}}else{o=l.withIndex(this.index_),o=o.updatePriority(Z.EMPTY_NODE);let h;this.reverse_?h=o.getReverseIterator(this.index_):h=o.getIterator(this.index_);let f=0;for(;h.hasNext();){const g=h.getNext();f<this.limit_&&this.withinDirectionalStart(g)&&this.withinDirectionalEnd(g)?f++:o=o.updateImmediateChild(g.name,Z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,o,c)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,c,o,h){let f;if(this.reverse_){const y=this.index_.getCompare();f=(S,z)=>y(z,S)}else f=this.index_.getCompare();const g=n;B(g.numChildren()===this.limit_,"");const v=new ne(l,c),_=this.reverse_?g.getFirstChild(this.index_):g.getLastChild(this.index_),E=this.rangedFilter_.matches(v);if(g.hasChild(l)){const y=g.getImmediateChild(l);let S=o.getChildAfterChild(this.index_,_,this.reverse_);for(;S!=null&&(S.name===l||g.hasChild(S.name));)S=o.getChildAfterChild(this.index_,S,this.reverse_);const z=S==null?1:f(S,v);if(E&&!c.isEmpty()&&z>=0)return h?.trackChildChange(Es(l,c,y)),g.updateImmediateChild(l,c);{h?.trackChildChange(Cs(l,y));const Q=g.updateImmediateChild(l,Z.EMPTY_NODE);return S!=null&&this.rangedFilter_.matches(S)?(h?.trackChildChange(na(S.name,S.node)),Q.updateImmediateChild(S.name,S.node)):Q}}else return c.isEmpty()?n:E&&f(_,v)>=0?(h!=null&&(h.trackChildChange(Cs(_.name,_.node)),h.trackChildChange(na(l,c))),g.updateImmediateChild(l,c).updateImmediateChild(_.name,Z.EMPTY_NODE)):n}}class nf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Fe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return B(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return B(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return B(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return B(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:al}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return B(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Fe}copy(){const n=new nf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function GS(a){return a.loadsAllData()?new tf(a.getIndex()):a.hasLimit()?new VS(a):new Ts(a)}function sv(a){const n={};if(a.isDefault())return n;let l;if(a.index_===Fe?l="$priority":a.index_===IS?l="$value":a.index_===$l?l="$key":(B(a.index_ instanceof BS,"Unrecognized index type!"),l=a.index_.toString()),n.orderBy=at(l),a.startSet_){const c=a.startAfterSet_?"startAfter":"startAt";n[c]=at(a.indexStartValue_),a.startNameSet_&&(n[c]+=","+at(a.indexStartName_))}if(a.endSet_){const c=a.endBeforeSet_?"endBefore":"endAt";n[c]=at(a.indexEndValue_),a.endNameSet_&&(n[c]+=","+at(a.indexEndName_))}return a.limitSet_&&(a.isViewFromLeft()?n.limitToFirst=a.limit_:n.limitToLast=a.limit_),n}function cv(a){const n={};if(a.startSet_&&(n.sp=a.indexStartValue_,a.startNameSet_&&(n.sn=a.indexStartName_),n.sin=!a.startAfterSet_),a.endSet_&&(n.ep=a.indexEndValue_,a.endNameSet_&&(n.en=a.indexEndName_),n.ein=!a.endBeforeSet_),a.limitSet_){n.l=a.limit_;let l=a.viewFrom_;l===""&&(a.isViewFromLeft()?l="l":l="r"),n.vf=l}return a.index_!==Fe&&(n.i=a.index_.toString()),n}class gr extends r_{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(B(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,c,o){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=c,this.appCheckTokenProvider_=o,this.log_=Os("p:rest:"),this.listens_={}}listen(n,l,c,o){const h=n._path.toString();this.log_("Listen called for "+h+" "+n._queryIdentifier);const f=gr.getListenId_(n,c),g={};this.listens_[f]=g;const v=sv(n._queryParams);this.restRequest_(h+".json",v,(_,E)=>{let y=E;if(_===404&&(y=null,_=null),_===null&&this.onDataUpdate_(h,y,!1,c),ea(this.listens_,f)===g){let S;_?_===401?S="permission_denied":S="rest_error:"+_:S="ok",o(S,null)}})}unlisten(n,l){const c=gr.getListenId_(n,l);delete this.listens_[c]}get(n){const l=sv(n._queryParams),c=n._path.toString(),o=new ws;return this.restRequest_(c+".json",l,(h,f)=>{let g=f;h===404&&(g=null,h=null),h===null?(this.onDataUpdate_(c,g,!1,null),o.resolve(g)):o.reject(new Error(g))}),o.promise}refreshAuthToken(n){}restRequest_(n,l={},c){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,h])=>{o&&o.accessToken&&(l.auth=o.accessToken),h&&h.token&&(l.ac=h.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+f2(l);this.log_("Sending REST request for "+f);const g=new XMLHttpRequest;g.onreadystatechange=()=>{if(c&&g.readyState===4){this.log_("REST Response for "+f+" received. status:",g.status,"response:",g.responseText);let v=null;if(g.status>=200&&g.status<300){try{v=vs(g.responseText)}catch{Rt("Failed to parse JSON response for "+f+": "+g.responseText)}c(null,v)}else g.status!==401&&g.status!==404&&Rt("Got unsuccessful REST response for "+f+" Status: "+g.status),c(g.status);c=null}},g.open("GET",f,!0),g.send()})}}class qS{constructor(){this.rootNode_=Z.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function pr(){return{value:null,children:new Map}}function __(a,n,l){if(se(n))a.value=l,a.children.clear();else if(a.value!==null)a.value=a.value.updateChild(n,l);else{const c=te(n);a.children.has(c)||a.children.set(c,pr());const o=a.children.get(c);n=Ue(n),__(o,n,l)}}function Rh(a,n,l){a.value!==null?l(n,a.value):YS(a,(c,o)=>{const h=new Oe(n.toString()+"/"+c);Rh(o,h,l)})}function YS(a,n){a.children.forEach((l,c)=>{n(c,l)})}class QS{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&Ct(this.last_,(c,o)=>{l[c]=l[c]-o}),this.last_=n,l}}const rv=10*1e3,FS=30*1e3,XS=300*1e3;class KS{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new QS(n);const c=rv+(FS-rv)*Math.random();ds(this.reportStats_.bind(this),Math.floor(c))}reportStats_(){const n=this.statsListener_.get(),l={};let c=!1;Ct(n,(o,h)=>{h>0&&xn(this.statsToReport_,o)&&(l[o]=h,c=!0)}),c&&this.server_.reportStats(l),ds(this.reportStats_.bind(this),Math.floor(Math.random()*2*XS))}}var _n;(function(a){a[a.OVERWRITE=0]="OVERWRITE",a[a.MERGE=1]="MERGE",a[a.ACK_USER_WRITE=2]="ACK_USER_WRITE",a[a.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_n||(_n={}));function lf(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function af(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function sf(a){return{fromUser:!1,fromServer:!0,queryId:a,tagged:!0}}class vr{constructor(n,l,c){this.path=n,this.affectedTree=l,this.revert=c,this.type=_n.ACK_USER_WRITE,this.source=lf()}operationForChild(n){if(se(this.path)){if(this.affectedTree.value!=null)return B(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new Oe(n));return new vr(ye(),l,this.revert)}}else return B(te(this.path)===n,"operationForChild called for unrelated child."),new vr(Ue(this.path),this.affectedTree,this.revert)}}class Ns{constructor(n,l){this.source=n,this.path=l,this.type=_n.LISTEN_COMPLETE}operationForChild(n){return se(this.path)?new Ns(this.source,ye()):new Ns(this.source,Ue(this.path))}}class sl{constructor(n,l,c){this.source=n,this.path=l,this.snap=c,this.type=_n.OVERWRITE}operationForChild(n){return se(this.path)?new sl(this.source,ye(),this.snap.getImmediateChild(n)):new sl(this.source,Ue(this.path),this.snap)}}class ia{constructor(n,l,c){this.source=n,this.path=l,this.children=c,this.type=_n.MERGE}operationForChild(n){if(se(this.path)){const l=this.children.subtree(new Oe(n));return l.isEmpty()?null:l.value?new sl(this.source,ye(),l.value):new ia(this.source,ye(),l)}else return B(te(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new ia(this.source,Ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class zi{constructor(n,l,c){this.node_=n,this.fullyInitialized_=l,this.filtered_=c}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(se(n))return this.isFullyInitialized()&&!this.filtered_;const l=te(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class ZS{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function JS(a,n,l,c){const o=[],h=[];return n.forEach(f=>{f.type==="child_changed"&&a.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&h.push(kS(f.childName,f.snapshotNode))}),os(a,o,"child_removed",n,c,l),os(a,o,"child_added",n,c,l),os(a,o,"child_moved",h,c,l),os(a,o,"child_changed",n,c,l),os(a,o,"value",n,c,l),o}function os(a,n,l,c,o,h){const f=c.filter(g=>g.type===l);f.sort((g,v)=>$S(a,g,v)),f.forEach(g=>{const v=WS(a,g,h);o.forEach(_=>{_.respondsTo(g.type)&&n.push(_.createEvent(v,a.query_))})})}function WS(a,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,a.index_)),n}function $S(a,n,l){if(n.childName==null||l.childName==null)throw sa("Should only compare child_ events.");const c=new ne(n.childName,n.snapshotNode),o=new ne(l.childName,l.snapshotNode);return a.index_.compare(c,o)}function Dr(a,n){return{eventCache:a,serverCache:n}}function ms(a,n,l,c){return Dr(new zi(n,l,c),a.serverCache)}function y_(a,n,l,c){return Dr(a.eventCache,new zi(n,l,c))}function _r(a){return a.eventCache.isFullyInitialized()?a.eventCache.getNode():null}function cl(a){return a.serverCache.isFullyInitialized()?a.serverCache.getNode():null}let dh;const PS=()=>(dh||(dh=new Vt(Bb)),dh);class je{static fromObject(n){let l=new je(null);return Ct(n,(c,o)=>{l=l.set(new Oe(c),o)}),l}constructor(n,l=PS()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:ye(),value:this.value};if(se(n))return null;{const c=te(n),o=this.children.get(c);if(o!==null){const h=o.findRootMostMatchingPathAndValue(Ue(n),l);return h!=null?{path:Qe(new Oe(c),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(se(n))return this;{const l=te(n),c=this.children.get(l);return c!==null?c.subtree(Ue(n)):new je(null)}}set(n,l){if(se(n))return new je(l,this.children);{const c=te(n),h=(this.children.get(c)||new je(null)).set(Ue(n),l),f=this.children.insert(c,h);return new je(this.value,f)}}remove(n){if(se(n))return this.children.isEmpty()?new je(null):new je(null,this.children);{const l=te(n),c=this.children.get(l);if(c){const o=c.remove(Ue(n));let h;return o.isEmpty()?h=this.children.remove(l):h=this.children.insert(l,o),this.value===null&&h.isEmpty()?new je(null):new je(this.value,h)}else return this}}get(n){if(se(n))return this.value;{const l=te(n),c=this.children.get(l);return c?c.get(Ue(n)):null}}setTree(n,l){if(se(n))return l;{const c=te(n),h=(this.children.get(c)||new je(null)).setTree(Ue(n),l);let f;return h.isEmpty()?f=this.children.remove(c):f=this.children.insert(c,h),new je(this.value,f)}}fold(n){return this.fold_(ye(),n)}fold_(n,l){const c={};return this.children.inorderTraversal((o,h)=>{c[o]=h.fold_(Qe(n,o),l)}),l(n,this.value,c)}findOnPath(n,l){return this.findOnPath_(n,ye(),l)}findOnPath_(n,l,c){const o=this.value?c(l,this.value):!1;if(o)return o;if(se(n))return null;{const h=te(n),f=this.children.get(h);return f?f.findOnPath_(Ue(n),Qe(l,h),c):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,ye(),l)}foreachOnPath_(n,l,c){if(se(n))return this;{this.value&&c(l,this.value);const o=te(n),h=this.children.get(o);return h?h.foreachOnPath_(Ue(n),Qe(l,o),c):new je(null)}}foreach(n){this.foreach_(ye(),n)}foreach_(n,l){this.children.inorderTraversal((c,o)=>{o.foreach_(Qe(n,c),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,c)=>{c.value&&n(l,c.value)})}}class yn{constructor(n){this.writeTree_=n}static empty(){return new yn(new je(null))}}function gs(a,n,l){if(se(n))return new yn(new je(l));{const c=a.writeTree_.findRootMostValueAndPath(n);if(c!=null){const o=c.path;let h=c.value;const f=Ot(o,n);return h=h.updateChild(f,l),new yn(a.writeTree_.set(o,h))}else{const o=new je(l),h=a.writeTree_.setTree(n,o);return new yn(h)}}}function jh(a,n,l){let c=a;return Ct(l,(o,h)=>{c=gs(c,Qe(n,o),h)}),c}function ov(a,n){if(se(n))return yn.empty();{const l=a.writeTree_.setTree(n,new je(null));return new yn(l)}}function zh(a,n){return ol(a,n)!=null}function ol(a,n){const l=a.writeTree_.findRootMostValueAndPath(n);return l!=null?a.writeTree_.get(l.path).getChild(Ot(l.path,n)):null}function uv(a){const n=[],l=a.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Fe,(c,o)=>{n.push(new ne(c,o))}):a.writeTree_.children.inorderTraversal((c,o)=>{o.value!=null&&n.push(new ne(c,o.value))}),n}function Oi(a,n){if(se(n))return a;{const l=ol(a,n);return l!=null?new yn(new je(l)):new yn(a.writeTree_.subtree(n))}}function Uh(a){return a.writeTree_.isEmpty()}function la(a,n){return b_(ye(),a.writeTree_,n)}function b_(a,n,l){if(n.value!=null)return l.updateChild(a,n.value);{let c=null;return n.children.inorderTraversal((o,h)=>{o===".priority"?(B(h.value!==null,"Priority writes must always be leaf nodes"),c=h.value):l=b_(Qe(a,o),h,l)}),!l.getChild(a).isEmpty()&&c!==null&&(l=l.updateChild(Qe(a,".priority"),c)),l}}function Mr(a,n){return T_(n,a)}function e4(a,n,l,c,o){B(c>a.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),a.allWrites.push({path:n,snap:l,writeId:c,visible:o}),o&&(a.visibleWrites=gs(a.visibleWrites,n,l)),a.lastWriteId=c}function t4(a,n,l,c){B(c>a.lastWriteId,"Stacking an older merge on top of newer ones"),a.allWrites.push({path:n,children:l,writeId:c,visible:!0}),a.visibleWrites=jh(a.visibleWrites,n,l),a.lastWriteId=c}function n4(a,n){for(let l=0;l<a.allWrites.length;l++){const c=a.allWrites[l];if(c.writeId===n)return c}return null}function i4(a,n){const l=a.allWrites.findIndex(g=>g.writeId===n);B(l>=0,"removeWrite called with nonexistent writeId.");const c=a.allWrites[l];a.allWrites.splice(l,1);let o=c.visible,h=!1,f=a.allWrites.length-1;for(;o&&f>=0;){const g=a.allWrites[f];g.visible&&(f>=l&&l4(g,c.path)?o=!1:on(c.path,g.path)&&(h=!0)),f--}if(o){if(h)return a4(a),!0;if(c.snap)a.visibleWrites=ov(a.visibleWrites,c.path);else{const g=c.children;Ct(g,v=>{a.visibleWrites=ov(a.visibleWrites,Qe(c.path,v))})}return!0}else return!1}function l4(a,n){if(a.snap)return on(a.path,n);for(const l in a.children)if(a.children.hasOwnProperty(l)&&on(Qe(a.path,l),n))return!0;return!1}function a4(a){a.visibleWrites=S_(a.allWrites,s4,ye()),a.allWrites.length>0?a.lastWriteId=a.allWrites[a.allWrites.length-1].writeId:a.lastWriteId=-1}function s4(a){return a.visible}function S_(a,n,l){let c=yn.empty();for(let o=0;o<a.length;++o){const h=a[o];if(n(h)){const f=h.path;let g;if(h.snap)on(l,f)?(g=Ot(l,f),c=gs(c,g,h.snap)):on(f,l)&&(g=Ot(f,l),c=gs(c,ye(),h.snap.getChild(g)));else if(h.children){if(on(l,f))g=Ot(l,f),c=jh(c,g,h.children);else if(on(f,l))if(g=Ot(f,l),se(g))c=jh(c,ye(),h.children);else{const v=ea(h.children,te(g));if(v){const _=v.getChild(Ue(g));c=gs(c,ye(),_)}}}else throw sa("WriteRecord should have .snap or .children")}}return c}function C_(a,n,l,c,o){if(!c&&!o){const h=ol(a.visibleWrites,n);if(h!=null)return h;{const f=Oi(a.visibleWrites,n);if(Uh(f))return l;if(l==null&&!zh(f,ye()))return null;{const g=l||Z.EMPTY_NODE;return la(f,g)}}}else{const h=Oi(a.visibleWrites,n);if(!o&&Uh(h))return l;if(!o&&l==null&&!zh(h,ye()))return null;{const f=function(_){return(_.visible||o)&&(!c||!~c.indexOf(_.writeId))&&(on(_.path,n)||on(n,_.path))},g=S_(a.allWrites,f,n),v=l||Z.EMPTY_NODE;return la(g,v)}}}function c4(a,n,l){let c=Z.EMPTY_NODE;const o=ol(a.visibleWrites,n);if(o)return o.isLeafNode()||o.forEachChild(Fe,(h,f)=>{c=c.updateImmediateChild(h,f)}),c;if(l){const h=Oi(a.visibleWrites,n);return l.forEachChild(Fe,(f,g)=>{const v=la(Oi(h,new Oe(f)),g);c=c.updateImmediateChild(f,v)}),uv(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}else{const h=Oi(a.visibleWrites,n);return uv(h).forEach(f=>{c=c.updateImmediateChild(f.name,f.node)}),c}}function r4(a,n,l,c,o){B(c||o,"Either existingEventSnap or existingServerSnap must exist");const h=Qe(n,l);if(zh(a.visibleWrites,h))return null;{const f=Oi(a.visibleWrites,h);return Uh(f)?o.getChild(l):la(f,o.getChild(l))}}function o4(a,n,l,c){const o=Qe(n,l),h=ol(a.visibleWrites,o);if(h!=null)return h;if(c.isCompleteForChild(l)){const f=Oi(a.visibleWrites,o);return la(f,c.getNode().getImmediateChild(l))}else return null}function u4(a,n){return ol(a.visibleWrites,n)}function h4(a,n,l,c,o,h,f){let g;const v=Oi(a.visibleWrites,n),_=ol(v,ye());if(_!=null)g=_;else if(l!=null)g=la(v,l);else return[];if(g=g.withIndex(f),!g.isEmpty()&&!g.isLeafNode()){const E=[],y=f.getCompare(),S=h?g.getReverseIteratorFrom(c,f):g.getIteratorFrom(c,f);let z=S.getNext();for(;z&&E.length<o;)y(z,c)!==0&&E.push(z),z=S.getNext();return E}else return[]}function f4(){return{visibleWrites:yn.empty(),allWrites:[],lastWriteId:-1}}function yr(a,n,l,c){return C_(a.writeTree,a.treePath,n,l,c)}function cf(a,n){return c4(a.writeTree,a.treePath,n)}function hv(a,n,l,c){return r4(a.writeTree,a.treePath,n,l,c)}function br(a,n){return u4(a.writeTree,Qe(a.treePath,n))}function d4(a,n,l,c,o,h){return h4(a.writeTree,a.treePath,n,l,c,o,h)}function rf(a,n,l){return o4(a.writeTree,a.treePath,n,l)}function E_(a,n){return T_(Qe(a.treePath,n),a.writeTree)}function T_(a,n){return{treePath:a,writeTree:n}}class m4{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,c=n.childName;B(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),B(c!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(c);if(o){const h=o.type;if(l==="child_added"&&h==="child_removed")this.changeMap.set(c,Es(c,n.snapshotNode,o.snapshotNode));else if(l==="child_removed"&&h==="child_added")this.changeMap.delete(c);else if(l==="child_removed"&&h==="child_changed")this.changeMap.set(c,Cs(c,o.oldSnap));else if(l==="child_changed"&&h==="child_added")this.changeMap.set(c,na(c,n.snapshotNode));else if(l==="child_changed"&&h==="child_changed")this.changeMap.set(c,Es(c,n.snapshotNode,o.oldSnap));else throw sa("Illegal combination of changes: "+n+" occurred after "+o)}else this.changeMap.set(c,n)}getChanges(){return Array.from(this.changeMap.values())}}class g4{getCompleteChild(n){return null}getChildAfterChild(n,l,c){return null}}const N_=new g4;class of{constructor(n,l,c=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=c}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const c=this.optCompleteServerCache_!=null?new zi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rf(this.writes_,n,c)}}getChildAfterChild(n,l,c){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cl(this.viewCache_),h=d4(this.writes_,o,l,1,c,n);return h.length===0?null:h[0]}}function p4(a){return{filter:a}}function v4(a,n){B(n.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),B(n.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed")}function _4(a,n,l,c,o){const h=new m4;let f,g;if(l.type===_n.OVERWRITE){const _=l;_.source.fromUser?f=Lh(a,n,_.path,_.snap,c,o,h):(B(_.source.fromServer,"Unknown source."),g=_.source.tagged||n.serverCache.isFiltered()&&!se(_.path),f=Sr(a,n,_.path,_.snap,c,o,g,h))}else if(l.type===_n.MERGE){const _=l;_.source.fromUser?f=b4(a,n,_.path,_.children,c,o,h):(B(_.source.fromServer,"Unknown source."),g=_.source.tagged||n.serverCache.isFiltered(),f=Bh(a,n,_.path,_.children,c,o,g,h))}else if(l.type===_n.ACK_USER_WRITE){const _=l;_.revert?f=E4(a,n,_.path,c,o,h):f=S4(a,n,_.path,_.affectedTree,c,o,h)}else if(l.type===_n.LISTEN_COMPLETE)f=C4(a,n,l.path,c,h);else throw sa("Unknown operation type: "+l.type);const v=h.getChanges();return y4(n,f,v),{viewCache:f,changes:v}}function y4(a,n,l){const c=n.eventCache;if(c.isFullyInitialized()){const o=c.getNode().isLeafNode()||c.getNode().isEmpty(),h=_r(a);(l.length>0||!a.eventCache.isFullyInitialized()||o&&!c.getNode().equals(h)||!c.getNode().getPriority().equals(h.getPriority()))&&l.push(v_(_r(n)))}}function x_(a,n,l,c,o,h){const f=n.eventCache;if(br(c,l)!=null)return n;{let g,v;if(se(l))if(B(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=cl(n),E=_ instanceof Z?_:Z.EMPTY_NODE,y=cf(c,E);g=a.filter.updateFullNode(n.eventCache.getNode(),y,h)}else{const _=yr(c,cl(n));g=a.filter.updateFullNode(n.eventCache.getNode(),_,h)}else{const _=te(l);if(_===".priority"){B(ji(l)===1,"Can't have a priority with additional path components");const E=f.getNode();v=n.serverCache.getNode();const y=hv(c,l,E,v);y!=null?g=a.filter.updatePriority(E,y):g=f.getNode()}else{const E=Ue(l);let y;if(f.isCompleteForChild(_)){v=n.serverCache.getNode();const S=hv(c,l,f.getNode(),v);S!=null?y=f.getNode().getImmediateChild(_).updateChild(E,S):y=f.getNode().getImmediateChild(_)}else y=rf(c,_,n.serverCache);y!=null?g=a.filter.updateChild(f.getNode(),_,y,E,o,h):g=f.getNode()}}return ms(n,g,f.isFullyInitialized()||se(l),a.filter.filtersNodes())}}function Sr(a,n,l,c,o,h,f,g){const v=n.serverCache;let _;const E=f?a.filter:a.filter.getIndexedFilter();if(se(l))_=E.updateFullNode(v.getNode(),c,null);else if(E.filtersNodes()&&!v.isFiltered()){const z=v.getNode().updateChild(l,c);_=E.updateFullNode(v.getNode(),z,null)}else{const z=te(l);if(!v.isCompleteForPath(l)&&ji(l)>1)return n;const L=Ue(l),I=v.getNode().getImmediateChild(z).updateChild(L,c);z===".priority"?_=E.updatePriority(v.getNode(),I):_=E.updateChild(v.getNode(),z,I,L,N_,null)}const y=y_(n,_,v.isFullyInitialized()||se(l),E.filtersNodes()),S=new of(o,y,h);return x_(a,y,l,o,S,g)}function Lh(a,n,l,c,o,h,f){const g=n.eventCache;let v,_;const E=new of(o,n,h);if(se(l))_=a.filter.updateFullNode(n.eventCache.getNode(),c,f),v=ms(n,_,!0,a.filter.filtersNodes());else{const y=te(l);if(y===".priority")_=a.filter.updatePriority(n.eventCache.getNode(),c),v=ms(n,_,g.isFullyInitialized(),g.isFiltered());else{const S=Ue(l),z=g.getNode().getImmediateChild(y);let L;if(se(S))L=c;else{const Q=E.getCompleteChild(y);Q!=null?Wh(S)===".priority"&&Q.getChild(u_(S)).isEmpty()?L=Q:L=Q.updateChild(S,c):L=Z.EMPTY_NODE}if(z.equals(L))v=n;else{const Q=a.filter.updateChild(g.getNode(),y,L,S,E,f);v=ms(n,Q,g.isFullyInitialized(),a.filter.filtersNodes())}}}return v}function fv(a,n){return a.eventCache.isCompleteForChild(n)}function b4(a,n,l,c,o,h,f){let g=n;return c.foreach((v,_)=>{const E=Qe(l,v);fv(n,te(E))&&(g=Lh(a,g,E,_,o,h,f))}),c.foreach((v,_)=>{const E=Qe(l,v);fv(n,te(E))||(g=Lh(a,g,E,_,o,h,f))}),g}function dv(a,n,l){return l.foreach((c,o)=>{n=n.updateChild(c,o)}),n}function Bh(a,n,l,c,o,h,f,g){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let v=n,_;se(l)?_=c:_=new je(null).setTree(l,c);const E=n.serverCache.getNode();return _.children.inorderTraversal((y,S)=>{if(E.hasChild(y)){const z=n.serverCache.getNode().getImmediateChild(y),L=dv(a,z,S);v=Sr(a,v,new Oe(y),L,o,h,f,g)}}),_.children.inorderTraversal((y,S)=>{const z=!n.serverCache.isCompleteForChild(y)&&S.value===null;if(!E.hasChild(y)&&!z){const L=n.serverCache.getNode().getImmediateChild(y),Q=dv(a,L,S);v=Sr(a,v,new Oe(y),Q,o,h,f,g)}}),v}function S4(a,n,l,c,o,h,f){if(br(o,l)!=null)return n;const g=n.serverCache.isFiltered(),v=n.serverCache;if(c.value!=null){if(se(l)&&v.isFullyInitialized()||v.isCompleteForPath(l))return Sr(a,n,l,v.getNode().getChild(l),o,h,g,f);if(se(l)){let _=new je(null);return v.getNode().forEachChild($l,(E,y)=>{_=_.set(new Oe(E),y)}),Bh(a,n,l,_,o,h,g,f)}else return n}else{let _=new je(null);return c.foreach((E,y)=>{const S=Qe(l,E);v.isCompleteForPath(S)&&(_=_.set(E,v.getNode().getChild(S)))}),Bh(a,n,l,_,o,h,g,f)}}function C4(a,n,l,c,o){const h=n.serverCache,f=y_(n,h.getNode(),h.isFullyInitialized()||se(l),h.isFiltered());return x_(a,f,l,c,N_,o)}function E4(a,n,l,c,o,h){let f;if(br(c,l)!=null)return n;{const g=new of(c,n,o),v=n.eventCache.getNode();let _;if(se(l)||te(l)===".priority"){let E;if(n.serverCache.isFullyInitialized())E=yr(c,cl(n));else{const y=n.serverCache.getNode();B(y instanceof Z,"serverChildren would be complete if leaf node"),E=cf(c,y)}E=E,_=a.filter.updateFullNode(v,E,h)}else{const E=te(l);let y=rf(c,E,n.serverCache);y==null&&n.serverCache.isCompleteForChild(E)&&(y=v.getImmediateChild(E)),y!=null?_=a.filter.updateChild(v,E,y,Ue(l),g,h):n.eventCache.getNode().hasChild(E)?_=a.filter.updateChild(v,E,Z.EMPTY_NODE,Ue(l),g,h):_=v,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(f=yr(c,cl(n)),f.isLeafNode()&&(_=a.filter.updateFullNode(_,f,h)))}return f=n.serverCache.isFullyInitialized()||br(c,ye())!=null,ms(n,_,f,a.filter.filtersNodes())}}class T4{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const c=this.query_._queryParams,o=new tf(c.getIndex()),h=GS(c);this.processor_=p4(h);const f=l.serverCache,g=l.eventCache,v=o.updateFullNode(Z.EMPTY_NODE,f.getNode(),null),_=h.updateFullNode(Z.EMPTY_NODE,g.getNode(),null),E=new zi(v,f.isFullyInitialized(),o.filtersNodes()),y=new zi(_,g.isFullyInitialized(),h.filtersNodes());this.viewCache_=Dr(y,E),this.eventGenerator_=new ZS(this.query_)}get query(){return this.query_}}function N4(a){return a.viewCache_.serverCache.getNode()}function x4(a){return _r(a.viewCache_)}function A4(a,n){const l=cl(a.viewCache_);return l&&(a.query._queryParams.loadsAllData()||!se(n)&&!l.getImmediateChild(te(n)).isEmpty())?l.getChild(n):null}function mv(a){return a.eventRegistrations_.length===0}function w4(a,n){a.eventRegistrations_.push(n)}function gv(a,n,l){const c=[];if(l){B(n==null,"A cancel should cancel all event registrations.");const o=a.query._path;a.eventRegistrations_.forEach(h=>{const f=h.createCancelEvent(l,o);f&&c.push(f)})}if(n){let o=[];for(let h=0;h<a.eventRegistrations_.length;++h){const f=a.eventRegistrations_[h];if(!f.matches(n))o.push(f);else if(n.hasAnyCallback()){o=o.concat(a.eventRegistrations_.slice(h+1));break}}a.eventRegistrations_=o}else a.eventRegistrations_=[];return c}function pv(a,n,l,c){n.type===_n.MERGE&&n.source.queryId!==null&&(B(cl(a.viewCache_),"We should always have a full cache before handling merges"),B(_r(a.viewCache_),"Missing event cache, even though we have a server cache"));const o=a.viewCache_,h=_4(a.processor_,o,n,l,c);return v4(a.processor_,h.viewCache),B(h.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),a.viewCache_=h.viewCache,A_(a,h.changes,h.viewCache.eventCache.getNode(),null)}function D4(a,n){const l=a.viewCache_.eventCache,c=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Fe,(h,f)=>{c.push(na(h,f))}),l.isFullyInitialized()&&c.push(v_(l.getNode())),A_(a,c,l.getNode(),n)}function A_(a,n,l,c){const o=c?[c]:a.eventRegistrations_;return JS(a.eventGenerator_,n,l,o)}let Cr;class w_{constructor(){this.views=new Map}}function M4(a){B(!Cr,"__referenceConstructor has already been defined"),Cr=a}function O4(){return B(Cr,"Reference.ts has not been loaded"),Cr}function R4(a){return a.views.size===0}function uf(a,n,l,c){const o=n.source.queryId;if(o!==null){const h=a.views.get(o);return B(h!=null,"SyncTree gave us an op for an invalid query."),pv(h,n,l,c)}else{let h=[];for(const f of a.views.values())h=h.concat(pv(f,n,l,c));return h}}function D_(a,n,l,c,o){const h=n._queryIdentifier,f=a.views.get(h);if(!f){let g=yr(l,o?c:null),v=!1;g?v=!0:c instanceof Z?(g=cf(l,c),v=!1):(g=Z.EMPTY_NODE,v=!1);const _=Dr(new zi(g,v,!1),new zi(c,o,!1));return new T4(n,_)}return f}function j4(a,n,l,c,o,h){const f=D_(a,n,c,o,h);return a.views.has(n._queryIdentifier)||a.views.set(n._queryIdentifier,f),w4(f,l),D4(f,l)}function z4(a,n,l,c){const o=n._queryIdentifier,h=[];let f=[];const g=Ui(a);if(o==="default")for(const[v,_]of a.views.entries())f=f.concat(gv(_,l,c)),mv(_)&&(a.views.delete(v),_.query._queryParams.loadsAllData()||h.push(_.query));else{const v=a.views.get(o);v&&(f=f.concat(gv(v,l,c)),mv(v)&&(a.views.delete(o),v.query._queryParams.loadsAllData()||h.push(v.query)))}return g&&!Ui(a)&&h.push(new(O4())(n._repo,n._path)),{removed:h,events:f}}function M_(a){const n=[];for(const l of a.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function Ri(a,n){let l=null;for(const c of a.views.values())l=l||A4(c,n);return l}function O_(a,n){if(n._queryParams.loadsAllData())return Or(a);{const c=n._queryIdentifier;return a.views.get(c)}}function R_(a,n){return O_(a,n)!=null}function Ui(a){return Or(a)!=null}function Or(a){for(const n of a.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Er;function U4(a){B(!Er,"__referenceConstructor has already been defined"),Er=a}function L4(){return B(Er,"Reference.ts has not been loaded"),Er}let B4=1;class vv{constructor(n){this.listenProvider_=n,this.syncPointTree_=new je(null),this.pendingWriteTree_=f4(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function j_(a,n,l,c,o){return e4(a.pendingWriteTree_,n,l,c,o),o?oa(a,new sl(lf(),n,l)):[]}function H4(a,n,l,c){t4(a.pendingWriteTree_,n,l,c);const o=je.fromObject(l);return oa(a,new ia(lf(),n,o))}function Ai(a,n,l=!1){const c=n4(a.pendingWriteTree_,n);if(i4(a.pendingWriteTree_,n)){let h=new je(null);return c.snap!=null?h=h.set(ye(),!0):Ct(c.children,f=>{h=h.set(new Oe(f),!0)}),oa(a,new vr(c.path,h,l))}else return[]}function js(a,n,l){return oa(a,new sl(af(),n,l))}function I4(a,n,l){const c=je.fromObject(l);return oa(a,new ia(af(),n,c))}function k4(a,n){return oa(a,new Ns(af(),n))}function V4(a,n,l){const c=ff(a,l);if(c){const o=df(c),h=o.path,f=o.queryId,g=Ot(h,n),v=new Ns(sf(f),g);return mf(a,h,v)}else return[]}function Tr(a,n,l,c,o=!1){const h=n._path,f=a.syncPointTree_.get(h);let g=[];if(f&&(n._queryIdentifier==="default"||R_(f,n))){const v=z4(f,n,l,c);R4(f)&&(a.syncPointTree_=a.syncPointTree_.remove(h));const _=v.removed;if(g=v.events,!o){const E=_.findIndex(S=>S._queryParams.loadsAllData())!==-1,y=a.syncPointTree_.findOnPath(h,(S,z)=>Ui(z));if(E&&!y){const S=a.syncPointTree_.subtree(h);if(!S.isEmpty()){const z=Y4(S);for(let L=0;L<z.length;++L){const Q=z[L],I=Q.query,P=B_(a,Q);a.listenProvider_.startListening(ps(I),xs(a,I),P.hashFn,P.onComplete)}}}!y&&_.length>0&&!c&&(E?a.listenProvider_.stopListening(ps(n),null):_.forEach(S=>{const z=a.queryToTagMap.get(Rr(S));a.listenProvider_.stopListening(ps(S),z)}))}Q4(a,_)}return g}function z_(a,n,l,c){const o=ff(a,c);if(o!=null){const h=df(o),f=h.path,g=h.queryId,v=Ot(f,n),_=new sl(sf(g),v,l);return mf(a,f,_)}else return[]}function G4(a,n,l,c){const o=ff(a,c);if(o){const h=df(o),f=h.path,g=h.queryId,v=Ot(f,n),_=je.fromObject(l),E=new ia(sf(g),v,_);return mf(a,f,E)}else return[]}function Hh(a,n,l,c=!1){const o=n._path;let h=null,f=!1;a.syncPointTree_.foreachOnPath(o,(S,z)=>{const L=Ot(S,o);h=h||Ri(z,L),f=f||Ui(z)});let g=a.syncPointTree_.get(o);g?(f=f||Ui(g),h=h||Ri(g,ye())):(g=new w_,a.syncPointTree_=a.syncPointTree_.set(o,g));let v;h!=null?v=!0:(v=!1,h=Z.EMPTY_NODE,a.syncPointTree_.subtree(o).foreachChild((z,L)=>{const Q=Ri(L,ye());Q&&(h=h.updateImmediateChild(z,Q))}));const _=R_(g,n);if(!_&&!n._queryParams.loadsAllData()){const S=Rr(n);B(!a.queryToTagMap.has(S),"View does not exist, but we have a tag");const z=F4();a.queryToTagMap.set(S,z),a.tagToQueryMap.set(z,S)}const E=Mr(a.pendingWriteTree_,o);let y=j4(g,n,l,E,h,v);if(!_&&!f&&!c){const S=O_(g,n);y=y.concat(X4(a,n,S))}return y}function hf(a,n,l){const o=a.pendingWriteTree_,h=a.syncPointTree_.findOnPath(n,(f,g)=>{const v=Ot(f,n),_=Ri(g,v);if(_)return _});return C_(o,n,h,l,!0)}function q4(a,n){const l=n._path;let c=null;a.syncPointTree_.foreachOnPath(l,(_,E)=>{const y=Ot(_,l);c=c||Ri(E,y)});let o=a.syncPointTree_.get(l);o?c=c||Ri(o,ye()):(o=new w_,a.syncPointTree_=a.syncPointTree_.set(l,o));const h=c!=null,f=h?new zi(c,!0,!1):null,g=Mr(a.pendingWriteTree_,n._path),v=D_(o,n,g,h?f.getNode():Z.EMPTY_NODE,h);return x4(v)}function oa(a,n){return U_(n,a.syncPointTree_,null,Mr(a.pendingWriteTree_,ye()))}function U_(a,n,l,c){if(se(a.path))return L_(a,n,l,c);{const o=n.get(ye());l==null&&o!=null&&(l=Ri(o,ye()));let h=[];const f=te(a.path),g=a.operationForChild(f),v=n.children.get(f);if(v&&g){const _=l?l.getImmediateChild(f):null,E=E_(c,f);h=h.concat(U_(g,v,_,E))}return o&&(h=h.concat(uf(o,a,c,l))),h}}function L_(a,n,l,c){const o=n.get(ye());l==null&&o!=null&&(l=Ri(o,ye()));let h=[];return n.children.inorderTraversal((f,g)=>{const v=l?l.getImmediateChild(f):null,_=E_(c,f),E=a.operationForChild(f);E&&(h=h.concat(L_(E,g,v,_)))}),o&&(h=h.concat(uf(o,a,c,l))),h}function B_(a,n){const l=n.query,c=xs(a,l);return{hashFn:()=>(N4(n)||Z.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return c?V4(a,l._path,c):k4(a,l._path);{const h=kb(o,l);return Tr(a,l,null,h)}}}}function xs(a,n){const l=Rr(n);return a.queryToTagMap.get(l)}function Rr(a){return a._path.toString()+"$"+a._queryIdentifier}function ff(a,n){return a.tagToQueryMap.get(n)}function df(a){const n=a.indexOf("$");return B(n!==-1&&n<a.length-1,"Bad queryKey."),{queryId:a.substr(n+1),path:new Oe(a.substr(0,n))}}function mf(a,n,l){const c=a.syncPointTree_.get(n);B(c,"Missing sync point for query tag that we're tracking");const o=Mr(a.pendingWriteTree_,n);return uf(c,l,o,null)}function Y4(a){return a.fold((n,l,c)=>{if(l&&Ui(l))return[Or(l)];{let o=[];return l&&(o=M_(l)),Ct(c,(h,f)=>{o=o.concat(f)}),o}})}function ps(a){return a._queryParams.loadsAllData()&&!a._queryParams.isDefault()?new(L4())(a._repo,a._path):a}function Q4(a,n){for(let l=0;l<n.length;++l){const c=n[l];if(!c._queryParams.loadsAllData()){const o=Rr(c),h=a.queryToTagMap.get(o);a.queryToTagMap.delete(o),a.tagToQueryMap.delete(h)}}}function F4(){return B4++}function X4(a,n,l){const c=n._path,o=xs(a,n),h=B_(a,l),f=a.listenProvider_.startListening(ps(n),o,h.hashFn,h.onComplete),g=a.syncPointTree_.subtree(c);if(o)B(!Ui(g.value),"If we're adding a query, it shouldn't be shadowed");else{const v=g.fold((_,E,y)=>{if(!se(_)&&E&&Ui(E))return[Or(E).query];{let S=[];return E&&(S=S.concat(M_(E).map(z=>z.query))),Ct(y,(z,L)=>{S=S.concat(L)}),S}});for(let _=0;_<v.length;++_){const E=v[_];a.listenProvider_.stopListening(ps(E),xs(a,E))}}return f}class gf{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new gf(l)}node(){return this.node_}}class pf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=Qe(this.path_,n);return new pf(this.syncTree_,l)}node(){return hf(this.syncTree_,this.path_)}}const K4=function(a){return a=a||{},a.timestamp=a.timestamp||new Date().getTime(),a},_v=function(a,n,l){if(!a||typeof a!="object")return a;if(B(".sv"in a,"Unexpected leaf node or priority contents"),typeof a[".sv"]=="string")return Z4(a[".sv"],n,l);if(typeof a[".sv"]=="object")return J4(a[".sv"],n);B(!1,"Unexpected server value: "+JSON.stringify(a,null,2))},Z4=function(a,n,l){if(a==="timestamp")return l.timestamp;B(!1,"Unexpected server value: "+a)},J4=function(a,n,l){a.hasOwnProperty("increment")||B(!1,"Unexpected server value: "+JSON.stringify(a,null,2));const c=a.increment;typeof c!="number"&&B(!1,"Unexpected increment value: "+c);const o=n.node();if(B(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return c;const f=o.getValue();return typeof f!="number"?c:f+c},H_=function(a,n,l,c){return vf(n,new pf(l,a),c)},I_=function(a,n,l){return vf(a,new gf(n),l)};function vf(a,n,l){const c=a.getPriority().val(),o=_v(c,n.getImmediateChild(".priority"),l);let h;if(a.isLeafNode()){const f=a,g=_v(f.getValue(),n,l);return g!==f.getValue()||o!==f.getPriority().val()?new rt(g,lt(o)):a}else{const f=a;return h=f,o!==f.getPriority().val()&&(h=h.updatePriority(new rt(o))),f.forEachChild(Fe,(g,v)=>{const _=vf(v,n.getImmediateChild(g),l);_!==v&&(h=h.updateImmediateChild(g,_))}),h}}class _f{constructor(n="",l=null,c={children:{},childCount:0}){this.name=n,this.parent=l,this.node=c}}function yf(a,n){let l=n instanceof Oe?n:new Oe(n),c=a,o=te(l);for(;o!==null;){const h=ea(c.node.children,o)||{children:{},childCount:0};c=new _f(o,c,h),l=Ue(l),o=te(l)}return c}function ua(a){return a.node.value}function k_(a,n){a.node.value=n,Ih(a)}function V_(a){return a.node.childCount>0}function W4(a){return ua(a)===void 0&&!V_(a)}function jr(a,n){Ct(a.node.children,(l,c)=>{n(new _f(l,a,c))})}function G_(a,n,l,c){l&&n(a),jr(a,o=>{G_(o,n,!0)})}function $4(a,n,l){let c=a.parent;for(;c!==null;){if(n(c))return!0;c=c.parent}return!1}function zs(a){return new Oe(a.parent===null?a.name:zs(a.parent)+"/"+a.name)}function Ih(a){a.parent!==null&&P4(a.parent,a.name,a)}function P4(a,n,l){const c=W4(l),o=xn(a.node.children,n);c&&o?(delete a.node.children[n],a.node.childCount--,Ih(a)):!c&&!o&&(a.node.children[n]=l.node,a.node.childCount++,Ih(a))}const e3=/[\[\].#$\/\u0000-\u001F\u007F]/,t3=/[\[\].#$\u0000-\u001F\u007F]/,mh=10*1024*1024,bf=function(a){return typeof a=="string"&&a.length!==0&&!e3.test(a)},q_=function(a){return typeof a=="string"&&a.length!==0&&!t3.test(a)},n3=function(a){return a&&(a=a.replace(/^\/*\.info(\/|$)/,"/")),q_(a)},i3=function(a){return a===null||typeof a=="string"||typeof a=="number"&&!Fh(a)||a&&typeof a=="object"&&xn(a,".sv")},l3=function(a,n,l,c){zr(xr(a,"value"),n,l)},zr=function(a,n,l){const c=l instanceof Oe?new bS(l,a):l;if(n===void 0)throw new Error(a+"contains undefined "+il(c));if(typeof n=="function")throw new Error(a+"contains a function "+il(c)+" with contents = "+n.toString());if(Fh(n))throw new Error(a+"contains "+n.toString()+" "+il(c));if(typeof n=="string"&&n.length>mh/3&&Ar(n)>mh)throw new Error(a+"contains a string greater than "+mh+" utf8 bytes "+il(c)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let o=!1,h=!1;if(Ct(n,(f,g)=>{if(f===".value")o=!0;else if(f!==".priority"&&f!==".sv"&&(h=!0,!bf(f)))throw new Error(a+" contains an invalid key ("+f+") "+il(c)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);SS(c,f),zr(a,g,c),CS(c)}),o&&h)throw new Error(a+' contains ".value" child '+il(c)+" in addition to actual children.")}},a3=function(a,n){let l,c;for(l=0;l<n.length;l++){c=n[l];const h=Ss(c);for(let f=0;f<h.length;f++)if(!(h[f]===".priority"&&f===h.length-1)){if(!bf(h[f]))throw new Error(a+"contains an invalid key ("+h[f]+") in path "+c.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}n.sort(yS);let o=null;for(l=0;l<n.length;l++){if(c=n[l],o!==null&&on(o,c))throw new Error(a+"contains a path "+o.toString()+" that is ancestor of another path "+c.toString());o=c}},s3=function(a,n,l,c){const o=xr(a,"values");if(!(n&&typeof n=="object")||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");const h=[];Ct(n,(f,g)=>{const v=new Oe(f);if(zr(o,g,Qe(l,v)),Wh(v)===".priority"&&!i3(g))throw new Error(o+"contains an invalid value for '"+v.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");h.push(v)}),a3(o,h)},Y_=function(a,n,l,c){if(!q_(l))throw new Error(xr(a,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},c3=function(a,n,l,c){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),Y_(a,n,l)},Q_=function(a,n){if(te(n)===".info")throw new Error(a+" failed = Can't modify data under /.info/")},r3=function(a,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!bf(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!n3(l))throw new Error(xr(a,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class o3{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ur(a,n){let l=null;for(let c=0;c<n.length;c++){const o=n[c],h=o.getPath();l!==null&&!$h(h,l.path)&&(a.eventLists_.push(l),l=null),l===null&&(l={events:[],path:h}),l.events.push(o)}l&&a.eventLists_.push(l)}function F_(a,n,l){Ur(a,l),X_(a,c=>$h(c,n))}function un(a,n,l){Ur(a,l),X_(a,c=>on(c,n)||on(n,c))}function X_(a,n){a.recursionDepth_++;let l=!0;for(let c=0;c<a.eventLists_.length;c++){const o=a.eventLists_[c];if(o){const h=o.path;n(h)?(u3(a.eventLists_[c]),a.eventLists_[c]=null):l=!1}}l&&(a.eventLists_=[]),a.recursionDepth_--}function u3(a){for(let n=0;n<a.events.length;n++){const l=a.events[n];if(l!==null){a.events[n]=null;const c=l.getEventRunner();fs&&St("event: "+l.toString()),ra(c)}}}const h3="repo_interrupt",f3=25;class d3{constructor(n,l,c,o){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=c,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new o3,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pr(),this.transactionQueueTree_=new _f,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m3(a,n,l){if(a.stats_=Zh(a.repoInfo_),a.forceRestClient_||Yb())a.server_=new gr(a.repoInfo_,(c,o,h,f)=>{yv(a,c,o,h,f)},a.authTokenProvider_,a.appCheckProvider_),setTimeout(()=>bv(a,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(l)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}a.persistentConnection_=new Zn(a.repoInfo_,n,(c,o,h,f)=>{yv(a,c,o,h,f)},c=>{bv(a,c)},c=>{p3(a,c)},a.authTokenProvider_,a.appCheckProvider_,l),a.server_=a.persistentConnection_}a.authTokenProvider_.addTokenChangeListener(c=>{a.server_.refreshAuthToken(c)}),a.appCheckProvider_.addTokenChangeListener(c=>{a.server_.refreshAppCheckToken(c.token)}),a.statsReporter_=Zb(a.repoInfo_,()=>new KS(a.stats_,a.server_)),a.infoData_=new qS,a.infoSyncTree_=new vv({startListening:(c,o,h,f)=>{let g=[];const v=a.infoData_.getNode(c._path);return v.isEmpty()||(g=js(a.infoSyncTree_,c._path,v),setTimeout(()=>{f("ok")},0)),g},stopListening:()=>{}}),Sf(a,"connected",!1),a.serverSyncTree_=new vv({startListening:(c,o,h,f)=>(a.server_.listen(c,h,o,(g,v)=>{const _=f(g,v);un(a.eventQueue_,c._path,_)}),[]),stopListening:(c,o)=>{a.server_.unlisten(c,o)}})}function g3(a){const l=a.infoData_.getNode(new Oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Lr(a){return K4({timestamp:g3(a)})}function yv(a,n,l,c,o){a.dataUpdateCount++;const h=new Oe(n);l=a.interceptServerDataCallback_?a.interceptServerDataCallback_(n,l):l;let f=[];if(o)if(c){const v=rr(l,_=>lt(_));f=G4(a.serverSyncTree_,h,v,o)}else{const v=lt(l);f=z_(a.serverSyncTree_,h,v,o)}else if(c){const v=rr(l,_=>lt(_));f=I4(a.serverSyncTree_,h,v)}else{const v=lt(l);f=js(a.serverSyncTree_,h,v)}let g=h;f.length>0&&(g=aa(a,h)),un(a.eventQueue_,g,f)}function bv(a,n){Sf(a,"connected",n),n===!1&&b3(a)}function p3(a,n){Ct(n,(l,c)=>{Sf(a,l,c)})}function Sf(a,n,l){const c=new Oe("/.info/"+n),o=lt(l);a.infoData_.updateSnapshot(c,o);const h=js(a.infoSyncTree_,c,o);un(a.eventQueue_,c,h)}function Cf(a){return a.nextWriteId_++}function v3(a,n,l){const c=q4(a.serverSyncTree_,n);return c!=null?Promise.resolve(c):a.server_.get(n).then(o=>{const h=lt(o).withIndex(n._queryParams.getIndex());Hh(a.serverSyncTree_,n,l,!0);let f;if(n._queryParams.loadsAllData())f=js(a.serverSyncTree_,n._path,h);else{const g=xs(a.serverSyncTree_,n);f=z_(a.serverSyncTree_,n._path,h,g)}return un(a.eventQueue_,n._path,f),Tr(a.serverSyncTree_,n,l,null,!0),h},o=>(Us(a,"get for query "+at(n)+" failed: "+o),Promise.reject(new Error(o))))}function _3(a,n,l,c,o){Us(a,"set",{path:n.toString(),value:l,priority:c});const h=Lr(a),f=lt(l,c),g=hf(a.serverSyncTree_,n),v=I_(f,g,h),_=Cf(a),E=j_(a.serverSyncTree_,n,v,_,!0);Ur(a.eventQueue_,E),a.server_.put(n.toString(),f.val(!0),(S,z)=>{const L=S==="ok";L||Rt("set at "+n+" failed: "+S);const Q=Ai(a.serverSyncTree_,_,!L);un(a.eventQueue_,n,Q),kh(a,o,S,z)});const y=Tf(a,n);aa(a,y),un(a.eventQueue_,y,[])}function y3(a,n,l,c){Us(a,"update",{path:n.toString(),value:l});let o=!0;const h=Lr(a),f={};if(Ct(l,(g,v)=>{o=!1,f[g]=H_(Qe(n,g),lt(v),a.serverSyncTree_,h)}),o)St("update() called with empty data.  Don't do anything."),kh(a,c,"ok",void 0);else{const g=Cf(a),v=H4(a.serverSyncTree_,n,f,g);Ur(a.eventQueue_,v),a.server_.merge(n.toString(),l,(_,E)=>{const y=_==="ok";y||Rt("update at "+n+" failed: "+_);const S=Ai(a.serverSyncTree_,g,!y),z=S.length>0?aa(a,n):n;un(a.eventQueue_,z,S),kh(a,c,_,E)}),Ct(l,_=>{const E=Tf(a,Qe(n,_));aa(a,E)}),un(a.eventQueue_,n,[])}}function b3(a){Us(a,"onDisconnectEvents");const n=Lr(a),l=pr();Rh(a.onDisconnect_,ye(),(o,h)=>{const f=H_(o,h,a.serverSyncTree_,n);__(l,o,f)});let c=[];Rh(l,ye(),(o,h)=>{c=c.concat(js(a.serverSyncTree_,o,h));const f=Tf(a,o);aa(a,f)}),a.onDisconnect_=pr(),un(a.eventQueue_,ye(),c)}function S3(a,n,l){let c;te(n._path)===".info"?c=Hh(a.infoSyncTree_,n,l):c=Hh(a.serverSyncTree_,n,l),F_(a.eventQueue_,n._path,c)}function C3(a,n,l){let c;te(n._path)===".info"?c=Tr(a.infoSyncTree_,n,l):c=Tr(a.serverSyncTree_,n,l),F_(a.eventQueue_,n._path,c)}function E3(a){a.persistentConnection_&&a.persistentConnection_.interrupt(h3)}function Us(a,...n){let l="";a.persistentConnection_&&(l=a.persistentConnection_.id+":"),St(l,...n)}function kh(a,n,l,c){n&&ra(()=>{if(l==="ok")n(null);else{const o=(l||"error").toUpperCase();let h=o;c&&(h+=": "+c);const f=new Error(h);f.code=o,n(f)}})}function K_(a,n,l){return hf(a.serverSyncTree_,n,l)||Z.EMPTY_NODE}function Ef(a,n=a.transactionQueueTree_){if(n||Br(a,n),ua(n)){const l=J_(a,n);B(l.length>0,"Sending zero length transaction queue"),l.every(o=>o.status===0)&&T3(a,zs(n),l)}else V_(n)&&jr(n,l=>{Ef(a,l)})}function T3(a,n,l){const c=l.map(_=>_.currentWriteId),o=K_(a,n,c);let h=o;const f=o.hash();for(let _=0;_<l.length;_++){const E=l[_];B(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const y=Ot(n,E.path);h=h.updateChild(y,E.currentOutputSnapshotRaw)}const g=h.val(!0),v=n;a.server_.put(v.toString(),g,_=>{Us(a,"transaction put response",{path:v.toString(),status:_});let E=[];if(_==="ok"){const y=[];for(let S=0;S<l.length;S++)l[S].status=2,E=E.concat(Ai(a.serverSyncTree_,l[S].currentWriteId)),l[S].onComplete&&y.push(()=>l[S].onComplete(null,!0,l[S].currentOutputSnapshotResolved)),l[S].unwatcher();Br(a,yf(a.transactionQueueTree_,n)),Ef(a,a.transactionQueueTree_),un(a.eventQueue_,n,E);for(let S=0;S<y.length;S++)ra(y[S])}else{if(_==="datastale")for(let y=0;y<l.length;y++)l[y].status===3?l[y].status=4:l[y].status=0;else{Rt("transaction at "+v.toString()+" failed: "+_);for(let y=0;y<l.length;y++)l[y].status=4,l[y].abortReason=_}aa(a,n)}},f)}function aa(a,n){const l=Z_(a,n),c=zs(l),o=J_(a,l);return N3(a,o,c),c}function N3(a,n,l){if(n.length===0)return;const c=[];let o=[];const f=n.filter(g=>g.status===0).map(g=>g.currentWriteId);for(let g=0;g<n.length;g++){const v=n[g],_=Ot(l,v.path);let E=!1,y;if(B(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),v.status===4)E=!0,y=v.abortReason,o=o.concat(Ai(a.serverSyncTree_,v.currentWriteId,!0));else if(v.status===0)if(v.retryCount>=f3)E=!0,y="maxretry",o=o.concat(Ai(a.serverSyncTree_,v.currentWriteId,!0));else{const S=K_(a,v.path,f);v.currentInputSnapshot=S;const z=n[g].update(S.val());if(z!==void 0){zr("transaction failed: Data returned ",z,v.path);let L=lt(z);typeof z=="object"&&z!=null&&xn(z,".priority")||(L=L.updatePriority(S.getPriority()));const I=v.currentWriteId,P=Lr(a),Ne=I_(L,S,P);v.currentOutputSnapshotRaw=L,v.currentOutputSnapshotResolved=Ne,v.currentWriteId=Cf(a),f.splice(f.indexOf(I),1),o=o.concat(j_(a.serverSyncTree_,v.path,Ne,v.currentWriteId,v.applyLocally)),o=o.concat(Ai(a.serverSyncTree_,I,!0))}else E=!0,y="nodata",o=o.concat(Ai(a.serverSyncTree_,v.currentWriteId,!0))}un(a.eventQueue_,l,o),o=[],E&&(n[g].status=2,(function(S){setTimeout(S,Math.floor(0))})(n[g].unwatcher),n[g].onComplete&&(y==="nodata"?c.push(()=>n[g].onComplete(null,!1,n[g].currentInputSnapshot)):c.push(()=>n[g].onComplete(new Error(y),!1,null))))}Br(a,a.transactionQueueTree_);for(let g=0;g<c.length;g++)ra(c[g]);Ef(a,a.transactionQueueTree_)}function Z_(a,n){let l,c=a.transactionQueueTree_;for(l=te(n);l!==null&&ua(c)===void 0;)c=yf(c,l),n=Ue(n),l=te(n);return c}function J_(a,n){const l=[];return W_(a,n,l),l.sort((c,o)=>c.order-o.order),l}function W_(a,n,l){const c=ua(n);if(c)for(let o=0;o<c.length;o++)l.push(c[o]);jr(n,o=>{W_(a,o,l)})}function Br(a,n){const l=ua(n);if(l){let c=0;for(let o=0;o<l.length;o++)l[o].status!==2&&(l[c]=l[o],c++);l.length=c,k_(n,l.length>0?l:void 0)}jr(n,c=>{Br(a,c)})}function Tf(a,n){const l=zs(Z_(a,n)),c=yf(a.transactionQueueTree_,n);return $4(c,o=>{gh(a,o)}),gh(a,c),G_(c,o=>{gh(a,o)}),l}function gh(a,n){const l=ua(n);if(l){const c=[];let o=[],h=-1;for(let f=0;f<l.length;f++)l[f].status===3||(l[f].status===1?(B(h===f-1,"All SENT items should be at beginning of queue."),h=f,l[f].status=3,l[f].abortReason="set"):(B(l[f].status===0,"Unexpected transaction status in abort"),l[f].unwatcher(),o=o.concat(Ai(a.serverSyncTree_,l[f].currentWriteId,!0)),l[f].onComplete&&c.push(l[f].onComplete.bind(null,new Error("set"),!1,null))));h===-1?k_(n,void 0):l.length=h+1,un(a.eventQueue_,zs(n),o);for(let f=0;f<c.length;f++)ra(c[f])}}function x3(a){let n="";const l=a.split("/");for(let c=0;c<l.length;c++)if(l[c].length>0){let o=l[c];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}n+="/"+o}return n}function A3(a){const n={};a.charAt(0)==="?"&&(a=a.substring(1));for(const l of a.split("&")){if(l.length===0)continue;const c=l.split("=");c.length===2?n[decodeURIComponent(c[0])]=decodeURIComponent(c[1]):Rt(`Invalid query segment '${l}' in query '${a}'`)}return n}const Sv=function(a,n){const l=w3(a),c=l.namespace;l.domain==="firebase.com"&&Wn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!c||c==="undefined")&&l.domain!=="localhost"&&Wn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||Ub();const o=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new t_(l.host,l.secure,c,o,n,"",c!==l.subdomain),path:new Oe(l.pathString)}},w3=function(a){let n="",l="",c="",o="",h="",f=!0,g="https",v=443;if(typeof a=="string"){let _=a.indexOf("//");_>=0&&(g=a.substring(0,_-1),a=a.substring(_+2));let E=a.indexOf("/");E===-1&&(E=a.length);let y=a.indexOf("?");y===-1&&(y=a.length),n=a.substring(0,Math.min(E,y)),E<y&&(o=x3(a.substring(E,y)));const S=A3(a.substring(Math.min(a.length,y)));_=n.indexOf(":"),_>=0?(f=g==="https"||g==="wss",v=parseInt(n.substring(_+1),10)):_=n.length;const z=n.slice(0,_);if(z.toLowerCase()==="localhost")l="localhost";else if(z.split(".").length<=2)l=z;else{const L=n.indexOf(".");c=n.substring(0,L).toLowerCase(),l=n.substring(L+1),h=c}"ns"in S&&(h=S.ns)}return{host:n,port:v,domain:l,subdomain:c,secure:f,scheme:g,pathString:o,namespace:h}};class D3{constructor(n,l,c,o){this.eventType=n,this.eventRegistration=l,this.snapshot=c,this.prevName=o}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class M3{constructor(n,l,c){this.eventRegistration=n,this.error=l,this.path=c}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class $_{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return B(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Nf{constructor(n,l,c,o){this._repo=n,this._path=l,this._queryParams=c,this._orderByCalled=o}get key(){return se(this._path)?null:Wh(this._path)}get ref(){return new $n(this._repo,this._path)}get _queryIdentifier(){const n=cv(this._queryParams),l=Xh(n);return l==="{}"?"default":l}get _queryObject(){return cv(this._queryParams)}isEqual(n){if(n=ca(n),!(n instanceof Nf))return!1;const l=this._repo===n._repo,c=$h(this._path,n._path),o=this._queryIdentifier===n._queryIdentifier;return l&&c&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+_S(this._path)}}class $n extends Nf{constructor(n,l){super(n,l,new nf,!1)}get parent(){const n=u_(this._path);return n===null?null:new $n(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class As{constructor(n,l,c){this._node=n,this.ref=l,this._index=c}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new Oe(n),c=Vh(this.ref,n);return new As(this._node.getChild(l),c,Fe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(c,o)=>n(new As(o,Vh(this.ref,c),Fe)))}hasChild(n){const l=new Oe(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xe(a,n){return a=ca(a),a._checkNotDeleted("ref"),n!==void 0?Vh(a._root,n):a._root}function Vh(a,n){return a=ca(a),te(a._path)===null?c3("child","path",n):Y_("child","path",n),new $n(a._repo,Qe(a._path,n))}function xf(a){return Q_("remove",a._path),Kn(a,null)}function Kn(a,n){a=ca(a),Q_("set",a._path),l3("set",n,a._path);const l=new ws;return _3(a._repo,a._path,n,null,l.wrapCallback(()=>{})),l.promise}function Af(a,n){s3("update",n,a._path);const l=new ws;return y3(a._repo,a._path,n,l.wrapCallback(()=>{})),l.promise}function us(a){a=ca(a);const n=new $_(()=>{}),l=new Hr(n);return v3(a._repo,a,l).then(c=>new As(c,new $n(a._repo,a._path),a._queryParams.getIndex()))}class Hr{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const c=l._queryParams.getIndex();return new D3("value",this,new As(n.snapshotNode,new $n(l._repo,l._path),c))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new M3(this,n,l):null}matches(n){return n instanceof Hr?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function O3(a,n,l,c,o){const h=new $_(l,void 0),f=new Hr(h);return S3(a._repo,a,f),()=>C3(a._repo,a,f)}function wf(a,n,l,c){return O3(a,"value",n)}M4($n);U4($n);const R3="FIREBASE_DATABASE_EMULATOR_HOST",Gh={};let j3=!1;function z3(a,n,l,c){const o=n.lastIndexOf(":"),h=n.substring(0,o),f=Yh(h);a.repoInfo_=new t_(n,f,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0,l),c&&(a.authTokenProvider_=c)}function U3(a,n,l,c,o){let h=c||a.options.databaseURL;h===void 0&&(a.options.projectId||Wn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),St("Using default host for project ",a.options.projectId),h=`${a.options.projectId}-default-rtdb.firebaseio.com`);let f=Sv(h,o),g=f.repoInfo,v;typeof process<"u"&&qp&&(v=qp[R3]),v?(h=`http://${v}?ns=${g.namespace}`,f=Sv(h,o),g=f.repoInfo):f.repoInfo.secure;const _=new Fb(a.name,a.options,n);r3("Invalid Firebase Database URL",f),se(f.path)||Wn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=B3(g,a,_,new Qb(a,l));return new H3(E,a)}function L3(a,n){const l=Gh[n];(!l||l[a.key]!==a)&&Wn(`Database ${n}(${a.repoInfo_}) has already been deleted.`),E3(a),delete l[a.key]}function B3(a,n,l,c){let o=Gh[n.name];o||(o={},Gh[n.name]=o);let h=o[a.toURLString()];return h&&Wn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new d3(a,j3,l,c),o[a.toURLString()]=h,h}class H3{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(m3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $n(this._repo,ye())),this._rootInternal}_delete(){return this._rootInternal!==null&&(L3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Wn("Cannot call "+n+" on a deleted database.")}}function I3(a=pb(),n){const l=hb(a,"database").getImmediate({identifier:n});if(!l._instanceStarted){const c=J1("database");c&&k3(l,...c)}return l}function k3(a,n,l,c={}){a=ca(a),a._checkNotDeleted("useEmulator");const o=`${n}:${l}`,h=a._repoInternal;if(a._instanceStarted){if(o===a._repoInternal.repoInfo_.host&&or(c,h.repoInfo_.emulatorOptions))return;Wn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let f;if(h.repoInfo_.nodeAdmin)c.mockUserToken&&Wn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),f=new sr(sr.OWNER);else if(c.mockUserToken){const g=typeof c.mockUserToken=="string"?c.mockUserToken:$1(c.mockUserToken,a.app.options.projectId);f=new sr(g)}Yh(n)&&(W1(n),t2("Database",!0)),z3(h,o,c,f)}function V3(a){Db(gb),hr(new _s("database",(n,{instanceIdentifier:l})=>{const c=n.getProvider("app").getImmediate(),o=n.getProvider("auth-internal"),h=n.getProvider("app-check-internal");return U3(c,o,h,l)},"PUBLIC").setMultipleInstances(!0)),Jl(Yp,Qp,a),Jl(Yp,Qp,"esm2020")}Zn.prototype.simpleListen=function(a,n){this.sendRequest("q",{p:a},n)};Zn.prototype.echo=function(a,n){this.sendRequest("echo",{d:a},n)};V3();const G3={apiKey:"AIzaSyD_a5ykUzFClrzJalmql4vs_6TPE5WYLqQ",authDomain:"ai-demo-64219.firebaseapp.com",projectId:"ai-demo-64219",storageBucket:"ai-demo-64219.firebasestorage.app",messagingSenderId:"14008379823",appId:"1:14008379823:web:1350b9cb75cef1d783275a",databaseURL:"https://ai-demo-64219-default-rtdb.asia-southeast1.firebasedatabase.app"},q3=Hv(G3),Ke=I3(q3),P_=[{id:"v001",url:"https://www.youtube.com/watch?v=XqZsoesa55w",title:"Baby Shark Dance - Pinkfong",thumbnail:"https://img.youtube.com/vi/XqZsoesa55w/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Pinkfong"},{id:"v002",url:"https://www.youtube.com/watch?v=e_04ZrNroTo",title:"Wheels on the Bus - Cocomelon",thumbnail:"https://img.youtube.com/vi/e_04ZrNroTo/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"Cocomelon"},{id:"v003",url:"https://www.youtube.com/watch?v=75NQK-Sm1YY",title:"Baby Bus - Five Little Ducks",thumbnail:"https://img.youtube.com/vi/75NQK-Sm1YY/mqdefault.jpg",ageGroup:"0-3",category:"music",channel:"BabyBus"},{id:"v004",url:"https://www.youtube.com/watch?v=_UR-l3QI2nE",title:"ABC Song - Hc bng ch ci",thumbnail:"https://img.youtube.com/vi/_UR-l3QI2nE/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v005",url:"https://www.youtube.com/watch?v=ZanHgPprl-0",title:"Phonics Song - Hc pht m",thumbnail:"https://img.youtube.com/vi/ZanHgPprl-0/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v006",url:"https://www.youtube.com/watch?v=L0MK7qz13bU",title:"Numbers Song - Hc m s",thumbnail:"https://img.youtube.com/vi/L0MK7qz13bU/mqdefault.jpg",ageGroup:"3-6",category:"english",channel:"Pinkfong"},{id:"v007",url:"https://www.youtube.com/watch?v=QkHQ0CYwjaI",title:"Counting 1-100 - m s",thumbnail:"https://img.youtube.com/vi/QkHQ0CYwjaI/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Jack Hartmann"},{id:"v008",url:"https://www.youtube.com/watch?v=teMdjJ3w9iM",title:"Five Little Monkeys - Hc m",thumbnail:"https://img.youtube.com/vi/teMdjJ3w9iM/mqdefault.jpg",ageGroup:"3-6",category:"math",channel:"Super Simple Songs"}],ey=[{id:"c001",name:"Pinkfong",channelId:"UCcdwLMPsaU2ezNSJU1nFoBQ",ageGroup:"0-3",category:"music"},{id:"c002",name:"Cocomelon",channelId:"UCbCmjCuTUZos6Inko4u57UQ",ageGroup:"0-3",category:"music"},{id:"c003",name:"Super Simple Songs",channelId:"UCLsooMJoIpl_7ux2jvdPB-Q",ageGroup:"3-6",category:"english"}],ty=[{id:"parent",name:"Ph huynh",type:"parent",avatar:""},{id:"user001",name:"B Bi",type:"child",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:["music","entertainment"]},{id:"user002",name:"B Bo",type:"child",avatar:"",ageGroup:"3-6",dailyLimit:90,allowedCategories:["music","english","math"]}],Df={dailyLimit:60,parentPin:"1234"},Pl=a=>a?Object.keys(a).map(n=>({...a[n],id:n})):[],Y3=async()=>{try{return(await us(Xe(Ke,"videos"))).exists()||(console.log("Initializing database with default data..."),await ny()),await Ir()}catch(a){return console.error("Firebase init error:",a),{videos:P_,channels:ey,users:ty,settings:Df}}},ny=async()=>{const a={};P_.forEach(c=>{a[c.id]=c});const n={};ey.forEach(c=>{n[c.id]=c});const l={};ty.forEach(c=>{l[c.id]=c}),await Kn(Xe(Ke,"videos"),a),await Kn(Xe(Ke,"channels"),n),await Kn(Xe(Ke,"users"),l),await Kn(Xe(Ke,"settings"),Df)},Ir=async()=>{const[a,n,l,c]=await Promise.all([us(Xe(Ke,"videos")),us(Xe(Ke,"channels")),us(Xe(Ke,"users")),us(Xe(Ke,"settings"))]);return{videos:Pl(a.val()),channels:Pl(n.val()),users:Pl(l.val()),settings:c.val()||Df}},Cv=async a=>{const n=a.id||`v${Date.now()}`,l={...a,id:n,addedAt:Date.now()};return await Kn(Xe(Ke,`videos/${n}`),l),l},Q3=async(a,n)=>{await Af(Xe(Ke,`videos/${a}`),n)},F3=async a=>{await xf(Xe(Ke,`videos/${a}`))},X3=async a=>{const n=a.id||`c${Date.now()}`,l={...a,id:n};return await Kn(Xe(Ke,`channels/${n}`),l),l},K3=async a=>{await xf(Xe(Ke,`channels/${a}`))},Z3=async a=>{const n=a.id||`u${Date.now()}`,l={...a,id:n,createdAt:Date.now()};return await Kn(Xe(Ke,`users/${n}`),l),l},J3=async(a,n)=>{await Af(Xe(Ke,`users/${a}`),n)},W3=async a=>{await xf(Xe(Ke,`users/${a}`))},$3=async a=>{await Af(Xe(Ke,"settings"),a)},P3=a=>wf(Xe(Ke,"videos"),n=>{a(Pl(n.val()))}),eC=a=>wf(Xe(Ke,"users"),n=>{a(Pl(n.val()))}),tC=a=>wf(Xe(Ke,"channels"),n=>{a(Pl(n.val()))}),nC=async()=>(await ny(),await Ir()),iC=async()=>{const a=await Ir(),n=new Blob([JSON.stringify({...a,exportedAt:new Date().toISOString()},null,2)],{type:"application/json"}),l=URL.createObjectURL(n),c=document.createElement("a");c.href=l,c.download=`kid_video_${new Date().toISOString().split("T")[0]}.json`,c.click(),URL.revokeObjectURL(l)},lC=async a=>{if(a.videos){const n={};a.videos.forEach(l=>{n[l.id]=l}),await Kn(Xe(Ke,"videos"),n)}return await Ir()},Nr=a=>{if(!a)return null;if(a.length===11&&/^[a-zA-Z0-9_-]+$/.test(a))return a;const n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/,l=a.match(n);return l&&l[7].length===11?l[7]:null},vn=[{id:"math",name:"Ton hc",icon:"",color:"#ff6b6b"},{id:"english",name:"Anh vn",icon:"",color:"#4ecdc4"},{id:"communication",name:"Giao tip",icon:"",color:"#45b7d1"},{id:"thinking",name:"T duy",icon:"",color:"#96ceb4"},{id:"entertainment",name:"Gii tr",icon:"",color:"#ffeaa7"},{id:"learning",name:"Hc tp",icon:"",color:"#dfe6e9"},{id:"music",name:"m nhc",icon:"",color:"#fd79a8"},{id:"science",name:"Khoa hc",icon:"",color:"#a29bfe"}],Pn=L1(I1((a,n)=>({videos:[],channels:[],users:[],settings:{categories:vn,dailyLimit:60},currentVideo:null,currentUser:null,selectedAgeGroup:"all",selectedCategory:"all",searchQuery:"",parentMode:!1,watchHistory:[],favorites:[],dailyLimit:60,todayWatchTime:0,unavailableVideos:[],isLoading:!1,error:null,setVideos:l=>a({videos:l}),setUsers:l=>a({users:l}),setChannels:l=>a({channels:l}),initializeData:async()=>{a({isLoading:!0,error:null});try{const l=await Y3();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[],settings:{...n().settings,...l.settings},dailyLimit:l.settings?.dailyLimit||60,isLoading:!1})}catch(l){console.error("Failed to initialize:",l),a({error:l.message,isLoading:!1})}},markVideoUnavailable:l=>{const{unavailableVideos:c}=n();c.includes(l)||a({unavailableVideos:[...c,l]})},clearUnavailableVideos:()=>a({unavailableVideos:[]}),isVideoAvailable:l=>!n().unavailableVideos.includes(l),login:l=>{const o=n().users.find(h=>h.id===l);return o?(a({currentUser:o,dailyLimit:o.dailyLimit||60}),!0):!1},logout:()=>a({currentUser:null,parentMode:!1}),addVideo:async l=>{const c=await Cv(l);return a(o=>({videos:[...o.videos,c]})),c},updateVideo:async(l,c)=>{await Q3(l,c),a(o=>({videos:o.videos.map(h=>h.id===l?{...h,...c}:h)}))},deleteVideo:async l=>{await F3(l),a(c=>({videos:c.videos.filter(o=>o.id!==l)}))},addVideoFromURL:async(l,c="entertainment",o="all")=>{const h=Nr(l);if(!h)throw new Error("URL YouTube khng hp l");if(n().videos.find(E=>Nr(E.url)===h))throw new Error("Video ny  c trong danh sch");const g=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${h}&format=json`);if(!g.ok)throw new Error("Video khng tn ti hoc khng kh dng");const v=await g.json(),_=await Cv({url:`https://www.youtube.com/watch?v=${h}`,title:v.title,thumbnail:`https://img.youtube.com/vi/${h}/mqdefault.jpg`,channel:v.author_name,category:c,ageGroup:o});return a(E=>({videos:[...E.videos,_]})),_},addChannel:async l=>{const c=await X3(l);return a(o=>({channels:[...o.channels,c]})),c},deleteChannel:async l=>{await K3(l),a(c=>({channels:c.channels.filter(o=>o.id!==l)}))},addUser:async l=>{const c=await Z3(l);return a(o=>({users:[...o.users,c]})),c},updateUser:async(l,c)=>{await J3(l,c),a(o=>({users:o.users.map(h=>h.id===l?{...h,...c}:h),currentUser:o.currentUser?.id===l?{...o.currentUser,...c}:o.currentUser}))},deleteUser:async l=>{await W3(l),a(c=>({users:c.users.filter(o=>o.id!==l)}))},setCurrentVideo:l=>a({currentVideo:l}),setAgeGroup:l=>a({selectedAgeGroup:l}),setCategory:l=>a({selectedCategory:l}),setSearchQuery:l=>a({searchQuery:l}),toggleParentMode:l=>n().parentMode?(a({parentMode:!1}),!0):l==="bypass"?(a({parentMode:!0}),!0):!1,addToHistory:l=>a(c=>({watchHistory:[{...l,watchedAt:Date.now()},...c.watchHistory.filter(o=>o.id!==l.id).slice(0,49)]})),toggleFavorite:l=>a(c=>({favorites:c.favorites.includes(l)?c.favorites.filter(o=>o!==l):[...c.favorites,l]})),addWatchTime:l=>a(c=>({todayWatchTime:c.todayWatchTime+l})),resetDailyWatchTime:()=>a({todayWatchTime:0}),setDailyLimit:async l=>{await $3({dailyLimit:l}),a({dailyLimit:l})},getFilteredVideos:()=>{const l=n();let c=l.videos.filter(o=>!l.unavailableVideos.includes(o.id));if(l.selectedAgeGroup!=="all"&&(c=c.filter(o=>o.ageGroup===l.selectedAgeGroup||o.ageGroup==="all")),l.selectedCategory!=="all"&&(c=c.filter(o=>o.category===l.selectedCategory)),l.searchQuery){const o=l.searchQuery.toLowerCase();c=c.filter(h=>h.title?.toLowerCase().includes(o)||h.channel?.toLowerCase().includes(o))}return c},exportData:async()=>await iC(),importData:async l=>{const c=await lC(l);a({videos:c.videos,channels:c.channels,users:c.users})},resetToDefaults:async()=>{const l=await nC();a({videos:l.videos||[],channels:l.channels||[],users:l.users||[]})}}),{name:"kid-video-storage",partialize:a=>({currentUser:a.currentUser,watchHistory:a.watchHistory,favorites:a.favorites,todayWatchTime:a.todayWatchTime,unavailableVideos:a.unavailableVideos})})),wi=Nr,aC=a=>{const n=Nr(a);return n?`https://img.youtube.com/vi/${n}/mqdefault.jpg`:null};function sC(a,n){const[l,c]=V.useState(a);return V.useEffect(()=>{const o=setTimeout(()=>{c(a)},n);return()=>clearTimeout(o)},[a,n]),l}function cC(){const{searchQuery:a,setSearchQuery:n,searchYouTube:l,youtubeSearchLoading:c,clearYouTubeSearch:o,parentMode:h}=Pn(),[f,g]=V.useState(!1),[v,_]=V.useState(a),E=sC(v,300);V.useEffect(()=>{n(E)},[E,n]);const y=V.useCallback(()=>{v.trim()&&l(v.trim())},[v,l]),S=L=>{L.key==="Enter"&&y()},z=()=>{_(""),n(""),o()};return m.jsxs(_e.div,{className:"search-bar",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[m.jsxs("div",{className:`search-container ${f?"focused":""}`,children:[m.jsx("input",{type:"text",placeholder:" Tm video yu thch...",value:v,onChange:L=>_(L.target.value),onFocus:()=>g(!0),onBlur:()=>g(!1),onKeyDown:S,className:"search-input"}),v&&m.jsx(_e.button,{className:"clear-btn",onClick:z,initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},title:"Xa tm kim",children:""}),m.jsx(_e.button,{className:`search-btn youtube-search ${c?"loading":""}`,onClick:y,whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!v.trim()||c,title:h?"Tm trn YouTube":"Tm video",children:c?m.jsx("span",{className:"search-spinner",children:""}):h?m.jsxs(m.Fragment,{children:[m.jsx(_h,{}),m.jsx("span",{className:"btn-text",children:"Tm"})]}):m.jsxs(m.Fragment,{children:[m.jsx(Sh,{}),m.jsx("span",{className:"btn-text",children:"Tm"})]})})]}),h&&v&&m.jsxs("div",{className:"search-hint",children:[" Nhn Enter hoc nt ",m.jsx(_h,{style:{color:"#ff0000"}}),"  tm video mi t YouTube"]})]})}function rC(){const{youtubeSearchResults:a,youtubeSearchQuery:n,youtubeSearchLoading:l,youtubeNextPageToken:c,youtubeTotalResults:o,showYoutubeResults:h,loadMoreYouTubeResults:f,clearYouTubeSearch:g,addVideoFromYouTube:v,addVideoFromURL:_,setCurrentVideo:E,parentMode:y}=Pn(),[S,z]=V.useState(null),[L,Q]=V.useState([]),[I,P]=V.useState(!1),[Ne,ie]=V.useState(!1),[X,me]=V.useState(null),[xe,Ce]=V.useState("entertainment"),[Ge,Gt]=V.useState("all"),[Ve,fe]=V.useState(""),[Le,Be]=V.useState(""),[ht,Ae]=V.useState(!1),D=U=>{E({id:U.videoId||wi(U.url),url:U.url,title:U.title,thumbnail:U.thumbnail,channel:U.channel})},H=U=>{me(U),P(!0)},G=async()=>{if(X){z(X.videoId);try{await v(X,xe,Ge),Q(U=>[...U,X.videoId]),P(!1),me(null)}catch(U){console.error("Failed to add video:",U)}finally{z(null)}}},ge=async()=>{if(!Ve.trim()){Be("Vui lng nhp URL video");return}if(!wi(Ve)){Be("URL YouTube khng hp l");return}Ae(!0),Be("");try{await _(Ve,xe,Ge),ie(!1),fe(""),Be("")}catch(ee){Be(ee.message||"Khng th thm video")}finally{Ae(!1)}},be=[{id:"all",name:"Tt c",icon:""},{id:"0-3",name:"0-3 tui",icon:""},{id:"3-6",name:"3-6 tui",icon:""},{id:"6-9",name:"6-9 tui",icon:""}];return!h&&!y?null:m.jsxs(m.Fragment,{children:[y&&m.jsx(_e.div,{className:"add-video-section",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:m.jsxs("button",{className:"add-by-url-btn",onClick:()=>ie(!0),children:[m.jsx(A1,{})," Thm video t YouTube URL"]})}),h&&a.length>0&&m.jsxs(_e.div,{className:"search-results-container",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},children:[m.jsxs("div",{className:"search-results-header",children:[m.jsxs("div",{className:"search-results-info",children:[m.jsxs("h3",{children:[' Kt qu tm kim: "',n,'"']}),m.jsxs("span",{className:"results-count",children:[a.length," video"]})]}),m.jsx("button",{className:"close-results-btn",onClick:g,children:m.jsx(ar,{})})]}),m.jsx("div",{className:"search-results-grid",children:m.jsx(xi,{children:a.map((U,ee)=>m.jsxs(_e.div,{className:"search-result-card",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:ee*.05},children:[m.jsxs("div",{className:"result-thumbnail",onClick:()=>D(U),children:[m.jsx("img",{src:U.thumbnail,alt:U.title,loading:"lazy"}),m.jsx("div",{className:"play-overlay",children:m.jsx(bh,{})})]}),m.jsxs("div",{className:"result-info",children:[m.jsx("h4",{className:"result-title",title:U.title,children:U.title}),m.jsx("p",{className:"result-channel",children:U.channel})]}),m.jsxs("div",{className:"result-actions",children:[m.jsxs("button",{className:"play-btn",onClick:()=>D(U),title:"Xem video",children:[m.jsx(bh,{})," Xem"]}),y&&m.jsx("button",{className:`add-btn ${L.includes(U.videoId)?"added":""}`,onClick:()=>H(U),disabled:S===U.videoId||L.includes(U.videoId),title:L.includes(U.videoId)?" thm":"Thm vo danh sch",children:S===U.videoId?m.jsx(lh,{className:"spinning"}):L.includes(U.videoId)?m.jsxs(m.Fragment,{children:[m.jsx(yh,{}),"  thm"]}):m.jsxs(m.Fragment,{children:[m.jsx(gn,{})," Thm"]})})]})]},U.videoId||ee))})}),c&&m.jsx("div",{className:"load-more-container",children:m.jsx("button",{className:"load-more-btn",onClick:f,disabled:l,children:l?m.jsxs(m.Fragment,{children:[m.jsx(lh,{className:"spinning"})," ang ti..."]}):m.jsxs(m.Fragment,{children:[m.jsx(C1,{})," Xem thm video"]})})}),m.jsx(xi,{children:I&&X&&m.jsx(_e.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>P(!1),children:m.jsxs(_e.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),children:[m.jsxs("div",{className:"add-modal-header",children:[m.jsx("h3",{children:" Thm video vo danh sch"}),m.jsx("button",{className:"close-modal-btn",onClick:()=>P(!1),children:m.jsx(ar,{})})]}),m.jsxs("div",{className:"add-modal-content",children:[m.jsxs("div",{className:"video-preview",children:[m.jsx("img",{src:X.thumbnail,alt:X.title}),m.jsxs("div",{className:"video-preview-info",children:[m.jsx("h4",{children:X.title}),m.jsx("p",{children:X.channel})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Danh mc:"}),m.jsx("div",{className:"category-select",children:vn.map(U=>m.jsxs("button",{className:`category-option ${xe===U.id?"selected":""}`,onClick:()=>Ce(U.id),style:{"--cat-color":U.color},children:[U.icon," ",U.name]},U.id))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"  tui:"}),m.jsx("div",{className:"age-select",children:be.map(U=>m.jsxs("button",{className:`age-option ${Ge===U.id?"selected":""}`,onClick:()=>Gt(U.id),children:[U.icon," ",U.name]},U.id))})]})]}),m.jsxs("div",{className:"add-modal-footer",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>P(!1),children:"Hy"}),m.jsxs("button",{className:"confirm-btn",onClick:G,children:[m.jsx(gn,{})," Thm video"]})]})]})})})]}),m.jsx(xi,{children:Ne&&m.jsx(_e.div,{className:"add-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ie(!1),children:m.jsxs(_e.div,{className:"add-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:U=>U.stopPropagation(),children:[m.jsxs("div",{className:"add-modal-header",children:[m.jsx("h3",{children:" Thm video t YouTube URL"}),m.jsx("button",{className:"close-modal-btn",onClick:()=>ie(!1),children:m.jsx(ar,{})})]}),m.jsxs("div",{className:"add-modal-content",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" URL YouTube:"}),m.jsx("input",{type:"text",className:"url-input",placeholder:"https://www.youtube.com/watch?v=... hoc Video ID",value:Ve,onChange:U=>{fe(U.target.value),Be("")}}),Le&&m.jsx("p",{className:"url-error",children:Le}),m.jsx("p",{className:"url-hint",children:"Paste link YouTube hoc ch Video ID (v d: dQw4w9WgXcQ)"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" Danh mc:"}),m.jsx("div",{className:"category-select",children:vn.map(U=>m.jsxs("button",{className:`category-option ${xe===U.id?"selected":""}`,onClick:()=>Ce(U.id),style:{"--cat-color":U.color},children:[U.icon," ",U.name]},U.id))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"  tui:"}),m.jsx("div",{className:"age-select",children:be.map(U=>m.jsxs("button",{className:`age-option ${Ge===U.id?"selected":""}`,onClick:()=>Gt(U.id),children:[U.icon," ",U.name]},U.id))})]})]}),m.jsxs("div",{className:"add-modal-footer",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>ie(!1),children:"Hy"}),m.jsx("button",{className:"confirm-btn",onClick:ge,disabled:ht,children:ht?m.jsxs(m.Fragment,{children:[m.jsx(lh,{className:"spinning"})," ang xc thc..."]}):m.jsxs(m.Fragment,{children:[m.jsx(gn,{})," Thm video"]})})]})]})})})]})}function oC(){const{selectedCategory:a,setCategory:n,currentUser:l}=Pn(),c=V.useMemo(()=>{const o=l?.allowedCategories||[];if(o.length===0)return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...vn];const h=vn.filter(f=>o.includes(f.id));return[{id:"all",name:"Tt c",icon:"",color:"#84fab0"},...h]},[l?.allowedCategories]);return m.jsx("div",{className:"category-filter",children:m.jsx("div",{className:"category-scroll",children:c.map((o,h)=>m.jsxs(_e.button,{className:`category-btn ${a===o.id?"active":""}`,style:{"--cat-color":o.color},onClick:()=>n(o.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:h*.05},whileHover:{scale:1.08,y:-3},whileTap:{scale:.95},children:[m.jsx("span",{className:"category-icon",children:o.icon}),m.jsx("span",{className:"category-name",children:o.name})]},o.id))})})}function uC({video:a,index:n}){const{setCurrentVideo:l,favorites:c,markVideoUnavailable:o}=Pn(),[h,f]=V.useState(!1),g=c.includes(a.id),v={"0-3":"linear-gradient(135deg, #FF9A9E 0%, #FAD0C4 100%)","3-6":"linear-gradient(135deg, #A18CD1 0%, #FBC2EB 100%)","6-9":"linear-gradient(135deg, #84FAB0 0%, #8FD3F4 100%)",all:"linear-gradient(135deg, #FFE66D 0%, #FF9A3D 100%)"},_=vn.find(S=>S.id===a.category),E=()=>{f(!0)},y="data:image/svg+xml,"+encodeURIComponent(`
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 180">
      <rect fill="#1A3A32" width="320" height="180"/>
      <text x="160" y="90" fill="#00D4AA" font-size="48" text-anchor="middle" dominant-baseline="middle"></text>
    </svg>
  `);return m.jsxs(_e.div,{className:"video-card",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.05,duration:.3},whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>l(a),children:[m.jsxs("div",{className:"thumbnail-container",children:[m.jsx("img",{src:h?y:a.thumbnail,alt:a.title,className:"thumbnail",loading:"lazy",onError:E}),m.jsx("div",{className:"play-overlay",children:m.jsx(_e.div,{className:"play-button",whileHover:{scale:1.15},whileTap:{scale:.9},children:m.jsx(bh,{})})}),g&&m.jsx("div",{className:"favorite-indicator",children:m.jsx(x1,{color:"#FF6B9D"})}),_&&m.jsx("div",{className:"category-tag",style:{background:_.color},children:_.icon}),m.jsx("div",{className:"age-tag",style:{background:v[a.ageGroup]||v.all},children:a.ageGroup==="all"?" Tt c":` ${a.ageGroup}`})]}),m.jsxs("div",{className:"video-info",children:[m.jsx("h3",{className:"video-title",children:a.title}),m.jsxs("p",{className:"channel-name",children:[" ",a.channel]})]})]})}function hC(){const{getFilteredVideos:a,searchQuery:n,selectedAgeGroup:l}=Pn(),c=a();return c.length===0?m.jsxs(_e.div,{className:"empty-state",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[m.jsx("div",{className:"empty-icon",children:""}),m.jsx("h3",{children:"Khng tm thy video"}),m.jsx("p",{children:n?`Khng c video no ph hp vi "${n}"`:"Cha c video no trong danh sch"})]}):m.jsxs("div",{className:"video-grid-container",children:[m.jsxs("div",{className:"results-info",children:[m.jsxs("span",{className:"results-count",children:[" ",c.length," video"]}),l!=="all"&&m.jsxs("span",{className:"filter-info",children:[" Lc theo: ",l," tui"]})]}),m.jsx(_e.div,{className:"video-grid",initial:{opacity:0},animate:{opacity:1},children:c.map((o,h)=>m.jsx(uC,{video:o,index:h},o.id))})]})}const fC=15e3;function dC(){const{currentVideo:a,setCurrentVideo:n,favorites:l,toggleFavorite:c,addToHistory:o,addWatchTime:h,markVideoUnavailable:f,getFilteredVideos:g}=Pn(),[v,_]=V.useState(!1),[E,y]=V.useState(!0),[S,z]=V.useState(!1),[L,Q]=V.useState(0),I=V.useRef(null),P=V.useRef(!1),Ne=V.useRef(null),ie=a&&l.includes(a.id),X=V.useMemo(()=>g?.()||[],[g]),me=V.useMemo(()=>a?X.findIndex(D=>D.id===a.id):-1,[a,X]),xe=me>0,Ce=me<X.length-1&&me!==-1,Ge=V.useCallback(()=>{if(xe){const D=X[me-1];n(D)}},[xe,X,me,n]),Gt=V.useCallback(()=>{if(Ce){const D=X[me+1];n(D)}},[Ce,X,me,n]);V.useEffect(()=>{const D=H=>{if(H.origin==="https://www.youtube.com")try{const G=typeof H.data=="string"?JSON.parse(H.data):H.data;G.event==="onError"&&(console.log("YouTube error detected via postMessage:",G),y(!1),z(!0),a&&f?.(a.id)),G.event==="onStateChange"&&(console.log("YouTube state change:",G.info),G.info!==-1&&(P.current=!0,y(!1),I.current&&clearTimeout(I.current))),G.event==="onReady"&&(console.log("YouTube player ready"),P.current=!0,y(!1),I.current&&clearTimeout(I.current))}catch{}};return window.addEventListener("message",D),()=>window.removeEventListener("message",D)},[a,f]),V.useEffect(()=>(a&&E&&!S&&(P.current=!1,I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{!P.current&&E&&!S&&(console.log("Video load timeout - no response from YouTube"),y(!1),z(!0),a&&f?.(a.id))},fC)),()=>{I.current&&clearTimeout(I.current)}),[a,E,S,f]),V.useEffect(()=>{a&&(y(!0),z(!1),Q(0),P.current=!1,o(a))},[a]);const Ve=V.useCallback(()=>{I.current&&clearTimeout(I.current),n(null),_(!1),y(!0),z(!1),Q(0),P.current=!1},[n]),fe=V.useCallback(()=>{console.log("Iframe loaded for video:",a?.id),P.current=!0,setTimeout(()=>{S||y(!1)},1e3),I.current&&clearTimeout(I.current)},[a,S]),Le=V.useCallback(()=>{console.log("Iframe error for video:",a?.id),y(!1),z(!0),a&&f?.(a.id)},[a,f]),Be=V.useCallback(()=>{a&&f?.(a.id);const D=g?.()||[],H=D.findIndex(ge=>ge.id===a?.id),G=D[H+1]||D[0];G&&G.id!==a?.id?n(G):Ve()},[a,f,g,n,Ve]);if(V.useCallback(()=>{Q(D=>D+1),z(!1),y(!0),videoLoadedRef.current=!1},[]),!a)return null;const ht=wi(a.url),Ae=ht?`https://www.youtube.com/embed/${ht}?autoplay=1&rel=0&modestbranding=1&controls=1&disablekb=0&iv_load_policy=3&playsinline=1&enablejsapi=1&origin=${window.location.origin}`:a.url;return m.jsx(xi,{children:m.jsx(_e.div,{className:`video-player-overlay ${v?"fullscreen":""}`,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:m.jsxs(_e.div,{className:"video-player-container",initial:{scale:.8,y:50},animate:{scale:1,y:0},exit:{scale:.8,y:50},children:[m.jsxs("div",{className:"video-player-header",children:[m.jsx("h2",{className:"video-title",children:a.title}),m.jsxs("div",{className:"video-controls",children:[m.jsx("button",{className:"control-btn favorite-btn",onClick:()=>c(a.id),title:ie?"B yu thch":"Thm yu thch",children:ie?"":""}),m.jsx("button",{className:"control-btn expand-btn",onClick:()=>_(!v),title:v?"Thu nh":"Phng to",children:""}),m.jsx("button",{className:"control-btn close-btn",onClick:Ve,title:"ng video",children:""})]})]}),m.jsxs("div",{className:"video-wrapper",children:[E&&!S&&m.jsxs("div",{className:"video-loading",children:[m.jsx("div",{className:"loading-icon",children:""}),m.jsxs("p",{className:"loading-text",children:["ang ti video",m.jsx("span",{className:"loading-dots"})]})]}),S?m.jsxs("div",{className:"video-error",children:[m.jsx("div",{className:"error-icon",children:""}),m.jsx("h3",{children:"Video khng kh dng"}),m.jsx("p",{children:"Video ny  b xa hoc khng cho php nhng."}),m.jsx("p",{className:"error-suggestion",children:"Hy chn video khc  xem nh!"}),m.jsxs("div",{className:"error-actions",children:[m.jsx("button",{className:"skip-btn primary",onClick:Be,children:" Xem video tip theo"}),m.jsx("button",{className:"close-error-btn",onClick:Ve,children:" ng"})]})]}):m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"youtube-block-overlay top-overlay"}),m.jsx("div",{className:"youtube-block-overlay bottom-right-overlay"}),m.jsx("div",{className:"youtube-block-overlay channel-overlay"}),m.jsx("div",{className:"youtube-block-overlay info-cards-overlay"}),m.jsx("iframe",{ref:Ne,src:Ae,title:a.title,width:"100%",height:"100%",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,referrerPolicy:"strict-origin-when-cross-origin",sandbox:"allow-scripts allow-same-origin allow-presentation",onLoad:fe,onError:Le,style:{opacity:E?0:1,transition:"opacity 0.3s ease"}},`${a.id}-${L}`)]})]}),m.jsxs("div",{className:"video-info",children:[m.jsxs("div",{className:"video-nav-controls",children:[m.jsxs("button",{className:`nav-btn prev-btn ${xe?"":"disabled"}`,onClick:Ge,disabled:!xe,title:"Video trc",children:[m.jsx(E1,{}),m.jsx("span",{className:"nav-text",children:"Trc"})]}),m.jsxs("span",{className:"video-position",children:[me+1," / ",X.length]}),m.jsxs("button",{className:`nav-btn next-btn ${Ce?"":"disabled"}`,onClick:Gt,disabled:!Ce,title:"Video sau",children:[m.jsx("span",{className:"nav-text",children:"Sau"}),m.jsx(T1,{})]})]}),m.jsxs("div",{className:"video-meta",children:[m.jsxs("span",{className:"channel-name",children:[" ",a.channel]}),m.jsx("span",{className:"age-badge",children:a.ageGroup==="all"?" Mi la tui":` ${a.ageGroup} tui`})]})]})]})})})}var lr=Nv();const ph=()=>{const a=["+","-",""],n=a[Math.floor(Math.random()*a.length)];let l,c,o;switch(n){case"+":l=Math.floor(Math.random()*20)+1,c=Math.floor(Math.random()*20)+1,o=l+c;break;case"-":l=Math.floor(Math.random()*20)+10,c=Math.floor(Math.random()*l),o=l-c;break;case"":l=Math.floor(Math.random()*10)+1,c=Math.floor(Math.random()*10)+1,o=l*c;break;default:l=1,c=1,o=2}return{question:`${l} ${n} ${c} = ?`,answer:o.toString()}},Ev=["","","","","","","","","","","",""],iy=async a=>{const n=wi(a);if(!n)return{valid:!1,error:"URL khng hp l"};try{const l=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${n}&format=json`);if(l.ok){const c=await l.json();return{valid:!0,title:c.title,channel:c.author_name,thumbnail:`https://img.youtube.com/vi/${n}/mqdefault.jpg`}}else{if(l.status===404)return{valid:!1,error:"Video khng tn ti hoc  b xa"};if(l.status===401)return{valid:!1,error:"Video b hn ch, khng th nhng"}}return{valid:!1,error:"Khng th kim tra video"}}catch(l){return console.log("Validation failed:",l),{valid:!1,error:"Li kt ni, khng th kim tra video"}}},mC=async a=>{const n=await iy(a);return n.valid?{title:n.title,channel:n.channel,thumbnail:n.thumbnail}:null},Tv=async(a,n,l=null)=>{try{const c=`https://www.youtube.com/feeds/videos.xml?channel_id=${a}`,o=`https://api.allorigins.win/raw?url=${encodeURIComponent(c)}`,h=await fetch(o);if(!h.ok)throw new Error("Failed to fetch");const f=await h.text(),_=new DOMParser().parseFromString(f,"text/xml").querySelectorAll("entry"),E=[];return _.forEach((y,S)=>{if(S>=50)return;const z=y.querySelector("yt\\:videoId, videoId")?.textContent,L=y.querySelector("title")?.textContent,Q=y.querySelector("published")?.textContent;z&&L&&E.push({id:z,videoId:z,title:L,thumbnail:`https://img.youtube.com/vi/${z}/mqdefault.jpg`,url:`https://www.youtube.com/watch?v=${z}`,channel:n,publishedAt:Q})}),{videos:E,hasMore:!1}}catch(c){return console.error("Error fetching channel videos:",c),{videos:[],hasMore:!1}}},vh=async(a,n="",l=1)=>{const c=n?`${a} ${n}`:a;try{console.log("Searching YouTube:",c);const o=await fetch("/api/youtube-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:c}),signal:AbortSignal.timeout(15e3)});if(!o.ok)throw new Error(`API error: ${o.status}`);const h=await o.json();return h.videos&&h.videos.length>0?(console.log("Found:",h.videos.length,"videos from",h.source||"youtube"),{videos:h.videos,hasMore:h.videos.length>=5,totalResults:h.totalResults||h.videos.length}):(console.log("No videos found"),{videos:[],hasMore:!1})}catch(o){return console.error("YouTube search error:",o.message),{videos:[],hasMore:!1}}};function gC({inHeader:a=!1}){const{parentMode:n,toggleParentMode:l,videos:c,channels:o,users:h,addVideo:f,deleteVideo:g,addChannel:v,deleteChannel:_,addUser:E,updateUser:y,deleteUser:S,dailyLimit:z,setDailyLimit:L,resetToDefaults:Q,initializeData:I}=Pn(),[P,Ne]=V.useState(!1),[ie,X]=V.useState(""),[me,xe]=V.useState(""),[Ce,Ge]=V.useState("videos"),[Gt,Ve]=V.useState(!1),[fe,Le]=V.useState({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),[Be,ht]=V.useState({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),[Ae,D]=V.useState({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),[H,G]=V.useState(!1),[ge,be]=V.useState(()=>ph()),[U,ee]=V.useState(null),[de,J]=V.useState(""),[Ze,Tt]=V.useState("url"),[ft,ei]=V.useState(""),[dt,An]=V.useState(""),[mt,gt]=V.useState([]),[Nt,xt]=V.useState([]),[jt,Wt]=V.useState(!1),[Ls,ha]=V.useState(!1),[fa,bn]=V.useState(1),[da,Sn]=V.useState(!1),[Li,Et]=V.useState(!1),Bs=h.filter(N=>N.type==="child"),Hs=()=>{const N={videos:c,channels:o,users:h,settings:{dailyLimit:z},exportedAt:new Date().toISOString()},Y=new Blob([JSON.stringify(N,null,2)],{type:"application/json"}),ce=URL.createObjectURL(Y),re=document.createElement("a");re.href=ce,re.download=`kid_video_backup_${new Date().toISOString().split("T")[0]}.json`,re.click(),URL.revokeObjectURL(ce),J("  xut d liu thnh cng!"),setTimeout(()=>J(""),3e3)},Is=N=>{const Y=N.target.files[0];if(!Y)return;const ce=new FileReader;ce.onload=async re=>{try{const Je=JSON.parse(re.target.result);if(Je.videos&&Array.isArray(Je.videos))for(const qt of Je.videos)c.find(Dt=>Dt.id===qt.id)||f(qt);if(Je.channels&&Array.isArray(Je.channels))for(const qt of Je.channels)o.find(Dt=>Dt.id===qt.id)||v(qt);if(Je.users&&Array.isArray(Je.users))for(const qt of Je.users)h.find(Dt=>Dt.id===qt.id)||E(qt);J("  nhp d liu thnh cng!"),setTimeout(()=>J(""),3e3)}catch{J(" File khng hp l"),setTimeout(()=>J(""),3e3)}},ce.readAsText(Y),N.target.value=""};V.useEffect(()=>{const Y=setTimeout(async()=>{if(fe.url&&wi(fe.url)){ha(!0);const ce=await mC(fe.url);ce&&Le(re=>({...re,title:re.title||ce.title,channel:re.channel||ce.channel})),ha(!1)}},500);return()=>clearTimeout(Y)},[fe.url]),V.useEffect(()=>{(async()=>{if(ft&&Ze==="search"){Wt(!0),gt([]),bn(1),Sn(!1);const Y=o.find(ce=>ce.id===ft);if(Y){const ce=await Tv(Y.channelId,Y.name);gt(ce.videos),Sn(ce.hasMore)}Wt(!1)}})()},[ft,Ze,o]);const wn=async()=>{if(Ze==="keyword"){if(!dt.trim()){gt([]);return}Wt(!0),bn(1);const re=await vh(dt,"",1);gt(re.videos),Sn(re.hasMore),Wt(!1);return}if(!dt.trim()){if(ft){Wt(!0),bn(1);const re=o.find(Je=>Je.id===ft);if(re){const Je=await Tv(re.channelId,re.name);gt(Je.videos),Sn(Je.hasMore)}Wt(!1)}return}Wt(!0),bn(1);const Y=o.find(re=>re.id===ft)?.name||"",ce=await vh(dt,Y,1);gt(ce.videos),Sn(ce.hasMore),Wt(!1)},ks=async()=>{if(Li||!da)return;Et(!0);const N=fa+1,ce=(Ze==="keyword"?null:o.find(Je=>Je.id===ft))?.name||"",re=await vh(dt||"",ce,N);if(re.videos.length>0){const Je=new Set(mt.map(Dt=>Dt.videoId)),qt=re.videos.filter(Dt=>!Je.has(Dt.videoId));gt(Dt=>[...Dt,...qt]),bn(N),Sn(re.hasMore)}else Sn(!1);Et(!1)},ma=N=>{xt(Y=>Y.find(re=>re.videoId===N.videoId)?Y.filter(re=>re.videoId!==N.videoId):[...Y,N])},Vs=N=>Nt.some(Y=>Y.videoId===N),Gs=N=>c.some(Y=>wi(Y.url)===N),ti=async()=>{if(Nt.length===0)return;const N=ft?o.find(Y=>Y.id===ft):null;try{for(const Y of Nt)await f({url:Y.url,title:Y.title,channel:Y.channel||N?.name||"YouTube",thumbnail:Y.thumbnail,ageGroup:N?.ageGroup||"all",category:N?.category||"entertainment"});J(`  thm ${Nt.length} video!`),setTimeout(()=>J(""),2e3),xt([]),gt([]),An(""),Ve(!1),Tt("url")}catch{J(" Li khi lu!")}},At=()=>{if(n){l();return}be(ph()),Ne(!0),X(""),xe("")},hn=()=>{ie===ge.answer?(l("bypass"),Ne(!1),X(""),xe("")):(xe("Sai ri! Th li nh "),be(ph()),X(""))},wt=async()=>{if(!fe.url||!fe.title)return;J(" ang kim tra video...");const N=await iy(fe.url);if(!N.valid){J(` ${N.error}`),setTimeout(()=>J(""),3e3);return}const Y=aC(fe.url);try{await f({...fe,thumbnail:Y||"https://via.placeholder.com/320x180?text=Video"}),J("  lu video!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}Le({url:"",title:"",channel:"",ageGroup:"all",category:"entertainment"}),Ve(!1),Tt("url"),gt([]),xt([])},kr=async()=>{if(!(!Be.name||!Be.channelId)){try{await v(Be),J("  lu knh!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}ht({name:"",channelId:"",ageGroup:"all",category:"entertainment"}),Ve(!1)}},Vr=async()=>{if(Ae.name){try{await E(Ae),J("  thm b!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}D({name:"",avatar:"",ageGroup:"0-3",dailyLimit:60,allowedCategories:[]}),Ve(!1)}},Gr=async()=>{if(U){try{await y(U.id,U),J("  cp nht!"),setTimeout(()=>J(""),2e3)}catch{J(" Li khi lu!")}ee(null)}},Bi=N=>{if(U){const Y=U.allowedCategories||[],ce=Y.includes(N)?Y.filter(re=>re!==N):[...Y,N];ee({...U,allowedCategories:ce})}else{const Y=Ae.allowedCategories||[],ce=Y.includes(N)?Y.filter(re=>re!==N):[...Y,N];D({...Ae,allowedCategories:ce})}},Hi=()=>{Ve(!1),Tt("url"),gt([]),xt([]),An(""),ei(""),bn(1),Sn(!1)};return m.jsxs(m.Fragment,{children:[m.jsxs(_e.button,{className:`parent-mode-btn ${a?"in-header":""}`,onClick:At,whileHover:{scale:1.05},whileTap:{scale:.95},title:n?"Thot ch  ph huynh":"Ch  ph huynh",children:[m.jsx(O1,{}),a&&m.jsx("span",{className:"btn-label",children:"Ph huynh"})]}),lr.createPortal(m.jsx(xi,{children:P&&m.jsx(_e.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>Ne(!1),children:m.jsxs(_e.div,{className:"pin-modal math-modal",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:25,stiffness:300},onClick:N=>N.stopPropagation(),children:[m.jsx("h3",{children:" Gii bi ton  vo"}),m.jsx("p",{className:"pin-hint",children:"Ch ngi ln mi gii c nhanh!"}),m.jsx("div",{className:"math-question",children:ge.question}),m.jsx("input",{type:"number",value:ie,onChange:N=>X(N.target.value),placeholder:"Nhp p n...",className:"pin-input math-input",onKeyDown:N=>N.key==="Enter"&&hn(),autoFocus:!0}),me&&m.jsx("p",{className:"pin-error",children:me}),m.jsxs("div",{className:"pin-actions",children:[m.jsx("button",{className:"cancel-btn",onClick:()=>Ne(!1),children:"Hy"}),m.jsx("button",{className:"submit-btn",onClick:hn,children:"Tr li"})]})]})})}),document.body),lr.createPortal(m.jsx(xi,{children:n&&m.jsxs(m.Fragment,{children:[m.jsx(_e.div,{className:"panel-backdrop",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l()}),m.jsxs(_e.div,{className:"parent-panel",initial:{x:400,opacity:0},animate:{x:0,opacity:1},exit:{x:400,opacity:0},transition:{type:"spring",damping:25,stiffness:300},children:[m.jsxs("div",{className:"panel-header",children:[m.jsx("h3",{children:" Ch  ph huynh"}),m.jsxs("div",{className:"panel-header-actions",children:[m.jsx("button",{className:"settings-btn",onClick:()=>G(!H),title:"Ci t",children:""}),m.jsx("button",{className:"close-panel-btn",onClick:()=>l(),title:"ng",children:""})]})]}),H&&m.jsxs("div",{className:"settings-section",children:[m.jsx("h4",{children:" Ci t"}),m.jsxs("div",{className:"setting-group",children:[m.jsx("label",{children:" Sao lu d liu:"}),m.jsx("p",{className:"storage-note",style:{marginTop:0},children:"D liu lu trong trnh duyt. Dng Xut/Nhp  chia s gia cc thit b."}),m.jsxs("div",{className:"storage-actions",children:[m.jsxs("button",{className:"export-btn",onClick:Hs,children:[m.jsx(N1,{})," Xut d liu"]}),m.jsxs("label",{className:"import-btn",children:[m.jsx(M1,{})," Nhp d liu",m.jsx("input",{type:"file",accept:".json",onChange:Is,hidden:!0})]})]})]}),m.jsxs("div",{className:"setting-item",children:[m.jsx("label",{children:"Gii hn xem/ngy (pht):"}),m.jsx("input",{type:"number",value:z,onChange:N=>L(Number(N.target.value)),min:"10",max:"180"})]}),m.jsx("button",{className:"reset-btn",onClick:Q,children:" Khi phc mc nh"})]}),m.jsxs("div",{className:"panel-tabs",children:[m.jsxs("button",{className:`tab-btn ${Ce==="videos"?"active":""}`,onClick:()=>Ge("videos"),children:[m.jsx(_h,{})," ",m.jsx("span",{className:"tab-text",children:"Video"})," ",m.jsxs("span",{className:"tab-count",children:["(",c.length,")"]})]}),m.jsxs("button",{className:`tab-btn ${Ce==="channels"?"active":""}`,onClick:()=>Ge("channels"),children:[m.jsx(D1,{})," ",m.jsx("span",{className:"tab-text",children:"Knh"})," ",m.jsxs("span",{className:"tab-count",children:["(",o.length,")"]})]}),m.jsxs("button",{className:`tab-btn ${Ce==="users"?"active":""}`,onClick:()=>Ge("users"),children:[m.jsx(R1,{})," ",m.jsx("span",{className:"tab-text",children:"B"})," ",m.jsxs("span",{className:"tab-count",children:["(",Bs.length,")"]})]})]}),de&&m.jsx("div",{className:"save-message",children:de}),m.jsxs("div",{className:"panel-content",children:[Ce==="videos"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"add-btn",onClick:()=>Ve(!0),children:[m.jsx(gn,{})," Thm video"]}),m.jsx("div",{className:"item-list",children:c.map(N=>m.jsxs("div",{className:"list-item",children:[m.jsx("img",{src:N.thumbnail,alt:N.title,className:"item-thumb"}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-title",children:N.title}),m.jsxs("span",{className:"item-meta",children:[N.channel,"  ",N.ageGroup,"  ",vn.find(Y=>Y.id===N.category)?.icon||""]})]}),m.jsx("button",{className:"delete-btn",onClick:()=>g(N.id),children:""})]},N.id))})]}),Ce==="channels"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"add-btn",onClick:()=>Ve(!0),children:[m.jsx(gn,{})," Thm knh"]}),m.jsx("div",{className:"item-list",children:o.map(N=>m.jsxs("div",{className:"list-item",children:[m.jsx("div",{className:"channel-icon",children:""}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-title",children:N.name}),m.jsxs("span",{className:"item-meta",children:[N.ageGroup," tui"]})]}),m.jsx("button",{className:"delete-btn",onClick:()=>_(N.id),children:""})]},N.id))})]}),Ce==="users"&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{className:"add-btn",onClick:()=>{ee(null),Ve(!0)},children:[m.jsx(gn,{})," Thm b"]}),m.jsx("div",{className:"item-list",children:Bs.map(N=>m.jsxs("div",{className:"list-item",children:[m.jsx("div",{className:"channel-icon",children:N.avatar}),m.jsxs("div",{className:"item-info",children:[m.jsx("span",{className:"item-title",children:N.name}),m.jsxs("span",{className:"item-meta",children:[N.ageGroup," tui  ",N.dailyLimit,"p/ngy"]})]}),m.jsx("button",{className:"edit-btn",onClick:()=>ee(N),children:""}),m.jsx("button",{className:"delete-btn",onClick:()=>S(N.id),children:""})]},N.id))})]})]})]})]})}),document.body),lr.createPortal(m.jsx(xi,{children:U&&m.jsx(_e.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>ee(null),children:m.jsxs(_e.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),children:[m.jsx("button",{className:"close-modal",onClick:()=>ee(null),children:m.jsx(ar,{})}),m.jsxs("div",{className:"modal-scroll-content",children:[m.jsxs("h3",{children:[" Chnh sa: ",U.name]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tn:"}),m.jsx("input",{type:"text",value:U.name,onChange:N=>ee({...U,name:N.target.value})})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Avatar:"}),m.jsx("div",{className:"avatar-picker",children:Ev.map(N=>m.jsx("button",{className:`avatar-btn ${U.avatar===N?"active":""}`,onClick:()=>ee({...U,avatar:N}),children:N},N))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:U.ageGroup||"0-3",onChange:N=>ee({...U,ageGroup:N.target.value}),children:[m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gii hn xem/ngy (pht):"}),m.jsx("input",{type:"number",value:U.dailyLimit,onChange:N=>ee({...U,dailyLimit:Number(N.target.value)}),min:"10",max:"180"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch  c php xem:"}),m.jsx("div",{className:"category-picker",children:vn.map(N=>m.jsxs("button",{className:`category-chip ${(U.allowedCategories||[]).includes(N.id)?"active":""}`,style:{"--cat-color":N.color},onClick:()=>Bi(N.id),children:[N.icon," ",N.name]},N.id))})]}),m.jsx("button",{className:"submit-btn save-btn",onClick:Gr,children:" Lu thay i"})]})]})})}),document.body),lr.createPortal(m.jsx(xi,{children:Gt&&m.jsx(_e.div,{className:"modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:Hi,children:m.jsxs(_e.div,{className:"add-modal modal-scrollable",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},onClick:N=>N.stopPropagation(),children:[m.jsx("button",{className:"close-modal",onClick:Hi,children:""}),m.jsxs("div",{className:"modal-scroll-content",children:[Ce==="videos"&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:" Thm video mi"}),m.jsxs("div",{className:"mode-toggle",children:[m.jsx("button",{className:`mode-btn ${Ze==="url"?"active":""}`,onClick:()=>{Tt("url"),gt([]),xt([])},children:" Nhp URL"}),m.jsx("button",{className:`mode-btn ${Ze==="keyword"?"active":""}`,onClick:()=>{Tt("keyword"),gt([]),xt([]),ei("")},children:" Tm video"}),o.length>0&&m.jsx("button",{className:`mode-btn ${Ze==="search"?"active":""}`,onClick:()=>Tt("search"),children:" Tm t knh"})]}),Ze==="keyword"&&m.jsxs("div",{className:"keyword-search-section",children:[m.jsxs("div",{className:"search-box",children:[m.jsxs("div",{className:"search-input-wrapper",children:[m.jsx(Sh,{className:"search-icon"}),m.jsx("input",{type:"text",value:dt,onChange:N=>An(N.target.value),placeholder:"Nhp t kha tm kim...",onKeyDown:N=>N.key==="Enter"&&wn(),autoFocus:!0})]}),m.jsx("button",{className:"search-btn",onClick:wn,disabled:jt||!dt.trim(),children:jt?"":""})]}),jt&&m.jsxs("div",{className:"search-loading",children:[m.jsx("span",{className:"loading-spinner-small",children:""}),m.jsx("span",{children:"ang tm kim video..."})]}),!jt&&mt.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"search-results-header",children:[m.jsxs("span",{children:[" ",mt.length," video"]}),Nt.length>0&&m.jsxs("span",{className:"selected-count",children:["  chn: ",Nt.length]})]}),m.jsx("div",{className:"search-results",children:mt.map(N=>{const Y=Gs(N.videoId),ce=Vs(N.videoId);return m.jsxs("div",{className:`search-result-item ${ce?"selected":""} ${Y?"in-library":""}`,onClick:()=>!Y&&ma(N),children:[m.jsxs("div",{className:"result-thumb-wrapper",children:[m.jsx("img",{src:N.thumbnail,alt:N.title,className:"result-thumb"}),ce&&m.jsx("div",{className:"check-overlay",children:m.jsx(yh,{})}),Y&&m.jsx("div",{className:"in-library-badge",children:"  c"})]}),m.jsxs("div",{className:"result-info",children:[m.jsx("span",{className:"result-title",children:N.title}),m.jsx("span",{className:"result-channel",children:N.channel})]})]},N.videoId)})}),mt.length>=5&&m.jsx("button",{className:"load-more-btn",onClick:ks,disabled:Li,children:Li?" ang ti...":" Tm thm video"}),Nt.length>0&&m.jsxs("button",{className:"submit-btn add-selected-btn",onClick:ti,children:[m.jsx(gn,{})," Thm ",Nt.length," video  chn"]})]}),!jt&&mt.length===0&&dt.trim()&&m.jsxs("div",{className:"no-results",children:[m.jsx("p",{children:" Khng tm thy video"}),m.jsx("small",{children:"Th tm kim vi t kha khc"})]}),!dt.trim()&&mt.length===0&&m.jsx("div",{className:"search-hint-box",children:m.jsx("p",{children:" Nhp t kha v nhn Enter hoc nt   tm video"})})]}),Ze==="search"&&o.length>0&&m.jsxs("div",{className:"channel-search-section",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Chn knh:"}),m.jsxs("select",{value:ft,onChange:N=>{ei(N.target.value),gt([]),xt([]),An("")},children:[m.jsx("option",{value:"",children:"-- Chn knh --"}),o.map(N=>m.jsx("option",{value:N.id,children:N.name},N.id))]})]}),ft&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"search-box",children:[m.jsxs("div",{className:"search-input-wrapper",children:[m.jsx(Sh,{className:"search-icon"}),m.jsx("input",{type:"text",value:dt,onChange:N=>An(N.target.value),placeholder:"Tm video trong knh...",onKeyDown:N=>N.key==="Enter"&&wn()})]}),m.jsx("button",{className:"search-btn",onClick:wn,disabled:jt,children:jt?"":""})]}),jt&&m.jsxs("div",{className:"search-loading",children:[m.jsx("span",{className:"loading-spinner-small",children:""}),m.jsx("span",{children:"ang ti video t knh..."})]}),!jt&&mt.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"search-results-header",children:[m.jsxs("span",{children:[" ",mt.length," video"]}),Nt.length>0&&m.jsxs("span",{className:"selected-count",children:["  chn: ",Nt.length]})]}),m.jsx("div",{className:"search-results",children:mt.map(N=>{const Y=Gs(N.videoId),ce=Vs(N.videoId);return m.jsxs("div",{className:`search-result-item ${ce?"selected":""} ${Y?"in-library":""}`,onClick:()=>!Y&&ma(N),children:[m.jsxs("div",{className:"result-thumb-wrapper",children:[m.jsx("img",{src:N.thumbnail,alt:N.title,className:"result-thumb"}),ce&&m.jsx("div",{className:"check-overlay",children:m.jsx(yh,{})}),Y&&m.jsx("div",{className:"in-library-badge",children:"  c"})]}),m.jsxs("div",{className:"result-info",children:[m.jsx("span",{className:"result-title",children:N.title}),m.jsx("span",{className:"result-channel",children:N.channel})]})]},N.videoId)})}),mt.length>=5&&m.jsx("button",{className:"load-more-btn",onClick:ks,disabled:Li,children:Li?" ang ti...":" Tm thm video"}),Nt.length>0&&m.jsxs("button",{className:"submit-btn add-selected-btn",onClick:ti,children:[m.jsx(gn,{})," Thm ",Nt.length," video  chn"]})]}),!jt&&mt.length===0&&ft&&m.jsxs("div",{className:"no-results",children:[m.jsx("p",{children:" Khng tm thy video"}),m.jsx("small",{children:"Th tm kim vi t kha khc hoc kim tra Channel ID"})]})]})]}),Ze==="url"&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"URL YouTube:"}),m.jsxs("div",{className:"input-with-icon",children:[m.jsx("input",{type:"url",value:fe.url,onChange:N=>Le({...fe,url:N.target.value}),placeholder:"https://www.youtube.com/watch?v=..."}),Ls&&m.jsx("span",{className:"loading-spinner",children:""})]})]}),fe.url&&wi(fe.url)&&m.jsx("div",{className:"video-preview",children:m.jsx("img",{src:`https://img.youtube.com/vi/${wi(fe.url)}/mqdefault.jpg`,alt:"Preview",className:"preview-thumb"})}),m.jsxs("div",{className:"form-group",children:[m.jsxs("label",{children:["Tiu : ",Ls&&m.jsx("span",{className:"auto-fill-hint",children:"(ang ti...)"})]}),m.jsx("input",{type:"text",value:fe.title,onChange:N=>Le({...fe,title:N.target.value}),placeholder:"Tn video..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Knh:"}),m.jsx("input",{type:"text",value:fe.channel,onChange:N=>Le({...fe,channel:N.target.value}),placeholder:"Tn knh..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:fe.ageGroup,onChange:N=>Le({...fe,ageGroup:N.target.value}),children:[m.jsx("option",{value:"all",children:"Mi la tui"}),m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch :"}),m.jsx("select",{value:fe.category||"entertainment",onChange:N=>Le({...fe,category:N.target.value}),children:vn.map(N=>m.jsxs("option",{value:N.id,children:[N.icon," ",N.name]},N.id))})]}),m.jsxs("button",{className:"submit-btn",onClick:wt,children:[m.jsx(gn,{})," Thm video"]})]})]}),Ce==="channels"&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:" Thm knh mi"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tn knh:"}),m.jsx("input",{type:"text",value:Be.name,onChange:N=>ht({...Be,name:N.target.value}),placeholder:"Tn knh..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Channel ID:"}),m.jsx("input",{type:"text",value:Be.channelId,onChange:N=>ht({...Be,channelId:N.target.value}),placeholder:"UCxxxxxx..."}),m.jsx("small",{className:"form-hint",children:"Ly t URL knh YouTube: youtube.com/channel/[Channel ID]"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:Be.ageGroup,onChange:N=>ht({...Be,ageGroup:N.target.value}),children:[m.jsx("option",{value:"all",children:"Mi la tui"}),m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch :"}),m.jsx("select",{value:Be.category||"entertainment",onChange:N=>ht({...Be,category:N.target.value}),children:vn.map(N=>m.jsxs("option",{value:N.id,children:[N.icon," ",N.name]},N.id))})]}),m.jsxs("button",{className:"submit-btn",onClick:kr,children:[m.jsx(gn,{})," Thm knh"]})]}),Ce==="users"&&m.jsxs(m.Fragment,{children:[m.jsx("h3",{children:" Thm b mi"}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Tn:"}),m.jsx("input",{type:"text",value:Ae.name,onChange:N=>D({...Ae,name:N.target.value}),placeholder:"Tn b..."})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Avatar:"}),m.jsx("div",{className:"avatar-picker",children:Ev.map(N=>m.jsx("button",{className:`avatar-btn ${Ae.avatar===N?"active":""}`,onClick:()=>D({...Ae,avatar:N}),children:N},N))})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:" tui:"}),m.jsxs("select",{value:Ae.ageGroup,onChange:N=>D({...Ae,ageGroup:N.target.value}),children:[m.jsx("option",{value:"0-3",children:"0-3 tui"}),m.jsx("option",{value:"3-6",children:"3-6 tui"}),m.jsx("option",{value:"6-9",children:"6-9 tui"})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Gii hn xem/ngy (pht):"}),m.jsx("input",{type:"number",value:Ae.dailyLimit,onChange:N=>D({...Ae,dailyLimit:Number(N.target.value)}),min:"10",max:"180"})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{children:"Ch  c php xem:"}),m.jsx("div",{className:"category-picker",children:vn.map(N=>m.jsxs("button",{className:`category-chip ${(Ae.allowedCategories||[]).includes(N.id)?"active":""}`,style:{"--cat-color":N.color},onClick:()=>Bi(N.id),children:[N.icon," ",N.name]},N.id))})]}),m.jsxs("button",{className:"submit-btn",onClick:Vr,children:[m.jsx(gn,{})," Thm b"]})]})]})]})})}),document.body)]})}function pC(){const{users:a,login:n,initializeData:l,isLoading:c}=Pn();V.useEffect(()=>{l()},[]);const o=a.filter(h=>h.type==="child");return c?m.jsx("div",{className:"login-screen",children:m.jsxs("div",{className:"loading-container",children:[m.jsx("div",{className:"loading-spinner large"}),m.jsx("p",{children:"ang ti..."})]})}):m.jsx("div",{className:"login-screen",children:m.jsxs(_e.div,{className:"login-container",initial:{opacity:0,y:30},animate:{opacity:1,y:0},children:[m.jsxs("div",{className:"login-header",children:[m.jsx("h1",{children:" Kid Video"}),m.jsx("p",{children:"Chn ti khon ca b"})]}),m.jsx("div",{className:"user-grid",children:o.map((h,f)=>m.jsxs(_e.button,{className:"user-card",onClick:()=>n(h.id),initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:f*.1},whileHover:{scale:1.05,y:-5},whileTap:{scale:.95},children:[m.jsx("div",{className:"user-avatar",children:h.avatar}),m.jsx("span",{className:"user-name",children:h.name}),m.jsxs("span",{className:"user-age",children:[h.ageGroup," tui"]})]},h.id))}),m.jsx("div",{className:"login-footer",children:m.jsx("p",{children:" Video an ton cho b yu"})})]})})}function vC(){const{currentUser:a,todayWatchTime:n,dailyLimit:l,logout:c,initializeData:o,setVideos:h,setUsers:f,setChannels:g}=Pn(),v=Math.min(n/l*100,100);return V.useEffect(()=>{o();const _=P3(S=>{console.log("Videos synced:",S.length),h(S)}),E=eC(S=>{console.log("Users synced:",S.length),f(S)}),y=tC(S=>{console.log("Channels synced:",S.length),g(S)});return()=>{_(),E(),y()}},[]),a?m.jsxs("div",{className:"app",children:[m.jsxs(_e.header,{className:"header",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:[m.jsxs("div",{className:"header-content",children:[m.jsx(_e.h1,{className:"app-title",whileHover:{scale:1.05},children:" Kid Video"}),m.jsx("p",{className:"app-subtitle",children:"Video an ton cho b yu"})]}),m.jsxs("div",{className:"user-info",children:[m.jsxs("span",{className:"current-user",children:[m.jsx("span",{className:"user-avatar-small",children:a.avatar}),m.jsx("span",{className:"user-name-small",children:a.name})]}),m.jsxs("button",{className:"logout-btn",onClick:c,children:[m.jsx(w1,{})," i b"]}),m.jsx(gC,{inHeader:!0})]}),m.jsxs("div",{className:"watch-time-indicator",children:[m.jsx("span",{className:"watch-time-label",children:" Thi gian xem hm nay"}),m.jsx("div",{className:"watch-time-bar",children:m.jsx(_e.div,{className:"watch-time-progress",initial:{width:0},animate:{width:`${v}%`},style:{background:v>80?"#ff6b6b":v>50?"#ffa502":"#84fab0"}})}),m.jsxs("span",{className:"watch-time-text",children:[n,"/",l," pht"]})]})]}),m.jsxs("main",{className:"main-content",children:[m.jsxs(_e.div,{className:"controls",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:[m.jsx(cC,{}),m.jsx(oC,{})]}),m.jsx(rC,{}),m.jsx(hC,{})]}),m.jsx(dC,{}),m.jsx("footer",{className:"footer",children:m.jsx("p",{children:" An ton & Thn thin vi tr em"})})]}):m.jsx(pC,{})}S1.createRoot(document.getElementById("root")).render(m.jsx(V.StrictMode,{children:m.jsx(vC,{})}));
